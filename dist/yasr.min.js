!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.YASR=e()}}(function(){var define,module,exports;return function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){t.exports=e("./main.js")},{"./main.js":145}],2:[function(e,t,r){var n,i=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),a=i(document),o=i("head"),s=null,l=[],u=0,c="id",f="px",d="JColResizer",p=parseInt,h=Math,v=navigator.userAgent.indexOf("Trident/4.0")>0;try{n=sessionStorage}catch(g){}o.append("<style type='text/css'>  .JColResizer{table-layout:fixed;} .JColResizer td, .JColResizer th{overflow:hidden;padding-left:0!important; padding-right:0!important;}  .JCLRgrips{ height:0px; position:relative;} .JCLRgrip{margin-left:-5px; position:absolute; z-index:5; } .JCLRgrip .JColResizer{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;top:0px} .JCLRLastGrip{position:absolute; width:1px; } .JCLRgripDrag{ border-left:1px dotted black;\t}</style>");var y=function(e,t){var r=i(e);if(t.disable)return m(r);var n=r.id=r.attr(c)||d+u++;r.p=t.postbackSafe;if(r.is("table")&&!l[n]){r.addClass(d).attr(c,n).before('<div class="JCLRgrips"/>');r.opt=t;r.g=[];r.c=[];r.w=r.width();r.gc=r.prev();t.marginLeft&&r.gc.css("marginLeft",t.marginLeft);t.marginRight&&r.gc.css("marginRight",t.marginRight);r.cs=p(v?e.cellSpacing||e.currentStyle.borderSpacing:r.css("border-spacing"))||2;r.b=p(v?e.border||e.currentStyle.borderLeftWidth:r.css("border-left-width"))||1;l[n]=r;b(r)}},m=function(e){var t=e.attr(c),e=l[t];if(e&&e.is("table")){e.removeClass(d).gc.remove();delete l[t]}},b=function(e){var t=e.find(">thead>tr>th,>thead>tr>td");t.length||(t=e.find(">tbody>tr:first>th,>tr:first>th,>tbody>tr:first>td, >tr:first>td"));e.cg=e.find("col");e.ln=t.length;e.p&&n&&n[e.id]&&w(e,t);t.each(function(t){var r=i(this),n=i(e.gc.append('<div class="JCLRgrip"></div>')[0].lastChild);n.t=e;n.i=t;n.c=r;r.w=r.width();e.g.push(n);e.c.push(r);r.width(r.w).removeAttr("width");t<e.ln-1?n.bind("touchstart mousedown",E).append(e.opt.gripInnerHtml).append('<div class="'+d+'" style="cursor:'+e.opt.hoverCursor+'"></div>'):n.addClass("JCLRLastGrip").removeClass("JCLRgrip");n.data(d,{i:t,t:e.attr(c)})});e.cg.removeAttr("width");x(e);e.find("td, th").not(t).not("table th, table td").each(function(){i(this).removeAttr("width")})},w=function(e,t){var r,i=0,a=0,o=[];if(t){e.cg.removeAttr("width");if(e.opt.flush){n[e.id]="";return}r=n[e.id].split(";");for(;a<e.ln;a++){o.push(100*r[a]/r[e.ln]+"%");t.eq(a).css("width",o[a])}for(a=0;a<e.ln;a++)e.cg.eq(a).css("width",o[a])}else{n[e.id]="";for(;a<e.c.length;a++){r=e.c[a].width();n[e.id]+=r+";";i+=r}n[e.id]+=i}},x=function(e){e.gc.width(e.w);for(var t=0;t<e.ln;t++){var r=e.c[t];e.g[t].css({left:r.offset().left-e.offset().left+r.outerWidth(!1)+e.cs/2+f,height:e.opt.headerOnly?e.c[0].outerHeight(!1):e.outerHeight(!1)})}},_=function(e,t,r){var n=s.x-s.l,i=e.c[t],a=e.c[t+1],o=i.w+n,l=a.w-n;i.width(o+f);a.width(l+f);e.cg.eq(t).width(o+f);e.cg.eq(t+1).width(l+f);if(r){i.w=o;a.w=l}},k=function(e){if(s){var t=s.t;if(e.originalEvent.touches)var r=e.originalEvent.touches[0].pageX-s.ox+s.l;else var r=e.pageX-s.ox+s.l;var n=t.opt.minWidth,i=s.i,a=1.5*t.cs+n+t.b,o=i==t.ln-1?t.w-a:t.g[i+1].position().left-t.cs-n,l=i?t.g[i-1].position().left+t.cs+n:a;r=h.max(l,h.min(o,r));s.x=r;s.css("left",r+f);if(t.opt.liveDrag){_(t,i);x(t);var u=t.opt.onDrag;if(u){e.currentTarget=t[0];u(e)}}return!1}},C=function(e){a.unbind("touchend."+d+" mouseup."+d).unbind("touchmove."+d+" mousemove."+d);i("head :last-child").remove();if(s){s.removeClass(s.t.opt.draggingClass);var t=s.t,r=t.opt.onResize;if(s.x){_(t,s.i,!0);x(t);if(r){e.currentTarget=t[0];r(e)}}t.p&&n&&w(t);s=null}},E=function(e){var t=i(this).data(d),r=l[t.t],n=r.g[t.i];e.originalEvent.touches?n.ox=e.originalEvent.touches[0].pageX:n.ox=e.pageX;n.l=n.position().left;a.bind("touchmove."+d+" mousemove."+d,k).bind("touchend."+d+" mouseup."+d,C);o.append("<style type='text/css'>*{cursor:"+r.opt.dragCursor+"!important}</style>");n.addClass(r.opt.draggingClass);s=n;if(r.c[t.i].l)for(var u,c=0;c<r.ln;c++){u=r.c[c];u.l=!1;u.w=u.width()}return!1},S=function(){for(t in l){var e,t=l[t],r=0;t.removeClass(d);if(t.w!=t.width()){t.w=t.width();for(e=0;e<t.ln;e++)r+=t.c[e].w;for(e=0;e<t.ln;e++)t.c[e].css("width",h.round(1e3*t.c[e].w/r)/10+"%").l=!0}x(t.addClass(d))}};i(window).bind("resize."+d,S);i.fn.extend({colResizable:function(e){var t={draggingClass:"JCLRgripDrag",gripInnerHtml:"",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:"e-resize",dragCursor:"e-resize",postbackSafe:!1,flush:!1,marginLeft:null,marginRight:null,disable:!1,onDrag:null,onResize:null},e=i.extend(t,e);return this.each(function(){y(this,e)})}})},{jquery:void 0}],3:[function(e,t,r){RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();n.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(e,t){var r=/\./;if(isNaN(e))return e;if(r.test(e))return parseFloat(e);var n=parseInt(e);return isNaN(n)?null:n}},parsers:{parse:function(e,t){function r(){l=0;u="";if(t.start&&t.state.rowNum<t.start){s=[];t.state.rowNum++;t.state.colNum=1}else{if(void 0===t.onParseEntry)o.push(s);else{var e=t.onParseEntry(s,t.state);e!==!1&&o.push(e)}s=[];t.end&&t.state.rowNum>=t.end&&(c=!0);t.state.rowNum++;t.state.colNum=1}}function n(){if(void 0===t.onParseValue)s.push(u);else{var e=t.onParseValue(u,t.state);e!==!1&&s.push(e)}u="";l=0;t.state.colNum++}var i=t.separator,a=t.delimiter;t.state.rowNum||(t.state.rowNum=1);t.state.colNum||(t.state.colNum=1);var o=[],s=[],l=0,u="",c=!1,f=RegExp.escape(i),d=RegExp.escape(a),p=/(D|S|\n|\r|[^DS\r\n]+)/,h=p.source;h=h.replace(/S/g,f);h=h.replace(/D/g,d);p=RegExp(h,"gm");e.replace(p,function(e){if(!c)switch(l){case 0:if(e===i){u+="";n();break}if(e===a){l=1;break}if("\n"===e){n();r();break}if(/^\r$/.test(e))break;u+=e;l=3;break;case 1:if(e===a){l=2;break}u+=e;l=1;break;case 2:if(e===a){u+=e;l=1;break}if(e===i){n();break}if("\n"===e){n();r();break}if(/^\r$/.test(e))break;throw new Error("CSVDataError: Illegal State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");case 3:if(e===i){n();break}if("\n"===e){n();r();break}if(/^\r$/.test(e))break;if(e===a)throw new Error("CSVDataError: Illegal Quote [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]")}});if(0!==s.length){n();r()}return o},splitLines:function(e,t){function r(){o=0;if(t.start&&t.state.rowNum<t.start){s="";t.state.rowNum++}else{if(void 0===t.onParseEntry)a.push(s);else{var e=t.onParseEntry(s,t.state);e!==!1&&a.push(e)}s="";t.end&&t.state.rowNum>=t.end&&(l=!0);t.state.rowNum++}}var n=t.separator,i=t.delimiter;t.state.rowNum||(t.state.rowNum=1);var a=[],o=0,s="",l=!1,u=RegExp.escape(n),c=RegExp.escape(i),f=/(D|S|\n|\r|[^DS\r\n]+)/,d=f.source;d=d.replace(/S/g,u);d=d.replace(/D/g,c);f=RegExp(d,"gm");e.replace(f,function(e){if(!l)switch(o){case 0:if(e===n){s+=e;o=0;break}if(e===i){s+=e;o=1;break}if("\n"===e){r();break}if(/^\r$/.test(e))break;s+=e;o=3;break;case 1:if(e===i){s+=e;o=2;break}s+=e;o=1;break;case 2:var a=s.substr(s.length-1);if(e===i&&a===i){s+=e;o=1;break}if(e===n){s+=e;o=0;break}if("\n"===e){r();break}if("\r"===e)break;throw new Error("CSVDataError: Illegal state [Row:"+t.state.rowNum+"]");case 3:if(e===n){s+=e;o=0;break}if("\n"===e){r();break}if("\r"===e)break;if(e===i)throw new Error("CSVDataError: Illegal quote [Row:"+t.state.rowNum+"]");throw new Error("CSVDataError: Illegal state [Row:"+t.state.rowNum+"]");default:throw new Error("CSVDataError: Unknown state [Row:"+t.state.rowNum+"]")}});""!==s&&r();return a},parseEntry:function(e,t){function r(){if(void 0===t.onParseValue)a.push(s);else{var e=t.onParseValue(s,t.state);e!==!1&&a.push(e)}s="";o=0;t.state.colNum++}var n=t.separator,i=t.delimiter;t.state.rowNum||(t.state.rowNum=1);t.state.colNum||(t.state.colNum=1);var a=[],o=0,s="";if(!t.match){var l=RegExp.escape(n),u=RegExp.escape(i),c=/(D|S|\n|\r|[^DS\r\n]+)/,f=c.source;f=f.replace(/S/g,l);f=f.replace(/D/g,u);t.match=RegExp(f,"gm")}e.replace(t.match,function(e){switch(o){case 0:if(e===n){s+="";r();break}if(e===i){o=1;break}if("\n"===e||"\r"===e)break;s+=e;o=3;break;case 1:if(e===i){o=2;break}s+=e;o=1;break;case 2:if(e===i){s+=e;o=1;break}if(e===n){r();break}if("\n"===e||"\r"===e)break;throw new Error("CSVDataError: Illegal State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");case 3:if(e===n){r();break}if("\n"===e||"\r"===e)break;if(e===i)throw new Error("CSVDataError: Illegal Quote [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]")}});r();return a}},toArray:function(e,t,r){var t=void 0!==t?t:{},i={};i.callback=void 0!==r&&"function"==typeof r&&r;i.separator="separator"in t?t.separator:n.csv.defaults.separator;i.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;var a=void 0!==t.state?t.state:{},t={delimiter:i.delimiter,separator:i.separator,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,state:a},o=n.csv.parsers.parseEntry(e,t);if(!i.callback)return o;i.callback("",o)},toArrays:function(e,t,r){var t=void 0!==t?t:{},i={};i.callback=void 0!==r&&"function"==typeof r&&r;i.separator="separator"in t?t.separator:n.csv.defaults.separator;i.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;var a=[],t={delimiter:i.delimiter,separator:i.separator,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,start:t.start,end:t.end,state:{rowNum:1,colNum:1}};a=n.csv.parsers.parse(e,t);if(!i.callback)return a;i.callback("",a)},toObjects:function(e,t,r){var t=void 0!==t?t:{},i={};i.callback=void 0!==r&&"function"==typeof r&&r;i.separator="separator"in t?t.separator:n.csv.defaults.separator;i.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;i.headers="headers"in t?t.headers:n.csv.defaults.headers;t.start="start"in t?t.start:1;i.headers&&t.start++;t.end&&i.headers&&t.end++;var a=[],o=[],t={delimiter:i.delimiter,separator:i.separator,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,start:t.start,end:t.end,state:{rowNum:1,colNum:1},match:!1},s={delimiter:i.delimiter,separator:i.separator,start:1,end:1,state:{rowNum:1,colNum:1}},l=n.csv.parsers.splitLines(e,s),u=n.csv.toArray(l[0],t),a=n.csv.parsers.splitLines(e,t);t.state.colNum=1;u?t.state.rowNum=2:t.state.rowNum=1;for(var c=0,f=a.length;c<f;c++){var d=n.csv.toArray(a[c],t),p={};for(var h in u)p[u[h]]=d[h];o.push(p);t.state.rowNum++}if(!i.callback)return o;i.callback("",o)},fromArrays:function(e,t,r){var t=void 0!==t?t:{},a={};a.callback=void 0!==r&&"function"==typeof r&&r;a.separator="separator"in t?t.separator:n.csv.defaults.separator;a.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;a.escaper="escaper"in t?t.escaper:n.csv.defaults.escaper;a.experimental="experimental"in t&&t.experimental;if(!a.experimental)throw new Error("not implemented");var o=[];for(i in e)o.push(e[i]);if(!a.callback)return o;a.callback("",o)},fromObjects2CSV:function(e,t,r){var t=void 0!==t?t:{},a={};a.callback=void 0!==r&&"function"==typeof r&&r;a.separator="separator"in t?t.separator:n.csv.defaults.separator;a.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;a.experimental="experimental"in t&&t.experimental;if(!a.experimental)throw new Error("not implemented");var o=[];for(i in e)o.push(arrays[i]);if(!a.callback)return o;a.callback("",o)}};n.csvEntry2Array=n.csv.toArray;n.csv2Array=n.csv.toArrays;n.csv2Dictionary=n.csv.toObjects},{jquery:void 0}],4:[function(e,t,r){},{}],5:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){function t(e,t,n,i){var a=e.getLineHandle(t.line),l=t.ch-1,u=l>=0&&s[a.text.charAt(l)]||s[a.text.charAt(++l)];if(!u)return null;var c=">"==u.charAt(1)?1:-1;if(n&&c>0!=(l==t.ch))return null;var f=e.getTokenTypeAt(o(t.line,l+1)),d=r(e,o(t.line,l+(c>0?1:0)),c,f||null,i);return null==d?null:{from:o(t.line,l),to:d&&d.pos,match:d&&d.ch==u.charAt(0),forward:c>0}}function r(e,t,r,n,i){for(var a=i&&i.maxScanLineLength||1e4,l=i&&i.maxScanLines||1e3,u=[],c=i&&i.bracketRegex?i.bracketRegex:/[(){}[\]]/,f=r>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),d=t.line;d!=f;d+=r){var p=e.getLine(d);if(p){var h=r>0?0:p.length-1,v=r>0?p.length:-1;if(!(p.length>a)){d==t.line&&(h=t.ch-(r<0?1:0));for(;h!=v;h+=r){var g=p.charAt(h);if(c.test(g)&&(void 0===n||e.getTokenTypeAt(o(d,h+1))==n)){var y=s[g];if(">"==y.charAt(1)==r>0)u.push(g);else{if(!u.length)return{pos:o(d,h),ch:g};u.pop()}}}}}}return d-r!=(r>0?e.lastLine():e.firstLine())&&null}function n(e,r,n){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=e.listSelections(),u=0;u<l.length;u++){var c=l[u].empty()&&t(e,l[u].head,!1,n);if(c&&e.getLine(c.from.line).length<=i){var f=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(c.from,o(c.from.line,c.from.ch+1),{className:f}));c.to&&e.getLine(c.to.line).length<=i&&s.push(e.markText(c.to,o(c.to.line,c.to.ch+1),{className:f}))}}if(s.length){a&&e.state.focused&&e.display.input.focus();var d=function(){e.operation(function(){for(var e=0;e<s.length;e++)s[e].clear()})};if(!r)return d;setTimeout(d,800)}}function i(e){e.operation(function(){if(l){l();l=null}l=n(e,!1,e.state.matchBrackets)})}var a=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),o=e.Pos,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,r,n){n&&n!=e.Init&&t.off("cursorActivity",i);if(r){t.state.matchBrackets="object"==typeof r?r:{};t.on("cursorActivity",i)}});e.defineExtension("matchBrackets",function(){n(this,!0)});e.defineExtension("findMatchingBracket",function(e,r,n){return t(this,e,r,n)});e.defineExtension("scanForBracket",function(e,t,n,i){return r(this,e,t,n,i)})})},{codemirror:void 0}],6:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";e.registerHelper("fold","brace",function(t,r){function n(n){for(var i=r.ch,l=0;;){var u=i<=0?-1:s.lastIndexOf(n,i-1);if(u!=-1){if(1==l&&u<r.ch)break;a=t.getTokenTypeAt(e.Pos(o,u+1));if(!/^(comment|string)/.test(a))return u+1;i=u-1}else{if(1==l)break;l=1;i=s.length}}}var i,a,o=r.line,s=t.getLine(o),l="{",u="}",i=n("{");if(null==i){l="[",u="]";i=n("[")}if(null!=i){var c,f,d=1,p=t.lastLine();e:for(var h=o;h<=p;++h)for(var v=t.getLine(h),g=h==o?i:0;;){var y=v.indexOf(l,g),m=v.indexOf(u,g);y<0&&(y=v.length);m<0&&(m=v.length);g=Math.min(y,m);if(g==v.length)break;if(t.getTokenTypeAt(e.Pos(h,g+1))==a)if(g==y)++d;else if(!--d){c=h;f=g;break e}++g}if(null!=c&&(o!=c||f!=i))return{from:e.Pos(o,i),to:e.Pos(c,f)}}});e.registerHelper("fold","import",function(t,r){function n(r){if(r<t.firstLine()||r>t.lastLine())return null;var n=t.getTokenAt(e.Pos(r,1));/\S/.test(n.string)||(n=t.getTokenAt(e.Pos(r,n.end+1)));if("keyword"!=n.type||"import"!=n.string)return null;for(var i=r,a=Math.min(t.lastLine(),r+10);i<=a;++i){var o=t.getLine(i),s=o.indexOf(";");if(s!=-1)return{startCh:n.end,end:e.Pos(i,s)}}}var i,r=r.line,a=n(r);if(!a||n(r-1)||(i=n(r-2))&&i.end.line==r-1)return null;for(var o=a.end;;){var s=n(o.line+1);if(null==s)break;o=s.end}return{from:t.clipPos(e.Pos(r,a.startCh+1)),to:o}});e.registerHelper("fold","include",function(t,r){function n(r){if(r<t.firstLine()||r>t.lastLine())return null;var n=t.getTokenAt(e.Pos(r,1));/\S/.test(n.string)||(n=t.getTokenAt(e.Pos(r,n.end+1)));return"meta"==n.type&&"#include"==n.string.slice(0,8)?n.start+8:void 0}var r=r.line,i=n(r);if(null==i||null!=n(r-1))return null;for(var a=r;;){var o=n(a+1);if(null==o)break;++a}return{from:e.Pos(r,i+1),to:t.clipPos(e.Pos(a))}})})},{codemirror:void 0}],7:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";function t(t,i,a,o){function s(e){var r=l(t,i);if(!r||r.to.line-r.from.line<u)return null;for(var n=t.findMarksAt(r.from),a=0;a<n.length;++a)if(n[a].__isFold&&"fold"!==o){if(!e)return null;r.cleared=!0;n[a].clear()}return r}if(a&&a.call){var l=a;a=null}else var l=n(t,a,"rangeFinder");"number"==typeof i&&(i=e.Pos(i,0));var u=n(t,a,"minFoldSize"),c=s(!0);if(n(t,a,"scanUp"))for(;!c&&i.line>t.firstLine();){i=e.Pos(i.line-1,0);c=s(!1)}if(c&&!c.cleared&&"unfold"!==o){var f=r(t,a);e.on(f,"mousedown",function(t){d.clear();e.e_preventDefault(t)});var d=t.markText(c.from,c.to,{replacedWith:f,clearOnEnter:!0,__isFold:!0});d.on("clear",function(r,n){e.signal(t,"unfold",t,r,n)});e.signal(t,"fold",t,c.from,c.to)}}function r(e,t){var r=n(e,t,"widget");if("string"==typeof r){var i=document.createTextNode(r);r=document.createElement("span");r.appendChild(i);r.className="CodeMirror-foldmarker"}return r}function n(e,t,r){if(t&&void 0!==t[r])return t[r];var n=e.options.foldOptions;return n&&void 0!==n[r]?n[r]:i[r]}e.newFoldFunction=function(e,r){return function(n,i){t(n,i,{rangeFinder:e,widget:r})}};e.defineExtension("foldCode",function(e,r,n){t(this,e,r,n)});e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),r=0;r<t.length;++r)if(t[r].__isFold)return!0});e.commands.toggleFold=function(e){e.foldCode(e.getCursor())};e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")};e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")};e.commands.foldAll=function(t){t.operation(function(){for(var r=t.firstLine(),n=t.lastLine();r<=n;r++)t.foldCode(e.Pos(r,0),null,"fold")})};e.commands.unfoldAll=function(t){t.operation(function(){for(var r=t.firstLine(),n=t.lastLine();r<=n;r++)t.foldCode(e.Pos(r,0),null,"unfold")})};e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,r){for(var n=0;n<e.length;++n){var i=e[n](t,r);if(i)return i}}});e.registerHelper("fold","auto",function(e,t){for(var r=e.getHelpers(t,"fold"),n=0;n<r.length;n++){var i=r[n](e,t);if(i)return i}});var i={rangeFinder:e.fold.auto,widget:"â†”",minFoldSize:0,scanUp:!1};e.defineOption("foldOptions",null);e.defineExtension("foldOption",function(e,t){return n(this,e,t)})})},{codemirror:void 0}],8:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}(),e("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],n):n(CodeMirror)})(function(e){"use strict";function t(e){this.options=e;this.from=this.to=0}function r(e){e===!0&&(e={});null==e.gutter&&(e.gutter="CodeMirror-foldgutter");null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open");null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded");return e}function n(e,t){for(var r=e.findMarksAt(f(t)),n=0;n<r.length;++n)if(r[n].__isFold&&r[n].find().from.line==t)return!0}function i(e){if("string"==typeof e){var t=document.createElement("div");t.className=e+" CodeMirror-guttermarker-subtle";return t}return e.cloneNode(!0)}function a(e,t,r){var a=e.state.foldGutter.options,o=t,s=e.foldOption(a,"minFoldSize"),l=e.foldOption(a,"rangeFinder");e.eachLine(t,r,function(t){var r=null;if(n(e,o))r=i(a.indicatorFolded);else{var u=f(o,0),c=l&&l(e,u);c&&c.to.line-c.from.line>=s&&(r=i(a.indicatorOpen))}e.setGutterMarker(t,a.gutter,r);++o})}function o(e){var t=e.getViewport(),r=e.state.foldGutter;if(r){e.operation(function(){a(e,t.from,t.to)});r.from=t.from;r.to=t.to}}function s(e,t,r){var n=e.state.foldGutter;if(n){var i=n.options;r==i.gutter&&e.foldCode(f(t,0),i.rangeFinder)}}function l(e){var t=e.state.foldGutter;if(t){var r=t.options;t.from=t.to=0;clearTimeout(t.changeUpdate);t.changeUpdate=setTimeout(function(){o(e)},r.foldOnChangeTimeSpan||600)}}function u(e){var t=e.state.foldGutter;if(t){var r=t.options;clearTimeout(t.changeUpdate);t.changeUpdate=setTimeout(function(){var r=e.getViewport();t.from==t.to||r.from-t.to>20||t.from-r.to>20?o(e):e.operation(function(){if(r.from<t.from){a(e,r.from,t.from);t.from=r.from}if(r.to>t.to){a(e,t.to,r.to);t.to=r.to}})},r.updateViewportTimeSpan||400)}}function c(e,t){var r=e.state.foldGutter;if(r){var n=t.line;n>=r.from&&n<r.to&&a(e,n,n+1)}}e.defineOption("foldGutter",!1,function(n,i,a){if(a&&a!=e.Init){n.clearGutter(n.state.foldGutter.options.gutter);n.state.foldGutter=null;n.off("gutterClick",s);n.off("change",l);n.off("viewportChange",u);n.off("fold",c);n.off("unfold",c);n.off("swapDoc",o)}if(i){n.state.foldGutter=new t(r(i));o(n);n.on("gutterClick",s);n.on("change",l);n.on("viewportChange",u);n.on("fold",c);n.on("unfold",c);n.on("swapDoc",o)}});var f=e.Pos})},{"./foldcode":7,codemirror:void 0}],9:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function r(e,t,r,n){this.line=t;this.ch=r;this.cm=e;this.text=e.getLine(t);this.min=n?n.from:e.firstLine();this.max=n?n.to-1:e.lastLine()}function n(e,t){var r=e.cm.getTokenTypeAt(d(e.line,t));return r&&/\btag\b/.test(r)}function i(e){if(!(e.line>=e.max)){e.ch=0;e.text=e.cm.getLine(++e.line);return!0}}function a(e){if(!(e.line<=e.min)){e.text=e.cm.getLine(--e.line);e.ch=e.text.length;return!0}}function o(e){for(;;){var t=e.text.indexOf(">",e.ch);if(t==-1){if(i(e))continue;return}if(n(e,t+1)){var r=e.text.lastIndexOf("/",t),a=r>-1&&!/\S/.test(e.text.slice(r+1,t));e.ch=t+1;return a?"selfClose":"regular"}e.ch=t+1}}function s(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(t==-1){if(a(e))continue;return}if(n(e,t+1)){v.lastIndex=t;e.ch=t;var r=v.exec(e.text);if(r&&r.index==t)return r}else e.ch=t}}function l(e){for(;;){v.lastIndex=e.ch;var t=v.exec(e.text);if(!t){if(i(e))continue;return}if(n(e,t.index+1)){e.ch=t.index+t[0].length;return t}e.ch=t.index+1}}function u(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(t==-1){if(a(e))continue;return}if(n(e,t+1)){var r=e.text.lastIndexOf("/",t),i=r>-1&&!/\S/.test(e.text.slice(r+1,t));e.ch=t+1;return i?"selfClose":"regular"}e.ch=t}}function c(e,t){for(var r=[];;){var n,i=l(e),a=e.line,s=e.ch-(i?i[0].length:0);if(!i||!(n=o(e)))return;if("selfClose"!=n)if(i[1]){for(var u=r.length-1;u>=0;--u)if(r[u]==i[2]){r.length=u;break}if(u<0&&(!t||t==i[2]))return{tag:i[2],from:d(a,s),to:d(e.line,e.ch)}}else r.push(i[2])}}function f(e,t){for(var r=[];;){var n=u(e);if(!n)return;if("selfClose"!=n){var i=e.line,a=e.ch,o=s(e);if(!o)return;if(o[1])r.push(o[2]);else{for(var l=r.length-1;l>=0;--l)if(r[l]==o[2]){r.length=l;break}if(l<0&&(!t||t==o[2]))return{tag:o[2],from:d(e.line,e.ch),to:d(i,a)}}}else s(e)}}var d=e.Pos,p="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",h=p+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",v=new RegExp("<(/?)(["+p+"]["+h+"]*)","g");e.registerHelper("fold","xml",function(e,t){for(var n=new r(e,t.line,0);;){var i,a=l(n);if(!a||n.line!=t.line||!(i=o(n)))return;if(!a[1]&&"selfClose"!=i){var t=d(n.line,n.ch),s=c(n,a[2]);return s&&{from:t,to:s.from}}}});e.findMatchingTag=function(e,n,i){var a=new r(e,n.line,n.ch,i);if(a.text.indexOf(">")!=-1||a.text.indexOf("<")!=-1){var l=o(a),u=l&&d(a.line,a.ch),p=l&&s(a);if(l&&p&&!(t(a,n)>0)){var h={from:d(a.line,a.ch),to:u,tag:p[2]};if("selfClose"==l)return{open:h,close:null,at:"open"};if(p[1])return{open:f(a,p[2]),close:h,at:"close"};a=new r(e,u.line,u.ch,i);return{open:h,close:c(a,p[2]),at:"open"}}}};e.findEnclosingTag=function(e,t,n){for(var i=new r(e,t.line,t.ch,n);;){var a=f(i);if(!a)break;var o=new r(e,t.line,t.ch,n),s=c(o,a.tag);if(s)return{open:a,close:s}}};e.scanForClosingTag=function(e,t,n,i){var a=new r(e,t.line,t.ch,i?{from:0,to:i}:null);return c(a,n)}})},{codemirror:void 0}],10:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";e.defineMode("javascript",function(t,r){function n(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}function i(e,t,r){ve=e;ge=r;return t}function a(e,t){var r=e.next();if('"'==r||"'"==r){t.tokenize=o(r);return t.tokenize(e,t)}if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==r&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return i(r);if("="==r&&e.eat(">"))return i("=>","operator");if("0"==r&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return i("number","number")}if(/\d/.test(r)){e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return i("number","number")}if("/"==r){if(e.eat("*")){t.tokenize=s;return s(e,t)}if(e.eat("/")){e.skipToEnd();return i("comment","comment")}if("operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)){n(e);e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return i("regexp","string-2")}e.eatWhile(Ce);return i("operator","operator",e.current())}if("`"==r){t.tokenize=l;return l(e,t)}if("#"==r){e.skipToEnd();return i("error","error")}if(Ce.test(r)){e.eatWhile(Ce);return i("operator","operator",e.current())}if(_e.test(r)){e.eatWhile(_e);var a=e.current(),u=ke.propertyIsEnumerable(a)&&ke[a];return u&&"."!=t.lastType?i(u.type,u.style,a):i("variable","variable",a)}}function o(e){return function(t,r){var n,o=!1;if(be&&"@"==t.peek()&&t.match(Ee)){r.tokenize=a;return i("jsonld-keyword","meta")}for(;null!=(n=t.next())&&(n!=e||o);)o=!o&&"\\"==n;o||(r.tokenize=a);return i("string","string")}}function s(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=a;break}n="*"==r}return i("comment","comment")}function l(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=a;break}n=!n&&"\\"==r}return i("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(r<0)){for(var n=0,i=!1,a=r-1;a>=0;--a){var o=e.string.charAt(a),s=Se.indexOf(o);if(s>=0&&s<3){if(!n){++a;break}if(0==--n)break}else if(s>=3&&s<6)++n;else if(_e.test(o))i=!0;else{if(/["'\/]/.test(o))return;if(i&&!n){++a;break}}}i&&!n&&(t.fatArrowAt=a)}}function c(e,t,r,n,i,a){this.indented=e;this.column=t;this.type=r;this.prev=i;this.info=a;null!=n&&(this.align=n)}function f(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(var r=n.vars;r;r=r.next)if(r.name==t)return!0}function d(e,t,r,n,i){var a=e.cc;De.state=e;De.stream=i;De.marked=null,De.cc=a;De.style=t;e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);for(;;){var o=a.length?a.pop():we?_:x;if(o(r,n)){for(;a.length&&a[a.length-1].lex;)a.pop()();return De.marked?De.marked:"variable"==r&&f(e,n)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)De.cc.push(arguments[e])}function h(){p.apply(null,arguments);return!0}function v(e){function t(t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}var n=De.state;if(n.context){De.marked="def";if(t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;r.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function g(){De.state.context={prev:De.state.context,vars:De.state.localVars};De.state.localVars=Pe}function y(){De.state.localVars=De.state.context.vars;De.state.context=De.state.context.prev}function m(e,t){var r=function(){var r=De.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new c(n,De.stream.column(),e,null,r.lexical,t)};r.lex=!0;return r}function b(){var e=De.state;if(e.lexical.prev){")"==e.lexical.type&&(e.indented=e.lexical.indented);e.lexical=e.lexical.prev}}function w(e){function t(r){return r==e?h():";"==e?p():h(t)}return t}function x(e,t){if("var"==e)return h(m("vardef",t.length),X,w(";"),b);if("keyword a"==e)return h(m("form"),_,x,b);if("keyword b"==e)return h(m("form"),x,b);if("{"==e)return h(m("}"),q,b);if(";"==e)return h();if("if"==e){"else"==De.state.lexical.info&&De.state.cc[De.state.cc.length-1]==b&&De.state.cc.pop()();return h(m("form"),_,x,b,$)}return"function"==e?h(ee):"for"==e?h(m("form"),G,x,b):"variable"==e?h(m("stat"),A):"switch"==e?h(m("form"),_,m("}","switch"),w("{"),q,b,b):"case"==e?h(_,w(":")):"default"==e?h(w(":")):"catch"==e?h(m("form"),g,w("("),te,w(")"),x,b,y):"module"==e?h(m("form"),g,oe,y,b):"class"==e?h(m("form"),re,b):"export"==e?h(m("form"),se,b):"import"==e?h(m("form"),le,b):p(m("stat"),_,w(";"),b)}function _(e){return C(e,!1)}function k(e){return C(e,!0)}function C(e,t){if(De.state.fatArrowAt==De.stream.start){var r=t?M:L;if("("==e)return h(g,m(")"),z(Y,")"),b,w("=>"),r,y);if("variable"==e)return p(g,Y,w("=>"),r,y)}var n=t?D:T;return Te.hasOwnProperty(e)?h(n):"function"==e?h(ee,n):"keyword c"==e?h(t?S:E):"("==e?h(m(")"),E,pe,w(")"),b,n):"operator"==e||"spread"==e?h(t?k:_):"["==e?h(m("]"),fe,b,n):"{"==e?B(O,"}",null,n):"quasi"==e?p(P,n):h()}function E(e){return e.match(/[;\}\)\],]/)?p():p(_)}function S(e){return e.match(/[;\}\)\],]/)?p():p(k)}function T(e,t){return","==e?h(_):D(e,t,!1)}function D(e,t,r){var n=0==r?T:D,i=0==r?_:k;return"=>"==e?h(g,r?M:L,y):"operator"==e?/\+\+|--/.test(t)?h(n):"?"==t?h(_,w(":"),i):h(i):"quasi"==e?p(P,n):";"!=e?"("==e?B(k,")","call",n):"."==e?h(N,n):"["==e?h(m("]"),E,w("]"),b,n):void 0:void 0}function P(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?h(P):h(_,j)}function j(e){if("}"==e){De.marked="string-2";De.state.tokenize=l;return h(P)}}function L(e){u(De.stream,De.state);return p("{"==e?x:_)}function M(e){u(De.stream,De.state);return p("{"==e?x:k)}function A(e){return":"==e?h(b,x):p(T,w(";"),b)}function N(e){if("variable"==e){De.marked="property";return h()}}function O(e,t){if("variable"==e||"keyword"==De.style){De.marked="property";return h("get"==t||"set"==t?R:I)}if("number"==e||"string"==e){De.marked=be?"property":De.style+" property";return h(I)}return"jsonld-keyword"==e?h(I):"["==e?h(_,w("]"),I):void 0}function R(e){if("variable"!=e)return p(I);De.marked="property";return h(ee)}function I(e){return":"==e?h(k):"("==e?p(ee):void 0}function z(e,t){function r(n){if(","==n){var i=De.state.lexical;"call"==i.info&&(i.pos=(i.pos||0)+1);return h(e,r)}return n==t?h():h(w(t))}return function(n){return n==t?h():p(e,r)}}function B(e,t,r){for(var n=3;n<arguments.length;n++)De.cc.push(arguments[n]);return h(m(t,r),z(e,t),b)}function q(e){return"}"==e?h():p(x,q)}function F(e){if(xe&&":"==e)return h(V);
}function V(e){if("variable"==e){De.marked="variable-3";return h()}}function X(){return p(Y,F,U,H)}function Y(e,t){if("variable"==e){v(t);return h()}return"["==e?B(Y,"]"):"{"==e?B(W,"}"):void 0}function W(e,t){if("variable"==e&&!De.stream.match(/^\s*:/,!1)){v(t);return h(U)}"variable"==e&&(De.marked="property");return h(w(":"),Y,U)}function U(e,t){if("="==t)return h(k)}function H(e){if(","==e)return h(X)}function $(e,t){if("keyword b"==e&&"else"==t)return h(m("form","else"),x,b)}function G(e){if("("==e)return h(m(")"),Q,w(")"),b)}function Q(e){return"var"==e?h(X,w(";"),J):";"==e?h(J):"variable"==e?h(Z):p(_,w(";"),J)}function Z(e,t){if("in"==t||"of"==t){De.marked="keyword";return h(_)}return h(T,J)}function J(e,t){if(";"==e)return h(K);if("in"==t||"of"==t){De.marked="keyword";return h(_)}return p(_,w(";"),K)}function K(e){")"!=e&&h(_)}function ee(e,t){if("*"==t){De.marked="keyword";return h(ee)}if("variable"==e){v(t);return h(ee)}if("("==e)return h(g,m(")"),z(te,")"),b,x,y)}function te(e){return"spread"==e?h(te):p(Y,F)}function re(e,t){if("variable"==e){v(t);return h(ne)}}function ne(e,t){return"extends"==t?h(_,ne):"{"==e?h(m("}"),ie,b):void 0}function ie(e,t){if("variable"==e||"keyword"==De.style){De.marked="property";return"get"==t||"set"==t?h(ae,ee,ie):h(ee,ie)}if("*"==t){De.marked="keyword";return h(ie)}return";"==e?h(ie):"}"==e?h():void 0}function ae(e){if("variable"!=e)return p();De.marked="property";return h()}function oe(e,t){if("string"==e)return h(x);if("variable"==e){v(t);return h(ce)}}function se(e,t){if("*"==t){De.marked="keyword";return h(ce,w(";"))}if("default"==t){De.marked="keyword";return h(_,w(";"))}return p(x)}function le(e){return"string"==e?h():p(ue,ce)}function ue(e,t){if("{"==e)return B(ue,"}");"variable"==e&&v(t);return h()}function ce(e,t){if("from"==t){De.marked="keyword";return h(_)}}function fe(e){return"]"==e?h():p(k,de)}function de(e){return"for"==e?p(pe,w("]")):","==e?h(z(S,"]")):p(z(k,"]"))}function pe(e){return"for"==e?h(G,pe):"if"==e?h(_,pe):void 0}function he(e,t){return"operator"==e.lastType||","==e.lastType||Ce.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var ve,ge,ye=t.indentUnit,me=r.statementIndent,be=r.jsonld,we=r.json||be,xe=r.typescript,_e=r.wordCharacters||/[\w$\xa1-\uffff]/,ke=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("operator"),a={type:"atom",style:"atom"},o={"if":e("if"),"while":t,"with":t,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"debugger":n,"var":e("var"),"const":e("var"),"let":e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":a,"false":a,"null":a,undefined:a,NaN:a,Infinity:a,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":n,"export":e("export"),"import":e("import"),"extends":n};if(xe){var s={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:s,number:s,bool:s,any:s};for(var u in l)o[u]=l[u]}return o}(),Ce=/[+\-*&%=<>!?|~^]/,Ee=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Se="([{}])",Te={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},De={state:null,column:null,marked:null,cc:null},Pe={name:"this",next:{name:"arguments"}};b.lex=!0;return{startState:function(e){var t={tokenize:a,lastType:"sof",cc:[],lexical:new c((e||0)-ye,0,"block",(!1)),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:0};r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars);return t},token:function(e,t){if(e.sol()){t.lexical.hasOwnProperty("align")||(t.lexical.align=!1);t.indented=e.indentation();u(e,t)}if(t.tokenize!=s&&e.eatSpace())return null;var r=t.tokenize(e,t);if("comment"==ve)return r;t.lastType="operator"!=ve||"++"!=ge&&"--"!=ge?ve:"incdec";return d(t,r,ve,ge,e)},indent:function(t,n){if(t.tokenize==s)return e.Pass;if(t.tokenize!=a)return 0;var i=n&&n.charAt(0),o=t.lexical;if(!/^\s*else\b/.test(n))for(var l=t.cc.length-1;l>=0;--l){var u=t.cc[l];if(u==b)o=o.prev;else if(u!=$)break}"stat"==o.type&&"}"==i&&(o=o.prev);me&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var c=o.type,f=i==c;return"vardef"==c?o.indented+("operator"==t.lastType||","==t.lastType?o.info+1:0):"form"==c&&"{"==i?o.indented:"form"==c?o.indented+ye:"stat"==c?o.indented+(he(t,n)?me||ye:0):"switch"!=o.info||f||0==r.doubleIndentSwitch?o.align?o.column+(f?0:1):o.indented+(f?0:ye):o.indented+(/^(?:case|default)\b/.test(n)?ye:2*ye)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:we?null:"/*",blockCommentEnd:we?null:"*/",lineComment:we?null:"//",fold:"brace",helperType:we?"json":"javascript",jsonldMode:be,jsonMode:we}});e.registerHelper("wordChars","javascript",/[\w$]/);e.defineMIME("text/javascript","javascript");e.defineMIME("text/ecmascript","javascript");e.defineMIME("application/javascript","javascript");e.defineMIME("application/x-javascript","javascript");e.defineMIME("application/ecmascript","javascript");e.defineMIME("application/json",{name:"javascript",json:!0});e.defineMIME("application/x-json",{name:"javascript",json:!0});e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});e.defineMIME("text/typescript",{name:"javascript",typescript:!0});e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},{codemirror:void 0}],11:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";e.defineMode("xml",function(t,r){function n(e,t){function r(r){t.tokenize=r;return r(e,t)}var n=e.next();if("<"==n){if(e.eat("!")){if(e.eat("["))return e.match("CDATA[")?r(o("atom","]]>")):null;if(e.match("--"))return r(o("comment","-->"));if(e.match("DOCTYPE",!0,!0)){e.eatWhile(/[\w\._\-]/);return r(s(1))}return null}if(e.eat("?")){e.eatWhile(/[\w\._\-]/);t.tokenize=o("meta","?>");return"meta"}k=e.eat("/")?"closeTag":"openTag";t.tokenize=i;return"tag bracket"}if("&"==n){var a;a=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";");return a?"atom":"error"}e.eatWhile(/[^&<]/);return null}function i(e,t){var r=e.next();if(">"==r||"/"==r&&e.eat(">")){t.tokenize=n;k=">"==r?"endTag":"selfcloseTag";return"tag bracket"}if("="==r){k="equals";return null}if("<"==r){t.tokenize=n;t.state=f;t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}if(/[\'\"]/.test(r)){t.tokenize=a(r);t.stringStartCol=e.column();return t.tokenize(e,t)}e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}function a(e){var t=function(t,r){for(;!t.eol();)if(t.next()==e){r.tokenize=i;break}return"string"};t.isInAttribute=!0;return t}function o(e,t){return function(r,i){for(;!r.eol();){if(r.match(t)){i.tokenize=n;break}r.next()}return e}}function s(e){return function(t,r){for(var i;null!=(i=t.next());){if("<"==i){r.tokenize=s(e+1);return r.tokenize(t,r)}if(">"==i){if(1==e){r.tokenize=n;break}r.tokenize=s(e-1);return r.tokenize(t,r)}}return"meta"}}function l(e,t,r){this.prev=e.context;this.tagName=t;this.indent=e.indented;this.startOfLine=r;(E.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function u(e){e.context&&(e.context=e.context.prev)}function c(e,t){for(var r;;){if(!e.context)return;r=e.context.tagName;if(!E.contextGrabbers.hasOwnProperty(r)||!E.contextGrabbers[r].hasOwnProperty(t))return;u(e)}}function f(e,t,r){if("openTag"==e){r.tagStart=t.column();return d}return"closeTag"==e?p:f}function d(e,t,r){if("word"==e){r.tagName=t.current();C="tag";return g}C="error";return d}function p(e,t,r){if("word"==e){var n=t.current();r.context&&r.context.tagName!=n&&E.implicitlyClosed.hasOwnProperty(r.context.tagName)&&u(r);if(r.context&&r.context.tagName==n){C="tag";return h}C="tag error";return v}C="error";return v}function h(e,t,r){if("endTag"!=e){C="error";return h}u(r);return f}function v(e,t,r){C="error";return h(e,t,r)}function g(e,t,r){if("word"==e){C="attribute";return y}if("endTag"==e||"selfcloseTag"==e){var n=r.tagName,i=r.tagStart;r.tagName=r.tagStart=null;if("selfcloseTag"==e||E.autoSelfClosers.hasOwnProperty(n))c(r,n);else{c(r,n);r.context=new l(r,n,i==r.indented)}return f}C="error";return g}function y(e,t,r){if("equals"==e)return m;E.allowMissing||(C="error");return g(e,t,r)}function m(e,t,r){if("string"==e)return b;if("word"==e&&E.allowUnquoted){C="string";return g}C="error";return g(e,t,r)}function b(e,t,r){return"string"==e?b:g(e,t,r)}var w=t.indentUnit,x=r.multilineTagIndentFactor||1,_=r.multilineTagIndentPastTag;null==_&&(_=!0);var k,C,E=r.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},S=r.alignCDATA;return{startState:function(){return{tokenize:n,state:f,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){!t.tagName&&e.sol()&&(t.indented=e.indentation());if(e.eatSpace())return null;k=null;var r=t.tokenize(e,t);if((r||k)&&"comment"!=r){C=null;t.state=t.state(k||r,e,t);C&&(r="error"==C?r+" error":C)}return r},indent:function(t,r,a){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+w;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=i&&t.tokenize!=n)return a?a.match(/^(\s*)/)[0].length:0;if(t.tagName)return _?t.tagStart+t.tagName.length+2:t.tagStart+w*x;if(S&&/<!\[CDATA\[/.test(r))return 0;var s=r&&/^<(\/)?([\w_:\.-]*)/.exec(r);if(s&&s[1])for(;o;){if(o.tagName==s[2]){o=o.prev;break}if(!E.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(s)for(;o;){var l=E.contextGrabbers[o.tagName];if(!l||!l.hasOwnProperty(s[2]))break;o=o.prev}for(;o&&!o.startOfLine;)o=o.prev;return o?o.indent+w:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:r.htmlMode?"html":"xml",helperType:r.htmlMode?"html":"xml"}});e.defineMIME("text/xml","xml");e.defineMIME("application/xml","xml");e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{codemirror:void 0}],12:[function(e,t,r){"use strict"},{}],13:[function(e,t,r){"use strict";var n=e("./util"),i=e("./is"),a=e("./promise"),o=function(e,t,r){if(!(this instanceof o))return new o(e,t,r);var a=this._private=n.extend({duration:1e3},t,r);a.target=e;a.style=a.style||a.css;a.started=!1;a.playing=!1;a.hooked=!1;a.applying=!1;a.progress=0;a.completes=[];a.frames=[];a.complete&&i.fn(a.complete)&&a.completes.push(a.complete);this.length=1;this[0]=this},s=o.prototype;n.extend(s,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,r=e.target._private.animation;t=e.queue?r.queue:r.current;t.push(this);i.elementOrCollection(e.target)&&e.target.cy().addToAnimationPool(e.target);e.hooked=!0}return this},play:function(){var e=this._private;1===e.progress&&(e.progress=0);e.playing=!0;e.started=!1;e.stopped=!1;this.hook();return this},playing:function(){return this._private.playing},apply:function(){var e=this._private;e.applying=!0;e.started=!1;e.stopped=!1;this.hook();return this},applying:function(){return this._private.applying},pause:function(){var e=this._private;e.playing=!1;e.started=!1;return this},stop:function(){var e=this._private;e.playing=!1;e.started=!1;e.stopped=!0;return this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,r=t.playing;if(void 0===e)return t.progress;r&&this.pause();t.progress=e;t.started=!1;r&&this.play();return this},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause();e.progress=1-e.progress;e.started=!1;var r=function(t,r){var n=e[t];e[t]=e[r];e[r]=n};r("zoom","startZoom");r("pan","startPan");r("position","startPosition");for(var n=0;n<e.style.length;n++){var i=e.style[n],a=i.name,o=e.startStyle[a];e.startStyle[a]=i;e.style[n]=o}t&&this.play();return this},promise:function(e){var t,r=this._private;switch(e){case"frame":t=r.frames;break;default:case"complete":case"completed":t=r.completes}return new a(function(e,r){t.push(function(){e()})})}});s.complete=s.completed;t.exports=o},{"./is":94,"./promise":97,"./util":111}],14:[function(e,t,r){"use strict";var n=e("../../is"),i={aStar:function(e){var t=this;e=e||{};var r=function(e,t,n,i){if(e==t){i.push(a.getElementById(t));return i}if(t in n){var o=n[t],s=h[t];i.push(a.getElementById(t));i.push(a.getElementById(s));return r(e,o,n,i)}},i=function(e,t){if(0!==e.length){for(var r=0,n=t[e[0]],i=1;i<e.length;i++){var a=t[e[i]];if(a<n){n=a;r=i}}return r}},a=this._private.cy;if(null!=e&&null!=e.root){var o=n.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.goal){var s=n.string(e.goal)?this.filter(e.goal)[0]:e.goal[0];if(null!=e.heuristic&&n.fn(e.heuristic))var l=e.heuristic;else var l=function(){return 0};if(null!=e.weight&&n.fn(e.weight))var u=e.weight;else var u=function(e){return 1};if(null!=e.directed)var c=e.directed;else var c=!1;var f=[],d=[o.id()],p={},h={},v={},g={};v[o.id()]=0;g[o.id()]=l(o);for(var y=this.edges().stdFilter(function(e){return!e.isLoop()}),m=this.nodes(),b=0;d.length>0;){var w=i(d,g),x=a.getElementById(d[w]);b++;if(x.id()==s.id()){var _=r(o.id(),s.id(),p,[]);_.reverse();return{found:!0,distance:v[x.id()],path:t.spawn(_),steps:b}}f.push(x.id());d.splice(w,1);var k=x.connectedEdges();c&&(k=k.stdFilter(function(e){return e.data("source")===x.id()}));k=k.intersect(y);for(var C=0;C<k.length;C++){var E=k[C],S=E.connectedNodes().stdFilter(function(e){return e.id()!==x.id()}).intersect(m);if(f.indexOf(S.id())==-1){var T=v[x.id()]+u.apply(E,[E]);if(d.indexOf(S.id())!=-1){if(T<v[S.id()]){v[S.id()]=T;g[S.id()]=T+l(S);p[S.id()]=x.id()}}else{v[S.id()]=T;g[S.id()]=T+l(S);d.push(S.id());p[S.id()]=x.id();h[S.id()]=E.id()}}}}return{found:!1,distance:void 0,path:void 0,steps:b}}}}};t.exports=i},{"../../is":94}],15:[function(e,t,r){"use strict";var n=e("../../is"),i=e("../../util"),a={bellmanFord:function(e){var t=this;e=e||{};if(null!=e.weight&&n.fn(e.weight))var r=e.weight;else var r=function(e){return 1};if(null!=e.directed)var a=e.directed;else var a=!1;if(null!=e.root){if(n.string(e.root))var o=this.filter(e.root)[0];else var o=e.root[0];for(var s=this._private.cy,l=this.edges().stdFilter(function(e){return!e.isLoop()}),u=this.nodes(),c=u.length,f={},d=0;d<c;d++)f[u[d].id()]=d;for(var p=[],h=[],v=[],d=0;d<c;d++){u[d].id()===o.id()?p[d]=0:p[d]=1/0;h[d]=void 0}for(var g=!1,d=1;d<c;d++){g=!1;for(var y=0;y<l.length;y++){var m=f[l[y].source().id()],b=f[l[y].target().id()],w=r.apply(l[y],[l[y]]),x=p[m]+w;if(x<p[b]){p[b]=x;h[b]=m;v[b]=l[y];g=!0}if(!a){var x=p[b]+w;if(x<p[m]){p[m]=x;h[m]=b;v[m]=l[y];g=!0}}}if(!g)break}if(g)for(var y=0;y<l.length;y++){var m=f[l[y].source().id()],b=f[l[y].target().id()],w=r.apply(l[y],[l[y]]);if(p[m]+w<p[b]){i.error("Graph contains a negative weight cycle for Bellman-Ford");return{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}}for(var _=[],d=0;d<c;d++)_.push(u[d].id());var k={distanceTo:function(e){if(n.string(e))var t=s.filter(e)[0].id();else var t=e.id();return p[f[t]]},pathTo:function(e){var r=function(e,t,r,n,i,a){for(;;){i.push(s.getElementById(n[r]));i.push(a[r]);if(t===r)return i;var o=e[r];if("undefined"==typeof o)return;r=o}};if(n.string(e))var i=s.filter(e)[0].id();else var i=e.id();var a=[],l=r(h,f[o.id()],f[i],_,a,v);null!=l&&l.reverse();return t.spawn(l)},hasNegativeWeightCycle:!1};return k}}};t.exports=a},{"../../is":94,"../../util":111}],16:[function(e,t,r){"use strict";var n=e("../../is"),i=e("../../heap"),a={betweennessCentrality:function(e){e=e||{};var t,r;if(n.fn(e.weight)){r=e.weight;t=!0}else t=!1;for(var a=null!=e.directed&&e.directed,o=this._private.cy,s=this.nodes(),l={},u={},c=0,f={set:function(e,t){u[e]=t;t>c&&(c=t)},get:function(e){return u[e]}},d=0;d<s.length;d++){var p=s[d],h=p.id();a?l[h]=p.outgoers().nodes():l[h]=p.openNeighborhood().nodes();f.set(h,0)}for(var v=0;v<s.length;v++){for(var g=s[v].id(),y=[],m={},b={},w={},x=new i(function(e,t){return w[e]-w[t]}),d=0;d<s.length;d++){var h=s[d].id();m[h]=[];b[h]=0;w[h]=1/0}b[g]=1;w[g]=0;x.push(g);for(;!x.empty();){var p=x.pop();y.push(p);if(t)for(var _=0;_<l[p].length;_++){var k,C=l[p][_],E=o.getElementById(p);k=E.edgesTo(C).length>0?E.edgesTo(C)[0]:C.edgesTo(E)[0];var S=r.apply(k,[k]);C=C.id();if(w[C]>w[p]+S){w[C]=w[p]+S;x.nodes.indexOf(C)<0?x.push(C):x.updateItem(C);b[C]=0;m[C]=[]}if(w[C]==w[p]+S){b[C]=b[C]+b[p];m[C].push(p)}}else for(var _=0;_<l[p].length;_++){var C=l[p][_].id();if(w[C]==1/0){x.push(C);w[C]=w[p]+1}if(w[C]==w[p]+1){b[C]=b[C]+b[p];m[C].push(p)}}}for(var T={},d=0;d<s.length;d++)T[s[d].id()]=0;for(;y.length>0;)for(var C=y.pop(),_=0;_<m[C].length;_++){var p=m[C][_];T[p]=T[p]+b[p]/b[C]*(1+T[C]);C!=s[v].id()&&f.set(C,f.get(C)+T[C])}}var D={betweenness:function(e){if(n.string(e))var e=o.filter(e).id();else var e=e.id();return f.get(e)},betweennessNormalized:function(e){if(0==c)return 0;if(n.string(e))var e=o.filter(e).id();else var e=e.id();return f.get(e)/c}};D.betweennessNormalised=D.betweennessNormalized;return D}};a.bc=a.betweennessCentrality;t.exports=a},{"../../heap":92,"../../is":94}],17:[function(e,t,r){"use strict";var n=e("../../is"),i=function(e){e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs};return function(t,r,i){var a,o,s;if(n.plainObject(t)&&!n.elementOrCollection(t)){a=t;t=a.roots||a.root;r=a.visit;i=a.directed;o=a.std;s=a.thisArg}i=2!==arguments.length||n.fn(r)?i:r;r=n.fn(r)?r:function(){};for(var l,u=this._private.cy,c=t=n.string(t)?this.filter(t):t,f=[],d=[],p={},h={},v={},g=0,y=this.nodes(),m=this.edges(),b=0;b<c.length;b++)if(c[b].isNode()){f.unshift(c[b]);if(e.bfs){v[c[b].id()]=!0;d.push(c[b])}h[c[b].id()]=0}for(;0!==f.length;){var c=e.bfs?f.shift():f.pop();if(e.dfs){if(v[c.id()])continue;v[c.id()]=!0;d.push(c)}var w,x=h[c.id()],_=p[c.id()],k=null==_?void 0:_.connectedNodes().not(c)[0];w=o?r.call(s,c,_,k,g++,x):r.call(c,g++,x,c,_,k);if(w===!0){l=c;break}if(w===!1)break;for(var C=c.connectedEdges(i?function(){return this.data("source")===c.id()}:void 0).intersect(m),b=0;b<C.length;b++){var E=C[b],S=E.connectedNodes(function(){return this.id()!==c.id()}).intersect(y);if(0!==S.length&&!v[S.id()]){S=S[0];f.push(S);if(e.bfs){v[S.id()]=!0;d.push(S)}p[S.id()]=E;h[S.id()]=h[c.id()]+1}}}for(var T=[],b=0;b<d.length;b++){var D=d[b],P=p[D.id()];P&&T.push(P);T.push(D)}return{path:u.collection(T,{unique:!0}),found:u.collection(l)}}},a={breadthFirstSearch:i({bfs:!0}),depthFirstSearch:i({dfs:!0})};a.bfs=a.breadthFirstSearch;a.dfs=a.depthFirstSearch;t.exports=a},{"../../is":94}],18:[function(e,t,r){"use strict";var n=e("../../is"),i={closenessCentralityNormalized:function(e){e=e||{};var t=this.cy(),r=e.harmonic;void 0===r&&(r=!0);for(var i={},a=0,o=this.nodes(),s=this.floydWarshall({weight:e.weight,directed:e.directed}),l=0;l<o.length;l++){for(var u=0,c=0;c<o.length;c++)if(l!=c){var f=s.distance(o[l],o[c]);u+=r?1/f:f}r||(u=1/u);a<u&&(a=u);i[o[l].id()]=u}return{closeness:function(e){if(0==a)return 0;if(n.string(e))var e=t.filter(e)[0].id();else var e=e.id();return i[e]/a}}},closenessCentrality:function(e){e=e||{};if(null!=e.root){if(n.string(e.root))var t=this.filter(e.root)[0];else var t=e.root[0];if(null!=e.weight&&n.fn(e.weight))var r=e.weight;else var r=function(){return 1};if(null!=e.directed&&n.bool(e.directed))var i=e.directed;else var i=!1;var a=e.harmonic;void 0===a&&(a=!0);for(var o=this.dijkstra({root:t,weight:r,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++)if(l[u].id()!=t.id()){var c=o.distanceTo(l[u]);s+=a?1/c:c}return a?s:1/s}}};i.cc=i.closenessCentrality;i.ccn=i.closenessCentralityNormalised=i.closenessCentralityNormalized;t.exports=i},{"../../is":94}],19:[function(e,t,r){"use strict";var n=e("../../is"),i=e("../../util"),a={degreeCentralityNormalized:function(e){e=e||{};var t=this.cy();if(null!=e.directed)var r=e.directed;else var r=!1;var a=this.nodes(),o=a.length;if(r){for(var s={},l={},u=0,c=0,f=0;f<o;f++){var d=a[f],p=this.degreeCentrality(i.extend({},e,{root:d}));u<p.indegree&&(u=p.indegree);c<p.outdegree&&(c=p.outdegree);s[d.id()]=p.indegree;l[d.id()]=p.outdegree}return{indegree:function(e){if(0==u)return 0;if(n.string(e))var e=t.filter(e)[0].id();else var e=e.id();return s[e]/u},outdegree:function(e){if(0==c)return 0;if(n.string(e))var e=t.filter(e)[0].id();else var e=e.id();return l[e]/c}}}for(var h={},v=0,f=0;f<o;f++){var d=a[f],p=this.degreeCentrality(i.extend({},e,{root:d}));v<p.degree&&(v=p.degree);h[d.id()]=p.degree}return{degree:function(e){if(0==v)return 0;if(n.string(e))var e=t.filter(e)[0].id();else var e=e.id();return h[e]/v}}},degreeCentrality:function(e){e=e||{};var t=this;if(null!=e&&null!=e.root){var r=n.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.weight&&n.fn(e.weight))var i=e.weight;else var i=function(e){return 1};if(null!=e.directed)var a=e.directed;else var a=!1;if(null!=e.alpha&&n.number(e.alpha))var o=e.alpha;else o=0;if(a){for(var s=r.connectedEdges('edge[target = "'+r.id()+'"]').intersection(t),l=r.connectedEdges('edge[source = "'+r.id()+'"]').intersection(t),u=s.length,c=l.length,f=0,d=0,p=0;p<s.length;p++){var h=s[p];f+=i.apply(h,[h])}for(var p=0;p<l.length;p++){var h=l[p];d+=i.apply(h,[h])}return{indegree:Math.pow(u,1-o)*Math.pow(f,o),outdegree:Math.pow(c,1-o)*Math.pow(d,o)}}for(var v=r.connectedEdges().intersection(t),g=v.length,y=0,p=0;p<v.length;p++){var h=v[p];y+=i.apply(h,[h])}return{degree:Math.pow(g,1-o)*Math.pow(y,o)}}}};a.dc=a.degreeCentrality;a.dcn=a.degreeCentralityNormalised=a.degreeCentralityNormalized;t.exports=a},{"../../is":94,"../../util":111}],20:[function(e,t,r){"use strict";var n=e("../../is"),i=e("../../heap"),a={dijkstra:function(e,t,r){var a;if(n.plainObject(e)&&!n.elementOrCollection(e)){a=e;e=a.root;t=a.weight;r=a.directed}var o=this._private.cy;t=n.fn(t)?t:function(){return 1};for(var s=n.string(e)?this.filter(e)[0]:e[0],l={},u={},c={},f=this.edges().filter(function(){return!this.isLoop()}),d=this.nodes(),p=function(e){return l[e.id()]},h=function(e,t){l[e.id()]=t;v.updateItem(e)},v=new i(function(e,t){return p(e)-p(t)}),g=0;g<d.length;g++){var y=d[g];l[y.id()]=y.same(s)?0:1/0;v.push(y)}for(var m=function(e,n){for(var i,a=(r?e.edgesTo(n):e.edgesWith(n)).intersect(f),o=1/0,s=0;s<a.length;s++){var l=a[s],u=t.apply(l,[l]);if(u<o||!i){o=u;i=l}}return{edge:i,dist:o}};v.size()>0;){var b=v.pop(),w=p(b),x=b.id();c[x]=w;if(w===Math.Infinite)break;for(var _=b.neighborhood().intersect(d),g=0;g<_.length;g++){var k=_[g],C=k.id(),E=m(b,k),S=w+E.dist;if(S<p(k)){h(k,S);u[C]={node:b,edge:E.edge}}}}return{distanceTo:function(e){var t=n.string(e)?d.filter(e)[0]:e[0];return c[t.id()]},pathTo:function(e){var t=n.string(e)?d.filter(e)[0]:e[0],r=[],i=t;if(t.length>0){r.unshift(t);for(;u[i.id()];){var a=u[i.id()];r.unshift(a.edge);r.unshift(a.node);i=a.node}}return o.collection(r)}}}};t.exports=a},{"../../heap":92,"../../is":94}],21:[function(e,t,r){"use strict";var n=e("../../is"),i={floydWarshall:function(e){e=e||{};var t=this.cy();if(null!=e.weight&&n.fn(e.weight))var r=e.weight;else var r=function(e){return 1};if(null!=e.directed)var i=e.directed;else var i=!1;for(var a=this.edges().stdFilter(function(e){return!e.isLoop()}),o=this.nodes(),s=o.length,l={},u=0;u<s;u++)l[o[u].id()]=u;for(var c=[],u=0;u<s;u++){for(var f=new Array(s),d=0;d<s;d++)u==d?f[d]=0:f[d]=1/0;c.push(f)}var p=[],h=[],v=function(e){for(var t=0;t<s;t++){for(var r=new Array(s),n=0;n<s;n++)r[n]=void 0;e.push(r)}};v(p);v(h);for(var u=0;u<a.length;u++){var g=l[a[u].source().id()],y=l[a[u].target().id()],m=r.apply(a[u],[a[u]]);if(c[g][y]>m){c[g][y]=m;p[g][y]=y;h[g][y]=a[u]}}if(!i)for(var u=0;u<a.length;u++){var g=l[a[u].target().id()],y=l[a[u].source().id()],m=r.apply(a[u],[a[u]]);if(c[g][y]>m){c[g][y]=m;p[g][y]=y;h[g][y]=a[u]}}for(var b=0;b<s;b++)for(var u=0;u<s;u++)for(var d=0;d<s;d++)if(c[u][b]+c[b][d]<c[u][d]){c[u][d]=c[u][b]+c[b][d];p[u][d]=p[u][b]}for(var w=[],u=0;u<s;u++)w.push(o[u].id());var x={distance:function(e,r){if(n.string(e))var i=t.filter(e)[0].id();else var i=e.id();if(n.string(r))var a=t.filter(r)[0].id();else var a=r.id();return c[l[i]][l[a]]},path:function(e,r){var i=function(e,r,n,i,a){if(e===r)return t.getElementById(i[e]);if(void 0!==n[e][r]){for(var o=[t.getElementById(i[e])],s=e;e!==r;){s=e;e=n[e][r];var l=a[s][e];o.push(l);o.push(t.getElementById(i[e]))}return o}};if(n.string(e))var a=t.filter(e)[0].id();else var a=e.id();if(n.string(r))var o=t.filter(r)[0].id();else var o=r.id();var s=i(l[a],l[o],p,w,h);return t.collection(s)}};return x}};t.exports=i},{"../../is":94}],22:[function(e,t,r){"use strict";var n=e("../../util"),i={};[e("./bfs-dfs"),e("./dijkstra"),e("./kruskal"),e("./a-star"),e("./floyd-warshall"),e("./bellman-ford"),e("./kerger-stein"),e("./page-rank"),e("./degree-centrality"),e("./closeness-centrality"),e("./betweenness-centrality")].forEach(function(e){n.extend(i,e)});t.exports=i},{"../../util":111,"./a-star":14,"./bellman-ford":15,"./betweenness-centrality":16,"./bfs-dfs":17,"./closeness-centrality":18,"./degree-centrality":19,"./dijkstra":20,"./floyd-warshall":21,"./kerger-stein":23,"./kruskal":24,"./page-rank":25}],23:[function(e,t,r){"use strict";var n=e("../../util"),i={kargerStein:function(e){var t=this;e=e||{};var r=function(e,t,r){for(var n=r[e],i=n[1],a=n[2],o=t[i],s=t[a],l=r.filter(function(e){return(t[e[1]]!==o||t[e[2]]!==s)&&(t[e[1]]!==s||t[e[2]]!==o)}),u=0;u<l.length;u++){var c=l[u];if(c[1]===s){l[u]=c.slice(0);l[u][1]=o}else if(c[2]===s){l[u]=c.slice(0);l[u][2]=o}}for(var u=0;u<t.length;u++)t[u]===s&&(t[u]=o);return l},i=function(e,t,n,a){if(n<=a)return t;var o=Math.floor(Math.random()*t.length),s=r(o,e,t);return i(e,s,n-1,a)},a=this._private.cy,o=this.edges().stdFilter(function(e){return!e.isLoop()}),s=this.nodes(),l=s.length,u=o.length,c=Math.ceil(Math.pow(Math.log(l)/Math.LN2,2)),f=Math.floor(l/Math.sqrt(2));if(!(l<2)){for(var d={},p=0;p<l;p++)d[s[p].id()]=p;for(var h=[],p=0;p<u;p++){var v=o[p];h.push([p,d[v.source().id()],d[v.target().id()]])}for(var g,y=1/0,m=[],p=0;p<l;p++)m.push(p);for(var b=0;b<=c;b++){var w=m.slice(0),x=i(w,h,l,f),_=w.slice(0),k=i(w,x,f,2),C=i(_,x,f,2);if(k.length<=C.length&&k.length<y){y=k.length;g=[k,w]}else if(C.length<=k.length&&C.length<y){y=C.length;g=[C,_]}}for(var E=g[0].map(function(e){return o[e[0]]}),S=[],T=[],D=g[1][0],p=0;p<g[1].length;p++){var P=g[1][p];P===D?S.push(s[p]):T.push(s[p])}var j={cut:t.spawn(a,E),partition1:t.spawn(S),partition2:t.spawn(T)};return j}n.error("At least 2 nodes are required for Karger-Stein algorithm")}};t.exports=i},{"../../util":111}],24:[function(e,t,r){"use strict";var n=e("../../is"),i={kruskal:function(e){function t(e){for(var t=0;t<a.length;t++){var r=a[t];if(r.anySame(e))return{eles:r,index:t}}}var r=this.cy();e=n.fn(e)?e:function(){return 1};for(var i=r.collection(r,[]),a=[],o=this.nodes(),s=0;s<o.length;s++)a.push(o[s].collection());for(var l=this.edges(),u=l.toArray().sort(function(t,r){var n=e.call(t,t),i=e.call(r,r);return n-i}),s=0;s<u.length;s++){var c=u[s],f=c.source()[0],d=c.target()[0],p=t(f),h=t(d);if(p.index!==h.index){i=i.add(c);a[p.index]=p.eles.add(h.eles);a.splice(h.index,1)}}return o.add(i)}};t.exports=i},{"../../is":94}],25:[function(e,t,r){"use strict";var n=e("../../is"),i={pageRank:function(e){e=e||{};var t=function(e){for(var t=e.length,r=0,n=0;n<t;n++)r+=e[n];for(var n=0;n<t;n++)e[n]=e[n]/r};if(null!=e&&null!=e.dampingFactor)var r=e.dampingFactor;else var r=.8;if(null!=e&&null!=e.precision)var i=e.precision;else var i=1e-6;if(null!=e&&null!=e.iterations)var a=e.iterations;else var a=200;if(null!=e&&null!=e.weight&&n.fn(e.weight))var o=e.weight;else var o=function(e){return 1};for(var s=this._private.cy,l=this.edges().stdFilter(function(e){return!e.isLoop()}),u=this.nodes(),c=u.length,f=l.length,d={},p=0;p<c;p++)d[u[p].id()]=p;for(var h=[],v=[],g=(1-r)/c,p=0;p<c;p++){for(var y=[],m=0;m<c;m++)y.push(0);h.push(y);v.push(0)}for(var p=0;p<f;p++){var b=l[p],w=d[b.source().id()],x=d[b.target().id()],_=o.apply(b,[b]);h[x][w]+=_;v[w]+=_}for(var k=1/c+g,m=0;m<c;m++)if(0===v[m])for(var p=0;p<c;p++)h[p][m]=k;else for(var p=0;p<c;p++)h[p][m]=h[p][m]/v[m]+g;for(var C,E=[],S=[],p=0;p<c;p++){E.push(1);S.push(0)}for(var T=0;T<a;T++){for(var D=S.slice(0),p=0;p<c;p++)for(var m=0;m<c;m++)D[p]+=h[p][m]*E[m];t(D);C=E;E=D;for(var P=0,p=0;p<c;p++)P+=Math.pow(C[p]-E[p],2);if(P<i)break}var j={rank:function(e){if(n.string(e))var t=s.filter(e)[0].id();else var t=e.id();return E[d[t]]}};return j}};t.exports=i},{"../../is":94}],26:[function(e,t,r){"use strict";var n=e("../define"),i={animate:n.animate(),animation:n.animation(),animated:n.animated(),clearQueue:n.clearQueue(),delay:n.delay(),delayAnimation:n.delayAnimation(),stop:n.stop()};t.exports=i},{"../define":55}],27:[function(e,t,r){"use strict";var n=e("../util"),i={classes:function(e){e=(e||"").match(/\S+/g)||[];for(var t=this,r=[],i={},a=0;a<e.length;a++){var o=e[a];i[o]=!0}for(var s=0;s<t.length;s++){for(var l=t[s],u=l._private,c=u.classes,f=!1,a=0;a<e.length;a++){var o=e[a],d=c[o];if(!d){f=!0;break}}if(!f)for(var e=Object.keys(c),a=0;a<e.length;a++){var p=e[a],d=c[p],h=i[p];if(d&&!h){f=!0;break}}if(f){u.classes=n.copy(i);r.push(l)}}r.length>0&&this.spawn(r).updateStyle().trigger("class");return t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return!(null==t||!t._private.classes[e])},toggleClass:function(e,t){for(var r=e.match(/\S+/g)||[],n=this,i=[],a=0,o=n.length;a<o;a++)for(var s=n[a],l=!1,u=0;u<r.length;u++){var c=r[u],f=s._private.classes,d=f[c],p=t||void 0===t&&!d;if(p){f[c]=!0;if(!d&&!l){i.push(s);l=!0}}else{f[c]=!1;if(d&&!l){i.push(s);l=!0}}}i.length>0&&this.spawn(i).updateStyle().trigger("class");return n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var r=this;if(null==t)t=250;else if(0===t)return r;r.addClass(e);setTimeout(function(){r.removeClass(e)},t);return r}};t.exports=i},{"../util":111}],28:[function(e,t,r){"use strict";var n={allAre:function(e){return this.filter(e).length===this.length},is:function(e){return this.filter(e).length>0},some:function(e,t){for(var r=0;r<this.length;r++){var n=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(n)return!0}return!1},every:function(e,t){for(var r=0;r<this.length;r++){var n=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(!n)return!1}return!0},same:function(e){e=this.cy().collection(e);return this.length===e.length&&this.intersect(e).length===this.length},anySame:function(e){e=this.cy().collection(e);return this.intersect(e).length>0},allAreNeighbors:function(e){e=this.cy().collection(e);return this.neighborhood().intersect(e).length===e.length}};n.allAreNeighbours=n.allAreNeighbors;
t.exports=n},{}],29:[function(e,t,r){"use strict";var n={parent:function(e){for(var t=[],r=this._private.cy,n=0;n<this.length;n++){var i=this[n],a=r.getElementById(i._private.data.parent);a.size()>0&&t.push(a)}return this.spawn(t,{unique:!0}).filter(e)},parents:function(e){for(var t=[],r=this.parent();r.nonempty();){for(var n=0;n<r.length;n++){var i=r[n];t.push(i)}r=r.parent()}return this.spawn(t,{unique:!0}).filter(e)},commonAncestors:function(e){for(var t,r=0;r<this.length;r++){var n=this[r],i=n.parents();t=t||i;t=t.intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().empty()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().nonempty()}).filter(e)},children:function(e){for(var t=[],r=0;r<this.length;r++){var n=this[r];t=t.concat(n._private.children)}return this.spawn(t,{unique:!0}).filter(e)},siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return 0!==e._private.children.length},isChild:function(){var e=this[0];if(e)return void 0!==e._private.data.parent&&0!==e.parent().length},descendants:function(e){function t(e){for(var n=0;n<e.length;n++){var i=e[n];r.push(i);i.children().nonempty()&&t(i.children())}}var r=[];t(this.children());return this.spawn(r,{unique:!0}).filter(e)}};n.ancestors=n.parents;t.exports=n},{}],30:[function(e,t,r){"use strict";var n,i,a=e("../define");n=i={data:a.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:a.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:a.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:a.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:a.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:a.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};n.attr=n.data;n.removeAttr=n.removeData;t.exports=i},{"../define":55}],31:[function(e,t,r){"use strict";function n(e){return function(t){var r=this;void 0===t&&(t=!0);if(0!==r.length&&r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];!t&&s.isLoop()||(n+=e(i,s))}return n}}}function i(e,t){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var o=i[a],s=o[e](r);void 0===s||void 0!==n&&!t(s,n)||(n=s)}return n}}var a=e("../util"),o={};a.extend(o,{degree:n(function(e,t){return t.source().same(t.target())?2:1}),indegree:n(function(e,t){return t.target().same(e)?1:0}),outdegree:n(function(e,t){return t.source().same(e)?1:0})});a.extend(o,{minDegree:i("degree",function(e,t){return e<t}),maxDegree:i("degree",function(e,t){return e>t}),minIndegree:i("indegree",function(e,t){return e<t}),maxIndegree:i("indegree",function(e,t){return e>t}),minOutdegree:i("outdegree",function(e,t){return e<t}),maxOutdegree:i("outdegree",function(e,t){return e>t})});a.extend(o,{totalDegree:function(e){for(var t=0,r=this.nodes(),n=0;n<r.length;n++)t+=r[n].degree(e);return t}});t.exports=o},{"../util":111}],32:[function(e,t,r){"use strict";function n(e){return{includeNodes:l["default"](e.includeNodes,w.includeNodes),includeEdges:l["default"](e.includeEdges,w.includeEdges),includeLabels:l["default"](e.includeLabels,w.includeLabels),includeShadows:l["default"](e.includeShadows,w.includeShadows),includeOverlays:l["default"](e.includeOverlays,w.includeOverlays),useCache:l["default"](e.useCache,w.useCache)}}var i,a,o=e("../define"),s=e("../is"),l=e("../util"),u=e("../math");i=a={position:o.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){var t=e.updateCompoundBounds();t.rtrigger("position")},canSet:function(e){return!e.locked()&&!e.isParent()}}),silentPosition:o.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){e.updateCompoundBounds()},canSet:function(e){return!e.locked()&&!e.isParent()}}),positions:function(e,t){if(s.plainObject(e))this.position(e);else if(s.fn(e)){for(var r=e,n=0;n<this.length;n++){var i=this[n],e=r.apply(i,[n,i]);if(e&&!i.locked()&&!i.isParent()){var a=i._private.position;a.x=e.x;a.y=e.y}}var o=this.updateCompoundBounds(),l=o.length>0?this.add(o):this;t?l.trigger("position"):l.rtrigger("position")}return this},silentPositions:function(e){return this.positions(e,!0)},renderedPosition:function(e,t){var r=this[0],n=this.cy(),i=n.zoom(),a=n.pan(),o=s.plainObject(e)?e:void 0,l=void 0!==o||void 0!==t&&s.string(e);if(r&&r.isNode()){if(!l){var u=r._private.position;o={x:u.x*i+a.x,y:u.y*i+a.y};return void 0===e?o:o[e]}for(var c=0;c<this.length;c++){var r=this[c];void 0!==t?r._private.position[e]=(t-a[e])/i:void 0!==o&&(r._private.position={x:(o.x-a.x)/i,y:(o.y-a.y)/i})}this.rtrigger("position")}else if(!l)return;return this},relativePosition:function(e,t){var r=this[0],n=this.cy(),i=s.plainObject(e)?e:void 0,a=void 0!==i||void 0!==t&&s.string(e),o=n.hasCompoundNodes();if(r&&r.isNode()){if(!a){var l=r._private.position,u=o?r.parent():null,c=u&&u.length>0,f=c;c&&(u=u[0]);var d=f?u._private.position:{x:0,y:0};i={x:l.x-d.x,y:l.y-d.y};return void 0===e?i:i[e]}for(var p=0;p<this.length;p++){var r=this[p],u=o?r.parent():null,c=u&&u.length>0,f=c;c&&(u=u[0]);var d=f?u._private.position:{x:0,y:0};void 0!==t?r._private.position[e]=t+d[e]:void 0!==i&&(r._private.position={x:i.x+d.x,y:i.y+d.y})}this.rtrigger("position")}else if(!a)return;return this},renderedBoundingBox:function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),i=r.pan(),a=t.x1*n+i.x,o=t.x2*n+i.x,s=t.y1*n+i.y,l=t.y2*n+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}},updateCompoundBounds:function(){function e(e){if(e.isParent()){var t=e._private,n=e.children(),i="include"===e.pstyle("compound-sizing-wrt-labels").value,a=n.boundingBox({includeLabels:i,includeShadows:!1,includeOverlays:!1,useCache:!1}),o=t.position;t.autoWidth=a.w;o.x=(a.x1+a.x2)/2;t.autoHeight=a.h;o.y=(a.y1+a.y2)/2;r.push(e)}}var t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return t.collection();for(var r=[],n=this;n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];e(a)}n=n.parent()}return this.spawn(r)}};var c=function(e){return e===1/0||e===-(1/0)?0:e},f=function(e,t,r,n,i){if(n-t!==0&&i-r!==0){e.x1=t<e.x1?t:e.x1;e.x2=n>e.x2?n:e.x2;e.y1=r<e.y1?r:e.y1;e.y2=i>e.y2?i:e.y2}},d=function(e,t){return f(e,t.x1,t.y1,t.x2,t.y2)},p=function(e,t,r){return l.getPrefixedProperty(e,t,r)},h=function(e,t,r,n){var i,a,o=t._private,s=o.rstyle,l=s.arrowWidth/2,u=t.pstyle(r+"-arrow-shape").value;if("none"!==u){if("source"===r){i=s.srcX;a=s.srcY}else if("target"===r){i=s.tgtX;a=s.tgtY}else{i=s.midX;a=s.midY}f(e,i-l,a-l,i+l,a+l)}},v=function(e,t,r,n){var i;i=r?r+"-":"";var a=t._private,o=a.rstyle,s=t.pstyle(i+"label").strValue;if(s){var l,u,c,d,h=t.pstyle("text-halign"),v=t.pstyle("text-valign"),g=p(o,"labelWidth",r),y=p(o,"labelHeight",r),m=p(o,"labelX",r),b=p(o,"labelY",r),w=t.pstyle(i+"text-margin-x").pfValue,x=t.pstyle(i+"text-margin-y").pfValue,_=t.isEdge(),k=t.pstyle(i+"text-rotation"),C=t.pstyle("text-shadow-blur").pfValue/2,E=t.pstyle("text-shadow-offset-x").pfValue,S=t.pstyle("text-shadow-offset-y").pfValue,T=t.pstyle("text-shadow-opacity").value,D=t.pstyle("text-outline-width").pfValue,P=t.pstyle("text-border-width").pfValue,j=P/2,L=y,M=g,A=M/2,N=L/2;if(_){l=m-A;u=m+A;c=b-N;d=b+N}else{switch(h.value){case"left":l=m-M;u=m;break;case"center":l=m-A;u=m+A;break;case"right":l=m;u=m+M}switch(v.value){case"top":c=b-L;d=b;break;case"center":c=b-N;d=b+N;break;case"bottom":c=b;d=b+L}}var O=_&&"autorotate"===k.strValue,R=null!=k.pfValue&&0!==k.pfValue;if(O||R){var I=O?p(a.rstyle,"labelAngle",r):k.pfValue,z=Math.cos(I),B=Math.sin(I),q=function(e,t){e-=m;t-=b;return{x:e*z-t*B+m,y:e*B+t*z+b}},F=q(l,c),V=q(l,d),X=q(u,c),Y=q(u,d);l=Math.min(F.x,V.x,X.x,Y.x);u=Math.max(F.x,V.x,X.x,Y.x);c=Math.min(F.y,V.y,X.y,Y.y);d=Math.max(F.y,V.y,X.y,Y.y)}l+=w-Math.max(D,j);u+=w+Math.max(D,j);c+=x-Math.max(D,j);d+=x+Math.max(D,j);f(e,l,c,u,d);if(n.includeShadows&&T>0){l+=-C+E;u+=+C+E;c+=-C+S;d+=+C+S;f(e,l,c,u,d)}}return e},g=function(e,t){var r,n,i,a,o,s,l=e._private.cy,d=l._private,p=d.styleEnabled,g={x1:1/0,y1:1/0,x2:-(1/0),y2:-(1/0)},y=e._private,m=p?e.pstyle("display").value:"element",b=e.isNode(),w=e.isEdge(),x="none"!==m;if(x){var _=0,k=0;if(p&&t.includeOverlays){_=e.pstyle("overlay-opacity").value;0!==_&&(k=e.pstyle("overlay-padding").value)}var C=0,E=0;if(p){C=e.pstyle("width").pfValue;E=C/2}if(b&&t.includeNodes){var S=y.position;o=S.x;s=S.y;var C=e.outerWidth(),T=C/2,D=e.outerHeight(),P=D/2;r=o-T-k;n=o+T+k;i=s-P-k;a=s+P+k;f(g,r,i,n,a)}else if(w&&t.includeEdges){var j=y.rstyle||{};if(p){r=Math.min(j.srcX,j.midX,j.tgtX);n=Math.max(j.srcX,j.midX,j.tgtX);i=Math.min(j.srcY,j.midY,j.tgtY);a=Math.max(j.srcY,j.midY,j.tgtY);r-=E;n+=E;i-=E;a+=E;f(g,r,i,n,a)}if(p&&"haystack"===e.pstyle("curve-style").strValue){var L=j.haystackPts;r=L[0].x;i=L[0].y;n=L[1].x;a=L[1].y;if(r>n){var M=r;r=n;n=M}if(i>a){var M=i;i=a;a=M}f(g,r-E,i-E,n+E,a+E)}else{for(var A=j.bezierPts||j.linePts||[],N=0;N<A.length;N++){var O=A[N];r=O.x-E;n=O.x+E;i=O.y-E;a=O.y+E;f(g,r,i,n,a)}if(0===A.length){var R=y.source,I=R._private,z=I.position,B=y.target,q=B._private,F=q.position;r=z.x;n=F.x;i=z.y;a=F.y;if(r>n){var M=r;r=n;n=M}if(i>a){var M=i;i=a;a=M}r-=E;n+=E;i-=E;a+=E;f(g,r,i,n,a)}}}if(p){r=g.x1;n=g.x2;i=g.y1;a=g.y2;if(t.includeShadows&&e.pstyle("shadow-opacity").value>0){var V=e.pstyle("shadow-blur").pfValue/2,X=e.pstyle("shadow-offset-x").pfValue,Y=e.pstyle("shadow-offset-y").pfValue;f(g,r-V+X,i-V+Y,n+V+X,a+V+Y)}f(g,r-k,i-k,n+k,a+k)}if(p&&t.includeEdges&&w){h(g,e,"mid-source",t);h(g,e,"mid-target",t);h(g,e,"source",t);h(g,e,"target",t)}if(p&&t.includeLabels){v(g,e,null,t);if(w){v(g,e,"source",t);v(g,e,"target",t)}}}g.x1=c(g.x1);g.y1=c(g.y1);g.x2=c(g.x2);g.y2=c(g.y2);g.w=c(g.x2-g.x1);g.h=c(g.y2-g.y1);g.w>0&&g.h>0&&x&&u.expandBoundingBox(g,1);return g},y=function(e){return e?"t":"f"},m=function(e){var t="";t+=y(e.incudeNodes);t+=y(e.includeEdges);t+=y(e.includeLabels);t+=y(e.includeShadows);t+=y(e.includeOverlays);return t},b=function(e,t){var r,n=e._private,i=e.cy().headless(),a=t===w?x:m(t);if(t.useCache&&!i&&n.bbCache&&n.bbCache[a])r=n.bbCache[a];else{r=g(e,t);if(!i){n.bbCache=n.bbCache||{};n.bbCache[a]=r}}return r},w={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeShadows:!0,includeOverlays:!0,useCache:!0},x=m(w);a.recalculateRenderedStyle=function(e){var t=this.cy(),r=t.renderer(),n=t.styleEnabled();r&&n&&r.recalculateRenderedStyle(this,e);return this};a.boundingBox=function(e){if(1===this.length&&this[0]._private.bbCache&&(void 0===e||void 0===e.useCache||e.useCache===!0)){e=void 0===e?w:n(e);return b(this[0],e)}var t={x1:1/0,y1:1/0,x2:-(1/0),y2:-(1/0)};e=e||l.staticEmptyObject();var r=n(e),i=this,a=i.cy(),o=a.styleEnabled();o&&this.recalculateRenderedStyle(r.useCache);for(var s=0;s<i.length;s++){var u=i[s];o&&u.isEdge()&&"bezier"===u.pstyle("curve-style").strValue&&u.parallelEdges().recalculateRenderedStyle(r.useCache);d(t,b(u,r))}t.x1=c(t.x1);t.y1=c(t.y1);t.x2=c(t.x2);t.y2=c(t.y2);t.w=c(t.x2-t.x1);t.h=c(t.y2-t.y1);return t};var _=function(e){e.uppercaseName=l.capitalize(e.name);e.autoName="auto"+e.uppercaseName;e.labelName="label"+e.uppercaseName;e.outerName="outer"+e.uppercaseName;e.uppercaseOuterName=l.capitalize(e.outerName);i[e.name]=function(){var t=this[0],r=t._private,n=r.cy,i=n._private.styleEnabled;if(t){if(!i)return 1;if(t.isParent())return r[e.autoName]||0;var a=t.pstyle(e.name);switch(a.strValue){case"label":return r.rstyle[e.labelName]||0;default:return a.pfValue}}};i["outer"+e.uppercaseName]=function(){var t=this[0],r=t._private,n=r.cy,i=n._private.styleEnabled;if(t){if(i){var a=t[e.name](),o=t.pstyle("border-width").pfValue,s=2*t.pstyle("padding").pfValue;return a+o+s}return 1}};i["rendered"+e.uppercaseName]=function(){var t=this[0];if(t){var r=t[e.name]();return r*this.cy().zoom()}};i["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t){var r=t[e.outerName]();return r*this.cy().zoom()}}};_({name:"width"});_({name:"height"});i.modelPosition=i.point=i.position;i.modelPositions=i.points=i.positions;i.renderedPoint=i.renderedPosition;i.relativePoint=i.relativePosition;i.boundingbox=i.boundingBox;i.renderedBoundingbox=i.renderedBoundingBox;t.exports=a},{"../define":55,"../is":94,"../math":96,"../util":111}],33:[function(e,t,r){"use strict";var n=e("../util"),i=e("../is"),a=function(e,t,r){var a=this;r=!(void 0!==r&&!r);if(void 0!==e&&void 0!==t&&i.core(e)){var o=t.group;null==o&&(o=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes");if("nodes"===o||"edges"===o){this.length=1;this[0]=this;this._private={cy:e,single:!0,data:t.data||{},position:t.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:o,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],traversalCache:{}};if(t.renderedPosition){var s=t.renderedPosition,l=e.pan(),u=e.zoom();this._private.position={x:(s.x-l.x)/u,y:(s.y-l.y)/u}}if(i.string(t.classes))for(var c=t.classes.split(/\s+/),f=0,d=c.length;f<d;f++){var p=c[f];p&&""!==p&&(a._private.classes[p]=!0)}(t.style||t.css)&&e.style().applyBypass(this,t.style||t.css);(void 0===r||r)&&this.restore()}else n.error("An element must be of type `nodes` or `edges`; you specified `"+o+"`")}else n.error("An element must have a core reference and parameters set")};t.exports=a},{"../is":94,"../util":111}],34:[function(e,t,r){"use strict";var n=e("../define"),i={on:n.on(),one:n.on({unbindSelfOnTrigger:!0}),once:n.on({unbindAllBindersOnTrigger:!0}),off:n.off(),trigger:n.trigger(),rtrigger:function(e,t){if(0!==this.length){this.cy().notify({type:e,eles:this});this.trigger(e,t);return this}}};n.eventAliasesOn(i);t.exports=i},{"../define":55}],35:[function(e,t,r){"use strict";var n=e("../is"),i=e("../selector"),a={nodes:function(e){return this.filter(function(e,t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(e,t){return t.isEdge()}).filter(e)},filter:function(e){if(void 0===e)return this;if(n.string(e)||n.elementOrCollection(e))return i(e).filter(this);if(n.fn(e)){for(var t=[],r=0;r<this.length;r++){var a=this[r];e.apply(a,[r,a])&&t.push(a)}return this.spawn(t)}return this.spawn()},not:function(e){if(e){n.string(e)&&(e=this.filter(e));for(var t=[],r=0;r<this.length;r++){var i=this[r],a=e._private.ids[i.id()];a||t.push(i)}return this.spawn(t)}return this},absoluteComplement:function(){var e=this._private.cy;return e.mutableElements().not(this)},intersect:function(e){if(n.string(e)){var t=e;return this.filter(t)}for(var r=[],i=this,a=e,o=this.length<e.length,s=o?a._private.ids:i._private.ids,l=o?i:a,u=0;u<l.length;u++){var c=l[u]._private.data.id,f=s[c];f&&r.push(f)}return this.spawn(r)},xor:function(e){var t=this._private.cy;n.string(e)&&(e=t.$(e));var r=[],i=this,a=e,o=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=i._private.data.id,o=t._private.ids[a];o||r.push(i)}};o(i,a);o(a,i);return this.spawn(r)},diff:function(e){var t=this._private.cy;n.string(e)&&(e=t.$(e));var r=[],i=[],a=[],o=this,s=e,l=function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n],o=i._private.data.id,s=t._private.ids[o];s?a.push(i):r.push(i)}};l(o,s,r);l(s,o,i);return{left:this.spawn(r,{unique:!0}),right:this.spawn(i,{unique:!0}),both:this.spawn(a,{unique:!0})}},add:function(e){var t=this._private.cy;if(!e)return this;if(n.string(e)){var r=e;e=t.mutableElements().filter(r)}for(var i=[],a=0;a<this.length;a++)i.push(this[a]);for(var a=0;a<e.length;a++){var o=!this._private.ids[e[a].id()];o&&i.push(e[a])}return this.spawn(i)},merge:function(e){var t=this._private,r=t.cy;if(!e)return this;if(e&&n.string(e)){var i=e;e=r.mutableElements().filter(i)}for(var a=0;a<e.length;a++){var o=e[a],s=o._private.data.id,l=!t.ids[s];if(l){var u=this.length++;this[u]=o;t.ids[s]=o;t.indexes[s]=u}else{var u=t.indexes[s];this[u]=o;t.ids[s]=o}}return this},unmergeOne:function(e){e=e[0];var t=this._private,r=e._private.data.id,n=t.indexes[r];if(null==n)return this;this[n]=void 0;t.ids[r]=void 0;t.indexes[r]=void 0;var i=n===this.length-1;if(this.length>1&&!i){var a=this.length-1,o=this[a],s=o._private.data.id;this[a]=void 0;this[n]=o;t.indexes[s]=n}this.length--;return this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&n.string(e)){var r=e;e=t.mutableElements().filter(r)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},map:function(e,t){for(var r=[],n=this,i=0;i<n.length;i++){var a=n[i],o=t?e.apply(t,[a,i,n]):e(a,i,n);r.push(o)}return r},stdFilter:function(e,t){for(var r=[],n=this,i=0;i<n.length;i++){var a=n[i],o=t?e.apply(t,[a,i,n]):e(a,i,n);o&&r.push(a)}return this.spawn(r)},max:function(e,t){for(var r,n=-(1/0),i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);if(s>n){n=s;r=o}}return{value:n,ele:r}},min:function(e,t){for(var r,n=1/0,i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);if(s<n){n=s;r=o}}return{value:n,ele:r}}},o=a;o.u=o["|"]=o["+"]=o.union=o.or=o.add;o["\\"]=o["!"]=o["-"]=o.difference=o.relativeComplement=o.subtract=o.not;o.n=o["&"]=o["."]=o.and=o.intersection=o.intersect;o["^"]=o["(+)"]=o["(-)"]=o.symmetricDifference=o.symdiff=o.xor;o.fnFilter=o.filterFn=o.stdFilter;o.complement=o.abscomp=o.absoluteComplement;t.exports=a},{"../is":94,"../selector":98}],36:[function(e,t,r){"use strict";var n={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var e=this[0];if(e)return e._private.group}};t.exports=n},{}],37:[function(e,t,r){"use strict";var n=e("../util"),i=e("../is"),a=e("./element"),o={generate:function(e,t,r){for(var i=null!=r?r:n.uuid();e.hasElementWithId(i);)i=n.uuid();return i}},s=function(e,t,r){if(void 0!==e&&i.core(e)){var s={},l={},u=!1;if(t){if(t.length>0&&i.plainObject(t[0])&&!i.element(t[0])){u=!0;for(var c=[],f={},d=0,p=t.length;d<p;d++){var h=t[d];null==h.data&&(h.data={});var v=h.data;if(null==v.id)v.id=o.generate(e,h);else if(e.hasElementWithId(v.id)||f[v.id])continue;var g=new a(e,h,(!1));c.push(g);f[v.id]=!0}t=c}}else t=[];this.length=0;for(var d=0,p=t.length;d<p;d++){var y=t[d];if(y){var m=y._private.data.id;if(!r||r.unique&&!s[m]){s[m]=y;l[m]=this.length;this[this.length]=y;this.length++}}}this._private={cy:e,ids:s,indexes:l};u&&this.restore()}else n.error("A collection must have a reference to the core")},l=a.prototype=s.prototype;l.instanceString=function(){return"collection"};l.spawn=function(e,t,r){if(!i.core(e)){r=t;t=e;e=this.cy()}return new s(e,t,r)};l.spawnSelf=function(){return this.spawn(this)};l.cy=function(){return this._private.cy};l.element=function(){return this[0]};l.collection=function(){return i.collection(this)?this:new s(this._private.cy,[this])};l.unique=function(){return new s(this._private.cy,this,{unique:!0})};l.hasElementWithId=function(e){return!!this._private.ids[e]};l.getElementById=function(e){var t=this._private.cy,r=this._private.ids[e];return r?r:new s(t)};l.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this._private.data.id;return t._private.indexes[r]};l.json=function(e){var t=this.element(),r=this.cy();if(null==t&&e)return this;if(null!=t){var a=t._private;if(i.plainObject(e)){r.startBatch();e.data&&t.data(e.data);e.position&&t.position(e.position);var o=function(r,n,i){var o=e[r];null!=o&&o!==a[r]&&(o?t[n]():t[i]())};o("removed","remove","restore");o("selected","select","unselect");o("selectable","selectify","unselectify");o("locked","lock","unlock");o("grabbable","grabify","ungrabify");null!=e.classes&&t.classes(e.classes);r.endBatch();return this}if(void 0===e){var s={data:n.copy(a.data),position:n.copy(a.position),group:a.group,removed:a.removed,selected:a.selected,selectable:a.selectable,locked:a.locked,grabbable:a.grabbable,classes:null};s.classes=Object.keys(a.classes).filter(function(e){return a.classes[e]}).join(" ");return s}}};l.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e};l.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),o=new a(e,i,(!1));t.push(o)}return new s(e,t)};l.copy=l.clone;l.restore=function(e){var t=this,r=t.cy(),a=r._private;void 0===e&&(e=!0);for(var l,u=[],c=[],f=0,d=t.length;f<d;f++){var p=t[f];p.removed()&&(p.isNode()?u.push(p):c.push(p))}l=u.concat(c);var f,h=function(){l.splice(f,1);f--};for(f=0;f<l.length;f++){var p=l[f],v=p._private,g=v.data;v.traversalCache=null;if(void 0===g.id)g.id=o.generate(r,p);else if(i.number(g.id))g.id=""+g.id;else{if(i.emptyString(g.id)||!i.string(g.id)){n.error("Can not create element with invalid string ID `"+g.id+"`");h();continue}if(r.hasElementWithId(g.id)){n.error("Can not create second element with ID `"+g.id+"`");h();continue}}var y=g.id;if(p.isNode()){var m=p,b=v.position;null==b.x&&(b.x=0);null==b.y&&(b.y=0)}if(p.isEdge()){for(var w=p,x=["source","target"],_=x.length,k=!1,C=0;C<_;C++){var E=x[C],S=g[E];i.number(S)&&(S=g[E]=""+g[E]);if(null==S||""===S){n.error("Can not create edge `"+y+"` with unspecified "+E);k=!0}else if(!r.hasElementWithId(S)){n.error("Can not create edge `"+y+"` with nonexistant "+E+" `"+S+"`");k=!0}}if(k){h();continue}var T=r.getElementById(g.source),D=r.getElementById(g.target);T._private.edges.push(w);D._private.edges.push(w);w._private.source=T;w._private.target=D}v.ids={};v.ids[y]=p;v.indexes={};v.indexes[y]=p;v.removed=!1;r.addToPool(p)}for(var f=0;f<u.length;f++){var m=u[f],g=m._private.data;i.number(g.parent)&&(g.parent=""+g.parent);var P=g.parent,j=null!=P;if(j){var L=r.getElementById(P);if(L.empty())g.parent=void 0;else{for(var M=!1,A=L;!A.empty();){if(m.same(A)){M=!0;g.parent=void 0;break}A=A.parent()}if(!M){L[0]._private.children.push(m);m._private.parent=L[0];a.hasCompoundNodes=!0}}}}if(l.length>0){for(var N=new s(r,l),f=0;f<N.length;f++){var p=N[f];if(!p.isNode()){for(var O=p.parallelEdges(),C=0;C<O.length;C++)O[C]._private.traversalCache=null;p.source()[0]._private.traversalCache=null;p.target()[0]._private.traversalCache=null}}var R;R=a.hasCompoundNodes?N.add(N.connectedNodes()).add(N.parent()):N;R.updateStyle(e);e?N.rtrigger("add"):N.trigger("add")}return t};l.removed=function(){var e=this[0];return e&&e._private.removed};l.inside=function(){var e=this[0];return e&&!e._private.removed};l.remove=function(e){function t(e){for(var t=e._private.edges,r=0;r<t.length;r++)i(t[r])}function r(e){for(var t=e._private.children,r=0;r<t.length;r++)i(t[r])}function i(e){var n=d[e.id()];if(!n){d[e.id()]=!0;if(e.isNode()){f.push(e);t(e);r(e)}else f.unshift(e)}}function a(e,t){var r=e._private.edges;n.removeFromArray(r,t);e._private.traversalCache=null}function o(e){for(var t=e.parallelEdges(),r=0;r<t.length;r++)t[r]._private.traversalCache=null}function l(e,t){t=t[0];e=e[0];var r=e._private.children,i=e.id();n.removeFromArray(r,t);if(!y.ids[i]){y.ids[i]=!0;y.push(e)}}var u=this,c=[],f=[],d={},p=u._private.cy;void 0===e&&(e=!0);for(var h=0,v=u.length;h<v;h++){var g=u[h];i(g)}var y=[];y.ids={};p.removeFromPool(f);for(var h=0;h<f.length;h++){var g=f[h];g._private.removed=!0;c.push(g);if(g.isEdge()){var m=g.source()[0],b=g.target()[0];a(m,g);a(b,g);o(g)}else{var w=g.parent();0!==w.length&&l(w,g)}}var x=p._private.elements;p._private.hasCompoundNodes=!1;for(var h=0;h<x.length;h++){var g=x[h];if(g.isParent()){p._private.hasCompoundNodes=!0;break}}var _=new s(this.cy(),c);if(_.size()>0){e&&this.cy().notify({type:"remove",eles:_});_.trigger("remove")}for(var h=0;h<y.length;h++){var g=y[h];g.removed()||g.updateStyle()}return new s(p,c)};l.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var r=e.source,n=e.target,i=t.hasElementWithId(r),a=t.hasElementWithId(n);if(i||a){var o=this.jsons();this.remove();for(var s=0;s<o.length;s++){var l=o[s],u=this[s];if("edges"===l.group){i&&(l.data.source=r);a&&(l.data.target=n);l.scratch=u._private.scratch}}return t.add(o)}}else if(void 0!==e.parent){var c=e.parent,f=null===c||t.hasElementWithId(c);if(f){var o=this.jsons(),d=this.descendants(),p=d.union(d.union(this).connectedEdges()).jsons();this.remove();for(var s=0;s<o.length;s++){var l=o[s],u=this[s];if("nodes"===l.group){l.data.parent=null===c?void 0:c;l.scratch=u._private.scratch}}return t.add(o.concat(p))}}return this};[e("./algorithms"),e("./animation"),e("./class"),e("./comparators"),e("./compounds"),e("./data"),e("./degree"),e("./dimensions"),e("./events"),e("./filter"),e("./group"),e("./index"),e("./iteration"),e("./layout"),e("./style"),e("./switch-functions"),e("./traversing")].forEach(function(e){n.extend(l,e)});t.exports=s},{"../is":94,"../util":111,"./algorithms":22,"./animation":26,"./class":27,"./comparators":28,"./compounds":29,"./data":30,"./degree":31,"./dimensions":32,"./element":33,"./events":34,"./filter":35,"./group":36,"./index":37,"./iteration":38,"./layout":39,"./style":40,"./switch-functions":41,"./traversing":42}],38:[function(e,t,r){"use strict";var n=e("../is"),i=e("./zsort"),a={each:function(e){if(n.fn(e))for(var t=0;t<this.length;t++){var r=this[t],i=e.apply(r,[t,r]);if(i===!1)break}return this},forEach:function(e,t){if(n.fn(e))for(var r=0;r<this.length;r++){var i=this[r],a=t?e.apply(t,[i,r,this]):e(i,r,this);if(a===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var r=[],n=this.length;null==t&&(t=n);null==e&&(e=0);e<0&&(e=n+e);t<0&&(t=n+t);for(var i=e;i>=0&&i<t&&i<n;i++)r.push(this[i]);return this.spawn(r)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!n.fn(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(i)},zDepth:function(){var e=this[0];if(e){var t=e._private,r=t.group;if("nodes"===r){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:Number.MAX_VALUE}var i=t.source,a=t.target,o=i.zDepth(),s=a.zDepth();return Math.max(o,s,0)}}};t.exports=a},{"../is":94,"./zsort":43}],39:[function(e,t,r){"use strict";var n=e("../is"),i=e("../util"),a=e("../promise"),o={layoutPositions:function(e,t,r){var i=this.nodes(),o=this.cy();e.trigger({type:"layoutstart",layout:e});e.animations=[];if(t.animate){for(var s=0;s<i.length;s++){var l=i[s],u=r.call(l,s,l),c=l.position();n.number(c.x)&&n.number(c.y)||l.silentPosition({x:0,y:0});var f=l.animation({position:u,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(f);f.play()}var d;o.on("step.*",d=function(){t.fit&&o.fit(t.eles,t.padding)});e.one("layoutstop",function(){o.off("step.*",d)});e.one("layoutready",t.ready);e.trigger({type:"layoutready",layout:e});a.all(e.animations.map(function(e){return e.promise()})).then(function(){o.off("step.*",d);null!=t.zoom&&o.zoom(t.zoom);t.pan&&o.pan(t.pan);t.fit&&o.fit(t.eles,t.padding);e.one("layoutstop",t.stop);e.trigger({type:"layoutstop",layout:e})})}else{i.positions(r);t.fit&&o.fit(t.eles,t.padding);null!=t.zoom&&o.zoom(t.zoom);t.pan&&o.pan(t.pan);e.one("layoutready",t.ready);e.trigger({type:"layoutready",layout:e});e.one("layoutstop",t.stop);e.trigger({type:"layoutstop",layout:e})}return this},layout:function(e){var t=this.cy();t.layout(i.extend({},e,{eles:this}));return this},makeLayout:function(e){var t=this.cy();return t.makeLayout(i.extend({},e,{eles:this}))}};o.createLayout=o.makeLayout;t.exports=o},{"../is":94,"../promise":97,"../util":111}],40:[function(e,t,r){"use strict";var n=e("../is"),i={updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t._private.batchingStyle){var r=t._private.batchStyleEles;r.merge(this);return this}var n=t.hasCompoundNodes(),i=t.style(),a=this;e=!(!e&&void 0!==e);n&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));i.apply(a);if(n){a.updateCompoundBounds()}e?a.rtrigger("style"):a.trigger("style");return this},updateMappers:function(e){var t=this._private.cy,r=t.style();e=!(!e&&void 0!==e);if(!t.styleEnabled())return this;r.updateMappers(this);var n=this.updateCompoundBounds(),i=n.length>0?this.add(n):this;e?i.rtrigger("style"):i.trigger("style");return this},parsedStyle:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t._private.style[e]||t.cy().style().getDefaultProperty(e):void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];if(r){var n=r.cy().style().getRenderedStyle(r);return void 0===e?n:n[e]}},style:function(e,t){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,a=r.style();if(n.plainObject(e)){var o=e;a.applyBypass(this,o,i);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(n.string(e)){if(void 0===t){var u=this[0];return u?a.getStylePropertyValue(u,e):void 0}a.applyBypass(this,e,t,i);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(void 0===e){var u=this[0];return u?a.getRawStyle(u):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=!1,n=t.style(),i=this;if(void 0===e)for(var a=0;a<i.length;a++){var o=i[a];n.removeAllBypasses(o,r)}else{e=e.split(/\s+/);for(var a=0;a<i.length;a++){var o=i[a];n.removeBypasses(o,e,r)}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style");return this},show:function(){this.css("display","element");return this},hide:function(){this.css("display","none");return this},visible:function(){var e=this.cy();if(!e.styleEnabled())return!0;var t=this[0],r=e.hasCompoundNodes();if(t){if("visible"!==t.pstyle("visibility").value||"element"!==t.pstyle("display").value||0===t.pstyle("width").pfValue)return!1;if("nodes"===t._private.group){if(0===t.pstyle("height").pfValue)return!1;if(!r)return!0;var n=t._private.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i],o=a.pstyle("visibility").value,s=a.pstyle("display").value;if("visible"!==o||"element"!==s)return!1}return!0}var l=t._private.source,u=t._private.target;return l.visible()&&u.visible()}},hidden:function(){var e=this[0];if(e)return!e.visible()},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var n=r._private,i=r.pstyle("opacity").value;if(!t)return i;var a=n.data.parent?r.parents():null;if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s.pstyle("opacity").value;i=l*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],r=t.cy().hasCompoundNodes();return t?r?0===t.effectiveOpacity():0===t.pstyle("opacity").value:void 0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};i.bypass=i.css=i.style;i.renderedCss=i.renderedStyle;i.removeBypass=i.removeCss=i.removeStyle;i.pstyle=i.parsedStyle;t.exports=i;
},{"../is":94}],41:[function(e,t,r){"use strict";function n(e){return function(){var t=arguments,r=[];if(2===t.length){var n=t[0],i=t[1];this.on(e.event,n,i)}else if(1===t.length){var i=t[0];this.on(e.event,i)}else if(0===t.length){for(var a=0;a<this.length;a++){var o=this[a],s=!e.ableField||o._private[e.ableField],l=o._private[e.field]!=e.value;if(e.overrideAble){var u=e.overrideAble(o);if(void 0!==u){s=u;if(!u)return this}}if(s){o._private[e.field]=e.value;l&&r.push(o)}}var c=this.spawn(r);c.updateStyle();c.trigger(e.event)}return this}}function i(e){a[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(void 0!==r)return r}return t._private[e.field]}};a[e.on]=n({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0});a[e.off]=n({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}var a={};i({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"});i({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"});i({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"});i({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"});a.deselect=a.unselect;a.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};i({field:"active",on:"activate",off:"unactivate"});a.inactive=function(){var e=this[0];if(e)return!e._private.active};t.exports=a},{}],42:[function(e,t,r){"use strict";function n(e){return function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n],a=i._private[e.attr];a&&r.push(a)}return this.spawn(r,{unique:!0}).filter(t)}}function i(e){return function(t){var r=[],n=this._private.cy,i=e||{};s.string(t)&&(t=n.$(t));for(var a=this._private.ids,o=t._private.ids,l=0;l<t.length;l++)for(var u=t[l]._private.edges,c=0;c<u.length;c++){var f=u[c],d=f._private.data,p=a[d.source]&&o[d.target],h=o[d.source]&&a[d.target],v=p||h;if(v){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!p)continue;if(i.thisIsTgt&&!h)continue}r.push(f)}}return this.spawn(r,{unique:!0})}}function a(e){var t={codirected:!1};e=o.extend({},t,e);return function(t){for(var r=[],n=this.edges(),i=e,a=0;a<n.length;a++)for(var o=n[a],s=o._private,l=s.source,u=l._private.data.id,c=s.data.target,f=l._private.edges,d=0;d<f.length;d++){var p=f[d],h=p._private.data,v=h.target,g=h.source,y=v===c&&g===u,m=u===v&&c===g;(i.codirected&&y||!i.codirected&&(y||m))&&r.push(p)}return this.spawn(r,{unique:!0}).filter(t)}}var o=e("../util"),s=e("../is"),l={},u=function(e,t){return function(r,n,i,a){var o,l=r,u=this;null==l?o="null":s.elementOrCollection(l)&&1===l.length&&(o="#"+l.id());if(1===u.length&&o){var c=u[0]._private,f=c.traversalCache=c.traversalCache||{},d=f[t]=f[t]||{},p=d[o];return p?p:d[o]=e.call(u,r,n,i,a)}return e.call(u,r,n,i,a)}},c=function(e){return function(t){for(var r=this,n=[],i=0;i<r.length;i++){var a=r[i];if(a.isNode()){for(var o=!1,s=a.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.source(),f=u.target();if(e.noIncomingEdges&&f===a&&c!==a||e.noOutgoingEdges&&c===a&&f!==a){o=!0;break}}o||n.push(a)}}return this.spawn(n,{unique:!0}).filter(t)}},f=function(e){return function(t){for(var r=this,n=[],i=0;i<r.length;i++){var a=r[i];if(a.isNode())for(var o=a.connectedEdges(),s=0;s<o.length;s++){var l=o[s],u=l.source(),c=l.target();if(e.outgoing&&u===a){n.push(l);n.push(c)}else if(e.incoming&&c===a){n.push(l);n.push(u)}}}return this.spawn(n,{unique:!0}).filter(t)}},d=function(e){return function(t){for(var r=this,n=[],i={};;){var a=e.outgoing?r.outgoers():r.incomers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var l=a[s],u=l.id();if(!i[u]){i[u]=!0;n.push(l);o=!0}}if(!o)break;r=a}return this.spawn(n,{unique:!0}).filter(t)}};o.extend(l,{roots:c({noIncomingEdges:!0}),leaves:c({noOutgoingEdges:!0}),outgoers:u(f({outgoing:!0}),"outgoers"),successors:d({outgoing:!0}),incomers:u(f({incoming:!0}),"incomers"),predecessors:d({incoming:!0})});o.extend(l,{neighborhood:u(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&t.push(c[0]);t.push(s[0])}return this.spawn(t,{unique:!0}).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});l.neighbourhood=l.neighborhood;l.closedNeighbourhood=l.closedNeighborhood;l.openNeighbourhood=l.openNeighborhood;o.extend(l,{source:u(function(e){var t,r=this[0];r&&(t=r._private.source||r.cy().collection());return t&&e?t.filter(e):t},"source"),target:u(function(e){var t,r=this[0];r&&(t=r._private.target||r.cy().collection());return t&&e?t.filter(e):t},"target"),sources:n({attr:"source"}),targets:n({attr:"target"})});o.extend(l,{edgesWith:u(i(),"edgesWith",!0),edgesTo:u(i({thisIsSrc:!0}),"edgesTo",!0)});o.extend(l,{connectedEdges:u(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,o=0;o<a.length;o++){var s=a[o];t.push(s)}}return this.spawn(t,{unique:!0}).filter(e)},"connectedEdges"),connectedNodes:u(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isEdge()){t.push(i.source()[0]);t.push(i.target()[0])}}return this.spawn(t,{unique:!0}).filter(e)},"connectedNodes"),parallelEdges:u(a(),"parallelEdges"),codirectedEdges:u(a({codirected:!0}),"codirectedEdges")});o.extend(l,{components:function(){var e=this,t=e.cy(),r=e.spawn(),n=e.nodes().spawnSelf(),i=[],a=function(e,t){r.merge(e);n.unmerge(e);t.merge(e)};if(n.empty())return e.spawn();do{var o=t.collection();i.push(o);var s=n[0];a(s,o);e.bfs({directed:!1,roots:s,visit:function(e,t,r,n,i){a(r,o)}})}while(n.length>0);return i.map(function(e){var t=e.connectedEdges().stdFilter(function(t){return e.anySame(t.source())&&e.anySame(t.target())});return e.union(t)})}});t.exports=l},{"../is":94,"../util":111}],43:[function(e,t,r){"use strict";var n=function(e,t){var r=e.cy(),n=e.pstyle("z-index").value-t.pstyle("z-index").value,i=0,a=0,o=r.hasCompoundNodes(),s=e.isNode(),l=!s,u=t.isNode(),c=!u;if(o){i=e.zDepth();a=t.zDepth()}var f=i-a,d=0===f;return d?s&&c?1:l&&u?-1:0===n?e.poolIndex()-t.poolIndex():n:f};t.exports=n},{}],44:[function(e,t,r){"use strict";var n=e("../is"),i=e("../util"),a=e("../collection"),o=e("../collection/element"),s={add:function(e){var t,r=this;if(n.elementOrCollection(e)){var s=e;if(s._private.cy===r)t=s.restore();else{for(var l=[],u=0;u<s.length;u++){var c=s[u];l.push(c.json())}t=new a(r,l)}}else if(n.array(e)){var l=e;t=new a(r,l)}else if(n.plainObject(e)&&(n.array(e.nodes)||n.array(e.edges))){for(var f=e,l=[],d=["nodes","edges"],u=0,p=d.length;u<p;u++){var h=d[u],v=f[h];if(n.array(v))for(var g=0,y=v.length;g<y;g++){var m=i.extend({group:h},v[g]);l.push(m)}}t=new a(r,l)}else{var m=e;t=new o(r,m).collection()}return t},remove:function(e){if(n.elementOrCollection(e));else if(n.string(e)){var t=e;e=this.$(t)}return e.remove()},load:function(e,t,r){var a=this;a.notifications(!1);var o=a.mutableElements();o.length>0&&o.remove();null!=e&&(n.plainObject(e)||n.array(e))&&a.add(e);a.one("layoutready",function(e){a.notifications(!0);a.trigger(e);a.notify({type:"load",eles:a.mutableElements()});a.one("load",t);a.trigger("load")}).one("layoutstop",function(){a.one("done",r);a.trigger("done")});var s=i.extend({},a._private.options.layout);s.eles=a.elements();a.layout(s);return this}};t.exports=s},{"../collection":37,"../collection/element":33,"../is":94,"../util":111}],45:[function(e,t,r){"use strict";var n=e("../define"),i=e("../util"),a=e("../is"),o={animate:n.animate(),animation:n.animation(),animated:n.animated(),clearQueue:n.clearQueue(),delay:n.delay(),delayAnimation:n.delayAnimation(),stop:n.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){function e(){c._private.animationsRunning&&i.requestAnimationFrame(function(r){t(r);e()})}function t(e){function t(t,i){var s=t._private,l=s.animation.current,u=s.animation.queue,c=!1;if(0===l.length){var f=u.shift();f&&l.push(f)}for(var d=function(e){for(var t=e.length-1;t>=0;t--){var r=e[t];r()}e.splice(0,e.length)},p=l.length-1;p>=0;p--){var h=l[p],v=h._private;if(v.stopped){l.splice(p,1);v.hooked=!1;v.playing=!1;v.started=!1;d(v.frames)}else if(v.playing||v.applying){v.playing&&v.applying&&(v.applying=!1);v.started||r(t,h,e);n(t,h,e,i);a.fn(v.step)&&v.step.call(t,e);v.applying&&(v.applying=!1);d(v.frames);if(h.completed()){l.splice(p,1);v.hooked=!1;v.playing=!1;v.started=!1;d(v.completes)}c=!0}}i||0!==l.length||0!==u.length||o.push(t);return c}for(var i=c._private.aniEles,o=[],s=!1,l=0;l<i.length;l++){var u=i[l],f=t(u);s=s||f}var d=t(c,!0);if(s||d)if(i.length>0){var p=i.updateCompoundBounds().spawnSelf().merge(i);c.notify({type:"draw",eles:p})}else c.notify({type:"draw"});i.unmerge(o);c.trigger("step")}function r(e,t,r){var n=a.core(e),i=!n,o=e,s=c._private.style,l=t._private;if(i){var u=o._private.position;l.startPosition=l.startPosition||{x:u.x,y:u.y};l.startStyle=l.startStyle||s.getAnimationStartStyle(o,l.style)}if(n){var f=c._private.pan;l.startPan=l.startPan||{x:f.x,y:f.y};l.startZoom=null!=l.startZoom?l.startZoom:c._private.zoom}l.started=!0;l.startTime=r-l.progress*l.duration}function n(e,t,r,n){var i=c._private.style,s=!n,l=e._private,f=t._private,d=f.easing,h=f.startTime;if(!f.easingImpl)if(null==d)f.easingImpl=p.linear;else{var v;if(a.string(d)){var g=i.parse("transition-timing-function",d);v=g.value}else v=d;var y,m;if(a.string(v)){y=v;m=[]}else{y=v[1];m=v.slice(2).map(function(e){return+e})}if(m.length>0){"spring"===y&&m.push(f.duration);f.easingImpl=p[y].apply(null,m)}else f.easingImpl=p[y]}var b,w=f.easingImpl;b=0===f.duration?1:(r-h)/f.duration;f.applying&&(b=f.progress);b<0?b=0:b>1&&(b=1);if(null==f.delay){var x=f.startPosition,_=f.position,k=l.position;if(_&&s){o(x.x,_.x)&&(k.x=u(x.x,_.x,b,w));o(x.y,_.y)&&(k.y=u(x.y,_.y,b,w));e.trigger("position")}var C=f.startPan,E=f.pan,S=l.pan,T=null!=E&&n;if(T){o(C.x,E.x)&&(S.x=u(C.x,E.x,b,w));o(C.y,E.y)&&(S.y=u(C.y,E.y,b,w));e.trigger("pan")}var D=f.startZoom,P=f.zoom,j=null!=P&&n;if(j){o(D,P)&&(l.zoom=u(D,P,b,w));e.trigger("zoom")}(T||j)&&e.trigger("viewport");var L=f.style;if(L&&L.length>0&&s){for(var M=0;M<L.length;M++){var A=L[M],y=A.name,N=A,O=f.startStyle[y],R=u(O,N,b,w);i.overrideBypass(e,y,R)}e.trigger("style")}}f.progress=b;return b}function o(e,t){return null!=e&&null!=t&&(!(!a.number(e)||!a.number(t))||!(!e||!t))}function s(e,t,r){var n=1-r,i=r*r;return 3*n*n*r*e+3*n*i*t+i*r}function l(e,t){return function(r,n,i){return r+(n-r)*s(e,t,i)}}function u(e,t,r,n){r<0?r=0:r>1&&(r=1);var i,o;i=null!=e.pfValue||null!=e.value?null!=e.pfValue?e.pfValue:e.value:e;o=null!=t.pfValue||null!=t.value?null!=t.pfValue?t.pfValue:t.value:t;if(a.number(i)&&a.number(o))return n(i,o,r);if(a.array(i)&&a.array(o)){for(var s=[],l=0;l<o.length;l++){var u=i[l],c=o[l];if(null!=u&&null!=c){var f=n(u,c,r);e.roundValue&&(f=Math.round(f));s.push(f)}else s.push(c)}return s}}var c=this;c._private.animationsRunning=!0;if(c.styleEnabled()){var f=c.renderer();f&&f.beforeRender?f.beforeRender(function(e,r){t(r)},f.beforeRenderPriorities.animations):e();var d=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,n){var i={x:t.x+n.dx*r,v:t.v+n.dv*r,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function r(r,n){var i={dx:r.v,dv:e(r)},a=t(r,.5*n,i),o=t(r,.5*n,a),s=t(r,n,o),l=1/6*(i.dx+2*(a.dx+o.dx)+s.dx),u=1/6*(i.dv+2*(a.dv+o.dv)+s.dv);r.x=r.x+l*n;r.v=r.v+u*n;return r}return function n(e,t,i){var a,o,s,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,f=1e-4,d=.016;e=parseFloat(e)||500;t=parseFloat(t)||20;i=i||null;l.tension=e;l.friction=t;a=null!==i;if(a){c=n(e,t);o=c/i*d}else o=d;for(;;){s=r(s||l,o);u.push(1+s.x);c+=16;if(!(Math.abs(s.x)>f&&Math.abs(s.v)>f))break}return a?function(e){return u[e*(u.length-1)|0]}:c}}(),p={linear:function(e,t,r){return e+(t-e)*r},ease:l(.25,.1,.25,1),"ease-in":l(.42,0,1,1),"ease-out":l(0,0,.58,1),"ease-in-out":l(.42,0,.58,1),"ease-in-sine":l(.47,0,.745,.715),"ease-out-sine":l(.39,.575,.565,1),"ease-in-out-sine":l(.445,.05,.55,.95),"ease-in-quad":l(.55,.085,.68,.53),"ease-out-quad":l(.25,.46,.45,.94),"ease-in-out-quad":l(.455,.03,.515,.955),"ease-in-cubic":l(.55,.055,.675,.19),"ease-out-cubic":l(.215,.61,.355,1),"ease-in-out-cubic":l(.645,.045,.355,1),"ease-in-quart":l(.895,.03,.685,.22),"ease-out-quart":l(.165,.84,.44,1),"ease-in-out-quart":l(.77,0,.175,1),"ease-in-quint":l(.755,.05,.855,.06),"ease-out-quint":l(.23,1,.32,1),"ease-in-out-quint":l(.86,0,.07,1),"ease-in-expo":l(.95,.05,.795,.035),"ease-out-expo":l(.19,1,.22,1),"ease-in-out-expo":l(1,0,0,1),"ease-in-circ":l(.6,.04,.98,.335),"ease-out-circ":l(.075,.82,.165,1),"ease-in-out-circ":l(.785,.135,.15,.86),spring:function(e,t,r){if(0===r)return p.linear;var n=d(e,t,r);return function(e,t,r){return e+(t-e)*n(r)}},"cubic-bezier":function(e,t,r,n){return l(e,t,r,n)}}}}};t.exports=o},{"../define":55,"../is":94,"../util":111}],46:[function(e,t,r){"use strict";var n=e("../define"),i={on:n.on(),one:n.on({unbindSelfOnTrigger:!0}),once:n.on({unbindAllBindersOnTrigger:!0}),off:n.off(),trigger:n.trigger()};n.eventAliasesOn(i);t.exports=i},{"../define":55}],47:[function(e,t,r){"use strict";var n={png:function(e){var t=this._private.renderer;e=e||{};return t.png(e)},jpg:function(e){var t=this._private.renderer;e=e||{};e.bg=e.bg||"#fff";return t.jpg(e)}};n.jpeg=n.jpg;t.exports=n},{}],48:[function(e,t,r){"use strict";var n=e("../window"),i=e("../util"),a=e("../collection"),o=e("../is"),s=e("../promise"),l=e("../define"),u=function(e){var t=this;e=i.extend({},e);var r=e.container;r&&!o.htmlElement(r)&&o.htmlElement(r[0])&&(r=r[0]);var l=r?r._cyreg:null;l=l||{};if(l&&l.cy){l.cy.destroy();l={}}var u=l.readies=l.readies||[];r&&(r._cyreg=l);l.cy=t;var c=void 0!==n&&void 0!==r&&!e.headless,f=e;f.layout=i.extend({name:c?"grid":"null"},f.layout);f.renderer=i.extend({name:c?"canvas":"null"},f.renderer);var d=function(e,t,r){return void 0!==t?t:void 0!==r?r:e},p=this._private={container:r,ready:!1,initrender:!1,options:f,elements:new a(this),listeners:[],aniEles:new a(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:d(!0,f.zoomingEnabled),userZoomingEnabled:d(!0,f.userZoomingEnabled),panningEnabled:d(!0,f.panningEnabled),userPanningEnabled:d(!0,f.userPanningEnabled),boxSelectionEnabled:d(!0,f.boxSelectionEnabled),autolock:d(!1,f.autolock,f.autolockNodes),autoungrabify:d(!1,f.autoungrabify,f.autoungrabifyNodes),autounselectify:d(!1,f.autounselectify),styleEnabled:void 0===f.styleEnabled?c:f.styleEnabled,zoom:o.number(f.zoom)?f.zoom:1,pan:{x:o.plainObject(f.pan)&&o.number(f.pan.x)?f.pan.x:0,y:o.plainObject(f.pan)&&o.number(f.pan.y)?f.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1},h=f.selectionType;void 0===h||"additive"!==h&&"single"!==h?p.selectionType="single":p.selectionType=h;if(o.number(f.minZoom)&&o.number(f.maxZoom)&&f.minZoom<f.maxZoom){p.minZoom=f.minZoom;p.maxZoom=f.maxZoom}else o.number(f.minZoom)&&void 0===f.maxZoom?p.minZoom=f.minZoom:o.number(f.maxZoom)&&void 0===f.minZoom&&(p.maxZoom=f.maxZoom);var v=function(e,t){var r=e.some(o.promise);if(r)return s.all(e).then(t);t(e)};t.initRenderer(i.extend({hideEdgesOnViewport:f.hideEdgesOnViewport,textureOnViewport:f.textureOnViewport,wheelSensitivity:o.number(f.wheelSensitivity)&&f.wheelSensitivity>0?f.wheelSensitivity:1,motionBlur:void 0!==f.motionBlur&&f.motionBlur,motionBlurOpacity:void 0===f.motionBlurOpacity?.05:f.motionBlurOpacity,pixelRatio:o.number(f.pixelRatio)&&f.pixelRatio>0?f.pixelRatio:void 0,desktopTapThreshold:void 0===f.desktopTapThreshold?4:f.desktopTapThreshold,touchTapThreshold:void 0===f.touchTapThreshold?8:f.touchTapThreshold},f.renderer));v([f.style,f.elements],function(e){var r=e[0],n=e[1];p.styleEnabled&&t.setStyle(r);if(f.initrender){t.on("initrender",f.initrender);t.on("initrender",function(){p.initrender=!0})}t.load(n,function(){t.startAnimationLoop();p.ready=!0;o.fn(f.ready)&&t.on("ready",f.ready);for(var e=0;e<u.length;e++){var r=u[e];t.on("ready",r)}l&&(l.readies=[]);t.trigger("ready")},f.done)})},c=u.prototype;i.extend(c,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},ready:function(e){this.isReady()?this.trigger("ready",[],e):this.on("ready",e);return this},initrender:function(){return this._private.initrender},destroy:function(){var e=this;e.stopAnimationLoop();e.destroyRenderer();return e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return"null"===this._private.options.renderer.name},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){this._private.elements.merge(e);return this},removeFromPool:function(e){this._private.elements.unmerge(e);return this},container:function(){return this._private.container},options:function(){return i.copy(this._private.options)},json:function(e){var t=this,r=t._private,n=t.mutableElements();if(o.plainObject(e)){t.startBatch();if(e.elements){var a={},s=function(e,r){for(var n=0;n<e.length;n++){var o=e[n],s=o.data.id,l=t.getElementById(s);a[s]=!0;0!==l.length?l.json(o):r?t.add(i.extend({group:r},o)):t.add(o)}};if(o.array(e.elements))s(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],f=e.elements[c];o.array(f)&&s(f,c)}n.stdFilter(function(e){return!a[e.id()]}).remove()}e.style&&t.style(e.style);null!=e.zoom&&e.zoom!==r.zoom&&t.zoom(e.zoom);e.pan&&(e.pan.x===r.pan.x&&e.pan.y===r.pan.y||t.pan(e.pan));for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],u=0;u<d.length;u++){var p=d[u];null!=e[p]&&t[p](e[p])}t.endBatch();return this}if(void 0===e){var h={};h.elements={};n.forEach(function(e){var t=e.group();h.elements[t]||(h.elements[t]=[]);h.elements[t].push(e.json())});this._private.styleEnabled&&(h.style=t.style().json());h.zoomingEnabled=t._private.zoomingEnabled;h.userZoomingEnabled=t._private.userZoomingEnabled;h.zoom=t._private.zoom;h.minZoom=t._private.minZoom;h.maxZoom=t._private.maxZoom;h.panningEnabled=t._private.panningEnabled;h.userPanningEnabled=t._private.userPanningEnabled;h.pan=i.copy(t._private.pan);h.boxSelectionEnabled=t._private.boxSelectionEnabled;h.renderer=i.copy(t._private.options.renderer);h.hideEdgesOnViewport=t._private.options.hideEdgesOnViewport;h.textureOnViewport=t._private.options.textureOnViewport;h.wheelSensitivity=t._private.options.wheelSensitivity;h.motionBlur=t._private.options.motionBlur;return h}},scratch:l.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:l.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})});[e("./add-remove"),e("./animation"),e("./events"),e("./export"),e("./layout"),e("./notification"),e("./renderer"),e("./search"),e("./style"),e("./viewport")].forEach(function(e){i.extend(c,e)});t.exports=u},{"../collection":37,"../define":55,"../is":94,"../promise":97,"../util":111,"../window":118,"./add-remove":44,"./animation":45,"./events":46,"./export":47,"./layout":49,"./notification":50,"./renderer":51,"./search":52,"./style":53,"./viewport":54}],49:[function(e,t,r){"use strict";var n=e("../util"),i=e("../is"),a={layout:function(e){var t=this._private.prevLayout=null==e?this._private.prevLayout:this.makeLayout(e);t.run();return this},makeLayout:function(e){var t=this;if(null!=e)if(null!=e.name){var r=e.name,a=t.extension("layout",r);if(null!=a){var o;o=i.string(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$();var s=new a(n.extend({},e,{cy:t,eles:o}));return s}n.error("Can not apply layout: No such layout `"+r+"` found; did you include its JS file?")}else n.error("A `name` must be specified to make a layout");else n.error("Layout options must be specified to make a layout")}};a.createLayout=a.makeLayout;t.exports=a},{"../is":94,"../util":111}],50:[function(e,t,r){"use strict";var n={notify:function(e){var t=this._private;if(t.batchingNotify){var r=t.batchNotifyEles,n=t.batchNotifyTypes;e.eles&&r.merge(e.eles);if(!n.ids[e.type]){n.push(e.type);n.ids[e.type]=!0}}else if(t.notificationsEnabled){var i=this.renderer();i&&i.notify(e)}},notifications:function(e){var t=this._private;if(void 0===e)return t.notificationsEnabled;t.notificationsEnabled=!!e},noNotifications:function(e){this.notifications(!1);e();this.notifications(!0)},startBatch:function(){var e=this._private;null==e.batchCount&&(e.batchCount=0);if(0===e.batchCount){e.batchingStyle=e.batchingNotify=!0;e.batchStyleEles=this.collection();e.batchNotifyEles=this.collection();e.batchNotifyTypes=[];e.batchNotifyTypes.ids={}}e.batchCount++;return this},endBatch:function(){var e=this._private;e.batchCount--;if(0===e.batchCount){e.batchingStyle=!1;e.batchStyleEles.updateStyle();e.batchingNotify=!1;this.notify({type:e.batchNotifyTypes,eles:e.batchNotifyEles})}return this},batch:function(e){this.startBatch();e();this.endBatch();return this},batchData:function(e){var t=this;return this.batch(function(){for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n],a=e[i],o=t.getElementById(i);o.data(a)}})}};t.exports=n},{}],51:[function(e,t,r){"use strict";var n=e("../util"),i={renderTo:function(e,t,r,n){var i=this._private.renderer;i.renderTo(e,t,r,n);return this},renderer:function(){return this._private.renderer},forceRender:function(){this.notify({type:"draw"});return this},resize:function(){this.invalidateSize();this.notify({type:"resize"});this.trigger("resize");return this},initRenderer:function(e){var t=this,r=t.extension("renderer",e.name);if(null!=r){var i=n.extend({},e,{cy:t});t._private.renderer=new r(i)}else n.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",e.name)},destroyRenderer:function(){var e=this;e.notify({type:"destroy"});var t=e.container();if(t){t._cyreg=null;for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}e._private.renderer=null},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};i.invalidateDimensions=i.resize;t.exports=i},{"../util":111}],52:[function(e,t,r){"use strict";var n=e("../is"),i=e("../collection"),a={collection:function(e,t){return n.string(e)?this.$(e):n.elementOrCollection(e)?e.collection():n.array(e)?new i(this,e,t):new i(this)},nodes:function(e){var t=this.$(function(){return this.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(){return this.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};a.elements=a.filter=a.$;t.exports=a},{"../collection":37,"../is":94}],53:[function(e,t,r){"use strict";var n=e("../is"),i=e("../style"),a={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;n.stylesheet(e)?t.style=e.generateStyle(this):n.array(e)?t.style=i.fromJson(this,e):n.string(e)?t.style=i.fromString(this,e):t.style=i(this);return t.style}};t.exports=a},{"../is":94,"../style":103}],54:[function(e,t,r){"use strict";var n=e("../is"),i=e("../window"),a={autolock:function(e){if(void 0===e)return this._private.autolock;this._private.autolock=!!e;return this},autoungrabify:function(e){if(void 0===e)return this._private.autoungrabify;this._private.autoungrabify=!!e;return this},autounselectify:function(e){if(void 0===e)return this._private.autounselectify;this._private.autounselectify=!!e;return this},panningEnabled:function(e){if(void 0===e)return this._private.panningEnabled;this._private.panningEnabled=!!e;return this},userPanningEnabled:function(e){if(void 0===e)return this._private.userPanningEnabled;this._private.userPanningEnabled=!!e;return this},zoomingEnabled:function(e){if(void 0===e)return this._private.zoomingEnabled;this._private.zoomingEnabled=!!e;return this},userZoomingEnabled:function(e){if(void 0===e)return this._private.userZoomingEnabled;this._private.userZoomingEnabled=!!e;return this},boxSelectionEnabled:function(e){if(void 0===e)return this._private.boxSelectionEnabled;this._private.boxSelectionEnabled=!!e;return this},pan:function(){var e,t,r,i,a,o=arguments,s=this._private.pan;switch(o.length){case 0:return s;case 1:if(n.string(o[0])){e=o[0];return s[e]}if(n.plainObject(o[0])){if(!this._private.panningEnabled)return this;r=o[0];i=r.x;a=r.y;n.number(i)&&(s.x=i);n.number(a)&&(s.y=a);this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=o[0];t=o[1];"x"!==e&&"y"!==e||!n.number(t)||(s[e]=t);this.trigger("pan viewport")}this.notify({type:"viewport"});return this},panBy:function(e){var t,r,i,a,o,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:if(n.plainObject(s[0])){i=s[0];a=i.x;o=i.y;n.number(a)&&(l.x+=a);n.number(o)&&(l.y+=o);this.trigger("pan viewport")}break;case 2:t=s[0];r=s[1];"x"!==t&&"y"!==t||!n.number(r)||(l[t]+=r);this.trigger("pan viewport")}this.notify({type:"viewport"});return this},fit:function(e,t){var r=this.getFitViewport(e,t);if(r){var n=this._private;n.zoom=r.zoom;n.pan=r.pan;this.trigger("pan zoom viewport");this.notify({type:"viewport"})}return this},getFitViewport:function(e,t){if(n.number(e)&&void 0===t){t=e;e=void 0}if(this._private.panningEnabled&&this._private.zoomingEnabled){var r;if(n.string(e)){var i=e;e=this.$(i)}else if(n.boundingBox(e)){var a=e;r={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2};r.w=r.x2-r.x1;r.h=r.y2-r.y1}else n.elementOrCollection(e)||(e=this.mutableElements());r=r||e.boundingBox();var o,s=this.width(),l=this.height();t=n.number(t)?t:0;if(!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){o=Math.min((s-2*t)/r.w,(l-2*t)/r.h);o=o>this._private.maxZoom?this._private.maxZoom:o;o=o<this._private.minZoom?this._private.minZoom:o;var u={x:(s-o*(r.x1+r.x2))/2,y:(l-o*(r.y1+r.y2))/2};return{zoom:o,pan:u}}}},minZoom:function(e){if(void 0===e)return this._private.minZoom;n.number(e)&&(this._private.minZoom=e);return this},maxZoom:function(e){if(void 0===e)return this._private.maxZoom;n.number(e)&&(this._private.maxZoom=e);return this},zoom:function(e){var t,r;if(void 0===e)return this._private.zoom;if(n.number(e))r=e;else if(n.plainObject(e)){r=e.level;if(e.position){var i=e.position,a=this._private.pan,o=this._private.zoom;t={x:i.x*o+a.x,y:i.y*o+a.y}}else e.renderedPosition&&(t=e.renderedPosition);if(t&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!n.number(r)||t&&(!n.number(t.x)||!n.number(t.y)))return this;r=r>this._private.maxZoom?this._private.maxZoom:r;r=r<this._private.minZoom?this._private.minZoom:r;if(t){var s=this._private.pan,l=this._private.zoom,u=r,c={x:-u/l*(t.x-s.x)+t.x,y:-u/l*(t.y-s.y)+t.y};this._private.zoom=r;this._private.pan=c;var f=s.x!==c.x||s.y!==c.y;this.trigger(" zoom "+(f?" pan ":"")+" viewport ")}else{this._private.zoom=r;this.trigger("zoom viewport")}this.notify({type:"viewport"});return this},viewport:function(e){var t=this._private,r=!0,i=!0,a=[],o=!1,s=!1;if(!e)return this;n.number(e.zoom)||(r=!1);n.plainObject(e.pan)||(i=!1);if(!r&&!i)return this;if(r){var l=e.zoom;if(l<t.minZoom||l>t.maxZoom||!t.zoomingEnabled)o=!0;else{t.zoom=l;a.push("zoom")}}if(i&&(!o||!e.cancelOnFailedZoom)&&t.panningEnabled){var u=e.pan;if(n.number(u.x)){t.pan.x=u.x;s=!1}if(n.number(u.y)){t.pan.y=u.y;s=!1}s||a.push("pan")}if(a.length>0){a.push("viewport");this.trigger(a.join(" "));this.notify({type:"viewport"})}return this},center:function(e){var t=this.getCenterPan(e);if(t){this._private.pan=t;this.trigger("pan viewport");this.notify({type:"viewport"})}return this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(n.string(e)){var r=e;e=this.mutableElements().filter(r)}else n.elementOrCollection(e)||(e=this.mutableElements());var i=e.boundingBox(),a=this.width(),o=this.height();t=void 0===t?this._private.zoom:t;var s={x:(a-t*(i.x1+i.x2))/2,y:(o-t*(i.y1+i.y2))/2};return s}},reset:function(){if(!this._private.panningEnabled||!this._private.zoomingEnabled)return this;this.viewport({pan:{x:0,y:0},zoom:1});return this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container;return e.sizeCache=e.sizeCache||(t?function(){var e=t.getBoundingClientRect(),r=i.getComputedStyle(t),n=function(e){return parseFloat(r.getPropertyValue(e))};return{width:e.width-n("padding-left")-n("padding-right")-n("border-left-width")-n("border-right-width"),height:e.height-n("padding-top")-n("padding-bottom")-n("border-top-width")-n("border-bottom-width")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),n={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};n.w=n.x2-n.x1;n.h=n.y2-n.y1;return n},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};a.centre=a.center;a.autolockNodes=a.autolock;a.autoungrabifyNodes=a.autoungrabify;t.exports=a},{"../is":94,"../window":118}],55:[function(e,t,r){"use strict";var n=e("./util"),i=e("./is"),a=e("./selector"),o=e("./promise"),s=e("./event"),l=e("./animation"),u={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(e){},canSet:function(e){return!0}};e=n.extend({},t,e);return function(t,r){var n=e,a=this,o=void 0!==a.length,s=o?a:[a],l=o?a[0]:a;if(i.string(t)){if(n.allowGetting&&void 0===r){var u;l&&(u=l._private[n.field][t]);return u}if(n.allowSetting&&void 0!==r){var c=!n.immutableKeys[t];if(c){for(var f=0,d=s.length;f<d;f++)n.canSet(s[f])&&(s[f]._private[n.field][t]=r);n.updateStyle&&a.updateStyle();n.onSet(a);n.settingTriggersEvent&&a[n.triggerFnName](n.settingEvent)}}}else if(n.allowSetting&&i.plainObject(t)){for(var p,h,v=t,g=Object.keys(v),f=0;f<g.length;f++){p=g[f];h=v[p];var c=!n.immutableKeys[p];if(c)for(var y=0;y<s.length;y++){var m=s[y];n.canSet(m)&&(m._private[n.field][p]=h)}}n.updateStyle&&a.updateStyle();n.onSet(a);n.settingTriggersEvent&&a[n.triggerFnName](n.settingEvent)}else if(n.allowBinding&&i.fn(t)){var b=t;a.on(n.bindingEvent,b)}else if(n.allowGetting&&void 0===t){var u;l&&(u=l._private[n.field]);return u}return a}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};e=n.extend({},t,e);return function(t){var r=e,n=this,a=void 0!==n.length,o=a?n:[n];if(i.string(t)){for(var s=t.split(/\s+/),l=s.length,u=0;u<l;u++){var c=s[u];if(!i.emptyString(c)){var f=!r.immutableKeys[c];if(f)for(var d=0,p=o.length;d<p;d++)o[d]._private[r.field][c]=void 0}}r.triggerEvent&&n[r.triggerFnName](r.event)}else if(void 0===t){for(var d=0,p=o.length;d<p;d++)for(var h=o[d]._private[r.field],s=Object.keys(h),u=0;u<s.length;u++){var c=s[u],v=!r.immutableKeys[c];v&&(h[c]=void 0)}r.triggerEvent&&n[r.triggerFnName](r.event)}return n}},event:{regex:/(\w+)(\.(?:\w+|\*))?/,universalNamespace:".*",optionalTypeRegex:/(\w+)?(\.(?:\w+|\*))?/,falseCallback:function(){return!1}},on:function(e){var t={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};e=n.extend({},t,e);return function(t,r,n,o){
var s=this,l=void 0!==s.length,c=l?s:[s],f=i.string(t),d=e;if(i.plainObject(r)){o=n;n=r;r=void 0}else if(i.fn(r)||r===!1){o=r;n=void 0;r=void 0}if(i.fn(n)||n===!1){o=n;n=void 0}if(!i.fn(o)&&o!==!1&&f)return s;if(f){var p={};p[t]=o;t=p}for(var h=Object.keys(t),v=0;v<h.length;v++){var g=h[v];o=t[g];o===!1&&(o=u.event.falseCallback);if(i.fn(o)){g=g.split(/\s+/);for(var y=0;y<g.length;y++){var m=g[y];if(!i.emptyString(m)){var b=m.match(u.event.regex);if(b)for(var w=b[1],x=b[2]?b[2]:void 0,_={callback:o,data:n,delegated:!!r,selector:r,selObj:new a(r),type:w,namespace:x,unbindSelfOnTrigger:d.unbindSelfOnTrigger,unbindAllBindersOnTrigger:d.unbindAllBindersOnTrigger,binders:c},k=0;k<c.length;k++){var C=c[k]._private=c[k]._private||{};C.listeners=C.listeners||[];C.listeners.push(_)}}}}}return s}},eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on;t.removeListener=t.unlisten=t.unbind=t.off;t.emit=t.trigger;t.pon=t.promiseOn=function(e,t){var r=this,n=Array.prototype.slice.call(arguments,0);return new o(function(e,t){var i=function(t){r.off.apply(r,o);e(t)},a=n.concat([i]),o=a.concat([]);r.on.apply(r,a)})}},off:function(e){var t={};e=n.extend({},t,e);return function(e,t,r){var n=this,a=void 0!==n.length,o=a?n:[n],s=i.string(e);if(0===arguments.length){for(var l=0;l<o.length;l++){o[l]._private=o[l]._private||{};b.listeners=[]}return n}if(i.fn(t)||t===!1){r=t;t=void 0}if(s){var c={};c[e]=r;e=c}for(var f=Object.keys(e),d=0;d<f.length;d++){var p=f[d];r=e[p];r===!1&&(r=u.event.falseCallback);p=p.split(/\s+/);for(var h=0;h<p.length;h++){var v=p[h];if(!i.emptyString(v)){var g=v.match(u.event.optionalTypeRegex);if(g)for(var y=g[1]?g[1]:void 0,m=g[2]?g[2]:void 0,l=0;l<o.length;l++)for(var b=o[l]._private=o[l]._private||{},w=b.listeners=b.listeners||[],x=0;x<w.length;x++){var _=w[x],k=!m||m===_.namespace,C=!y||_.type===y,E=!r||r===_.callback,S=k&&C&&E;if(S){w.splice(x,1);x--}}}}}return n}},trigger:function(e){var t={};e=n.extend({},t,e);return function(t,r,n){var a=this,o=void 0!==a.length,l=o?a:[a],c=i.string(t),f=i.plainObject(t),d=i.event(t),p=this._private=this._private||{},h=p.cy||(i.core(this)?this:null),v=!!h&&h.hasCompoundNodes();if(c){var g=t.split(/\s+/);t=[];for(var y=0;y<g.length;y++){var m=g[y];if(!i.emptyString(m)){var b=m.match(u.event.regex),w=b[1],x=b[2]?b[2]:void 0;t.push({type:w,namespace:x})}}}else if(f){var _=t;t=[_]}r?i.array(r)||(r=[r]):r=[];for(var y=0;y<t.length;y++)for(var k=t[y],C=0;C<l.length;C++){var m,E=l[C],p=E._private=E._private||{},S=p.listeners=p.listeners||[],T=i.element(E),D=T||e.layout;if(d){m=k;m.cyTarget=m.cyTarget||E;m.cy=m.cy||h}else m=new s(k,{cyTarget:E,cy:h,namespace:k.namespace});k.layout&&(m.layout=k.layout);e.layout&&(m.layout=E);if(m.cyPosition){var P=m.cyPosition,j=h.zoom(),L=h.pan();m.cyRenderedPosition={x:P.x*j+L.x,y:P.y*j+L.y}}n&&(S=[{namespace:m.namespace,type:m.type,callback:n}]);for(var M=0;M<S.length;M++){var A=S[M],N=!A.namespace||A.namespace===m.namespace||A.namespace===u.event.universalNamespace,O=A.type===m.type,R=!A.delegated||E!==m.cyTarget&&i.element(m.cyTarget)&&A.selObj.matches(m.cyTarget),I=N&&O&&R;if(I){var z=[m];z=z.concat(r);A.data?m.data=A.data:m.data=void 0;if(A.unbindSelfOnTrigger||A.unbindAllBindersOnTrigger){S.splice(M,1);M--}if(A.unbindAllBindersOnTrigger)for(var B=A.binders,q=0;q<B.length;q++){var F=B[q];if(F&&F!==E)for(var V=F._private.listeners,X=0;X<V.length;X++){var Y=V[X];if(Y===A){V.splice(X,1);X--}}}var W=A.delegated?m.cyTarget:E,U=A.callback.apply(W,z);if(U===!1||m.isPropagationStopped()){D=!1;if(U===!1){m.stopPropagation();m.preventDefault()}}}}if(D){var H=v?E._private.parent:null,$=null!=H&&0!==H.length;if($){H=H[0];H.trigger(m)}else h.trigger(m)}}return a}},animated:function(e){var t={};e=n.extend({},t,e);return function(){var e=this,t=void 0!==e.length,r=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return!1;var i=r[0];return i?i._private.animation.current.length>0:void 0}},clearQueue:function(e){var t={};e=n.extend({},t,e);return function(){var e=this,t=void 0!==e.length,r=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return this;for(var i=0;i<r.length;i++){var a=r[i];a._private.animation.queue=[]}return this}},delay:function(e){var t={};e=n.extend({},t,e);return function(e,t){var r=this._private.cy||this;return r.styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(e){var t={};e=n.extend({},t,e);return function(e,t){var r=this._private.cy||this;return r.styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(e){var t={};e=n.extend({},t,e);return function(e,t){var r=this,i=void 0!==r.length,a=i?r:[r],o=this._private.cy||this,s=!i,u=!s;if(!o.styleEnabled())return this;var c=o.style();e=n.extend({},e,t);void 0===e.duration&&(e.duration=400);switch(e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}var f=0===Object.keys(e).length;if(f)return new l(a[0],e);if(u){e.style=c.getPropsList(e.style||e.css);e.css=void 0}if(e.renderedPosition&&u){var d=e.renderedPosition,p=o.pan(),h=o.zoom();e.position={x:(d.x-p.x)/h,y:(d.y-p.y)/h}}if(e.panBy&&s){var v=e.panBy,g=o.pan();e.pan={x:g.x+v.x,y:g.y+v.y}}var y=e.center||e.centre;if(y&&s){var m=o.getCenterPan(y.eles,e.zoom);m&&(e.pan=m)}if(e.fit&&s){var b=e.fit,w=o.getFitViewport(b.eles||b.boundingBox,b.padding);if(w){e.pan=w.pan;e.zoom=w.zoom}}return new l(a[0],e)}},animate:function(e){var t={};e=n.extend({},t,e);return function(e,t){var r=this,i=void 0!==r.length,a=i?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return this;t&&(e=n.extend({},e,t));for(var s=0;s<a.length;s++){var l=a[s],u=l.animated()&&(void 0===e.queue||e.queue),c=l.animation(e,u?{queue:!0}:void 0);c.play()}return this}},stop:function(e){var t={};e=n.extend({},t,e);return function(e,t){var r=this,n=void 0!==r.length,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){for(var s=i[o],l=s._private,u=l.animation.current,c=0;c<u.length;c++){var f=u[c],d=f._private;t&&(d.duration=0)}e&&(l.animation.queue=[]);t||(l.animation.current=[])}a.notify({eles:this,type:"draw"});return this}}};t.exports=u},{"./animation":13,"./event":56,"./is":94,"./promise":97,"./selector":98,"./util":111}],56:[function(e,t,r){"use strict";function n(){return!1}function i(){return!0}var a=function(e,t){if(!(this instanceof a))return new a(e,t);if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented?i:n}else this.type=e;if(t){this.type=void 0!==t.type?t.type:this.type;this.cy=t.cy;this.cyTarget=t.cyTarget;this.cyPosition=t.cyPosition;this.cyRenderedPosition=t.cyRenderedPosition;this.namespace=t.namespace;this.layout=t.layout;this.data=t.data;this.message=t.message}this.timeStamp=e&&e.timeStamp||Date.now()};a.prototype={instanceString:function(){return"event"},preventDefault:function(){this.isDefaultPrevented=i;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=i;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i;this.stopPropagation()},isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n};t.exports=a},{}],57:[function(e,t,r){"use strict";function n(e,t,r){var n=r,a=function(r){s.error("Can not register `"+t+"` for `"+e+"` since `"+r+"` already exists in the prototype and can not be overridden")};if("core"===e){if(c.prototype[t])return a(t);c.prototype[t]=r}else if("collection"===e){if(u.prototype[t])return a(t);u.prototype[t]=r}else if("layout"===e){for(var o=function(e){this.options=e;r.call(this,e);d.plainObject(this._private)||(this._private={});this._private.cy=e.cy;this._private.listeners=[]},f=o.prototype=Object.create(r.prototype),h=[],v=0;v<h.length;v++){var g=h[v];f[g]=f[g]||function(){return this}}f.start&&!f.run?f.run=function(){this.start();return this}:!f.start&&f.run&&(f.start=function(){this.run();return this});var y=r.prototype.stop;f.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var r=0;r<t.length;r++)t[r].stop()}y?y.call(this):this.trigger("layoutstop");return this};f.destroy||(f.destroy=function(){return this});f.on=l.on({layout:!0});f.one=l.on({layout:!0,unbindSelfOnTrigger:!0});f.once=l.on({layout:!0,unbindAllBindersOnTrigger:!0});f.off=l.off({layout:!0});f.trigger=l.trigger({layout:!0});l.eventAliasesOn(f);n=o}else if("renderer"===e&&"null"!==t&&"base"!==t){var m=i("renderer","base"),b=m.prototype,w=r,x=r.prototype,_=function(){m.apply(this,arguments);w.apply(this,arguments)},k=_.prototype;for(var C in b){var E=b[C],S=null!=x[C];if(S)return a(C);k[C]=E}for(var C in x)k[C]=x[C];b.clientFunctions.forEach(function(e){k[e]=k[e]||function(){s.error("Renderer does not implement `renderer."+e+"()` on its prototype")}});n=_}return s.setMap({map:p,keys:[e,t],value:n})}function i(e,t){return s.getMap({map:p,keys:[e,t]})}function a(e,t,r,n,i){return s.setMap({map:h,keys:[e,t,r,n],value:i})}function o(e,t,r,n){return s.getMap({map:h,keys:[e,t,r,n]})}var s=e("./util"),l=e("./define"),u=e("./collection"),c=e("./core"),f=e("./extensions"),d=e("./is"),p={},h={},v=function(){if(2===arguments.length)return i.apply(null,arguments);if(3===arguments.length)return n.apply(null,arguments);if(4===arguments.length)return o.apply(null,arguments);if(5===arguments.length)return a.apply(null,arguments);s.error("Invalid extension access syntax")};c.prototype.extension=v;f.forEach(function(e){e.extensions.forEach(function(t){n(e.type,t.name,t.impl)})});t.exports=v},{"./collection":37,"./core":48,"./define":55,"./extensions":58,"./is":94,"./util":111}],58:[function(e,t,r){"use strict";t.exports=[{type:"layout",extensions:e("./layout")},{type:"renderer",extensions:e("./renderer")}]},{"./layout":64,"./renderer":89}],59:[function(e,t,r){"use strict";function n(e){this.options=i.extend({},s,e)}var i=e("../../util"),a=e("../../math"),o=e("../../is"),s={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){var e,t=this.options,r=t,n=t.cy,i=r.eles,s=i.nodes().not(":parent"),l=i,u=a.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(o.elementOrCollection(r.roots))e=r.roots;else if(o.array(r.roots)){for(var c=[],f=0;f<r.roots.length;f++){var d=r.roots[f],p=n.getElementById(d);c.push(p)}e=n.collection(c)}else if(o.string(r.roots))e=n.$(r.roots);else if(r.directed)e=s.roots();else{for(var h=[],v=s;v.length>0;){var g=n.collection();i.bfs({roots:v[0],visit:function(e,t,r,n,i){g=g.add(r)},directed:!1});v=v.not(g);h.push(g)}e=n.collection();for(var f=0;f<h.length;f++){var y=h[f],m=y.maxDegree(!1),b=y.filter(function(){return this.degree(!1)===m});e=e.add(b)}}var w=[],x={},_={},k={},C={},E={};l.bfs({roots:e,directed:r.directed,visit:function(e,t,r,n,i){var a=this[0],o=a.id();w[t]||(w[t]=[]);w[t].push(a);x[o]=!0;_[o]=t;k[o]=i;C[o]=n;if(i){var s=i.id(),l=E[s]=E[s]||[];l.push(r)}}});for(var S=[],f=0;f<s.length;f++){var p=s[f];x[p.id()]||S.push(p)}for(var T=3*S.length,D=0;0!==S.length&&D<T;){for(var P=S.shift(),j=P.neighborhood().nodes(),L=!1,f=0;f<j.length;f++){var M=_[j[f].id()];if(void 0!==M){w[M].push(P);L=!0;break}}L||S.push(P);D++}for(;0!==S.length;){var P=S.shift(),L=!1;if(!L){0===w.length&&w.push([]);w[0].push(P)}}var A=function(){for(var e=0;e<w.length;e++)for(var t=w[e],r=0;r<t.length;r++){var n=t[r];n._private.scratch.breadthfirst={depth:e,index:r}}};A();for(var N=function(e){for(var t,r=e.connectedEdges(function(){return this.data("target")===e.id()}),n=e._private.scratch.breadthfirst,i=0,a=0;a<r.length;a++){var o=r[a],s=o.source()[0],l=s._private.scratch.breadthfirst;if(n.depth<=l.depth&&i<l.depth){i=l.depth;t=s}}return t},O=0;O<r.maximalAdjustments;O++){for(var R=w.length,I=[],f=0;f<R;f++)for(var M=w[f],z=M.length,B=0;B<z;B++){var p=M[B],q=p._private.scratch.breadthfirst,F=N(p);if(F){q.intEle=F;I.push(p)}}for(var f=0;f<I.length;f++){var p=I[f],q=p._private.scratch.breadthfirst,F=q.intEle,V=F._private.scratch.breadthfirst;w[q.depth].splice(q.index,1);for(var X=V.depth+1;X>w.length-1;)w.push([]);w[X].push(p);q.depth=X;q.index=w[X].length-1}A()}var Y=0;if(r.avoidOverlap){for(var f=0;f<s.length;f++){var W=s[f],U=W.boundingBox(),H=U.w,$=U.h;Y=Math.max(Y,H,$)}Y*=r.spacingFactor}for(var G={},Q=function(e){if(G[e.id()])return G[e.id()];for(var t=e._private.scratch.breadthfirst.depth,r=e.neighborhood().nodes().not(":parent").intersection(s),n=0,i=0,a=0;a<r.length;a++){var o=r[a],l=o._private.scratch.breadthfirst,u=l.index,c=l.depth,f=w[c].length;if(t>c||0===t){n+=u/f;i++}}i=Math.max(1,i);n/=i;0===i&&(n=void 0);G[e.id()]=n;return n},Z=function(e,t){var r=Q(e),n=Q(t);return r-n},J=0;J<3;J++){for(var f=0;f<w.length;f++)w[f]=w[f].sort(Z);A()}for(var K=0,f=0;f<w.length;f++)K=Math.max(w[f].length,K);for(var ee={x:u.x1+u.w/2,y:u.x1+u.h/2},te=function(e,t){var n=e._private.scratch.breadthfirst,i=n.depth,a=n.index,o=w[i].length,s=Math.max(u.w/(o+1),Y),l=Math.max(u.h/(w.length+1),Y),c=Math.min(u.w/2/w.length,u.h/2/w.length);c=Math.max(c,Y);if(r.circle){if(r.circle){var f=c*i+c-(w.length>0&&w[0].length<=3?c/2:0),d=2*Math.PI/w[i].length*a;0===i&&1===w[0].length&&(f=1);return{x:ee.x+f*Math.cos(d),y:ee.y+f*Math.sin(d)}}return{x:ee.x+(a+1-(o+1)/2)*s,y:(i+1)*l}}var p={x:ee.x+(a+1-(o+1)/2)*s,y:(i+1)*l};return t?p:p},re={},f=w.length-1;f>=0;f--)for(var M=w[f],B=0;B<M.length;B++){var P=M[B];re[P.id()]=te(P,f===w.length-1)}s.layoutPositions(this,r,function(){return re[this.id()]});return this};t.exports=n},{"../../is":94,"../../math":96,"../../util":111}],60:[function(e,t,r){"use strict";function n(e){this.options=i.extend({},s,e)}var i=e("../../util"),a=e("../../math"),o=e("../../is"),s={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,s=n.nodes().not(":parent");t.sort&&(s=s.sort(t.sort));for(var l,u=a.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),c={x:u.x1+u.w/2,y:u.y1+u.h/2},f=void 0===t.sweep?2*Math.PI-2*Math.PI/s.length:t.sweep,d=f/Math.max(1,s.length-1),p=0,h=0;h<s.length;h++){var v=s[h],g=v.boundingBox(),y=g.w,m=g.h;p=Math.max(p,y,m)}l=o.number(t.radius)?t.radius:s.length<=1?0:Math.min(u.h,u.w)/2-p;if(s.length>1&&t.avoidOverlap){p*=1.75;var b=Math.cos(d)-Math.cos(0),w=Math.sin(d)-Math.sin(0),x=Math.sqrt(p*p/(b*b+w*w));l=Math.max(x,l)}var _=function(e,r){var n=t.startAngle+e*d*(i?1:-1),a=l*Math.cos(n),o=l*Math.sin(n),s={x:c.x+a,y:c.y+o};return s};s.layoutPositions(this,t,_);return this};t.exports=n},{"../../is":94,"../../math":96,"../../util":111}],61:[function(e,t,r){"use strict";function n(e){this.options=i.extend({},o,e)}var i=e("../../util"),a=e("../../math"),o={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){for(var e=this.options,t=e,r=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,n=e.cy,i=t.eles,o=i.nodes().not(":parent"),s=a.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=[],c=t.startAngle,f=0,d=0;d<o.length;d++){var p,h=o[d];p=t.concentric.apply(h,[h]);u.push({value:p,node:h});h._private.scratch.concentric=p}o.updateStyle();for(var d=0;d<o.length;d++){var h=o[d],v=h.boundingBox();f=Math.max(f,v.w,v.h)}u.sort(function(e,t){return t.value-e.value});for(var g=t.levelWidth(o),y=[[]],m=y[0],d=0;d<u.length;d++){var b=u[d];if(m.length>0){var w=Math.abs(m[0].value-b.value);if(w>=g){m=[];y.push(m)}}m.push(b)}var x=f+t.minNodeSpacing;if(!t.avoidOverlap){var _=y.length>0&&y[0].length>1,k=Math.min(s.w,s.h)/2-x,C=k/(y.length+_?1:0);x=Math.min(x,C)}for(var E=0,d=0;d<y.length;d++){var S=y[d],T=void 0===t.sweep?2*Math.PI-2*Math.PI/S.length:t.sweep,D=S.dTheta=T/Math.max(1,S.length-1);if(S.length>1&&t.avoidOverlap){var P=Math.cos(D)-Math.cos(0),j=Math.sin(D)-Math.sin(0),L=Math.sqrt(x*x/(P*P+j*j));E=Math.max(L,E)}S.r=E;E+=x}if(t.equidistant){for(var M=0,E=0,d=0;d<y.length;d++){var S=y[d],A=S.r-E;M=Math.max(M,A)}E=0;for(var d=0;d<y.length;d++){var S=y[d];0===d&&(E=S.r);S.r=E;E+=M}}for(var N={},d=0;d<y.length;d++)for(var S=y[d],D=S.dTheta,E=S.r,O=0;O<S.length;O++){var b=S[O],c=t.startAngle+(r?1:-1)*D*O,R={x:l.x+E*Math.cos(c),y:l.y+E*Math.sin(c)};N[b.node.id()]=R}o.layoutPositions(this,t,function(){var e=this.id();return N[e]});return this};t.exports=n},{"../../math":96,"../../util":111}],62:[function(e,t,r){"use strict";function n(e){this.options=a.extend({},u,e);this.options.layout=this}var i,a=e("../../util"),o=e("../../math"),s=e("../../thread"),l=e("../../is"),u={ready:function(){},stop:function(){},animate:!0,animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,randomize:!1,componentSpacing:100,nodeRepulsion:function(e){return 4e5},nodeOverlap:10,idealEdgeLength:function(e){return 10},edgeElasticity:function(e){return 100},nestingFactor:5,gravity:80,numIter:1e3,initialTemp:200,coolingFactor:.95,minTemp:1,useMultitasking:!0};n.prototype.run=function(){var e=this.options,t=e.cy,r=this,n=this.thread;n&&!n.stopped()||(n=this.thread=s({disabled:!e.useMultitasking}));r.stopped=!1;r.trigger({type:"layoutstart",layout:r});i=!0===e.debug;var o=c(t,r,e);i&&p(o);e.randomize&&h(o,t);var l=Date.now(),u=!1,f=function(r){r=r||{};if((!u||r.next)&&(r.force||!(Date.now()-l<e.animationThreshold))){u=!0;a.requestAnimationFrame(function(){v(o,t,e);!0===e.fit&&t.fit(e.padding);u=!1;r.next&&r.next()})}};n.on("message",function(e){var t=e.message;o.layoutNodes=t;f()});n.pass({layoutInfo:o,options:{animate:e.animate,refresh:e.refresh,componentSpacing:e.componentSpacing,nodeOverlap:e.nodeOverlap,nestingFactor:e.nestingFactor,gravity:e.gravity,numIter:e.numIter,initialTemp:e.initialTemp,coolingFactor:e.coolingFactor,minTemp:e.minTemp}}).run(function(e){var t,r=e.layoutInfo,n=e.options,i=!1,a=function(e,t,r){o(e,t);c(e,t);f(e,t);d(e,t);p(e,t)},o=function(e,t){for(var r=0;r<e.graphSet.length;r++)for(var n=e.graphSet[r],i=n.length,a=0;a<i;a++)for(var o=e.layoutNodes[e.idToIndex[n[a]]],l=a+1;l<i;l++){var u=e.layoutNodes[e.idToIndex[n[l]]];s(o,u,e,t)}},s=function(e,t,r,n){var i=e.cmptId,a=t.cmptId;if(i===a||r.isCompound){var o=t.positionX-e.positionX,s=t.positionY-e.positionY;if(0!==o||0!==s){var c=l(e,t,o,s);if(c>0)var f=n.nodeOverlap*c,d=Math.sqrt(o*o+s*s),p=f*o/d,h=f*s/d;else var v=u(e,o,s),g=u(t,-1*o,-1*s),y=g.x-v.x,m=g.y-v.y,b=y*y+m*m,d=Math.sqrt(b),f=(e.nodeRepulsion+t.nodeRepulsion)/b,p=f*y/d,h=f*m/d;if(!e.isLocked){e.offsetX-=p;e.offsetY-=h}if(!t.isLocked){t.offsetX+=p;t.offsetY+=h}}}},l=function(e,t,r,n){if(r>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(n>0)var a=e.maxY-t.minY;else var a=t.maxY-e.minY;return i>=0&&a>=0?Math.sqrt(i*i+a*a):0},u=function(e,t,r){var n=e.positionX,i=e.positionY,a=e.height||1,o=e.width||1,s=r/t,l=a/o,u={};do{if(0===t&&0<r){u.x=n;u.y=i+a/2;break}if(0===t&&0>r){u.x=n;u.y=i+a/2;break}if(0<t&&-1*l<=s&&s<=l){u.x=n+o/2;u.y=i+o*r/2/t;break}if(0>t&&-1*l<=s&&s<=l){u.x=n-o/2;u.y=i-o*r/2/t;break}if(0<r&&(s<=-1*l||s>=l)){u.x=n+a*t/2/r;u.y=i+a/2;break}if(0>r&&(s<=-1*l||s>=l)){u.x=n-a*t/2/r;u.y=i-a/2;break}}while(!1);return u},c=function(e,t){for(var r=0;r<e.edgeSize;r++){var n=e.layoutEdges[r],i=e.idToIndex[n.sourceId],a=e.layoutNodes[i],o=e.idToIndex[n.targetId],s=e.layoutNodes[o],l=s.positionX-a.positionX,c=s.positionY-a.positionY;if(0===l&&0===c)return;var f=u(a,l,c),d=u(s,-1*l,-1*c),p=d.x-f.x,h=d.y-f.y,v=Math.sqrt(p*p+h*h),g=Math.pow(n.idealLength-v,2)/n.elasticity;if(0!==v)var y=g*p/v,m=g*h/v;else var y=0,m=0;if(!a.isLocked){a.offsetX+=y;a.offsetY+=m}if(!s.isLocked){s.offsetX-=y;s.offsetY-=m}}},f=function(e,t){for(var r=1,n=0;n<e.graphSet.length;n++){var i=e.graphSet[n],a=i.length;if(0===n)var o=e.clientHeight/2,s=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[i[0]]],u=e.layoutNodes[e.idToIndex[l.parentId]],o=u.positionX,s=u.positionY;for(var c=0;c<a;c++){var f=e.layoutNodes[e.idToIndex[i[c]]];if(!f.isLocked){var d=o-f.positionX,p=s-f.positionY,h=Math.sqrt(d*d+p*p);if(h>r){var v=t.gravity*d/h,g=t.gravity*p/h;f.offsetX+=v;f.offsetY+=g}}}}},d=function(e,t){var r=[],n=0,i=-1;r.push.apply(r,e.graphSet[0]);i+=e.graphSet[0].length;for(;n<=i;){var a=r[n++],o=e.idToIndex[a],s=e.layoutNodes[o],l=s.children;if(0<l.length&&!s.isLocked){for(var u=s.offsetX,c=s.offsetY,f=0;f<l.length;f++){var d=e.layoutNodes[e.idToIndex[l[f]]];d.offsetX+=u;d.offsetY+=c;r[++i]=l[f]}s.offsetX=0;s.offsetY=0}}},p=function(e,t){for(var r=0;r<e.nodeSize;r++){var n=e.layoutNodes[r];if(0<n.children.length){n.maxX=void 0;n.minX=void 0;n.maxY=void 0;n.minY=void 0}}for(var r=0;r<e.nodeSize;r++){var n=e.layoutNodes[r];if(!(0<n.children.length||n.isLocked)){var i=h(n.offsetX,n.offsetY,e.temperature);n.positionX+=i.x;n.positionY+=i.y;n.offsetX=0;n.offsetY=0;n.minX=n.positionX-n.width;n.maxX=n.positionX+n.width;n.minY=n.positionY-n.height;n.maxY=n.positionY+n.height;v(n,e)}}for(var r=0;r<e.nodeSize;r++){var n=e.layoutNodes[r];if(0<n.children.length&&!n.isLocked){n.positionX=(n.maxX+n.minX)/2;n.positionY=(n.maxY+n.minY)/2;n.width=n.maxX-n.minX;n.height=n.maxY-n.minY}}},h=function(e,t,r){var n=Math.sqrt(e*e+t*t);if(n>r)var i={x:r*e/n,y:r*t/n};else var i={x:e,y:t};return i},v=function(e,t){var r=e.parentId;if(null!=r){var n=t.layoutNodes[t.idToIndex[r]],i=!1;if(null==n.maxX||e.maxX+n.padRight>n.maxX){n.maxX=e.maxX+n.padRight;i=!0}if(null==n.minX||e.minX-n.padLeft<n.minX){n.minX=e.minX-n.padLeft;i=!0}if(null==n.maxY||e.maxY+n.padBottom>n.maxY){n.maxY=e.maxY+n.padBottom;i=!0}if(null==n.minY||e.minY-n.padTop<n.minY){n.minY=e.minY-n.padTop;i=!0}return i?v(n,t):void 0}},g=function(e,t){for(var n=r.layoutNodes,i=[],a=0;a<n.length;a++){var o=n[a],s=o.cmptId,l=i[s]=i[s]||[];l.push(o)}for(var u=0,a=0;a<i.length;a++){var c=i[a];if(c){c.x1=1/0;c.x2=-(1/0);c.y1=1/0;c.y2=-(1/0);for(var f=0;f<c.length;f++){var d=c[f];c.x1=Math.min(c.x1,d.positionX-d.width/2);c.x2=Math.max(c.x2,d.positionX+d.width/2);c.y1=Math.min(c.y1,d.positionY-d.height/2);c.y2=Math.max(c.y2,d.positionY+d.height/2)}c.w=c.x2-c.x1;c.h=c.y2-c.y1;u+=c.w*c.h}}i.sort(function(e,t){return t.w*t.h-e.w*e.h});for(var p=0,h=0,v=0,g=0,y=Math.sqrt(u)*r.clientWidth/r.clientHeight,a=0;a<i.length;a++){var c=i[a];if(c){for(var f=0;f<c.length;f++){var d=c[f];if(!d.isLocked){d.positionX+=p;d.positionY+=h}}p+=c.w+t.componentSpacing;v+=c.w+t.componentSpacing;g=Math.max(g,c.h);if(v>y){h+=g+t.componentSpacing;p=0;v=0;g=0}}}},y=function(e){if(i)return!1;a(r,n,e);r.temperature=r.temperature*n.coolingFactor;return!(r.temperature<n.minTemp)},m=0;do{for(var b=0;b<n.refresh&&m<n.numIter;){var t=y(m);if(!t)break;b++;m++}n.animate&&broadcast(r.layoutNodes)}while(t&&m+1<n.numIter);g(r,n);return r}).then(function(e){o.layoutNodes=e.layoutNodes;n.stop();d()});var d=function(){f({force:!0,next:function(){r.one("layoutstop",e.stop);r.trigger({type:"layoutstop",layout:r})}})};return this};n.prototype.stop=function(){this.stopped=!0;this.thread&&this.thread.stop();this.trigger("layoutstop");return this};n.prototype.destroy=function(){this.thread&&this.thread.stop();return this};var c=function(e,t,r){for(var n=r.eles.edges(),i=r.eles.nodes(),a={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:r.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:o.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},s=r.eles.components(),u={},c=0;c<s.length;c++)for(var d=s[c],p=0;p<d.length;p++){var h=d[p];u[h.id()]=c}for(var c=0;c<a.nodeSize;c++){var v=i[c],g=v.boundingBox(),y={};y.isLocked=v.locked();y.id=v.data("id");y.parentId=v.data("parent");y.cmptId=u[v.id()];y.children=[];y.positionX=v.position("x");y.positionY=v.position("y");y.offsetX=0;y.offsetY=0;y.height=g.w;y.width=g.h;y.maxX=y.positionX+y.width/2;y.minX=y.positionX-y.width/2;y.maxY=y.positionY+y.height/2;y.minY=y.positionY-y.height/2;y.padLeft=parseFloat(v.style("padding"));y.padRight=parseFloat(v.style("padding"));y.padTop=parseFloat(v.style("padding"));y.padBottom=parseFloat(v.style("padding"));y.nodeRepulsion=l.fn(r.nodeRepulsion)?r.nodeRepulsion.call(v,v):r.nodeRepulsion;a.layoutNodes.push(y);a.idToIndex[y.id]=c}for(var m=[],b=0,w=-1,x=[],c=0;c<a.nodeSize;c++){var v=a.layoutNodes[c],_=v.parentId;if(null!=_)a.layoutNodes[a.idToIndex[_]].children.push(v.id);else{m[++w]=v.id;x.push(v.id)}}a.graphSet.push(x);for(;b<=w;){var k=m[b++],C=a.idToIndex[k],h=a.layoutNodes[C],E=h.children;if(E.length>0){a.graphSet.push(E);for(var c=0;c<E.length;c++)m[++w]=E[c]}}for(var c=0;c<a.graphSet.length;c++)for(var S=a.graphSet[c],p=0;p<S.length;p++){var T=a.idToIndex[S[p]];a.indexToGraph[T]=c}for(var c=0;c<a.edgeSize;c++){var D=n[c],P={};P.id=D.data("id");P.sourceId=D.data("source");P.targetId=D.data("target");var j=l.fn(r.idealEdgeLength)?r.idealEdgeLength.call(D,D):r.idealEdgeLength,L=l.fn(r.edgeElasticity)?r.edgeElasticity.call(D,D):r.edgeElasticity,M=a.idToIndex[P.sourceId],A=a.idToIndex[P.targetId],N=a.indexToGraph[M],O=a.indexToGraph[A];if(N!=O){for(var R=f(P.sourceId,P.targetId,a),I=a.graphSet[R],z=0,y=a.layoutNodes[M];-1===I.indexOf(y.id);){y=a.layoutNodes[a.idToIndex[y.parentId]];z++}y=a.layoutNodes[A];for(;-1===I.indexOf(y.id);){y=a.layoutNodes[a.idToIndex[y.parentId]];z++}j*=z*r.nestingFactor}P.idealLength=j;P.elasticity=L;a.layoutEdges.push(P)}return a},f=function(e,t,r){var n=d(e,t,0,r);return 2>n.count?0:n.graph},d=function(e,t,r,n){var i=n.graphSet[r];if(-1<i.indexOf(e)&&-1<i.indexOf(t))return{count:2,graph:r};for(var a=0,o=0;o<i.length;o++){var s=i[o],l=n.idToIndex[s],u=n.layoutNodes[l].children;if(0!==u.length){var c=n.indexToGraph[n.idToIndex[u[0]]],f=d(e,t,c,n);if(0!==f.count){if(1!==f.count)return f;a++;if(2===a)break}}}return{count:a,graph:r}},p=function(e){if(i){console.debug("layoutNodes:");for(var t=0;t<e.nodeSize;t++){var r=e.layoutNodes[t],n="\nindex: "+t+"\nId: "+r.id+"\nChildren: "+r.children.toString()+"\nparentId: "+r.parentId+"\npositionX: "+r.positionX+"\npositionY: "+r.positionY+"\nOffsetX: "+r.offsetX+"\nOffsetY: "+r.offsetY+"\npadLeft: "+r.padLeft+"\npadRight: "+r.padRight+"\npadTop: "+r.padTop+"\npadBottom: "+r.padBottom;console.debug(n)}console.debug("idToIndex");for(var t in e.idToIndex)console.debug("Id: "+t+"\nIndex: "+e.idToIndex[t]);console.debug("Graph Set");for(var a=e.graphSet,t=0;t<a.length;t++)console.debug("Set : "+t+": "+a[t].toString());for(var n="IndexToGraph",t=0;t<e.indexToGraph.length;t++)n+="\nIndex : "+t+" Graph: "+e.indexToGraph[t];console.debug(n);n="Layout Edges";for(var t=0;t<e.layoutEdges.length;t++){var o=e.layoutEdges[t];n+="\nEdge Index: "+t+" ID: "+o.id+" SouceID: "+o.sourceId+" TargetId: "+o.targetId+" Ideal Length: "+o.idealLength}console.debug(n);n="nodeSize: "+e.nodeSize;n+="\nedgeSize: "+e.edgeSize;n+="\ntemperature: "+e.temperature;console.debug(n)}},h=function(e,t){for(var r=e.clientWidth,n=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];if(0===a.children.length&&!a.isLocked){a.positionX=Math.random()*r;a.positionY=Math.random()*n}}},v=function(e,t,r){var n=r.layout,i=r.eles.nodes(),a=e.boundingBox,o={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)};if(r.boundingBox){i.forEach(function(t){var r=e.layoutNodes[e.idToIndex[t.data("id")]];o.x1=Math.min(o.x1,r.positionX);o.x2=Math.max(o.x2,r.positionX);o.y1=Math.min(o.y1,r.positionY);o.y2=Math.max(o.y2,r.positionY)});o.w=o.x2-o.x1;o.h=o.y2-o.y1}i.positions(function(t,n){var i=e.layoutNodes[e.idToIndex[n.data("id")]];if(r.boundingBox){var s=(i.positionX-o.x1)/o.w,l=(i.positionY-o.y1)/o.h;return{x:a.x1+s*a.w,y:a.y1+l*a.h}}return{x:i.positionX,y:i.positionY}});if(!0!==e.ready){e.ready=!0;n.one("layoutready",r.ready);n.trigger({type:"layoutready",layout:this})}};t.exports=n},{"../../is":94,"../../math":96,"../../thread":109,"../../util":111}],63:[function(e,t,r){"use strict";function n(e){this.options=i.extend({},o,e)}var i=e("../../util"),a=e("../../math"),o={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var o=a.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(0===o.h||0===o.w)i.layoutPositions(this,t,function(){return{x:o.x1,y:o.y1}});else{var s=i.size(),l=Math.sqrt(s*o.h/o.w),u=Math.round(l),c=Math.round(o.w/o.h*l),f=function(e){if(null==e)return Math.min(u,c);var t=Math.min(u,c);t==u?u=e:c=e},d=function(e){if(null==e)return Math.max(u,c);var t=Math.max(u,c);t==u?u=e:c=e},p=t.rows,h=null!=t.cols?t.cols:t.columns;if(null!=p&&null!=h){u=p;c=h}else if(null!=p&&null==h){u=p;c=Math.ceil(s/u)}else if(null==p&&null!=h){c=h;u=Math.ceil(s/c)}else if(c*u>s){var v=f(),g=d();(v-1)*g>=s?f(v-1):(g-1)*v>=s&&d(g-1)}else for(;c*u<s;){var v=f(),g=d();(g+1)*v>=s?d(g+1):f(v+1)}var y=o.w/c,m=o.h/u;if(t.condense){y=0;m=0}if(t.avoidOverlap)for(var b=0;b<i.length;b++){var w=i[b],x=w._private.position;if(null==x.x||null==x.y){x.x=0;x.y=0}var _=w.boundingBox(),k=t.avoidOverlapPadding,C=_.w+k,E=_.h+k;y=Math.max(y,C);m=Math.max(m,E)}for(var S={},T=function(e,t){return!!S["c-"+e+"-"+t]},D=function(e,t){S["c-"+e+"-"+t]=!0},P=0,j=0,L=function(){j++;if(j>=c){j=0;P++}},M={},b=0;b<i.length;b++){var w=i[b],A=t.position(w);if(A&&(void 0!==A.row||void 0!==A.col)){var x={row:A.row,col:A.col};if(void 0===x.col){x.col=0;for(;T(x.row,x.col);)x.col++}else if(void 0===x.row){x.row=0;for(;T(x.row,x.col);)x.row++}M[w.id()]=x;D(x.row,x.col)}}var N=function(e,t){var r,n;if(t.locked()||t.isParent())return!1;var i=M[t.id()];if(i){r=i.col*y+y/2+o.x1;n=i.row*m+m/2+o.y1}else{for(;T(P,j);)L();r=j*y+y/2+o.x1;n=P*m+m/2+o.y1;D(P,j);L()}return{x:r,y:n}};i.layoutPositions(this,t,N)}return this};t.exports=n},{"../../math":96,"../../util":111}],64:[function(e,t,r){"use strict";t.exports=[{name:"breadthfirst",impl:e("./breadthfirst")},{name:"circle",impl:e("./circle")},{name:"concentric",impl:e("./concentric")},{name:"cose",impl:e("./cose")},{name:"grid",impl:e("./grid")},{name:"null",impl:e("./null")},{name:"preset",impl:e("./preset")},{name:"random",impl:e("./random")}]},{"./breadthfirst":59,"./circle":60,"./concentric":61,"./cose":62,"./grid":63,"./null":65,"./preset":66,"./random":67}],65:[function(e,t,r){"use strict";function n(e){this.options=i.extend({},a,e)}var i=e("../../util"),a={ready:function(){},stop:function(){}};n.prototype.run=function(){var e=this.options,t=e.eles,r=this;e.cy;r.trigger("layoutstart");t.nodes().positions(function(){return{x:0,y:0}});r.one("layoutready",e.ready);r.trigger("layoutready");r.one("layoutstop",e.stop);r.trigger("layoutstop");return this};n.prototype.stop=function(){return this};t.exports=n},{"../../util":111}],66:[function(e,t,r){"use strict";function n(e){this.options=i.extend({},o,e)}var i=e("../../util"),a=e("../../is"),o={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){function e(e){if(null==t.positions)return null;if(i)return t.positions.apply(e,[e]);var r=t.positions[e._private.data.id];return null==r?null:r}var t=this.options,r=t.eles,n=r.nodes(),i=a.fn(t.positions);n.layoutPositions(this,t,function(t,r){var n=e(r);return!r.locked()&&null!=n&&n;
});return this};t.exports=n},{"../../is":94,"../../util":111}],67:[function(e,t,r){"use strict";function n(e){this.options=i.extend({},o,e)}var i=e("../../util"),a=e("../../math"),o={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=r.nodes().not(":parent"),i=a.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),o=function(e,t){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}};n.layoutPositions(this,e,o);return this};t.exports=n},{"../../math":96,"../../util":111}],68:[function(e,t,r){"use strict";var n=e("../../../math"),i=e("../../../is"),a=e("../../../util"),o={};o.arrowShapeWidth=.3;o.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=function(e,t,r,n,i,a){var o=i.x-r/2-a,s=i.x+r/2+a,l=i.y-r/2-a,u=i.y+r/2+a,c=o<=e&&e<=s&&l<=t&&t<=u;return c},o=function(e,t,r,n,i){var a=e*Math.cos(n)-t*Math.sin(n),o=e*Math.sin(n)+t*Math.cos(n),s=a*r,l=o*r,u=s+i.x,c=l+i.y;return{x:u,y:c}},s=function(e,t,r,n){for(var i=[],a=0;a<e.length;a+=2){var s=e[a],l=e[a+1];i.push(o(s,l,t,r,n))}return i},l=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n.x,n.y)}return t},u=function(o,u){i.string(u)&&(u=e[u]);e[o]=a.extend({name:o,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,r,i,a,o){var u=l(s(this.points,r+2*o,i,a)),c=n.pointInsidePolygonPoints(e,t,u);return c},roughCollide:r,draw:function(e,r,n,i){var a=s(this.points,r,n,i);t.arrowShapeImpl("polygon")(e,a)},spacing:function(e){return 0},gap:function(e){return 2*e.pstyle("width").pfValue}},u)};u("none",{collide:a.falsify,roughCollide:a.falsify,draw:a.noop,spacing:a.zeroify,gap:a.zeroify});u("triangle",{points:[-.15,-.3,0,0,.15,-.3]});u("arrow","triangle");u("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(e,r,n,i){var a=s(this.points,r,n,i),l=this.controlPoint,u=o(l[0],l[1],r,n,i);t.arrowShapeImpl(this.name)(e,a,u)},gap:function(e){return e.pstyle("width").pfValue}});u("triangle-tee",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,r,i,a,o){var u=l(s(this.points,r+2*o,i,a)),c=l(s(this.pointsTee,r+2*o,i,a)),f=n.pointInsidePolygonPoints(e,t,u)||n.pointInsidePolygonPoints(e,t,c);return f},draw:function(e,r,n,i){var a=s(this.points,r,n,i),o=s(this.pointsTee,r,n,i);t.arrowShapeImpl(this.name)(e,a,o)}});u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return e.pstyle("width").pfValue}});u("circle",{radius:.15,collide:function(e,t,r,n,i,a){var o=i,s=Math.pow(o.x-e,2)+Math.pow(o.y-t,2)<=Math.pow((r+2*a)*this.radius,2);return s},draw:function(e,r,n,i){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*r)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue)*this.radius}});u("inhibitor",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}});u("tee","inhibitor");u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]});u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue}})};t.exports=o},{"../../../is":94,"../../../math":96,"../../../util":111}],69:[function(e,t,r){"use strict";function n(e,t,r){for(var n=function(e,t,r,n){return i.qbezierAt(e,t,r,n)},a=t._private,o=a.rstyle.bezierPts,s=0;s<e.bezierProjPcts.length;s++){var l=e.bezierProjPcts[s];o.push({x:n(r[0],r[2],r[4],l),y:n(r[1],r[3],r[5],l)})}}var i=e("../../../math"),a=e("../../../is"),o=e("../../../util"),s=e("../../../collection/zsort"),l=e("../../../window"),u={};u.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,n=function(e,r){t.merge(e);for(var n=0;n<e.length;n++){var i=e[n],a=i._private,o=a.rstyle;o.clean=!1;a.bbCache=null;var s=o.dirtyEvents=o.dirtyEvents||{length:0};if(!s[r.type]){s[r.type]=!0;s.length++}}};r.binder(e).on("position.* style.* free.*","node",function(t){var r=t.cyTarget;n(r,t);n(r.connectedEdges(),t);if(e.hasCompoundNodes()){var i=r.parents();n(i,t);n(i.connectedEdges(),t)}}).on("add.* background.*","node",function(e){var t=e.cyTarget;n(t,e)}).on("add.* style.*","edge",function(e){var t=e.cyTarget;n(t,e);n(t.parallelEdges(),e)}).on("remove.*","edge",function(e){for(var t=e.cyTarget,r=t.parallelEdges(),i=0;i<r.length;i++){var a=r[i];a.removed()||n(a,e)}});var i=function(n){if(n){var i=r.onUpdateEleCalcsFns;if(i)for(var a=0;a<i.length;a++){var o=i[a];o(n,t)}r.recalculateRenderedStyle(t,!1);for(var a=0;a<t.length;a++)t[a]._private.rstyle.dirtyEvents=null;t=e.collection()}};r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};u.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};u.recalculateRenderedStyle=function(e,t){var r=[],n=[];if(!this.destroyed){void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var a=e[i],o=a._private,s=o.rstyle;if(!(t&&s.clean||a.removed())){"nodes"===o.group?n.push(a):r.push(a);s.clean=!0}}for(var i=0;i<n.length;i++){var a=n[i],o=a._private,s=o.rstyle,l=o.position;this.recalculateNodeLabelProjection(a);s.nodeX=l.x;s.nodeY=l.y;s.nodeW=a.pstyle("width").pfValue;s.nodeH=a.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var i=0;i<r.length;i++){var a=r[i],o=a._private,s=o.rstyle,u=o.rscratch;this.recalculateEdgeLabelProjections(a);s.srcX=u.arrowStartX;s.srcY=u.arrowStartY;s.tgtX=u.arrowEndX;s.tgtY=u.arrowEndY;s.midX=u.midX;s.midY=u.midY;s.labelAngle=u.labelAngle;s.sourceLabelAngle=u.sourceLabelAngle;s.targetLabelAngle=u.targetLabelAngle}}};u.projectIntoViewport=function(e,t){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],o=r.pan(),s=r.zoom(),l=(e-i-o.x)/s,u=(t-a-o.y)/s;return[l,u]};u.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=l.getComputedStyle(e),n=function(e){return parseFloat(r.getPropertyValue(e))},i={left:n("padding-left")+n("border-left-width"),right:n("padding-right")+n("border-right-width"),top:n("padding-top")+n("border-top-width"),bottom:n("padding-bottom")+n("border-bottom-width")};return this.containerBB=[t.left+i.left,t.top+i.top,t.right-t.left-i.left-i.right,t.bottom-t.top-i.top-i.bottom]};u.invalidateContainerClientCoordsCache=function(){this.containerBB=null};u.findNearestElement=function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]};u.findNearestElements=function(e,t,r,n){function a(e,t){if(e.isNode()){if(d)return;d=e;g.push(e)}if(e.isEdge()&&(null==t||t<_))if(f){if(f.pstyle("z-index").value===e.pstyle("z-index").value)for(var r=0;r<g.length;r++)if(g[r].isEdge()){g[r]=e;f=e;_=null!=t?t:_;break}}else{g.push(e);f=e;_=null!=t?t:_}}function s(n){var i=n._private;if("no"!==n.pstyle("events").strValue){var o=n.outerWidth()+2*w,s=n.outerHeight()+2*w,l=o/2,u=s/2,c=i.position;if(c.x-l<=e&&e<=c.x+l&&c.y-u<=t&&t<=c.y+u){var f=!r||n.visible()&&!n.transparent();if(r&&!f)return;var d=h.nodeShapes[p.getNodeShape(n)];if(d.checkPoint(e,t,0,o,s,c.x,c.y)){a(n,0);return!0}}}}function l(n){var o=n._private;if("no"!==n.pstyle("events").strValue){var l,u,c=o.rscratch,f=n.pstyle("width").pfValue,d=f/2+b,v=d*d,y=2*d,w=o.source,x=o.target,_=!1,k=function(){if(void 0!==u)return u;if(!r){u=!0;return!0}var e=n.visible()&&!n.transparent();if(e){u=!0;return!0}u=!1;return!1};if("segments"===c.edgeType||"straight"===c.edgeType||"haystack"===c.edgeType){for(var C=c.allpts,E=0;E+3<C.length;E+=2)if((_=i.inLineVicinity(e,t,C[E],C[E+1],C[E+2],C[E+3],y))&&k()&&v>(l=i.sqdistToFiniteLine(e,t,C[E],C[E+1],C[E+2],C[E+3]))){a(n,l);return!0}}else if("bezier"===c.edgeType||"multibezier"===c.edgeType||"self"===c.edgeType||"compound"===c.edgeType)for(var C=c.allpts,E=0;E+5<c.allpts.length;E+=4)if((_=i.inBezierVicinity(e,t,C[E],C[E+1],C[E+2],C[E+3],C[E+4],C[E+5],y))&&k()&&v>(l=i.sqdistToQuadraticBezier(e,t,C[E],C[E+1],C[E+2],C[E+3],C[E+4],C[E+5]))){a(n,l);return!0}if(k())for(var w=w||o.source,x=x||o.target,S=p.getArrowWidth(f),T=[{name:"source",x:c.arrowStartX,y:c.arrowStartY,angle:c.srcArrowAngle},{name:"target",x:c.arrowEndX,y:c.arrowEndY,angle:c.tgtArrowAngle},{name:"mid-source",x:c.midX,y:c.midY,angle:c.midsrcArrowAngle},{name:"mid-target",x:c.midX,y:c.midY,angle:c.midtgtArrowAngle}],E=0;E<T.length;E++){var D=T[E],P=h.arrowShapes[n.pstyle(D.name+"-arrow-shape").value];if(P.roughCollide(e,t,S,D.angle,{x:D.x,y:D.y},b)&&P.collide(e,t,S,D.angle,{x:D.x,y:D.y},b)){a(n);return!0}}if(m&&g.length>0){s(w);s(x)}}}function u(e,t,r){return o.getPrefixedProperty(e,t,r)}function c(r,n){var o,s=r._private,l=x;o=n?n+"-":"";var c=r.pstyle(o+"label").value,f="yes"===r.pstyle("text-events").strValue;if(f&&c){var d=s.rstyle,p=r.pstyle("text-border-width").pfValue,h=u(d,"labelWidth",n)+p/2+2*l,v=u(d,"labelHeight",n)+p/2+2*l,g=u(d,"labelX",n),y=u(d,"labelY",n),m=u(s.rscratch,"labelAngle",n),b=g-h/2,w=g+h/2,_=y-v/2,k=y+v/2;if(m){var C=Math.cos(m),E=Math.sin(m),S=function(e,t){e-=g;t-=y;return{x:e*C-t*E+g,y:e*E+t*C+y}},T=S(b,_),D=S(b,k),P=S(w,_),j=S(w,k),L=[T.x,T.y,P.x,P.y,j.x,j.y,D.x,D.y];if(i.pointInsidePolygonPoints(e,t,L)){a(r);return!0}}else{var M={w:h,h:v,x1:b,x2:w,y1:_,y2:k};if(i.inBoundingBox(M,e,t)){a(r);return!0}}}}for(var f,d,p=this,h=this,v=h.getCachedZSortedEles(),g=[],y=h.cy.zoom(),m=h.cy.hasCompoundNodes(),b=(n?24:8)/y,w=(n?8:2)/y,x=(n?8:2)/y,_=1/0,k=v.length-1;k>=0;k--){var C=v[k];C.isNode()?s(C)||c(C):l(C)||c(C)||c(C,"source")||c(C,"target")}return g};u.getAllInBox=function(e,t,r,n){var a=this.getCachedZSortedEles(),o=a.nodes,s=a.edges,l=[],u=Math.min(e,r),c=Math.max(e,r),f=Math.min(t,n),d=Math.max(t,n);e=u;r=c;t=f;n=d;for(var p=i.makeBoundingBox({x1:e,y1:t,x2:r,y2:n}),h=0;h<o.length;h++){var v=o[h],g=v.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1,includeShadows:!1});i.boundingBoxesIntersect(p,g)&&l.push(o[h])}for(var y=0;y<s.length;y++){var m=s[y],b=m._private,w=b.rscratch;if((null==w.startX||null==w.startY||i.inBoundingBox(p,w.startX,w.startY))&&(null==w.endX||null==w.endY||i.inBoundingBox(p,w.endX,w.endY)))if("bezier"===w.edgeType||"multibezier"===w.edgeType||"self"===w.edgeType||"compound"===w.edgeType||"segments"===w.edgeType||"haystack"===w.edgeType){for(var x=b.rstyle.bezierPts||b.rstyle.linePts||b.rstyle.haystackPts,_=!0,h=0;h<x.length;h++)if(!i.pointInBoundingBox(p,x[h])){_=!1;break}_&&l.push(m)}else"haystack"!==w.edgeType&&"straight"!==w.edgeType||l.push(m)}return l};u.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(e.isParent())return"rectangle"===r||"roundrectangle"===r?r:"rectangle";if("polygon"===r){var n=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(n).name}return r};u.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)};u.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;e.drag=[];e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=e[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?t.push(n):i.inDragLayer?e.drag.push(n):e.nondrag.push(n)}for(var r=0;r<t.length;r++){var n=t[r];e.drag.push(n)}};u.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements(),r=[];r.nodes=[];r.edges=[];for(var n=0;n<t.length;n++){var i=t[n];if(i.animated()||i.visible()&&!i.transparent()){r.push(i);i.isNode()?r.nodes.push(i):r.edges.push(i)}}r.sort(s);this.cachedZSortedEles=r;this.updateCachedGrabbedEles()}else r=this.cachedZSortedEles;return r};u.projectLines=function(e){var t=e._private,r=t.rscratch,i=r.edgeType;t.rstyle.bezierPts=null;t.rstyle.linePts=null;t.rstyle.haystackPts=null;if("multibezier"===i||"bezier"===i||"self"===i||"compound"===i)for(var a=(t.rstyle.bezierPts=[],0);a+5<r.allpts.length;a+=4)n(this,e,r.allpts.slice(a,a+6));else if("segments"===i)for(var o=t.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)o.push({x:r.allpts[a],y:r.allpts[a+1]});else if("haystack"===i){var s=r.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue)*this.arrowShapeWidth};u.projectBezier=u.projectLines;u.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!a.emptyString(t)){var r,n,i=e._private,o=e.width(),s=e.height(),l=e.pstyle("padding").pfValue,u=i.position,c=e.pstyle("text-halign").strValue,f=e.pstyle("text-valign").strValue,d=i.rscratch,p=i.rstyle;switch(c){case"left":r=u.x-o/2-l;break;case"right":r=u.x+o/2+l;break;default:r=u.x}switch(f){case"top":n=u.y-s/2-l;break;case"bottom":n=u.y+s/2+l;break;default:n=u.y}d.labelX=r;d.labelY=n;p.labelX=r;p.labelY=n;this.applyLabelDimensions(e)}};u.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,a=this,s={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(s.mid||s.source||s.target){t={x:n.midX,y:n.midY};var l=function(e,t,n){o.setPrefixedProperty(r.rscratch,e,t,n);o.setPrefixedProperty(r.rstyle,e,t,n)};l("labelX",null,t.x);l("labelY",null,t.y);var u=function(){function e(e,t,r,n,a){var o=i.dist(t,r),s=e.segments[e.segments.length-1],l={p0:t,p1:r,t0:n,t1:a,startDist:s?s.startDist+s.length:0,length:o};e.segments.push(l);e.length+=o}if(u.cache)return u.cache;for(var t=[],o=0;o+5<n.allpts.length;o+=4){var s={x:n.allpts[o],y:n.allpts[o+1]},l={x:n.allpts[o+2],y:n.allpts[o+3]},c={x:n.allpts[o+4],y:n.allpts[o+5]};t.push({p0:s,p1:l,p2:c,startDist:0,length:0,segments:[]})}for(var f=r.rstyle.bezierPts,d=a.bezierProjPcts.length,o=0;o<t.length;o++){var p=t[o],h=t[o-1];h&&(p.startDist=h.startDist+h.length);e(p,p.p0,f[o*d],0,a.bezierProjPcts[0]);for(var v=0;v<d-1;v++)e(p,f[o*d+v],f[o*d+v+1],a.bezierProjPcts[v],a.bezierProjPcts[v+1]);e(p,f[o*d+d-1],p.p2,a.bezierProjPcts[d-1],1)}return u.cache=t},c=function(r){var a,o="source"===r;if(s[r]){var c=e.pstyle(r+"-text-offset").pfValue,f=function(e,t){var r=t.x-e.x,n=t.y-e.y;return Math.atan(n/r)},d=function(e,t,r,n){var a=i.bound(0,n-.001,1),o=i.bound(0,n+.001,1),s=i.qbezierPtAt(e,t,r,a),l=i.qbezierPtAt(e,t,r,o);return f(s,l)};switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var p,h=u(),v=0,g=0,y=0;y<h.length;y++){for(var m=h[o?y:h.length-1-y],b=0;b<m.segments.length;b++){var w=m.segments[o?b:m.segments.length-1-b],x=y===h.length-1&&b===m.segments.length-1;v=g;g+=w.length;if(g>=c||x){p={cp:m,segment:w};break}}if(p)break}var m=p.cp,w=p.segment,_=(c-v)/w.length,k=w.t1-w.t0,C=o?w.t0+k*_:w.t1-k*_;C=i.bound(0,C,1);t=i.qbezierPtAt(m.p0,m.p1,m.p2,C);a=d(m.p0,m.p1,m.p2,C,t);break;case"straight":case"segments":case"haystack":for(var E,S,T,D,P=0,j=n.allpts.length,y=0;y+3<j;y+=2){if(o){T={x:n.allpts[y],y:n.allpts[y+1]};D={x:n.allpts[y+2],y:n.allpts[y+3]}}else{T={x:n.allpts[j-2-y],y:n.allpts[j-1-y]};D={x:n.allpts[j-4-y],y:n.allpts[j-3-y]}}E=i.dist(T,D);S=P;P+=E;if(P>=c)break}var L=c-S,C=L/E;C=i.bound(0,C,1);t=i.lineAt(T,D,C);a=f(T,D)}l("labelX",r,t.x);l("labelY",r,t.y);l("labelAutoAngle",r,a)}};c("source");c("target");this.applyLabelDimensions(e)}};u.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e);if(e.isEdge()){this.applyPrefixedLabelDimensions(e,"source");this.applyPrefixedLabelDimensions(e,"target")}};u.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,n);o.setPrefixedProperty(r.rstyle,"labelWidth",t,i.width);o.setPrefixedProperty(r.rscratch,"labelWidth",t,i.width);o.setPrefixedProperty(r.rstyle,"labelHeight",t,i.height);o.setPrefixedProperty(r.rscratch,"labelHeight",t,i.height)};u.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",i=e.pstyle(n+"label").strValue,a=e.pstyle("text-transform").value,s=function(e,n){if(n){o.setPrefixedProperty(r.rscratch,e,t,n);return n}return o.getPrefixedProperty(r.rscratch,e,t)};"none"==a||("uppercase"==a?i=i.toUpperCase():"lowercase"==a&&(i=i.toLowerCase()));if("wrap"===e.pstyle("text-wrap").value){var l=s("labelKey");if(l&&s("labelWrapKey")===l)return s("labelWrapCachedText");for(var u=i.split("\n"),c=e.pstyle("text-max-width").pfValue,f=[],d=0;d<u.length;d++){var p=u[d],h=this.calculateLabelDimensions(e,p,"line="+p),v=h.width;if(v>c){for(var g=p.split(/\s+/),y="",m=0;m<g.length;m++){var b=g[m],w=0===y.length?b:y+" "+b,x=this.calculateLabelDimensions(e,w,"testLine="+w),_=x.width;if(_<=c)y+=b+" ";else{f.push(y);y=b+" "}}y.match(/^\s+$/)||f.push(y)}else f.push(p)}s("labelWrapCachedLines",f);i=s("labelWrapCachedText",f.join("\n"));s("labelWrapKey",l)}return i};u.calculateLabelDimensions=function(e,t,r){var n=this,i=e._private.labelStyleKey+"$@$"+t;r&&(i+="$@$"+r);var a=n.labelDimCache||(n.labelDimCache={});if(a[i])return a[i];var o=1,s=e.pstyle("font-style").strValue,l=o*e.pstyle("font-size").pfValue+"px",u=e.pstyle("font-family").strValue,c=e.pstyle("font-weight").strValue,f=this.labelCalcDiv;if(!f){f=this.labelCalcDiv=document.createElement("div");document.body.appendChild(f)}var d=f.style;d.fontFamily=u;d.fontStyle=s;d.fontSize=l;d.fontWeight=c;d.position="absolute";d.left="-9999px";d.top="-9999px";d.zIndex="-1";d.visibility="hidden";d.pointerEvents="none";d.padding="0";d.lineHeight="1";"wrap"===e.pstyle("text-wrap").value?d.whiteSpace="pre":d.whiteSpace="normal";f.textContent=t;a[i]={width:Math.ceil(f.clientWidth/o),height:Math.ceil(f.clientHeight/o)};return a[i]};u.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};u.findEdgeControlPoints=function(e){if(e&&0!==e.length){for(var t,r=this,n=r.cy,o=n.hasCompoundNodes(),s={},l=[],u=[],c=0;c<e.length;c++){var f=e[c],d=f._private,p=d.data,h=f.pstyle("curve-style").value,v="unbundled-bezier"===h||"segments"===h;if("none"!==f.pstyle("display").value)if("haystack"!==h){var g=p.source,y=p.target;t=g>y?y+"$-$"+g:g+"$-$"+y;v&&(t="unbundled$-$"+p.id);if(null==s[t]){s[t]=[];l.push(t)}s[t].push(f);v&&(s[t].hasUnbundled=!0)}else u.push(f)}for(var m,b,w,x,_,k,C,E,S,T,D,P,j,L,M=0;M<l.length;M++){t=l[M];var A=s[t];A.sort(function(e,t){return e.poolIndex()-t.poolIndex()});m=A[0]._private.source;b=A[0]._private.target;if(!A.hasUnbundled&&m.id()>b.id()){var N=m;m=b;b=N}w=m._private;x=b._private;_=w.position;k=x.position;C=m.outerWidth();E=m.outerHeight();S=b.outerWidth();T=b.outerHeight();D=r.nodeShapes[this.getNodeShape(m)];P=r.nodeShapes[this.getNodeShape(b)];L=!1;if(A.length>1&&m!==b||A.hasUnbundled){var O=D.intersectLine(_.x,_.y,C,E,k.x,k.y,0),R=P.intersectLine(k.x,k.y,S,T,_.x,_.y,0),I={x1:O[0],x2:R[0],y1:O[1],y2:R[1]},z={x1:_.x,x2:k.x,y1:_.y,y2:k.y},B=R[1]-O[1],q=R[0]-O[0],F=Math.sqrt(q*q+B*B),V={x:q,y:B},X={x:V.x/F,y:V.y/F};j={x:-X.y,y:X.x};if(P.checkPoint(O[0],O[1],0,S,T,k.x,k.y)&&D.checkPoint(R[0],R[1],0,C,E,_.x,_.y)){j={};L=!0}}for(var f,Y,W,c=0;c<A.length;c++){f=A[c];Y=f._private;W=Y.rscratch;var U=W.lastEdgeIndex,H=c,$=W.lastNumEdges,G=A.length,h=f.pstyle("curve-style").value,Q=f.pstyle("control-point-distances"),Z=f.pstyle("control-point-weights"),J=Q&&Z?Math.min(Q.value.length,Z.value.length):1,K=f.pstyle("control-point-step-size").pfValue,ee=Q?Q.pfValue[0]:void 0,te=Z.value[0],v="unbundled-bezier"===h||"segments"===h,re=W.lastSrcCtlPtX,ne=_.x,ie=W.lastSrcCtlPtY,ae=_.y,oe=W.lastSrcCtlPtW,se=m.outerWidth(),le=W.lastSrcCtlPtH,ue=m.outerHeight(),ce=W.lastTgtCtlPtX,fe=k.x,de=W.lastTgtCtlPtY,pe=k.y,he=W.lastTgtCtlPtW,ve=b.outerWidth(),ge=W.lastTgtCtlPtH,ye=b.outerHeight(),me=W.lastW,be=f.pstyle("control-point-step-size").pfValue,we=f.pstyle("edge-distances").value;L?W.badBezier=!0:W.badBezier=!1;if(re!==ne||ie!==ae||oe!==se||le!==ue||ce!==fe||de!==pe||he!==ve||ge!==ye||me!==be||!(U===H&&$===G||v)){W.lastSrcCtlPtX=ne;W.lastSrcCtlPtY=ae;W.lastSrcCtlPtW=se;W.lastSrcCtlPtH=ue;W.lastTgtCtlPtX=fe;W.lastTgtCtlPtY=pe;W.lastTgtCtlPtW=ve;W.lastTgtCtlPtH=ye;W.lastEdgeIndex=H;W.lastNumEdges=G;W.lastWidth=be;if(m===b){W.edgeType="self";var xe=c,_e=K;if(v){xe=0;_e=ee}W.ctrlpts=[_.x,_.y-(1+Math.pow(E,1.12)/100)*_e*(xe/3+1),_.x-(1+Math.pow(C,1.12)/100)*_e*(xe/3+1),_.y]}else if(o&&(m.isParent()||m.isChild()||b.isParent()||b.isChild())&&(m.parents().anySame(b)||b.parents().anySame(m))){W.edgeType="compound";W.badBezier=!1;var xe=c,_e=K;if(v){xe=0;_e=ee}var ke=50,Ce={x:_.x-C/2,y:_.y-E/2},Ee={x:k.x-S/2,y:k.y-T/2},Se={x:Math.min(Ce.x,Ee.x),y:Math.min(Ce.y,Ee.y)},Te=.5,De=Math.max(Te,Math.log(.01*C)),Pe=Math.max(Te,Math.log(.01*S));W.ctrlpts=[Se.x,Se.y-(1+Math.pow(ke,1.12)/100)*_e*(xe/3+1)*De,Se.x-(1+Math.pow(ke,1.12)/100)*_e*(xe/3+1)*Pe,Se.y]}else if("segments"===h){W.edgeType="segments";W.segpts=[];for(var je=f.pstyle("segment-weights").pfValue,Le=f.pstyle("segment-distances").pfValue,Me=Math.min(je.length,Le.length),Ae=0;Ae<Me;Ae++){var Ne=je[Ae],Oe=Le[Ae],Re=1-Ne,Ie=Ne,ze="node-position"===we?z:I,Be={x:ze.x1*Re+ze.x2*Ie,y:ze.y1*Re+ze.y2*Ie};W.segpts.push(Be.x+j.x*Oe,Be.y+j.y*Oe)}}else if(A.length%2!==1||c!==Math.floor(A.length/2)||v){var qe=v;W.edgeType=qe?"multibezier":"bezier";W.ctrlpts=[];for(var Fe=0;Fe<J;Fe++){var Ve,Xe=(.5-A.length/2+c)*K,Ye=i.signum(Xe);if(qe){ee=Q?Q.pfValue[Fe]:K;te=Z.value[Fe]}Ve=v?ee:void 0!==ee?Ye*ee:void 0;var We=void 0!==Ve?Ve:Xe,Re=1-te,Ie=te,ze="node-position"===we?z:I,Be={x:ze.x1*Re+ze.x2*Ie,y:ze.y1*Re+ze.y2*Ie};W.ctrlpts.push(Be.x+j.x*We,Be.y+j.y*We)}}else W.edgeType="straight";this.findEndpoints(f);var Ue=!a.number(W.startX)||!a.number(W.startY),He=!a.number(W.arrowStartX)||!a.number(W.arrowStartY),$e=!a.number(W.endX)||!a.number(W.endY),Ge=!a.number(W.arrowEndX)||!a.number(W.arrowEndY),Qe=3,Ze=this.getArrowWidth(f.pstyle("width").pfValue)*this.arrowShapeWidth,Je=Qe*Ze;if("bezier"===W.edgeType){var Ke=i.dist({x:W.ctrlpts[0],y:W.ctrlpts[1]},{x:W.startX,y:W.startY}),et=Ke<Je,tt=i.dist({x:W.ctrlpts[0],y:W.ctrlpts[1]},{x:W.endX,y:W.endY}),rt=tt<Je,nt=!1;if(Ue||He||et){nt=!0;var it={x:W.ctrlpts[0]-_.x,y:W.ctrlpts[1]-_.y},at=Math.sqrt(it.x*it.x+it.y*it.y),ot={x:it.x/at,y:it.y/at},st=Math.max(C,E),lt={x:W.ctrlpts[0]+2*ot.x*st,y:W.ctrlpts[1]+2*ot.y*st},ut=D.intersectLine(_.x,_.y,C,E,lt.x,lt.y,0);if(et){W.ctrlpts[0]=W.ctrlpts[0]+ot.x*(Je-Ke);W.ctrlpts[1]=W.ctrlpts[1]+ot.y*(Je-Ke)}else{W.ctrlpts[0]=ut[0]+ot.x*Je;W.ctrlpts[1]=ut[1]+ot.y*Je}}if($e||Ge||rt){nt=!0;var it={x:W.ctrlpts[0]-k.x,y:W.ctrlpts[1]-k.y},at=Math.sqrt(it.x*it.x+it.y*it.y),ot={x:it.x/at,y:it.y/at},st=Math.max(C,E),lt={x:W.ctrlpts[0]+2*ot.x*st,y:W.ctrlpts[1]+2*ot.y*st},ct=P.intersectLine(k.x,k.y,S,T,lt.x,lt.y,0);if(rt){W.ctrlpts[0]=W.ctrlpts[0]+ot.x*(Je-tt);W.ctrlpts[1]=W.ctrlpts[1]+ot.y*(Je-tt)}else{W.ctrlpts[0]=ct[0]+ot.x*Je;W.ctrlpts[1]=ct[1]+ot.y*Je}}nt&&this.findEndpoints(f)}if("multibezier"===W.edgeType||"bezier"===W.edgeType||"self"===W.edgeType||"compound"===W.edgeType){W.allpts=[];W.allpts.push(W.startX,W.startY);for(var Fe=0;Fe+1<W.ctrlpts.length;Fe+=2){W.allpts.push(W.ctrlpts[Fe],W.ctrlpts[Fe+1]);Fe+3<W.ctrlpts.length&&W.allpts.push((W.ctrlpts[Fe]+W.ctrlpts[Fe+2])/2,(W.ctrlpts[Fe+1]+W.ctrlpts[Fe+3])/2)}W.allpts.push(W.endX,W.endY);var ft,dt;if(W.ctrlpts.length/2%2===0){ft=W.allpts.length/2-1;W.midX=W.allpts[ft];W.midY=W.allpts[ft+1]}else{ft=W.allpts.length/2-3;dt=.5;W.midX=i.qbezierAt(W.allpts[ft],W.allpts[ft+2],W.allpts[ft+4],dt);W.midY=i.qbezierAt(W.allpts[ft+1],W.allpts[ft+3],W.allpts[ft+5],dt)}}else if("straight"===W.edgeType){W.allpts=[W.startX,W.startY,W.endX,W.endY];W.midX=(W.startX+W.endX+W.arrowStartX+W.arrowEndX)/4;W.midY=(W.startY+W.endY+W.arrowStartY+W.arrowEndY)/4}else if("segments"===W.edgeType){W.allpts=[];W.allpts.push(W.startX,W.startY);W.allpts.push.apply(W.allpts,W.segpts);W.allpts.push(W.endX,W.endY);if(W.segpts.length%4===0){var pt=W.segpts.length/2,ht=pt-2;W.midX=(W.segpts[ht]+W.segpts[pt])/2;W.midY=(W.segpts[ht+1]+W.segpts[pt+1])/2}else{var ht=W.segpts.length/2-1;W.midX=W.segpts[ht];W.midY=W.segpts[ht+1]}}this.projectLines(f);this.calculateArrowAngles(f);this.recalculateEdgeLabelProjections(f);this.calculateLabelAngles(f)}}}for(var c=0;c<u.length;c++){var f=u[c],d=f._private,vt=d.rscratch,W=vt;if(!vt.haystack){var gt=2*Math.random()*Math.PI;vt.source={x:Math.cos(gt),y:Math.sin(gt)};var gt=2*Math.random()*Math.PI;vt.target={x:Math.cos(gt),y:Math.sin(gt)}}var m=d.source,b=d.target,_=m._private.position,k=b._private.position,C=m.width(),S=b.width(),E=m.height(),T=b.height(),st=f.pstyle("haystack-radius").value,yt=st/2;W.haystackPts=W.allpts=[W.source.x*C*yt+_.x,W.source.y*E*yt+_.y,W.target.x*S*yt+k.x,W.target.y*T*yt+k.y];W.midX=(W.allpts[0]+W.allpts[2])/2;W.midY=(W.allpts[1]+W.allpts[3])/2;vt.edgeType="haystack";vt.haystack=!0;this.projectLines(f);this.calculateArrowAngles(f);this.recalculateEdgeLabelProjections(f);this.calculateLabelAngles(f)}return s}};var c=function(e,t){return Math.atan2(t,e)-Math.PI/2};u.calculateArrowAngles=function(e){var t,r,n,a,o,s,l=e._private.rscratch,u="haystack"===l.edgeType,f="multibezier"===l.edgeType,d="segments"===l.edgeType,p="compound"===l.edgeType,h="self"===l.edgeType,v=e._private.source._private.position,g=e._private.target._private.position;if(u){n=l.haystackPts[0];a=l.haystackPts[1];o=l.haystackPts[2];s=l.haystackPts[3]}else{n=l.arrowStartX;a=l.arrowStartY;o=l.arrowEndX;s=l.arrowEndY}t=v.x-n;r=v.y-a;l.srcArrowAngle=c(t,r);var y=l.midX,m=l.midY;if(u){y=(n+o)/2;m=(a+s)/2}t=o-n;r=s-a;if(h){t=-1;r=1}else if(d){var b=l.allpts;if(b.length/2%2===0){var w=b.length/2,x=w-2;t=b[w]-b[x];r=b[w+1]-b[x+1]}else{var w=b.length/2-1,x=w-2,_=w+2;t=b[w]-b[x];r=b[w+1]-b[x+1]}}else if(f||p){var k,C,E,S,b=l.allpts,T=l.ctrlpts;if(T.length/2%2===0){var D=b.length/2-1,P=D+2,j=P+2;k=i.qbezierAt(b[D],b[P],b[j],0);C=i.qbezierAt(b[D+1],b[P+1],b[j+1],0);E=i.qbezierAt(b[D],b[P],b[j],1e-4);S=i.qbezierAt(b[D+1],b[P+1],b[j+1],1e-4)}else{var P=b.length/2-1,D=P-2,j=P+2;k=i.qbezierAt(b[D],b[P],b[j],.4999);C=i.qbezierAt(b[D+1],b[P+1],b[j+1],.4999);E=i.qbezierAt(b[D],b[P],b[j],.5);S=i.qbezierAt(b[D+1],b[P+1],b[j+1],.5)}t=E-k;r=S-C}l.midtgtArrowAngle=c(t,r);l.midDispX=t;l.midDispY=r;t*=-1;r*=-1;if(d){var b=l.allpts;if(b.length/2%2===0);else{var w=b.length/2-1,_=w+2;t=-(b[_]-b[w]);r=-(b[_+1]-b[w+1])}}l.midsrcArrowAngle=c(t,r);t=g.x-o;r=g.y-s;l.tgtArrowAngle=c(t,r)};u.calculateLabelAngles=function(e){var t=e._private,r=t.rscratch,n=e.isEdge(),i=e.pstyle("text-rotation"),a=i.strValue;if("none"===a)r.labelAngle=r.sourceLabelAngle=r.targetLabelAngle=0;else if(n&&"autorotate"===a){r.labelAngle=Math.atan(r.midDispY/r.midDispX);r.sourceLabelAngle=r.sourceLabelAutoAngle;r.targetLabelAngle=r.targetLabelAutoAngle}else"autorotate"===a?r.labelAngle=r.sourceLabelAngle=r.targetLabelAngle=0:r.labelAngle=r.sourceLabelAngle=r.targetLabelAngle=i.pfValue};u.findEndpoints=function(e){var t,r,n,o=this,s=e.source()[0],l=e.target()[0],u=s._private,c=l._private,f=u.position,d=c.position,p=e.pstyle("target-arrow-shape").value,h=e.pstyle("source-arrow-shape").value,v=e._private.rscratch,g=v.edgeType,y="bezier"===g||"multibezier"===g||"self"===g||"compound"===g,m="bezier"!==g,b="straight"===g||"segments"===g,w="segments"===g,x=y||m||b;if(y){var _=[v.ctrlpts[0],v.ctrlpts[1]],k=m?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:_;r=k;n=_}else if(b){var C=w?v.segpts.slice(0,2):[d.x,d.y],E=w?v.segpts.slice(v.segpts.length-2):[f.x,f.y];r=E;n=C}t=o.nodeShapes[this.getNodeShape(l)].intersectLine(d.x,d.y,l.outerWidth(),l.outerHeight(),r[0],r[1],0);var S=i.shortenIntersection(t,r,o.arrowShapes[p].spacing(e)),T=i.shortenIntersection(t,r,o.arrowShapes[p].gap(e));v.endX=T[0];v.endY=T[1];v.arrowEndX=S[0];v.arrowEndY=S[1];t=o.nodeShapes[this.getNodeShape(s)].intersectLine(f.x,f.y,s.outerWidth(),s.outerHeight(),n[0],n[1],0);var D=i.shortenIntersection(t,n,o.arrowShapes[h].spacing(e)),P=i.shortenIntersection(t,n,o.arrowShapes[h].gap(e));v.startX=P[0];v.startY=P[1];v.arrowStartX=D[0];v.arrowStartY=D[1];x&&(a.number(v.startX)&&a.number(v.startY)&&a.number(v.endX)&&a.number(v.endY)?v.badLine=!1:v.badLine=!0)};u.getArrowWidth=u.getArrowHeight=function(e){var t=this.arrowWidthCache=this.arrowWidthCache||{},r=t[e];if(r)return r;r=Math.max(Math.pow(13.37*e,.9),29);t[e]=r;return r};t.exports=u},{"../../../collection/zsort":43,"../../../is":94,"../../../math":96,"../../../util":111,"../../../window":118}],70:[function(e,t,r){"use strict";var n={};n.getCachedImage=function(e,t,r){var n=this,i=n.imageCache=n.imageCache||{},a=i[e];if(a){a.image.complete||a.image.addEventListener("load",r);return a.image}a=i[e]=i[e]||{};var o=a.image=new Image;o.addEventListener("load",r);var s="data:",l=e.substring(0,s.length).toLowerCase()===s;l||(o.crossOrigin=t);o.src=e;return o};t.exports=n},{}],71:[function(e,t,r){"use strict";var n=e("../../../is"),i=e("../../../util"),a=function(e){this.init(e)},o=a,s=o.prototype;s.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];s.init=function(e){var t=this;t.options=e;t.cy=e.cy;t.container=e.cy.container();t.selection=[void 0,void 0,void 0,void 0,0];t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95];t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1};t.dragData={possibleDragElements:[]};t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]};t.redraws=0;t.showFps=e.showFps;t.hideEdgesOnViewport=e.hideEdgesOnViewport;t.hideLabelsOnViewport=e.hideLabelsOnViewport;t.textureOnViewport=e.textureOnViewport;t.wheelSensitivity=e.wheelSensitivity;t.motionBlurEnabled=e.motionBlur;t.forcedPixelRatio=e.pixelRatio;t.motionBlur=e.motionBlur;t.motionBlurOpacity=e.motionBlurOpacity;t.motionBlurTransparency=1-t.motionBlurOpacity;t.motionBlurPxRatio=1;t.mbPxRBlurry=1;t.minMbLowQualFrames=4;t.fullQualityMb=!1;t.clearedForMotionBlur=[];t.desktopTapThreshold=e.desktopTapThreshold;t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold;t.touchTapThreshold=e.touchTapThreshold;t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold;t.tapholdDuration=500;t.bindings=[];t.beforeRenderCallbacks=[];t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:100};t.registerNodeShapes();t.registerArrowShapes();t.registerCalculationListeners();t.load()};s.notify=function(e){var t,r=this;if(!this.destroyed){t=n.array(e.type)?e.type:[e.type];for(var i={},a=0;a<t.length;a++){var o=t[a];i[o]=!0}if(i.destroy)r.destroy();else{(i.add||i.remove||i.load||i.style)&&r.updateCachedZSortedEles();i.viewport&&r.redrawHint("select",!0);if(i.load||i.resize){r.invalidateContainerClientCoordsCache();r.matchCanvasSize(r.container)}r.redrawHint("eles",!0);r.redrawHint("drag",!0);this.startRenderLoop();this.redraw()}}};s.destroy=function(){var e=this;e.destroyed=!0;e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}e.bindings=[];e.beforeRenderCallbacks=[];e.onUpdateEleCalcsFns=[];e.removeObserver&&e.removeObserver.disconnect();e.styleObserver&&e.styleObserver.disconnect();if(e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(a){}};[e("./arrow-shapes"),e("./coord-ele-math"),e("./images"),e("./load-listeners"),e("./node-shapes"),e("./redraw")].forEach(function(e){i.extend(s,e)});t.exports=o},{"../../../is":94,"../../../util":111,"./arrow-shapes":68,"./coord-ele-math":69,"./images":70,"./load-listeners":72,"./node-shapes":73,"./redraw":74}],72:[function(e,t,r){"use strict";var n=e("../../../is"),i=e("../../../util"),a=e("../../../math"),o=e("../../../event"),s={};s.registerBinding=function(e,t,r,n){var i=Array.prototype.slice.apply(arguments,[1]),a=this.binder(e);return a.on.apply(a,i)};s.binder=function(e){var t=this,r=function(){var r=arguments;t.bindings.push({target:e,args:r});(e.addEventListener||e.on).apply(e,r);return this};return{on:r,addEventListener:r,addListener:r,bind:r}};s.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};s.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&0!==e.pstyle("opacity").value&&"visible"===e.pstyle("visibility").value&&"element"===e.pstyle("display").value};s.load=function(){var e=this,t=function(t,r,n,a){null==t&&(t=e.cy);for(var s=0;s<r.length;s++){var l=r[s],u=new o(n,i.extend({
type:l},a));t.trigger(u)}},r=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},s=function(t,r){var n=!0;if(e.cy.hasCompoundNodes()&&t&&t.isEdge())for(var i=0;r&&i<r.length;i++){var t=r[i];if(t.isNode()&&t.isParent()){n=!1;break}}else n=!0;return n},l=function(t){var r;if(t.addToList&&e.cy.hasCompoundNodes()){if(!t.addToList.hasId){t.addToList.hasId={};for(var n=0;n<t.addToList.length;n++){var i=t.addToList[n];t.addToList.hasId[i.id()]=!0}}r=t.addToList.hasId}return r||{}},u=function(e){e[0]._private.grabbed=!0},c=function(e){e[0]._private.grabbed=!1},f=function(e){e[0]._private.rscratch.inDragLayer=!0},d=function(e){e[0]._private.rscratch.inDragLayer=!1},p=function(e){e[0]._private.rscratch.isGrabTarget=!0},h=function(e){e[0]._private.rscratch.isGrabTarget=!1},v=function(e,t){var r=l(t);if(!r[e.id()]){t.addToList.push(e);r[e.id()]=!0;u(e)}},g=function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var r=e.descendants();if(t.inDragLayer){r.forEach(f);r.connectedEdges().forEach(f)}t.addToList&&r.forEach(function(e){v(e,t)})}},y=function(t,r){r=r||{};var n=t.cy().hasCompoundNodes();if(r.inDragLayer){t.forEach(f);t.neighborhood().stdFilter(function(e){return!n||e.isEdge()}).forEach(f)}r.addToList&&t.forEach(function(e){v(e,r)});g(t,r);w(t,{inDragLayer:r.inDragLayer});e.updateCachedGrabbedEles()},m=y,b=function(t){if(t){t.hasId={};e.getCachedZSortedEles().forEach(function(e){c(e);d(e);h(e)});e.updateCachedGrabbedEles()}},w=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var r=e.ancestors().orphans();if(!r.same(e)){var n=r.descendants().spawnSelf().merge(r).unmerge(e).unmerge(e.descendants()),i=n.connectedEdges();if(t.inDragLayer){i.forEach(f);n.forEach(f)}t.addToList&&n.forEach(function(e){v(e,t)})}}},x="undefined"!=typeof MutationObserver;if(x){e.removeObserver=new MutationObserver(function(t){for(var r=0;r<t.length;r++){var n=t[r],i=n.removedNodes;if(i)for(var a=0;a<i.length;a++){var o=i[a];if(o===e.container){e.destroy();break}}}});e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})}else e.registerBinding(e.container,"DOMNodeRemoved",function(t){e.destroy()});var _=i.debounce(function(){e.cy.invalidateSize();e.invalidateContainerClientCoordsCache();e.matchCanvasSize(e.container);e.redrawHint("eles",!0);e.redrawHint("drag",!0);e.redraw()},100);if(x){e.styleObserver=new MutationObserver(_);e.styleObserver.observe(e.container,{attributes:!0})}e.registerBinding(window,"resize",_);for(var k=function(t){e.registerBinding(t,"scroll",function(t){e.invalidateContainerClientCoordsCache()})},C=e.cy.container();;){k(C);if(!C.parentNode)break;C=C.parentNode}e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var E=function(){return 0!==e.selection[4]},S=function(t){for(var r=e.findContainerClientCoords(),n=r[0],i=r[1],a=r[2],o=r[3],s=t.touches?t.touches:[t],l=!1,u=0;u<s.length;u++){var c=s[u];if(n<=c.clientX&&c.clientX<=n+a&&i<=c.clientY&&c.clientY<=i+o){l=!0;break}}if(!l)return!1;for(var f=e.container,d=t.target,p=d.parentNode,h=!1;p;){if(p===f){h=!0;break}p=p.parentNode}return!!h};e.registerBinding(e.container,"mousedown",function(r){if(S(r)){r.preventDefault();e.hoverData.capture=!0;e.hoverData.which=r.which;var n=e.cy,i=[r.clientX,r.clientY],a=e.projectIntoViewport(i[0],i[1]),s=e.selection,l=e.findNearestElements(a[0],a[1],!0,!1),u=l[0],c=e.dragData.possibleDragElements;e.hoverData.mdownPos=a;e.hoverData.mdownGPos=i;var f=function(){e.hoverData.tapholdCancelled=!1;clearTimeout(e.hoverData.tapholdTimeout);e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var t=e.hoverData.down;t?t.trigger(new o(r,{type:"taphold",cyPosition:{x:a[0],y:a[1]}})):n.trigger(new o(r,{type:"taphold",cyPosition:{x:a[0],y:a[1]}}))}},e.tapholdDuration)};if(3==r.which){e.hoverData.cxtStarted=!0;var d=new o(r,{type:"cxttapstart",cyPosition:{x:a[0],y:a[1]}});if(u){u.activate();u.trigger(d);e.hoverData.down=u}else n.trigger(d);e.hoverData.downTime=(new Date).getTime();e.hoverData.cxtDragged=!1}else if(1==r.which){u&&u.activate();if(null!=u&&e.nodeIsGrabbable(u)){var h=new o(r,{type:"grab",cyPosition:{x:a[0],y:a[1]}});p(u);if(u.selected()){if(u.selected()){c=e.dragData.possibleDragElements=[];var v=n.$(function(){return this.isNode()&&this.selected()&&e.nodeIsGrabbable(this)});y(v,{addToList:c});u.trigger(h)}}else{c=e.dragData.possibleDragElements=[];m(u,{addToList:c});u.trigger(h)}e.redrawHint("eles",!0);e.redrawHint("drag",!0)}e.hoverData.down=u;e.hoverData.downs=l;e.hoverData.downTime=(new Date).getTime();t(u,["mousedown","tapstart","vmousedown"],r,{cyPosition:{x:a[0],y:a[1]}});if(null==u){s[4]=1;e.data.bgActivePosistion={x:a[0],y:a[1]};e.redrawHint("select",!0);e.redraw()}else u.isEdge()&&(s[4]=1);f()}s[0]=s[2]=a[0];s[1]=s[3]=a[1]}},!1);e.registerBinding(window,"mousemove",function(i){var l=e.hoverData.capture;if(l||S(i)){var u=!1,c=e.cy,f=c.zoom(),d=[i.clientX,i.clientY],p=e.projectIntoViewport(d[0],d[1]),h=e.hoverData.mdownPos,v=e.hoverData.mdownGPos,g=e.selection,m=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(m=e.findNearestElement(p[0],p[1],!0,!1));var b,w=e.hoverData.last,x=e.hoverData.down,_=[p[0]-g[2],p[1]-g[3]],k=e.dragData.possibleDragElements;if(v){var C=d[0]-v[0],E=C*C,T=d[1]-v[1],D=T*T,P=E+D;b=P>=e.desktopTapThreshold2}var j=r(i);b&&(e.hoverData.tapholdCancelled=!0);var L=function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];if(0===t.length){t.push(_[0]);t.push(_[1])}else{t[0]+=_[0];t[1]+=_[1]}};u=!0;t(m,["mousemove","vmousemove","tapdrag"],i,{cyPosition:{x:p[0],y:p[1]}});if(3===e.hoverData.which){if(b){var M=new o(i,{type:"cxtdrag",cyPosition:{x:p[0],y:p[1]}});x?x.trigger(M):c.trigger(M);e.hoverData.cxtDragged=!0;if(!e.hoverData.cxtOver||m!==e.hoverData.cxtOver){e.hoverData.cxtOver&&e.hoverData.cxtOver.trigger(new o(i,{type:"cxtdragout",cyPosition:{x:p[0],y:p[1]}}));e.hoverData.cxtOver=m;m&&m.trigger(new o(i,{type:"cxtdragover",cyPosition:{x:p[0],y:p[1]}}))}}}else if(e.hoverData.dragging){u=!0;if(c.panningEnabled()&&c.userPanningEnabled()){var A;if(e.hoverData.justStartedPan){var N=e.hoverData.mdownPos;A={x:(p[0]-N[0])*f,y:(p[1]-N[1])*f};e.hoverData.justStartedPan=!1}else A={x:_[0]*f,y:_[1]*f};c.panBy(A);e.hoverData.dragged=!0}p=e.projectIntoViewport(i.clientX,i.clientY)}else if(1!=g[4]||null!=x&&!x.isEdge()){x&&x.isEdge()&&x.active()&&x.unactivate();if(!(x&&x.grabbed()||m==w)){w&&t(w,["mouseout","tapdragout"],i,{cyPosition:{x:p[0],y:p[1]}});m&&t(m,["mouseover","tapdragover"],i,{cyPosition:{x:p[0],y:p[1]}});e.hoverData.last=m}if(x&&e.nodeIsDraggable(x))if(b){var O=!e.dragData.didDrag;O&&e.redrawHint("eles",!0);e.dragData.didDrag=!0;var R=[];e.hoverData.draggingEles||y(c.collection(k),{inDragLayer:!0});for(var I=0;I<k.length;I++){var z=k[I];if(e.nodeIsDraggable(z)&&z.grabbed()){var B=z._private.position;R.push(z);if(n.number(_[0])&&n.number(_[1])){var q=!z.isParent();if(q){B.x+=_[0];B.y+=_[1]}if(O){var F=e.hoverData.dragDelta;if(q&&F&&n.number(F[0])&&n.number(F[1])){B.x+=F[0];B.y+=F[1]}}}}}e.hoverData.draggingEles=!0;var V=c.collection(R);V.updateCompoundBounds();V.trigger("position drag");e.redrawHint("drag",!0);e.redraw()}else L();u=!0}else if(b){if(e.hoverData.dragging||!c.boxSelectionEnabled()||!j&&c.panningEnabled()&&c.userPanningEnabled()){if(!e.hoverData.selecting&&c.panningEnabled()&&c.userPanningEnabled()){var X=s(x,e.hoverData.downs);if(X){e.hoverData.dragging=!0;e.hoverData.justStartedPan=!0;g[4]=0;e.data.bgActivePosistion=a.array2point(h);e.redrawHint("select",!0);e.redraw()}}}else{e.data.bgActivePosistion=void 0;e.hoverData.selecting||c.trigger("boxstart");e.hoverData.selecting=!0;e.redrawHint("select",!0);e.redraw()}x&&x.isEdge()&&x.active()&&x.unactivate()}g[2]=p[0];g[3]=p[1];if(u){i.stopPropagation&&i.stopPropagation();i.preventDefault&&i.preventDefault();return!1}}},!1);e.registerBinding(window,"mouseup",function(n){var i=e.hoverData.capture;if(i){e.hoverData.capture=!1;var a=e.cy,s=e.projectIntoViewport(n.clientX,n.clientY),l=e.selection,u=e.findNearestElement(s[0],s[1],!0,!1),c=e.dragData.possibleDragElements,f=e.hoverData.down,d=r(n);if(e.data.bgActivePosistion){e.redrawHint("select",!0);e.redraw()}e.hoverData.tapholdCancelled=!0;e.data.bgActivePosistion=void 0;f&&f.unactivate();if(3===e.hoverData.which){var p=new o(n,{type:"cxttapend",cyPosition:{x:s[0],y:s[1]}});f?f.trigger(p):a.trigger(p);if(!e.hoverData.cxtDragged){var h=new o(n,{type:"cxttap",cyPosition:{x:s[0],y:s[1]}});f?f.trigger(h):a.trigger(h)}e.hoverData.cxtDragged=!1;e.hoverData.which=null}else if(1===e.hoverData.which){if(!(null!=f||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||r(n))){a.$(function(){return this.selected()}).unselect();c.length>0&&e.redrawHint("eles",!0);e.dragData.possibleDragElements=c=[]}t(u,["mouseup","tapend","vmouseup"],n,{cyPosition:{x:s[0],y:s[1]}});e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||t(f,["click","tap","vclick"],n,{cyPosition:{x:s[0],y:s[1]}});if(u==f&&!e.dragData.didDrag&&!e.hoverData.selecting&&null!=u&&u._private.selectable){if(e.hoverData.dragging);else if("additive"===a.selectionType()||d)u.selected()?u.unselect():u.select();else if(!d){a.$(":selected").unmerge(u).unselect();u.select()}e.redrawHint("eles",!0)}if(e.hoverData.selecting){var v=a.collection(e.getAllInBox(l[0],l[1],l[2],l[3]));e.redrawHint("select",!0);v.length>0&&e.redrawHint("eles",!0);a.trigger("boxend");var g=function(e){return e.selectable()&&!e.selected()};if("additive"===a.selectionType())v.trigger("box").stdFilter(g).select().trigger("boxselect");else{d||a.$(":selected").unmerge(v).unselect();v.trigger("box").stdFilter(g).select().trigger("boxselect")}e.redraw()}if(e.hoverData.dragging){e.hoverData.dragging=!1;e.redrawHint("select",!0);e.redrawHint("eles",!0);e.redraw()}if(!l[4]){e.redrawHint("drag",!0);e.redrawHint("eles",!0);var y=f&&f.grabbed();b(c);y&&f.trigger("free")}}l[4]=0;e.hoverData.down=null;e.hoverData.cxtStarted=!1;e.hoverData.draggingEles=!1;e.hoverData.selecting=!1;e.dragData.didDrag=!1;e.hoverData.dragged=!1;e.hoverData.dragDelta=[];e.hoverData.mdownPos=null;e.hoverData.mdownGPos=null}},!1);var T=function(t){if(!e.scrollingPage){var r=e.cy,n=e.projectIntoViewport(t.clientX,t.clientY),i=[n[0]*r.zoom()+r.pan().x,n[1]*r.zoom()+r.pan().y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||E())t.preventDefault();else if(r.panningEnabled()&&r.userPanningEnabled()&&r.zoomingEnabled()&&r.userZoomingEnabled()){t.preventDefault();e.data.wheelZooming=!0;clearTimeout(e.data.wheelTimeout);e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1;e.redrawHint("eles",!0);e.redraw()},150);var a;a=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3;a*=e.wheelSensitivity;var o=1===t.deltaMode;o&&(a*=33);r.zoom({level:r.zoom()*Math.pow(10,a),renderedPosition:{x:i[0],y:i[1]}})}}};e.registerBinding(e.container,"wheel",T,!0);e.registerBinding(window,"scroll",function(t){e.scrollingPage=!0;clearTimeout(e.scrollingPageTimeout);e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0);e.registerBinding(e.container,"mouseout",function(t){var r=e.projectIntoViewport(t.clientX,t.clientY);e.cy.trigger(new o(t,{type:"mouseout",cyPosition:{x:r[0],y:r[1]}}))},!1);e.registerBinding(e.container,"mouseover",function(t){var r=e.projectIntoViewport(t.clientX,t.clientY);e.cy.trigger(new o(t,{type:"mouseover",cyPosition:{x:r[0],y:r[1]}}))},!1);var D,P,j,L,M,A,N,O,R,I,z,B,q,F,V=function(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))},X=function(e,t,r,n){return(r-e)*(r-e)+(n-t)*(n-t)};e.registerBinding(e.container,"touchstart",F=function(r){if(S(r)){e.touchData.capture=!0;e.data.bgActivePosistion=void 0;var n=e.cy,i=e.touchData.now,a=e.touchData.earlier;if(r.touches[0]){var s=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);i[0]=s[0];i[1]=s[1]}if(r.touches[1]){var s=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);i[2]=s[0];i[3]=s[1]}if(r.touches[2]){var s=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);i[4]=s[0];i[5]=s[1]}if(r.touches[1]){b(e.dragData.touchDragEles);var l=e.findContainerClientCoords();R=l[0];I=l[1];z=l[2];B=l[3];D=r.touches[0].clientX-R;P=r.touches[0].clientY-I;j=r.touches[1].clientX-R;L=r.touches[1].clientY-I;q=0<=D&&D<=z&&0<=j&&j<=z&&0<=P&&P<=B&&0<=L&&L<=B;var u=n.pan(),c=n.zoom();M=V(D,P,j,L);A=X(D,P,j,L);N=[(D+j)/2,(P+L)/2];O=[(N[0]-u.x)/c,(N[1]-u.y)/c];var f=200,d=f*f;if(A<d&&!r.touches[2]){var h=e.findNearestElement(i[0],i[1],!0,!0),v=e.findNearestElement(i[2],i[3],!0,!0);if(h&&h.isNode()){h.activate().trigger(new o(r,{type:"cxttapstart",cyPosition:{x:i[0],y:i[1]}}));e.touchData.start=h}else if(v&&v.isNode()){v.activate().trigger(new o(r,{type:"cxttapstart",cyPosition:{x:i[0],y:i[1]}}));e.touchData.start=v}else n.trigger(new o(r,{type:"cxttapstart",cyPosition:{x:i[0],y:i[1]}}));e.touchData.start&&(e.touchData.start._private.grabbed=!1);e.touchData.cxt=!0;e.touchData.cxtDragged=!1;e.data.bgActivePosistion=void 0;e.redraw();return}}if(r.touches[2]);else if(r.touches[1]);else if(r.touches[0]){var g=e.findNearestElements(i[0],i[1],!0,!0),w=g[0];if(null!=w){w.activate();e.touchData.start=w;e.touchData.starts=g;if(e.nodeIsGrabbable(w)){var x=e.dragData.touchDragEles=[];e.redrawHint("eles",!0);e.redrawHint("drag",!0);if(w.selected()){var _=n.$(function(){return this.selected()&&e.nodeIsGrabbable(this)});y(_,{addToList:x})}else m(w,{addToList:x});p(w);w.trigger(new o(r,{type:"grab",cyPosition:{x:i[0],y:i[1]}}))}}t(w,["touchstart","tapstart","vmousedown"],r,{cyPosition:{x:i[0],y:i[1]}});if(null==w){e.data.bgActivePosistion={x:s[0],y:s[1]};e.redrawHint("select",!0);e.redraw()}e.touchData.singleTouchMoved=!1;e.touchData.singleTouchStartTime=+new Date;clearTimeout(e.touchData.tapholdTimeout);e.touchData.tapholdTimeout=setTimeout(function(){if(e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting){t(e.touchData.start,["taphold"],r,{cyPosition:{x:i[0],y:i[1]}});e.touchData.start||n.$(":selected").unselect()}},e.tapholdDuration)}if(r.touches.length>=1){for(var k=e.touchData.startPosition=[],C=0;C<i.length;C++)k[C]=a[C]=i[C];var E=r.touches[0];e.touchData.startGPosition=[E.clientX,E.clientY]}}},!1);var Y;e.registerBinding(window,"touchmove",Y=function(r){var i=e.touchData.capture;if(i||S(r)){var l=e.selection,u=e.cy,c=e.touchData.now,f=e.touchData.earlier,d=u.zoom();if(r.touches[0]){var p=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);c[0]=p[0];c[1]=p[1]}if(r.touches[1]){var p=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);c[2]=p[0];c[3]=p[1]}if(r.touches[2]){var p=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);c[4]=p[0];c[5]=p[1]}var h,v=e.touchData.startGPosition;if(i&&r.touches[0]&&v){for(var g=[],m=0;m<c.length;m++)g[m]=c[m]-f[m];var w=r.touches[0].clientX-v[0],x=w*w,_=r.touches[0].clientY-v[1],k=_*_,C=x+k;h=C>=e.touchTapThreshold2}if(i&&e.touchData.cxt){r.preventDefault();var E=r.touches[0].clientX-R,T=r.touches[0].clientY-I,N=r.touches[1].clientX-R,z=r.touches[1].clientY-I,B=X(E,T,N,z),F=B/A,Y=150,W=Y*Y,U=1.5,H=U*U;if(F>=H||B>=W){e.touchData.cxt=!1;e.data.bgActivePosistion=void 0;e.redrawHint("select",!0);var $=new o(r,{type:"cxttapend",cyPosition:{x:c[0],y:c[1]}});if(e.touchData.start){e.touchData.start.unactivate().trigger($);e.touchData.start=null}else u.trigger($)}}if(i&&e.touchData.cxt){var $=new o(r,{type:"cxtdrag",cyPosition:{x:c[0],y:c[1]}});e.data.bgActivePosistion=void 0;e.redrawHint("select",!0);e.touchData.start?e.touchData.start.trigger($):u.trigger($);e.touchData.start&&(e.touchData.start._private.grabbed=!1);e.touchData.cxtDragged=!0;var G=e.findNearestElement(c[0],c[1],!0,!0);if(!e.touchData.cxtOver||G!==e.touchData.cxtOver){e.touchData.cxtOver&&e.touchData.cxtOver.trigger(new o(r,{type:"cxtdragout",cyPosition:{x:c[0],y:c[1]}}));e.touchData.cxtOver=G;G&&G.trigger(new o(r,{type:"cxtdragover",cyPosition:{x:c[0],y:c[1]}}))}}else if(i&&r.touches[2]&&u.boxSelectionEnabled()){r.preventDefault();e.data.bgActivePosistion=void 0;this.lastThreeTouch=+new Date;e.touchData.selecting||u.trigger("boxstart");e.touchData.selecting=!0;e.redrawHint("select",!0);if(l&&0!==l.length&&void 0!==l[0]){l[2]=(c[0]+c[2]+c[4])/3;l[3]=(c[1]+c[3]+c[5])/3}else{l[0]=(c[0]+c[2]+c[4])/3;l[1]=(c[1]+c[3]+c[5])/3;l[2]=(c[0]+c[2]+c[4])/3+1;l[3]=(c[1]+c[3]+c[5])/3+1}l[4]=1;e.touchData.selecting=!0;e.redraw()}else if(i&&r.touches[1]&&u.zoomingEnabled()&&u.panningEnabled()&&u.userZoomingEnabled()&&u.userPanningEnabled()){r.preventDefault();e.data.bgActivePosistion=void 0;e.redrawHint("select",!0);var Q=e.dragData.touchDragEles;if(Q){e.redrawHint("drag",!0);for(var Z=0;Z<Q.length;Z++){var J=Q[Z]._private;J.grabbed=!1;J.rscratch.inDragLayer=!1}}var E=r.touches[0].clientX-R,T=r.touches[0].clientY-I,N=r.touches[1].clientX-R,z=r.touches[1].clientY-I,K=V(E,T,N,z),ee=K/M;if(q){var te=E-D,re=T-P,ne=N-j,ie=z-L,ae=(te+ne)/2,oe=(re+ie)/2,se=u.zoom(),le=se*ee,ue=u.pan(),ce=O[0]*se+ue.x,fe=O[1]*se+ue.y,de={x:-le/se*(ce-ue.x-ae)+ce,y:-le/se*(fe-ue.y-oe)+fe};if(e.touchData.start&&e.touchData.start.active()){var Q=e.dragData.touchDragEles;b(Q);e.redrawHint("drag",!0);e.redrawHint("eles",!0);e.touchData.start.unactivate().trigger("free")}u.viewport({zoom:le,pan:de,cancelOnFailedZoom:!0});M=K;D=E;P=T;j=N;L=z;e.pinching=!0}if(r.touches[0]){var p=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);c[0]=p[0];c[1]=p[1]}if(r.touches[1]){var p=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);c[2]=p[0];c[3]=p[1]}if(r.touches[2]){var p=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);c[4]=p[0];c[5]=p[1]}}else if(r.touches[0]){var G,pe=e.touchData.start,he=e.touchData.last;e.hoverData.draggingEles||e.swipePanning||(G=e.findNearestElement(c[0],c[1],!0,!0));i&&null!=pe&&r.preventDefault();if(i&&null!=pe&&e.nodeIsDraggable(pe))if(h){var Q=e.dragData.touchDragEles,ve=!e.dragData.didDrag;ve&&y(u.collection(Q),{inDragLayer:!0});for(var ge=0;ge<Q.length;ge++){var ye=Q[ge];if(e.nodeIsDraggable(ye)&&ye.grabbed()){e.dragData.didDrag=!0;var me=ye._private.position,be=!ye.isParent();if(be&&n.number(g[0])&&n.number(g[1])){me.x+=g[0];me.y+=g[1]}if(ve){e.redrawHint("eles",!0);var we=e.touchData.dragDelta;if(be&&we&&n.number(we[0])&&n.number(we[1])){me.x+=we[0];me.y+=we[1]}}}}var xe=u.collection(Q);xe.updateCompoundBounds();xe.trigger("position drag");e.hoverData.draggingEles=!0;e.redrawHint("drag",!0);e.touchData.startPosition[0]==f[0]&&e.touchData.startPosition[1]==f[1]&&e.redrawHint("eles",!0);e.redraw()}else{var we=e.touchData.dragDelta=e.touchData.dragDelta||[];if(0===we.length){we.push(g[0]);we.push(g[1])}else{we[0]+=g[0];we[1]+=g[1]}}t(pe||G,["touchmove","tapdrag","vmousemove"],r,{cyPosition:{x:c[0],y:c[1]}});if(!(pe&&pe.grabbed()||G==he)){he&&he.trigger(new o(r,{type:"tapdragout",cyPosition:{x:c[0],y:c[1]}}));G&&G.trigger(new o(r,{type:"tapdragover",cyPosition:{x:c[0],y:c[1]}}))}e.touchData.last=G;if(i)for(var Z=0;Z<c.length;Z++)c[Z]&&e.touchData.startPosition[Z]&&h&&(e.touchData.singleTouchMoved=!0);if(i&&(null==pe||pe.isEdge())&&u.panningEnabled()&&u.userPanningEnabled()){var _e=s(pe,e.touchData.starts);if(_e){r.preventDefault();if(e.swipePanning)u.panBy({x:g[0]*d,y:g[1]*d});else if(h){e.swipePanning=!0;u.panBy({x:w*d,y:_*d});if(pe){pe.unactivate();e.data.bgActivePosistion||(e.data.bgActivePosistion=a.array2point(e.touchData.startPosition));e.redrawHint("select",!0);e.touchData.start=null}}}var p=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);c[0]=p[0];c[1]=p[1]}}for(var m=0;m<c.length;m++)f[m]=c[m]}},!1);var W;e.registerBinding(window,"touchcancel",W=function(t){var r=e.touchData.start;e.touchData.capture=!1;r&&r.unactivate()});var U;e.registerBinding(window,"touchend",U=function(r){var n=e.touchData.start,i=e.touchData.capture;if(i){e.touchData.capture=!1;r.preventDefault();var a=e.selection;e.swipePanning=!1;e.hoverData.draggingEles=!1;var s=e.cy,l=s.zoom(),u=e.touchData.now,c=e.touchData.earlier;if(r.touches[0]){var f=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);u[0]=f[0];u[1]=f[1]}if(r.touches[1]){var f=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);u[2]=f[0];u[3]=f[1]}if(r.touches[2]){var f=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);u[4]=f[0];u[5]=f[1]}n&&n.unactivate();var d;if(e.touchData.cxt){d=new o(r,{type:"cxttapend",cyPosition:{x:u[0],y:u[1]}});n?n.trigger(d):s.trigger(d);if(!e.touchData.cxtDragged){var p=new o(r,{type:"cxttap",cyPosition:{x:u[0],y:u[1]}});n?n.trigger(p):s.trigger(p)}e.touchData.start&&(e.touchData.start._private.grabbed=!1);e.touchData.cxt=!1;e.touchData.start=null;e.redraw()}else{if(!r.touches[2]&&s.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var h=s.collection(e.getAllInBox(a[0],a[1],a[2],a[3]));a[0]=void 0;a[1]=void 0;a[2]=void 0;a[3]=void 0;a[4]=0;e.redrawHint("select",!0);s.trigger("boxend");var v=function(e){return e.selectable()&&!e.selected()};h.trigger("box").stdFilter(v).select().trigger("boxselect");h.nonempty()&&e.redrawHint("eles",!0);e.redraw()}null!=n&&n.unactivate();if(r.touches[2]){e.data.bgActivePosistion=void 0;e.redrawHint("select",!0)}else if(r.touches[1]);else if(r.touches[0]);else if(!r.touches[0]){e.data.bgActivePosistion=void 0;e.redrawHint("select",!0);var g=e.dragData.touchDragEles;if(null!=n){var y=n._private.grabbed;b(g);e.redrawHint("drag",!0);e.redrawHint("eles",!0);y&&n.trigger("free");t(n,["touchend","tapend","vmouseup","tapdragout"],r,{cyPosition:{x:u[0],y:u[1]}});n.unactivate();e.touchData.start=null}else{var m=e.findNearestElement(u[0],u[1],!0,!0);t(m,["touchend","tapend","vmouseup","tapdragout"],r,{cyPosition:{x:u[0],y:u[1]}})}var w=e.touchData.startPosition[0]-u[0],x=w*w,_=e.touchData.startPosition[1]-u[1],k=_*_,C=x+k,E=C*l*l;if(null!=n&&!e.dragData.didDrag&&n._private.selectable&&E<e.touchTapThreshold2&&!e.pinching){if("single"===s.selectionType()){s.$(":selected").unmerge(n).unselect();n.select()}else n.selected()?n.unselect():n.select();e.redrawHint("eles",!0)}e.touchData.singleTouchMoved||t(n,["tap","vclick"],r,{cyPosition:{x:u[0],y:u[1]}});e.touchData.singleTouchMoved=!0}for(var S=0;S<u.length;S++)c[S]=u[S];e.dragData.didDrag=!1;if(0===r.touches.length){e.touchData.dragDelta=[];e.touchData.startPosition=null;e.touchData.startGPosition=null}if(r.touches.length<2){e.pinching=!1;e.redrawHint("eles",!0);e.redraw()}}}},!1);if("undefined"==typeof TouchEvent){var H=[],$=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},G=function(e){return{event:e,touch:$(e)}},Q=function(e){H.push(G(e))},Z=function(e){for(var t=0;t<H.length;t++){var r=H[t];if(r.event.pointerId===e.pointerId){H.splice(t,1);return}}},J=function(e){var t=H.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e;t.touch=$(e)},K=function(e){e.touches=H.map(function(e){return e.touch})};e.registerBinding(e.container,"pointerdown",function(e){if("mouse"!==e.pointerType){e.preventDefault();Q(e);K(e);F(e)}});e.registerBinding(e.container,"pointerup",function(e){if("mouse"!==e.pointerType){Z(e);K(e);U(e)}});e.registerBinding(e.container,"pointercancel",function(e){if("mouse"!==e.pointerType){Z(e);K(e);W(e)}});e.registerBinding(e.container,"pointermove",function(e){if("mouse"!==e.pointerType){e.preventDefault();J(e);K(e);Y(e)}})}};t.exports=s},{"../../../event":56,"../../../is":94,"../../../math":96,"../../../util":111}],73:[function(e,t,r){"use strict";var n=e("../../../math"),i={};i.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,r,n,i){this.renderer.nodeShapeImpl("polygon",e,t,r,n,i,this.points)},intersectLine:function(e,t,r,i,a,o,s){return n.polygonIntersectLine(a,o,this.points,e,t,r/2,i/2,s)},checkPoint:function(e,t,r,i,a,o,s){return n.pointInsidePolygon(e,t,this.points,o,s,i,a,[0,-1],r)}}};i.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,r,n,i){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},intersectLine:function(e,t,r,i,a,o,s){return n.intersectLineEllipse(a,o,e,t,r/2+s,i/2+s)},checkPoint:function(e,t,r,n,i,a,o){e-=a;t-=o;e/=n/2+r;t/=i/2+r;return e*e+t*t<=1}}};i.generateRoundRectangle=function(){return this.nodeShapes.roundrectangle={renderer:this,name:"roundrectangle",points:n.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,r,n,i){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},intersectLine:function(e,t,r,i,a,o,s){return n.roundRectangleIntersectLine(a,o,e,t,r,i,s)},checkPoint:function(e,t,r,i,a,o,s){var l=n.getRoundRectangleRadius(i,a);if(n.pointInsidePolygon(e,t,this.points,o,s,i,a-2*l,[0,-1],r))return!0;if(n.pointInsidePolygon(e,t,this.points,o,s,i-2*l,a,[0,-1],r))return!0;var u=function(e,t,r,n,i,a,o){e-=r;t-=n;e/=i/2+o;t/=a/2+o;return e*e+t*t<=1};return!!u(e,t,o-i/2+l,s-a/2+l,2*l,2*l,r)||(!!u(e,t,o+i/2-l,s-a/2+l,2*l,2*l,r)||(!!u(e,t,o+i/2-l,s+a/2-l,2*l,2*l,r)||!!u(e,t,o-i/2+l,s+a/2-l,2*l,2*l,r)))}}};i.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse();this.generatePolygon("triangle",n.generateUnitNgonPointsFitToSquare(3,0));this.generatePolygon("rectangle",n.generateUnitNgonPointsFitToSquare(4,0));e.square=e.rectangle;this.generateRoundRectangle();this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]);this.generatePolygon("pentagon",n.generateUnitNgonPointsFitToSquare(5,0));this.generatePolygon("hexagon",n.generateUnitNgonPointsFitToSquare(6,0));this.generatePolygon("heptagon",n.generateUnitNgonPointsFitToSquare(7,0));this.generatePolygon("octagon",n.generateUnitNgonPointsFitToSquare(8,0));var r=new Array(20),i=n.generateUnitNgonPoints(5,0),a=n.generateUnitNgonPoints(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++){a[2*s]*=o;a[2*s+1]*=o}for(var s=0;s<5;s++){r[4*s]=i[2*s];r[4*s+1]=i[2*s+1];r[4*s+2]=a[2*s];r[4*s+3]=a[2*s+1]}r=n.fitPolygonToSquare(r);this.generatePolygon("star",r);this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]);this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]);e.makePolygon=function(e){var r,n=e.join("$"),i="polygon-"+n;return(r=this[i])?r:t.generatePolygon(i,e)}};t.exports=i},{"../../../math":96}],74:[function(e,t,r){"use strict";var n=e("../../../util"),i={};i.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};i.redraw=function(e){e=e||n.staticEmptyObject();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0);void 0===t.lastRedrawTime&&(t.lastRedrawTime=0);void 0===t.lastDrawTime&&(t.lastDrawTime=0);t.requestedFrame=!0;t.renderOptions=e};i.beforeRender=function(e,t){if(!this.destroyed){t=t||0;var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t});r.sort(function(e,t){return t.priority-e.priority})}};var a=function(e,t,r){for(var n=e.beforeRenderCallbacks,i=0;i<n.length;i++)n[i].fn(t,r)};i.startRenderLoop=function(){var e=this;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var t=function(r){if(!e.destroyed){if(e.requestedFrame&&!e.skipFrame){a(e,!0,r);var i=n.performanceNow();e.render(e.renderOptions);var o=e.lastDrawTime=n.performanceNow();void 0===e.averageRedrawTime&&(e.averageRedrawTime=o-i);void 0===e.redrawCount&&(e.redrawCount=0);e.redrawCount++;void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var s=o-i;e.redrawTotalTime+=s;e.lastRedrawTime=s;e.averageRedrawTime=e.averageRedrawTime/2+s/2;e.requestedFrame=!1}else a(e,!1,r);e.skipFrame=!1;n.requestAnimationFrame(t)}};n.requestAnimationFrame(t)}};t.exports=i},{"../../../util":111}],75:[function(e,t,r){"use strict";var n,i={};i.arrowShapeImpl=function(e){return(n||(n={polygon:function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}},"triangle-backcurve":function(e,t,r){for(var n,i=0;i<t.length;i++){var a=t[i];0===i&&(n=a);e.lineTo(a.x,a.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)},"triangle-tee":function(e,t,r){e.beginPath&&e.beginPath();for(var n=t,i=0;i<n.length;i++){var a=n[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath();e.beginPath&&e.beginPath();var o=r,s=r[0];e.moveTo(s.x,s.y);for(var i=0;i<o.length;i++){var a=o[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()},circle:function(e,t,r,n){e.arc(t,r,n,0,2*Math.PI,!1)}}))[e]};t.exports=i},{}],76:[function(e,t,r){"use strict";var n={};n.drawEdge=function(e,t,r,n,i){var a=t._private.rscratch,o=this.usePaths();if(!a.badLine&&!isNaN(a.allpts[0])&&t.visible()){var s;if(r){s=r;e.translate(-s.x1,-s.y1)}var l=t.pstyle("overlay-padding").pfValue,u=t.pstyle("overlay-opacity").value,c=t.pstyle("overlay-color").value;if(i){if(0===u)return;this.strokeStyle(e,c[0],c[1],c[2],u);e.lineCap="round";"self"!=a.edgeType||o||(e.lineCap="butt")}else{var f=t.pstyle("line-color").value;this.strokeStyle(e,f[0],f[1],f[2],t.pstyle("opacity").value);e.lineCap="butt"}e.lineJoin="round";var d=t.pstyle("width").pfValue+(i?2*l:0),p=i?"solid":t.pstyle("line-style").value;e.lineWidth=d;var h=t.pstyle("shadow-blur").pfValue,v=t.pstyle("shadow-opacity").value,g=t.pstyle("shadow-color").value,y=t.pstyle("shadow-offset-x").pfValue,m=t.pstyle("shadow-offset-y").pfValue;this.shadowStyle(e,g,i?0:v,h,y,m);this.drawEdgePath(t,e,a.allpts,p,d);this.drawArrowheads(e,t,i);this.shadowStyle(e,"transparent",0);i||this.drawEdge(e,t,!1,n,!0);this.drawElementText(e,t,n);r&&e.translate(s.x1,s.y1)}};n.drawEdgePath=function(e,t,r,n,i){var a,o=e._private.rscratch,s=t,l=!1,u=this.usePaths();if(u){var c=r.join("$"),f=o.pathCacheKey&&o.pathCacheKey===c;if(f){a=t=o.pathCache;l=!0}else{a=t=new Path2D;o.pathCacheKey=c;o.pathCache=a}}if(s.setLineDash)switch(n){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash([6,3]);break;case"solid":s.setLineDash([])}if(!l&&!o.badLine){t.beginPath&&t.beginPath();t.moveTo(r[0],r[1]);switch(o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<r.length;d+=4)t.quadraticCurveTo(r[d],r[d+1],r[d+2],r[d+3]);break;case"straight":case"segments":case"haystack":for(var d=2;d+1<r.length;d+=2)t.lineTo(r[d],r[d+1])}}t=s;u?t.stroke(a):t.stroke();t.setLineDash&&t.setLineDash([])};n.drawArrowheads=function(e,t,r){if(!r){var n=t._private.rscratch,i="haystack"===n.edgeType;i||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle);this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle);this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle);i||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle)}};n.drawArrowhead=function(e,t,r,n,i,a){if(!(isNaN(n)||null==n||isNaN(i)||null==i||isNaN(a)||null==a)){var o=this,s=t.pstyle(r+"-arrow-shape").value;if("none"!==s){var l=e.globalCompositeOperation,u="hollow"===t.pstyle(r+"-arrow-fill").value?"both":"filled",c=t.pstyle(r+"-arrow-fill").value,f=t.pstyle("opacity").value;if("half-triangle-overshot"===s){c="hollow";u="hollow"}if(1!==f||"hollow"===c){e.globalCompositeOperation="destination-out";o.fillStyle(e,255,255,255,1);o.strokeStyle(e,255,255,255,1);o.drawArrowShape(t,r,e,u,t.pstyle("width").pfValue,t.pstyle(r+"-arrow-shape").value,n,i,a);e.globalCompositeOperation=l}var d=t.pstyle(r+"-arrow-color").value;o.fillStyle(e,d[0],d[1],d[2],f);o.strokeStyle(e,d[0],d[1],d[2],f);o.drawArrowShape(t,r,e,c,t.pstyle("width").pfValue,t.pstyle(r+"-arrow-shape").value,n,i,a)}}};n.drawArrowShape=function(e,t,r,n,i,a,o,s,l){var u,c=this,f=this.usePaths(),d=e._private.rscratch,p=!1,h=r,v={x:o,y:s},g=this.getArrowWidth(i),y=c.arrowShapes[a];if(f){var m=g+"$"+a+"$"+l+"$"+o+"$"+s;d.arrowPathCacheKey=d.arrowPathCacheKey||{};d.arrowPathCache=d.arrowPathCache||{};var b=d.arrowPathCacheKey[t]===m;if(b){u=r=d.arrowPathCache[t];p=!0}else{u=r=new Path2D;d.arrowPathCacheKey[t]=m;d.arrowPathCache[t]=u}}r.beginPath&&r.beginPath();p||y.draw(r,g,l,v);!y.leavePathOpen&&r.closePath&&r.closePath();r=h;"filled"!==n&&"both"!==n||(f?r.fill(u):r.fill());if("hollow"===n||"both"===n){
r.lineWidth=y.matchEdgeWidth?i:1;r.lineJoin="miter";f?r.stroke(u):r.stroke()}};t.exports=n},{}],77:[function(e,t,r){"use strict";var n=e("../../../math"),i={};i.drawElement=function(e,t,r,n){var i=this;t.isNode()?i.drawNode(e,t,r,n):i.drawEdge(e,t,r,n)};i.drawCachedElement=function(e,t,r,i){var a=this,o=t.boundingBox();if(0!==o.w&&0!==o.h&&(!i||n.boundingBoxesIntersect(o,i))){var s=a.data.eleTxrCache.getElement(t,o,r);s?e.drawImage(s.texture.canvas,s.x,0,s.width,s.height,o.x1,o.y1,o.w,o.h):a.drawElement(e,t)}};i.drawElements=function(e,t){for(var r=this,n=0;n<t.length;n++){var i=t[n];r.drawElement(e,i)}};i.drawCachedElements=function(e,t,r,n){for(var i=this,a=0;a<t.length;a++){var o=t[a];i.drawCachedElement(e,o,r,n)}};i.drawCachedNodes=function(e,t,r,n){for(var i=this,a=0;a<t.length;a++){var o=t[a];o.isNode()&&i.drawCachedElement(e,o,r,n)}};i.drawLayeredElements=function(e,t,r,n){var i=this,a=i.data.lyrTxrCache.getLayers(t,r);if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s.bb;0!==l.w&&0!==l.h&&e.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(e,t,r,n)};t.exports=i},{"../../../math":96}],78:[function(e,t,r){"use strict";var n={};n.safeDrawImage=function(e,t,r,n,i,a,o,s,l,u){var c=this;try{e.drawImage(t,r,n,i,a,o,s,l,u)}catch(f){c.redrawHint("eles",!0);c.redrawHint("drag",!0);c.drawingImage=!0;c.redraw()}};n.drawInscribedImage=function(e,t,r){var n=this,i=r._private.position.x,a=r._private.position.y,o=r.pstyle("background-fit").value,s=r.pstyle("background-position-x"),l=r.pstyle("background-position-y"),u=r.pstyle("background-repeat").value,c=r.width(),f=r.height(),d=r._private.rscratch,p=r.pstyle("background-clip").value,h="node"===p,v=r.pstyle("background-image-opacity").value,g=t.width||t.cachedW,y=t.height||t.cachedH;if(null==g||null==y){document.body.appendChild(t);g=t.cachedW=t.width||t.offsetWidth;y=t.cachedH=t.height||t.offsetHeight;document.body.removeChild(t)}var m=g,b=y,w=r.pstyle("background-width");"auto"!==w.value&&(m="%"===w.units?w.value/100*c:w.pfValue);var x=r.pstyle("background-height");"auto"!==x.value&&(b="%"===x.units?x.value/100*f:x.pfValue);if(0!==m&&0!==b){if("contain"===o){var _=Math.min(c/m,f/b);m*=_;b*=_}else if("cover"===o){var _=Math.max(c/m,f/b);m*=_;b*=_}var k=i-c/2;k+="%"===s.units?(c-m)*s.value/100:s.pfValue;var C=a-f/2;C+="%"===l.units?(f-b)*l.value/100:l.pfValue;if(d.pathCache){k-=i;C-=a;i=0;a=0}var E=e.globalAlpha;e.globalAlpha=v;if("no-repeat"===u){if(h){e.save();if(d.pathCache)e.clip(d.pathCache);else{n.nodeShapes[n.getNodeShape(r)].draw(e,i,a,c,f);e.clip()}}n.safeDrawImage(e,t,0,0,g,y,k,C,m,b);h&&e.restore()}else{var S=e.createPattern(t,u);e.fillStyle=S;n.nodeShapes[n.getNodeShape(r)].draw(e,i,a,c,f);e.translate(k,C);e.fill();e.translate(-k,-C)}e.globalAlpha=E}};t.exports=n},{}],79:[function(e,t,r){"use strict";function n(e,t,r,n,i,a){var a=a||5;e.beginPath();e.moveTo(t+a,r);e.lineTo(t+n-a,r);e.quadraticCurveTo(t+n,r,t+n,r+a);e.lineTo(t+n,r+i-a);e.quadraticCurveTo(t+n,r+i,t+n-a,r+i);e.lineTo(t+a,r+i);e.quadraticCurveTo(t,r+i,t,r+i-a);e.lineTo(t,r+a);e.quadraticCurveTo(t,r,t+a,r);e.closePath();e.fill()}var i=e("../../../util"),a=e("../../../math"),o={};o.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(a.log2(r*n));t=Math.pow(2,i)}var o=e.pstyle("font-size").pfValue*t,s=e.pstyle("min-zoomed-font-size").pfValue;return!(o<s)};o.drawElementText=function(e,t,r){var n=this;if(void 0===r){if(!n.eleTextBiggerThanMin(t))return}else if(!r)return;if(t.isNode()){var i=t.pstyle("label");if(!i||!i.value)return;var a=t.pstyle("text-halign").strValue;t.pstyle("text-valign").strValue;switch(a){case"left":e.textAlign="right";break;case"right":e.textAlign="left";break;default:e.textAlign="center"}e.textBaseline="bottom"}else{var i=t.pstyle("label"),o=t.pstyle("source-label"),s=t.pstyle("target-label");if(!(i&&i.value||o&&o.value||s&&s.value))return;e.textAlign="center";e.textBaseline="bottom"}n.drawText(e,t);if(t.isEdge()){n.drawText(e,t,"source");n.drawText(e,t,"target")}};o.drawNodeText=o.drawEdgeText=o.drawElementText;o.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++){t=this.fontCaches[r];if(t.context===e)return t}t={context:e};this.fontCaches.push(t);return t};o.setupTextStyle=function(e,t){var r=t.effectiveOpacity(),n=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=t.pstyle("text-opacity").value*t.pstyle("opacity").value*r,l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value,f=t.pstyle("text-shadow-blur").pfValue,d=t.pstyle("text-shadow-opacity").value,p=t.pstyle("text-shadow-color").value,h=t.pstyle("text-shadow-offset-x").pfValue,v=t.pstyle("text-shadow-offset-y").pfValue,g=t._private.fontKey,y=this.getFontCache(e);if(y.key!==g){e.font=n+" "+o+" "+i+" "+a;y.key=g}e.lineJoin="round";this.fillStyle(e,u[0],u[1],u[2],s);this.strokeStyle(e,c[0],c[1],c[2],l);this.shadowStyle(e,p,d,f,h,v)};o.drawText=function(e,t,r){var a=t._private,o=a.rscratch,s=t.effectiveOpacity();if(0!==s&&0!==t.pstyle("text-opacity").value){var l=i.getPrefixedProperty(o,"labelX",r),u=i.getPrefixedProperty(o,"labelY",r),c=this.getLabelText(t,r);if(null!=c&&""!==c&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(e,t);var f=r?r+"-":"",d=i.getPrefixedProperty(o,"labelWidth",r),p=i.getPrefixedProperty(o,"labelHeight",r),h=i.getPrefixedProperty(o,"labelAngle",r),v=t.pstyle(f+"text-margin-x").pfValue,g=t.pstyle(f+"text-margin-y").pfValue,y=t.isEdge(),m=(t.isNode(),t.pstyle("text-halign").value),b=t.pstyle("text-valign").value;if(y){m="center";b="center"}l+=v;u+=g;var w,x=t.pstyle("text-rotation");w="autorotate"===x.strValue?y?h:0:"none"===x.strValue?0:x.pfValue;if(0!==w){var _=l,k=u;e.translate(_,k);e.rotate(w);l=0;u=0}switch(b){case"top":break;case"center":u+=p/2;break;case"bottom":u+=p}var C=t.pstyle("text-background-opacity").value,E=t.pstyle("text-border-opacity").value,S=t.pstyle("text-border-width").pfValue;if(C>0||S>0&&E>0){var T=l;switch(m){case"left":T-=d;break;case"center":T-=d/2;break;case"right":}var D=u-p;if(C>0){var P=e.fillStyle,j=t.pstyle("text-background-color").value;e.fillStyle="rgba("+j[0]+","+j[1]+","+j[2]+","+C*s+")";var L=t.pstyle("text-background-shape").strValue;"roundrectangle"==L?n(e,T,D,d,p,2):e.fillRect(T,D,d,p);e.fillStyle=P}if(S>0&&E>0){var M=e.strokeStyle,A=e.lineWidth,N=t.pstyle("text-border-color").value,O=t.pstyle("text-border-style").value;e.strokeStyle="rgba("+N[0]+","+N[1]+","+N[2]+","+E*s+")";e.lineWidth=S;if(e.setLineDash)switch(O){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=S/4;e.setLineDash([]);break;case"solid":e.setLineDash([])}e.strokeRect(T,D,d,p);if("double"===O){var R=S/2;e.strokeRect(T+R,D+R,d-2*R,p-2*R)}e.setLineDash&&e.setLineDash([]);e.lineWidth=A;e.strokeStyle=M}}var I=2*t.pstyle("text-outline-width").pfValue;I>0&&(e.lineWidth=I);if("wrap"===t.pstyle("text-wrap").value){var z=i.getPrefixedProperty(o,"labelWrapCachedLines",r),B=p/z.length;switch(b){case"top":u-=(z.length-1)*B;break;case"center":case"bottom":u-=(z.length-1)*B}for(var q=0;q<z.length;q++){I>0&&e.strokeText(z[q],l,u);e.fillText(z[q],l,u);u+=B}}else{I>0&&e.strokeText(c,l,u);e.fillText(c,l,u)}if(0!==w){e.rotate(-w);e.translate(-_,-k)}this.shadowStyle(e,"transparent",0)}}};t.exports=o},{"../../../math":96,"../../../util":111}],80:[function(e,t,r){"use strict";var n=e("../../../is"),i={};i.drawNode=function(e,t,r,i){var a,o,s=this,l=t._private.rscratch,u=t._private,c=c||u.position;if(n.number(c.x)&&n.number(c.y)&&t.visible()){var f,d=t.effectiveOpacity(),p=this.usePaths(),h=!1,v=t.pstyle("padding").pfValue;a=t.width()+2*v;o=t.height()+2*v;e.lineWidth=t.pstyle("border-width").pfValue;var g;if(r){g=r;e.translate(-g.x1,-g.y1)}var y,m=t.pstyle("background-image"),b=m.value[2]||m.value[1];if(void 0!==b){var w=t.pstyle("background-image-crossorigin");y=this.getCachedImage(b,w,function(){t.trigger("background");s.redrawHint("eles",!0);s.redrawHint("drag",!0);s.drawingImage=!0;s.redraw()});var x=u.backgrounding;u.backgrounding=!y.complete;x!==u.backgrounding&&t.updateStyle(!1)}var _=t.pstyle("background-color").value,k=t.pstyle("border-color").value,C=t.pstyle("border-style").value;this.fillStyle(e,_[0],_[1],_[2],t.pstyle("background-opacity").value*d);this.strokeStyle(e,k[0],k[1],k[2],t.pstyle("border-opacity").value*d);var E=t.pstyle("shadow-blur").pfValue,S=t.pstyle("shadow-opacity").value,T=t.pstyle("shadow-color").value,D=t.pstyle("shadow-offset-x").pfValue,P=t.pstyle("shadow-offset-y").pfValue;this.shadowStyle(e,T,S,E,D,P);e.lineJoin="miter";if(e.setLineDash)switch(C){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var j=t.pstyle("shape").strValue,L=t.pstyle("shape-polygon-points").pfValue;if(p){var M=j+"$"+a+"$"+o+("polygon"===j?"$"+L.join("$"):"");e.translate(c.x,c.y);if(l.pathCacheKey===M){f=l.pathCache;h=!0}else{f=new Path2D;l.pathCacheKey=M;l.pathCache=f}}if(!h){var A=c;p&&(A={x:0,y:0});s.nodeShapes[this.getNodeShape(t)].draw(f||e,A.x,A.y,a,o)}p?e.fill(f):e.fill();this.shadowStyle(e,"transparent",0);void 0!==b&&y.complete&&this.drawInscribedImage(e,y,t);var N=t.pstyle("background-blacken").value,O=t.pstyle("border-width").pfValue;if(this.hasPie(t)){this.drawPie(e,t,d);0===N&&0===O||p||s.nodeShapes[this.getNodeShape(t)].draw(e,c.x,c.y,a,o)}if(N>0){this.fillStyle(e,0,0,0,N);p?e.fill(f):e.fill()}else if(N<0){this.fillStyle(e,255,255,255,-N);p?e.fill(f):e.fill()}if(O>0){p?e.stroke(f):e.stroke();if("double"===C){e.lineWidth=t.pstyle("border-width").pfValue/3;var R=e.globalCompositeOperation;e.globalCompositeOperation="destination-out";p?e.stroke(f):e.stroke();e.globalCompositeOperation=R}}p&&e.translate(-c.x,-c.y);e.setLineDash&&e.setLineDash([]);s.drawElementText(e,t,i);var I=t.pstyle("overlay-padding").pfValue,z=t.pstyle("overlay-opacity").value,B=t.pstyle("overlay-color").value;if(z>0){this.fillStyle(e,B[0],B[1],B[2],z);s.nodeShapes.roundrectangle.draw(e,t._private.position.x,t._private.position.y,a+2*I,o+2*I);e.fill()}r&&e.translate(g.x1,g.y1)}};i.hasPie=function(e){e=e[0];return e._private.hasPie};i.drawPie=function(e,t,r,n){t=t[0];var i=t._private,a=t.cy().style(),o=t.pstyle("pie-size"),s=t.width(),l=t.height(),n=n||i.position,u=n.x,c=n.y,f=Math.min(s,l)/2,d=0,p=this.usePaths();if(p){u=0;c=0}"%"===o.units?f=f*o.value/100:void 0!==o.pfValue&&(f=o.pfValue/2);for(var h=1;h<=a.pieBackgroundN;h++){var v=t.pstyle("pie-"+h+"-background-size").value,g=t.pstyle("pie-"+h+"-background-color").value,y=t.pstyle("pie-"+h+"-background-opacity").value*r,m=v/100;m+d>1&&(m=1-d);var b=1.5*Math.PI+2*Math.PI*d,w=2*Math.PI*m,x=b+w;if(!(0===v||d>=1||d+m>1)){e.beginPath();e.moveTo(u,c);e.arc(u,c,f,b,x);e.closePath();this.fillStyle(e,g[0],g[1],g[2],y);e.fill();d+=m}}};t.exports=i},{"../../../is":94}],81:[function(e,t,r){"use strict";var n={},i=e("../../../util"),a=100;n.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t};n.paintCache=function(e){for(var t,r=this.paintCaches=this.paintCaches||[],n=!0,i=0;i<r.length;i++){t=r[i];if(t.context===e){n=!1;break}}if(n){t={context:e};r.push(t)}return t};n.fillStyle=function(e,t,r,n,i){e.fillStyle="rgba("+t+","+r+","+n+","+i+")"};n.strokeStyle=function(e,t,r,n,i){e.strokeStyle="rgba("+t+","+r+","+n+","+i+")"};n.shadowStyle=function(e,t,r,n,i,a){var o=this.cy.zoom();if(r>0){e.shadowBlur=n*o;e.shadowColor="rgba("+t[0]+","+t[1]+","+t[2]+","+r+")";e.shadowOffsetX=i*o;e.shadowOffsetY=a*o}else{e.shadowBlur=0;e.shadowColor="transparent";e.shadowOffsetX=0;e.shadowOffsetY=0}};n.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),i=n[2],a=n[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(o=s);var l,u=i*o,c=a*o;if(u!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var f=r.canvasContainer;f.style.width=i+"px";f.style.height=a+"px";for(var d=0;d<t.CANVAS_LAYERS;d++){l=r.canvases[d];if(l.width!==u||l.height!==c){l.width=u;l.height=c;l.style.width=i+"px";l.style.height=a+"px"}}for(var d=0;d<t.BUFFER_COUNT;d++){l=r.bufferCanvases[d];if(l.width!==u||l.height!==c){l.width=u;l.height=c;l.style.width=i+"px";l.style.height=a+"px"}}t.textureMult=1;if(o<=1){l=r.bufferCanvases[t.TEXTURE_BUFFER];t.textureMult=2;l.width=u*t.textureMult;l.height=c*t.textureMult}t.canvasWidth=u;t.canvasHeight=c}};n.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};n.render=function(e){function t(e,t,r,n,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out";c.fillStyle(e,255,255,255,c.motionBlurTransparency);e.fillRect(t,r,n,i);e.globalCompositeOperation=a}function r(e,r){var i,a,s,f;if(c.clearingMotionBlur||e!==p.bufferContexts[c.MOTIONBLUR_BUFFER_NODE]&&e!==p.bufferContexts[c.MOTIONBLUR_BUFFER_DRAG]){i=S;a=C;s=c.canvasWidth;f=c.canvasHeight}else{i={x:E.x*y,y:E.y*y};a=k*y;s=c.canvasWidth*y;f=c.canvasHeight*y}e.setTransform(1,0,0,1,0,0);"motionBlur"===r?t(e,0,0,s,f):n||void 0!==r&&!r||e.clearRect(0,0,s,f);if(!o){e.translate(i.x,i.y);e.scale(a,a)}u&&e.translate(u.x,u.y);l&&e.scale(l,l)}e=e||i.staticEmptyObject();var n=e.forcedContext,o=e.drawAllLayers,s=e.drawOnlyNodeLayer,l=e.forcedZoom,u=e.forcedPan,c=this,f=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,d=c.cy,p=c.data,h=p.canvasNeedsRedraw,v=c.textureOnViewport&&!n&&(c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming),g=void 0!==e.motionBlur?e.motionBlur:c.motionBlur,y=c.motionBlurPxRatio,m=d.hasCompoundNodes(),b=c.hoverData.draggingEles,w=!(!c.hoverData.selecting&&!c.touchData.selecting);g=g&&!n&&c.motionBlurEnabled&&!w;var x=g;if(!n){if(c.prevPxRatio!==f){c.invalidateContainerClientCoordsCache();c.matchCanvasSize(c.container);c.redrawHint("eles",!0);c.redrawHint("drag",!0)}c.prevPxRatio=f}!n&&c.motionBlurTimeout&&clearTimeout(c.motionBlurTimeout);if(g){null==c.mbFrames&&(c.mbFrames=0);c.drawingImage||c.mbFrames++;c.mbFrames<3&&(x=!1);c.mbFrames>c.minMbLowQualFrames&&(c.motionBlurPxRatio=c.mbPxRBlurry)}c.clearingMotionBlur&&(c.motionBlurPxRatio=1);if(c.textureDrawLastFrame&&!v){h[c.NODE]=!0;h[c.SELECT_BOX]=!0}var _=d.style()._private.coreStyle,k=d.zoom(),C=void 0!==l?l:k,E=d.pan(),S={x:E.x,y:E.y},T={zoom:k,pan:{x:E.x,y:E.y}},D=c.prevViewport,P=void 0===D||T.zoom!==D.zoom||T.pan.x!==D.pan.x||T.pan.y!==D.pan.y;P||b&&!m||(c.motionBlurPxRatio=1);u&&(S=u);C*=f;S.x*=f;S.y*=f;var j=c.getCachedZSortedEles();v||(c.textureDrawLastFrame=!1);if(v){c.textureDrawLastFrame=!0;var L;if(!c.textureCache){c.textureCache={};L=c.textureCache.bb=d.mutableElements().boundingBox();c.textureCache.texture=c.data.bufferCanvases[c.TEXTURE_BUFFER];var M=c.data.bufferContexts[c.TEXTURE_BUFFER];M.setTransform(1,0,0,1,0,0);M.clearRect(0,0,c.canvasWidth*c.textureMult,c.canvasHeight*c.textureMult);c.render({forcedContext:M,drawOnlyNodeLayer:!0,forcedPxRatio:f*c.textureMult});var T=c.textureCache.viewport={zoom:d.zoom(),pan:d.pan(),width:c.canvasWidth,height:c.canvasHeight};T.mpan={x:(0-T.pan.x)/T.zoom,y:(0-T.pan.y)/T.zoom}}h[c.DRAG]=!1;h[c.NODE]=!1;var A=p.contexts[c.NODE],N=c.textureCache.texture,T=c.textureCache.viewport;L=c.textureCache.bb;A.setTransform(1,0,0,1,0,0);g?t(A,0,0,T.width,T.height):A.clearRect(0,0,T.width,T.height);var O=_["outside-texture-bg-color"].value,R=_["outside-texture-bg-opacity"].value;c.fillStyle(A,O[0],O[1],O[2],R);A.fillRect(0,0,T.width,T.height);var k=d.zoom();r(A,!1);A.clearRect(T.mpan.x,T.mpan.y,T.width/T.zoom/f,T.height/T.zoom/f);A.drawImage(N,T.mpan.x,T.mpan.y,T.width/T.zoom/f,T.height/T.zoom/f)}else c.textureOnViewport&&!n&&(c.textureCache=null);var I=d.extent(),z=c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming||c.hoverData.draggingEles,B=c.hideEdgesOnViewport&&z,q=[];q[c.NODE]=!h[c.NODE]&&g&&!c.clearedForMotionBlur[c.NODE]||c.clearingMotionBlur;q[c.NODE]&&(c.clearedForMotionBlur[c.NODE]=!0);q[c.DRAG]=!h[c.DRAG]&&g&&!c.clearedForMotionBlur[c.DRAG]||c.clearingMotionBlur;q[c.DRAG]&&(c.clearedForMotionBlur[c.DRAG]=!0);if(h[c.NODE]||o||s||q[c.NODE]){var F=g&&!q[c.NODE]&&1!==y,A=n||(F?c.data.bufferContexts[c.MOTIONBLUR_BUFFER_NODE]:p.contexts[c.NODE]),V=g&&!F?"motionBlur":void 0;r(A,V);B?c.drawCachedNodes(A,j.nondrag,f,I):c.drawLayeredElements(A,j.nondrag,f,I);o||g||(h[c.NODE]=!1)}if(!s&&(h[c.DRAG]||o||q[c.DRAG])){var F=g&&!q[c.DRAG]&&1!==y,A=n||(F?c.data.bufferContexts[c.MOTIONBLUR_BUFFER_DRAG]:p.contexts[c.DRAG]);r(A,g&&!F?"motionBlur":void 0);B?c.drawCachedNodes(A,j.drag,f,I):c.drawCachedElements(A,j.drag,f,I);o||g||(h[c.DRAG]=!1)}if(c.showFps||!s&&h[c.SELECT_BOX]&&!o){var A=n||p.contexts[c.SELECT_BOX];r(A);if(1==c.selection[4]&&(c.hoverData.selecting||c.touchData.selecting)){var k=c.cy.zoom(),X=_["selection-box-border-width"].value/k;A.lineWidth=X;A.fillStyle="rgba("+_["selection-box-color"].value[0]+","+_["selection-box-color"].value[1]+","+_["selection-box-color"].value[2]+","+_["selection-box-opacity"].value+")";A.fillRect(c.selection[0],c.selection[1],c.selection[2]-c.selection[0],c.selection[3]-c.selection[1]);if(X>0){A.strokeStyle="rgba("+_["selection-box-border-color"].value[0]+","+_["selection-box-border-color"].value[1]+","+_["selection-box-border-color"].value[2]+","+_["selection-box-opacity"].value+")";A.strokeRect(c.selection[0],c.selection[1],c.selection[2]-c.selection[0],c.selection[3]-c.selection[1])}}if(p.bgActivePosistion&&!c.hoverData.selecting){var k=c.cy.zoom(),Y=p.bgActivePosistion;A.fillStyle="rgba("+_["active-bg-color"].value[0]+","+_["active-bg-color"].value[1]+","+_["active-bg-color"].value[2]+","+_["active-bg-opacity"].value+")";A.beginPath();A.arc(Y.x,Y.y,_["active-bg-size"].pfValue/k,0,2*Math.PI);A.fill()}var W=c.lastRedrawTime;if(c.showFps&&W){W=Math.round(W);var U=Math.round(1e3/W);A.setTransform(1,0,0,1,0,0);A.fillStyle="rgba(255, 0, 0, 0.75)";A.strokeStyle="rgba(255, 0, 0, 0.75)";A.lineWidth=1;A.fillText("1 frame = "+W+" ms = "+U+" fps",0,20);var H=60;A.strokeRect(0,30,250,20);A.fillRect(0,30,250*Math.min(U/H,1),20)}o||(h[c.SELECT_BOX]=!1)}if(g&&1!==y){var $=p.contexts[c.NODE],G=c.data.bufferCanvases[c.MOTIONBLUR_BUFFER_NODE],Q=p.contexts[c.DRAG],Z=c.data.bufferCanvases[c.MOTIONBLUR_BUFFER_DRAG],J=function(e,r,n){e.setTransform(1,0,0,1,0,0);n||!x?e.clearRect(0,0,c.canvasWidth,c.canvasHeight):t(e,0,0,c.canvasWidth,c.canvasHeight);var i=y;e.drawImage(r,0,0,c.canvasWidth*i,c.canvasHeight*i,0,0,c.canvasWidth,c.canvasHeight)};if(h[c.NODE]||q[c.NODE]){J($,G,q[c.NODE]);h[c.NODE]=!1}if(h[c.DRAG]||q[c.DRAG]){J(Q,Z,q[c.DRAG]);h[c.DRAG]=!1}}c.prevViewport=T;if(c.clearingMotionBlur){c.clearingMotionBlur=!1;c.motionBlurCleared=!0;c.motionBlur=!0}g&&(c.motionBlurTimeout=setTimeout(function(){c.motionBlurTimeout=null;c.clearedForMotionBlur[c.NODE]=!1;c.clearedForMotionBlur[c.DRAG]=!1;c.motionBlur=!1;c.clearingMotionBlur=!v;c.mbFrames=0;h[c.NODE]=!0;h[c.DRAG]=!0;c.redraw()},a));c.drawingImage=!1;if(!n&&!c.initrender){c.initrender=!0;d.trigger("initrender")}n||d.trigger("render")};t.exports=n},{"../../../util":111}],82:[function(e,t,r){"use strict";var n=e("../../../math"),i={};i.drawPolygonPath=function(e,t,r,n,i,a){var o=n/2,s=i/2;e.beginPath&&e.beginPath();e.moveTo(t+o*a[0],r+s*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+o*a[2*l],r+s*a[2*l+1]);e.closePath()};i.drawRoundRectanglePath=function(e,t,r,i,a){var o=i/2,s=a/2,l=n.getRoundRectangleRadius(i,a);e.beginPath&&e.beginPath();e.moveTo(t,r-s);e.arcTo(t+o,r-s,t+o,r,l);e.arcTo(t+o,r+s,t,r+s,l);e.arcTo(t-o,r+s,t-o,r,l);e.arcTo(t-o,r-s,t,r-s,l);e.lineTo(t,r-s);e.closePath()};for(var a=Math.sin(0),o=Math.cos(0),s={},l={},u=Math.PI/40,c=0*Math.PI;c<2*Math.PI;c+=u){s[c]=Math.sin(c);l[c]=Math.cos(c)}i.drawEllipsePath=function(e,t,r,n,i){e.beginPath&&e.beginPath();if(e.ellipse)e.ellipse(t,r,n/2,i/2,0,0,2*Math.PI);else for(var c,f,d=n/2,p=i/2,h=0*Math.PI;h<2*Math.PI;h+=u){c=t-d*s[h]*a+d*l[h]*o;f=r+p*l[h]*a+p*s[h]*o;0===h?e.moveTo(c,f):e.lineTo(c,f)}e.closePath()};t.exports=i},{"../../../math":96}],83:[function(e,t,r){"use strict";var n=e("../../../math"),i=e("../../../util"),a=e("../../../heap"),o=e("./texture-cache-defs"),s=25,l=50,u=-4,c=2,f=3.99,d=8,p=1024,h=1024,v=1024,g=.5,y=.8,m=10,b=!1,w=!1,x=.15,_=.1,k=.9,C=.9,E=100,S=1,T={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},D=function(e){var t=this;t.renderer=e;t.onDequeues=[];t.setupDequeueing()},P=D.prototype;P.reasons=T;P.getTextureQueue=function(e){var t=this;t.eleImgCaches=t.eleImgCaches||{};return t.eleImgCaches[e]=t.eleImgCaches[e]||[]};P.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},n=r[e]=r[e]||[];return n};P.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new a(function(e,t){return t.reqs-e.reqs});return t};P.getElementIdToQueue=function(){var e=this,t=e.eleIdToCacheQueue=e.eleIdToCacheQueue||{};return t};P.getElement=function(e,t,r,i,a){var o=this,p=this.renderer,g=e._private.rscratch,y=p.cy.zoom();if(0===t.w||0===t.h)return null;null==i&&(i=Math.ceil(n.log2(y*r)));if(i<u)i=u;else if(y>=f||i>c)return null;var m=Math.pow(2,i),x=t.h*m,_=t.w*m,k=g.imgCaches=g.imgCaches||{},C=k[i];if(C)return C;var E;E=x<=s?s:x<=l?l:Math.ceil(x/l)*l;if(x>v||_>h||!b&&e.isEdge()||!w&&e.isParent())return null;var S=o.getTextureQueue(E),D=S[S.length-2],P=function(){return o.recycleTexture(E,_)||o.addTexture(E,_)};D||(D=S[S.length-1]);D||(D=P());D.width-D.usedWidth<_&&(D=P());for(var j,L=p.eleTextBiggerThanMin(e,m),M=function(e){return e&&e.scaledLabelShown===L},A=a&&a===T.dequeue,N=a&&a===T.highQuality,O=a&&a===T.downscale,R=i+1;R<=c;R++){var I=k[R];if(I){j=I;break}}var z=j&&j.level===i+1?j:null,B=function(){D.context.drawImage(z.texture.canvas,z.x,0,z.width,z.height,D.usedWidth,0,_,x)};if(M(z))B();else if(M(j)){if(!N){o.queueElement(e,t,j.level-1);return j}for(var R=j.level;R>i;R--)z=o.getElement(e,t,r,R,T.downscale);B()}else{var q;if(!A&&!N&&!O)for(var R=i-1;R>=u;R--){var I=k[R];if(I){q=I;break}}if(M(q)){o.queueElement(e,t,i);return q}D.context.translate(D.usedWidth,0);D.context.scale(m,m);p.drawElement(D.context,e,t,L);D.context.scale(1/m,1/m);D.context.translate(-D.usedWidth,0)}C=k[i]={ele:e,x:D.usedWidth,texture:D,level:i,scale:m,width:_,height:x,scaledLabelShown:L};D.usedWidth+=Math.ceil(_+d);D.eleCaches.push(C);o.checkTextureFullness(D);return C};P.invalidateElement=function(e){var t=this,r=e._private.rscratch.imgCaches;if(r)for(var n=u;n<=c;n++){var a=r[n];if(a){var o=a.texture;o.invalidatedWidth+=a.width;r[n]=null;i.removeFromArray(o.eleCaches,a);t.checkTextureUtility(o)}}};P.checkTextureUtility=function(e){e.invalidatedWidth>=g*e.width&&this.retireTexture(e)};P.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>y&&e.fullnessChecks>=m?i.removeFromArray(r,e):e.fullnessChecks++};P.retireTexture=function(e){var t=this,r=e.height,n=t.getTextureQueue(r);i.removeFromArray(n,e);e.retired=!0;for(var a=e.eleCaches,o=0;o<a.length;o++){var s=a[o],l=s.ele,u=s.level,c=l._private.rscratch.imgCaches;c&&(c[u]=null)}i.clearArray(a);var f=t.getRetiredTextureQueue(r);f.push(e)};P.addTexture=function(e,t){var r=this,n=r.getTextureQueue(e),i={};n.push(i);i.eleCaches=[];i.height=e;i.width=Math.max(p,t);i.usedWidth=0;i.invalidatedWidth=0;i.fullnessChecks=0;i.canvas=document.createElement("canvas");i.canvas.width=i.width;i.canvas.height=i.height;i.context=i.canvas.getContext("2d");return i};P.recycleTexture=function(e,t){for(var r=this,n=r.getTextureQueue(e),a=r.getRetiredTextureQueue(e),o=0;o<a.length;o++){var s=a[o];if(s.width>=t){s.retired=!1;s.usedWidth=0;s.invalidatedWidth=0;s.fullnessChecks=0;i.clearArray(s.eleCaches);s.context.clearRect(0,0,s.width,s.height);i.removeFromArray(a,s);n.push(s);return s}}};P.queueElement=function(e,t,r){var i=this,a=i.getElementQueue(),o=i.getElementIdToQueue(),s=e.id(),l=o[s];if(l){l.level=Math.max(l.level,r);l.reqs++;a.updateItem(l)}else{var u={ele:e,bb:t,position:n.copyPosition(e.position()),level:r,reqs:1};e.isEdge()&&(u.positions={source:n.copyPosition(e.source().position()),target:n.copyPosition(e.target().position())});a.push(u);o[s]=u}};P.dequeue=function(e,t){for(var r=this,i=r.getElementQueue(),a=r.getElementIdToQueue(),o=[],s=0;s<S&&i.size()>0;s++){var l=i.pop();a[l.ele.id()]=null;o.push(l);var u,c=l.ele;u=(!c.isEdge()||n.arePositionsSame(c.source().position(),l.positions.source)&&n.arePositionsSame(c.target().position(),l.positions.target))&&n.arePositionsSame(c.position(),l.position)?l.bb:c.boundingBox();r.getElement(l.ele,u,e,l.level,T.dequeue)}return o};P.onDequeue=function(e){this.onDequeues.push(e)};P.offDequeue=function(e){i.removeFromArray(this.onDequeues,e)};P.setupDequeueing=o.setupDequeueing({deqRedrawThreshold:E,deqCost:x,deqAvgCost:_,deqNoDrawCost:k,deqFastCost:C,deq:function(e,t,r){return e.dequeue(t,r)},onDeqd:function(e,t){for(var r=0;r<e.onDequeues.length;r++){var n=e.onDequeues[r];n(t)}},shouldRedraw:function(e,t,r,i){for(var a=0;a<t.length;a++){var o=t[a].bb;if(n.boundingBoxesIntersect(o,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});t.exports=D},{"../../../heap":92,"../../../math":96,"../../../util":111,"./texture-cache-defs":88}],84:[function(e,t,r){"use strict";var n=e("../../../is"),i={};i.createBuffer=function(e,t){var r=document.createElement("canvas");r.width=e;r.height=t;return[r,r.getContext("2d")]};i.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),i=r.boundingBox(),a=this.findContainerClientCoords(),o=e.full?Math.ceil(i.w):a[2],s=e.full?Math.ceil(i.h):a[3],l=n.number(e.maxWidth)||n.number(e.maxHeight),u=this.getPixelRatio(),c=1;if(void 0!==e.scale){o*=e.scale;s*=e.scale;c=e.scale}else if(l){var f=1/0,d=1/0;n.number(e.maxWidth)&&(f=c*e.maxWidth/o);n.number(e.maxHeight)&&(d=c*e.maxHeight/s);c=Math.min(f,d);o*=c;s*=c}if(!l){o*=u;s*=u;c*=u}var p=document.createElement("canvas");p.width=o;p.height=s;p.style.width=o+"px";p.style.height=s+"px";var h=p.getContext("2d");if(o>0&&s>0){h.clearRect(0,0,o,s);if(e.bg){h.fillStyle=e.bg;h.rect(0,0,o,s);h.fill()}h.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(e.full){h.translate(-i.x1*c,-i.y1*c);h.scale(c,c);this.drawElements(h,v)}else{var g=t.pan(),y={x:g.x*c,y:g.y*c};c*=t.zoom();h.translate(y.x,y.y);h.scale(c,c);this.drawElements(h,v)}}return p};i.png=function(e){return this.bufferCanvasImage(e).toDataURL("image/png")};i.jpg=function(e){return this.bufferCanvasImage(e).toDataURL("image/jpeg")};t.exports=i},{"../../../is":94}],85:[function(e,t,r){"use strict";function n(e){var t=this;t.data={canvases:new Array(u.CANVAS_LAYERS),contexts:new Array(u.CANVAS_LAYERS),canvasNeedsRedraw:new Array(u.CANVAS_LAYERS),bufferCanvases:new Array(u.BUFFER_COUNT),bufferContexts:new Array(u.CANVAS_LAYERS)};t.data.canvasContainer=document.createElement("div");var r=t.data.canvasContainer.style;t.data.canvasContainer.setAttribute("style","-webkit-tap-highlight-color: rgba(0,0,0,0);");r.position="relative";r.zIndex="0";r.overflow="hidden";var n=e.cy.container();n.appendChild(t.data.canvasContainer);n.setAttribute("style",(n.getAttribute("style")||"")+"-webkit-tap-highlight-color: rgba(0,0,0,0);");for(var i=0;i<u.CANVAS_LAYERS;i++){var l=t.data.canvases[i]=document.createElement("canvas");t.data.contexts[i]=l.getContext("2d");l.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(a.ms()?" -ms-touch-action: none; touch-action: none; ":""));l.style.position="absolute";l.setAttribute("data-id","layer"+i);l.style.zIndex=String(u.CANVAS_LAYERS-i);t.data.canvasContainer.appendChild(l);t.data.canvasNeedsRedraw[i]=!1}t.data.topCanvas=t.data.canvases[0];t.data.canvases[u.NODE].setAttribute("data-id","layer"+u.NODE+"-node");t.data.canvases[u.SELECT_BOX].setAttribute("data-id","layer"+u.SELECT_BOX+"-selectbox");t.data.canvases[u.DRAG].setAttribute("data-id","layer"+u.DRAG+"-drag");for(var i=0;i<u.BUFFER_COUNT;i++){t.data.bufferCanvases[i]=document.createElement("canvas");t.data.bufferContexts[i]=t.data.bufferCanvases[i].getContext("2d");t.data.bufferCanvases[i].style.position="absolute";t.data.bufferCanvases[i].setAttribute("data-id","buffer"+i);t.data.bufferCanvases[i].style.zIndex=String(-i-1);t.data.bufferCanvases[i].style.visibility="hidden"}t.pathsEnabled=!0;t.data.eleTxrCache=new o(t);t.data.lyrTxrCache=new s(t,t.data.eleTxrCache);t.onUpdateEleCalcs(function(e,r){for(var n=0;n<r.length;n++){var i=r[n],a=i._private.rstyle,o=a.dirtyEvents;i.isNode()&&o&&1===o.length&&o.position||t.data.eleTxrCache.invalidateElement(i)}r.length>0&&t.data.lyrTxrCache.invalidateElements(r)})}var i=e("../../../util"),a=e("../../../is"),o=e("./ele-texture-cache"),s=e("./layered-texture-cache"),l=n,u=n.prototype;u.CANVAS_LAYERS=3;u.SELECT_BOX=0;u.DRAG=1;u.NODE=2;u.BUFFER_COUNT=3;u.TEXTURE_BUFFER=0;u.MOTIONBLUR_BUFFER_NODE=1;u.MOTIONBLUR_BUFFER_DRAG=2;u.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[u.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[u.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[u.SELECT_BOX]=t}};var c="undefined"!=typeof Path2D;u.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e};u.usePaths=function(){return c&&this.pathsEnabled};[e("./arrow-shapes"),e("./drawing-elements"),e("./drawing-edges"),e("./drawing-images"),e("./drawing-label-text"),e("./drawing-nodes"),e("./drawing-redraw"),e("./drawing-shapes"),e("./export-image"),e("./node-shapes")].forEach(function(e){i.extend(u,e)});t.exports=l},{"../../../is":94,"../../../util":111,"./arrow-shapes":75,"./drawing-edges":76,"./drawing-elements":77,"./drawing-images":78,"./drawing-label-text":79,"./drawing-nodes":80,"./drawing-redraw":81,"./drawing-shapes":82,"./ele-texture-cache":83,"./export-image":84,"./layered-texture-cache":86,"./node-shapes":87}],86:[function(e,t,r){"use strict";function n(e,t){if(null!=e.imageSmoothingEnabled)e.imageSmoothingEnabled=t;else{e.webkitImageSmoothingEnabled=t;e.mozImageSmoothingEnabled=t;e.msImageSmoothingEnabled=t}}var i=e("../../../util"),a=e("../../../math"),o=e("../../../heap"),s=e("../../../is"),l=e("./texture-cache-defs"),u=1,c=-4,f=2,d=3.99,p=50,h=50,v=!0,g=.15,y=.1,m=.9,b=.9,w=1,x=250,_=16e6,k=!0,C=!0,E=!0,S=function(e,t){var r=this,n=r.renderer=e;r.layersByLevel={};r.firstGet=!0;r.lastInvalidationTime=i.performanceNow()-2*x;r.skipping=!1;n.beforeRender(function(e,t){t-r.lastInvalidationTime<=x?r.skipping=!0:r.skipping=!1});var a=function(e,t){return t.reqs-e.reqs};r.layersQueue=new o(a);r.eleTxrCache=t;r.setupEleCacheInvalidation();r.setupDequeueing()},T=S.prototype,D=0,P=Math.pow(2,53)-1;T.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),i=Math.ceil(e.h*r),a=document.createElement("canvas");a.width=n;a.height=i;var o={id:D=++D%P,bb:e,level:t,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;s.scale(r,r);s.translate(l,u);return o};T.getLayers=function(e,t,r){var n=this,o=n.renderer,s=o.cy,l=s.zoom(),p=n.firstGet;n.firstGet=!1;if(null==r){r=Math.ceil(a.log2(l*t));if(r<c)r=c;else if(l>=d||r>f)return null}n.validateLayersElesOrdering(r,e);var h,v,g=n.layersByLevel,y=Math.pow(2,r),m=g[r]=g[r]||[],b=n.levelIsComplete(r,e),w=function(){var t=function(t){n.validateLayersElesOrdering(t,e);if(n.levelIsComplete(t,e)){v=g[t];return!0}},a=function(e){if(!v)for(var n=r+e;c<=n&&n<=f&&!t(n);n+=e);};a(1);a(-1);for(var o=m.length-1;o>=0;o--){var s=m[o];s.invalid&&i.removeFromArray(m,s);
}};if(b)return m;w();var x=function(){if(!h){h=a.makeBoundingBox();for(var t=0;t<e.length;t++)a.updateBoundingBox(h,e[t].boundingBox())}return h},C=function(e){e=e||{};var t=e.after;x();var i=h.w*y*(h.h*y);if(i>_)return null;var a=n.makeLayer(h,r);if(null!=t){var o=m.indexOf(t)+1;m.splice(o,0,a)}else(void 0===e.insert||e.insert)&&m.unshift(a);return a};if(n.skipping&&!p)return null;for(var E=null,S=e.length/u,T=k&&!p,D=0;D<e.length;D++){var P=e[D],j=P._private.rscratch,L=j.imgLayerCaches=j.imgLayerCaches||{},M=L[r];if(M)E=M;else{if(!E||E.eles.length>=S||!a.boundingBoxInBoundingBox(E.bb,P.boundingBox())){E=C({insert:!0,after:E});if(!E)return null}v||T?n.queueLayer(E,P):n.drawEleInLayer(E,P,r,t);E.eles.push(P);L[r]=E}}return v?v:T?null:m};T.getEleLevelForLayerLevel=function(e,t){return e};T.drawEleInLayer=function(e,t,r,i){var a=this,o=this.renderer,s=e.context,l=t.boundingBox();if(0!==l.w&&0!==l.h){var u=a.eleTxrCache,c=C?u.reasons.highQuality:void 0;r=a.getEleLevelForLayerLevel(r,i);var f=E?u.getElement(t,l,null,r,c):null;if(f){v&&n(s,!1);s.drawImage(f.texture.canvas,f.x,0,f.width,f.height,l.x1,l.y1,l.w,l.h);v&&n(s,!0)}else o.drawElement(s,t)}};T.levelIsComplete=function(e,t){var r=this,n=r.layersByLevel[e];if(!n||0===n.length)return!1;for(var i=0,a=0;a<n.length;a++){var o=n[a];if(o.reqs>0)return!1;if(o.invalid)return!1;i+=o.eles.length}return i===t.length};T.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,o=0;o<t.length;o++)if(i.eles[0]===t[o]){a=o;break}if(a<0)this.invalidateLayer(i);else for(var s=a,o=0;o<i.eles.length;o++)if(i.eles[o]!==t[s+o]){this.invalidateLayer(i);break}}};T.updateElementsInLayers=function(e,t){for(var r=this,n=s.element(e[0]),i=0;i<e.length;i++)for(var a=n?null:e[i],o=n?e[i]:e[i].ele,l=o._private.rscratch,u=l.imgLayerCaches=l.imgLayerCaches||{},d=c;d<=f;d++){var p=u[d];p&&(a&&r.getEleLevelForLayerLevel(p.level)!==a.level||t(p,o,a))}};T.haveLayers=function(){for(var e=this,t=!1,r=c;r<=f;r++){var n=e.layersByLevel[r];if(n&&n.length>0){t=!0;break}}return t};T.invalidateElements=function(e){var t=this;t.lastInvalidationTime=i.performanceNow();0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,function(e,r,n){t.invalidateLayer(e)})};T.invalidateLayer=function(e){this.lastInvalidationTime=i.performanceNow();if(!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];i.removeFromArray(n,e);e.elesQueue=[];e.invalid=!0;e.replacement&&(e.replacement.invalid=!0);for(var a=0;a<r.length;a++){var o=r[a]._private.rscratch.imgLayerCaches;o&&(o[t]=null)}}};T.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(e,r,n){var i=e.replacement;if(!i){i=e.replacement=t.makeLayer(e.bb,e.level);i.replaces=e;i.eles=e.eles}if(!i.reqs)for(var a=0;a<i.eles.length;a++)t.queueLayer(i,i.eles[a])})};T.setupEleCacheInvalidation=function(){var e=this,t=[];if(E){var r=i.debounce(function(){e.refineElementTextures(t);t=[]},h);e.eleTxrCache.onDequeue(function(e){for(var n=0;n<e.length;n++)t.push(e[n]);r()})}};T.queueLayer=function(e,t){var r=this,n=r.layersQueue,i=e.elesQueue,a=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(a[t.id()])return;i.push(t);a[t.id()]=!0}if(e.reqs){e.reqs++;n.updateItem(e)}else{e.reqs=1;n.push(e)}}};T.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],i=0;i<w&&0!==r.size();){var a=r.peek();if(a.replacement)r.pop();else if(a.replaces&&a!==a.replaces.replacement)r.pop();else if(a.invalid)r.pop();else{var o=a.elesQueue.shift();if(o){t.drawEleInLayer(a,o,a.level,e);i++}0===n.length&&n.push(!0);if(0===a.elesQueue.length){r.pop();a.reqs=0;a.replaces&&t.applyLayerReplacement(a);t.requestRedraw()}}}return n};T.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],n=e.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=e;for(var a=0;a<e.eles.length;a++){var o=e.eles[a]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[e.level]=e)}t.requestRedraw()}};T.requestRedraw=i.debounce(function(){var e=this.renderer;e.redrawHint("eles",!0);e.redrawHint("drag",!0);e.redraw()},100);T.setupDequeueing=l.setupDequeueing({deqRedrawThreshold:p,deqCost:g,deqAvgCost:y,deqNoDrawCost:m,deqFastCost:b,deq:function(e,t){return e.dequeue(t)},onDeqd:i.noop,shouldRedraw:i.trueify,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});t.exports=S},{"../../../heap":92,"../../../is":94,"../../../math":96,"../../../util":111,"./texture-cache-defs":88}],87:[function(e,t,r){"use strict";var n={};n.nodeShapeImpl=function(e,t,r,n,i,a,o){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,i,a);case"polygon":return this.drawPolygonPath(t,r,n,i,a,o);case"roundrectangle":return this.drawRoundRectanglePath(t,r,n,i,a)}};t.exports=n},{}],88:[function(e,t,r){"use strict";var n=e("../../../util"),i=1e3/60;t.exports={setupDequeueing:function(e){return function(){var t=this,r=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var a=n.debounce(function(){r.redrawHint("eles",!0);r.redrawHint("drag",!0);r.redraw()},e.deqRedrawThreshold),o=function(o,s){for(var l=n.performanceNow(),u=r.averageRedrawTime,c=r.lastRedrawTime,f=[],d=r.cy.extent(),p=r.getPixelRatio();;){var h=n.performanceNow(),v=h-l,g=h-s;if(c<i){var y=i-(o?u:0);if(g>=e.deqFastCost*y)break}else if(o){if(v>=e.deqCost*c||v>=e.deqAvgCost*u)break}else if(g>=e.deqNoDrawCost*i)break;var m=e.deq(t,p,d);if(!(m.length>0))break;for(var b=0;b<m.length;b++)f.push(m[b])}if(f.length>0){e.onDeqd(t,f);!o&&e.shouldRedraw(t,f,p,d)&&a()}},s=e.priority||n.noop;r.beforeRender(o,s(t))}}}}},{"../../../util":111}],89:[function(e,t,r){"use strict";t.exports=[{name:"null",impl:e("./null")},{name:"base",impl:e("./base")},{name:"canvas",impl:e("./canvas")}]},{"./base":71,"./canvas":85,"./null":90}],90:[function(e,t,r){"use strict";function n(e){this.options=e;this.notifications=0}var i=function(){};n.prototype={recalculateRenderedStyle:i,notify:function(){this.notifications++},init:i};t.exports=n},{}],91:[function(e,t,r){"use strict";var n=e("./is"),i=e("./util"),a=e("./thread"),o=e("./promise"),s=e("./define"),l=function(t){if(!(this instanceof l))return new l(t);this._private={pass:[]};var r=4;n.number(t);if("undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency)t=navigator.hardwareConcurrency;else try{t=e("os").cpus().length}catch(i){t=r}for(var o=0;o<t;o++)this[o]=new a;this.length=t},u=l.prototype;i.extend(u,{instanceString:function(){return"fabric"},require:function(e,t){for(var r=0;r<this.length;r++){var n=this[r];n.require(e,t)}return this},random:function(){var e=Math.round((this.length-1)*Math.random()),t=this[e];return t},run:function(e){var t=this._private.pass.shift();return this.random().pass(t).run(e)},message:function(e){return this.random().message(e)},broadcast:function(e){for(var t=0;t<this.length;t++){var r=this[t];r.message(e)}return this},stop:function(){for(var e=0;e<this.length;e++){var t=this[e];t.stop()}return this},pass:function(e){var t=this._private.pass;if(!n.array(e))throw"Only arrays may be used with fabric.pass()";t.push(e);return this},spreadSize:function(){var e=Math.ceil(this._private.pass[0].length/this.length);e=Math.max(1,e);return e},spread:function(e){for(var t=this,r=t._private,n=t.spreadSize(),i=r.pass.shift().concat([]),a=[],s=0;s<this.length;s++){var l=this[s],u=i.splice(0,n),c=l.pass(u).run(e);a.push(c);var f=0===i.length;if(f)break}return o.all(a).then(function(e){for(var t=[],r=0,n=0;n<e.length;n++)for(var i=e[n],a=0;a<i.length;a++){var o=i[a];t[r++]=o}return t})},map:function(e){var t=this;t.require(e,"_$_$_fabmap");return t.spread(function(e){var t=[],r=resolve;resolve=function(e){t.push(e)};for(var n=0;n<e.length;n++){var i=t.length,a=_$_$_fabmap(e[n]),o=i===t.length;o&&t.push(a)}resolve=r;return t})},filter:function(e){var t=this._private,r=t.pass[0];return this.map(e).then(function(e){for(var t=[],n=0;n<r.length;n++){var i=r[n],a=e[n];a&&t.push(i)}return t})},sort:function(e){var t=this,r=this._private.pass[0].length,n=this.spreadSize();e=e||function(e,t){return e<t?-1:e>t?1:0};t.require(e,"_$_$_cmp");return t.spread(function(e){var t=e.sort(_$_$_cmp);resolve(t)}).then(function(t){for(var i=function(n,i,a){i=Math.min(i,r);a=Math.min(a,r);for(var o=n,s=i,l=[],u=o;u<a;u++){var c=t[n],f=t[i];if(n<s&&(i>=a||e(c,f)<=0)){l.push(c);n++}else{l.push(f);i++}}for(var u=0;u<l.length;u++){var d=o+u;t[d]=l[u]}},a=n;a<r;a*=2)for(var o=0;o<r;o+=2*a)i(o,o+a,o+2*a);return t})}});var c=function(e){e=e||{};return function(t,r){var n=this._private.pass.shift();return this.random().pass(n)[e.threadFn](t,r)}};i.extend(u,{randomMap:c({threadFn:"map"}),reduce:c({threadFn:"reduce"}),reduceRight:c({threadFn:"reduceRight"})});var f=u;f.promise=f.run;f.terminate=f.halt=f.stop;f.include=f.require;i.extend(u,{on:s.on(),one:s.on({unbindSelfOnTrigger:!0}),off:s.off(),trigger:s.trigger()});s.eventAliasesOn(u);t.exports=l},{"./define":55,"./is":94,"./promise":97,"./thread":109,"./util":111,os:121}],92:[function(e,t,r){"use strict";var n,i,a,o,s,l,u,c,f,d,p,h,v,g,y;a=Math.floor,d=Math.min;i=function(e,t){return e<t?-1:e>t?1:0};f=function(e,t,r,n,o){var s;null==r&&(r=0);null==o&&(o=i);if(r<0)throw new Error("lo must be non-negative");null==n&&(n=e.length);for(;r<n;){s=a((r+n)/2);o(t,e[s])<0?n=s:r=s+1}return[].splice.apply(e,[r,r-r].concat(t)),t};l=function(e,t,r){null==r&&(r=i);e.push(t);return g(e,0,e.length-1,r)};s=function(e,t){var r,n;null==t&&(t=i);r=e.pop();if(e.length){n=e[0];e[0]=r;y(e,0,t)}else n=r;return n};c=function(e,t,r){var n;null==r&&(r=i);n=e[0];e[0]=t;y(e,0,r);return n};u=function(e,t,r){var n;null==r&&(r=i);if(e.length&&r(e[0],t)<0){n=[e[0],t],t=n[0],e[0]=n[1];y(e,0,r)}return t};o=function(e,t){var r,n,o,s,l,u;null==t&&(t=i);s=function(){u=[];for(var t=0,r=a(e.length/2);0<=r?t<r:t>r;0<=r?t++:t--)u.push(t);return u}.apply(this).reverse();l=[];for(n=0,o=s.length;n<o;n++){r=s[n];l.push(y(e,r,t))}return l};v=function(e,t,r){var n;null==r&&(r=i);n=e.indexOf(t);if(n!==-1){g(e,0,n,r);return y(e,n,r)}};p=function(e,t,r){var n,a,s,l,c;null==r&&(r=i);a=e.slice(0,t);if(!a.length)return a;o(a,r);c=e.slice(t);for(s=0,l=c.length;s<l;s++){n=c[s];u(a,n,r)}return a.sort(r).reverse()};h=function(e,t,r){var n,a,l,u,c,p,h,v,g,y;null==r&&(r=i);if(10*t<=e.length){u=e.slice(0,t).sort(r);if(!u.length)return u;l=u[u.length-1];v=e.slice(t);for(c=0,h=v.length;c<h;c++){n=v[c];if(r(n,l)<0){f(u,n,0,null,r);u.pop();l=u[u.length-1]}}return u}o(e,r);y=[];for(a=p=0,g=d(t,e.length);0<=g?p<g:p>g;a=0<=g?++p:--p)y.push(s(e,r));return y};g=function(e,t,r,n){var a,o,s;null==n&&(n=i);a=e[r];for(;r>t;){s=r-1>>1;o=e[s];if(!(n(a,o)<0))break;e[r]=o;r=s}return e[r]=a};y=function(e,t,r){var n,a,o,s,l;null==r&&(r=i);a=e.length;l=t;o=e[t];n=2*t+1;for(;n<a;){s=n+1;s<a&&!(r(e[n],e[s])<0)&&(n=s);e[t]=e[n];t=n;n=2*t+1}e[t]=o;return g(e,l,t,r)};n=function(){function e(e){this.cmp=null!=e?e:i;this.nodes=[]}e.push=l;e.pop=s;e.replace=c;e.pushpop=u;e.heapify=o;e.updateItem=v;e.nlargest=p;e.nsmallest=h;e.prototype.push=function(e){return l(this.nodes,e,this.cmp)};e.prototype.pop=function(){return s(this.nodes,this.cmp)};e.prototype.peek=function(){return this.nodes[0]};e.prototype.contains=function(e){return this.nodes.indexOf(e)!==-1};e.prototype.replace=function(e){return c(this.nodes,e,this.cmp)};e.prototype.pushpop=function(e){return u(this.nodes,e,this.cmp)};e.prototype.heapify=function(){return o(this.nodes,this.cmp)};e.prototype.updateItem=function(e){return v(this.nodes,e,this.cmp)};e.prototype.clear=function(){return this.nodes=[]};e.prototype.empty=function(){return 0===this.nodes.length};e.prototype.size=function(){return this.nodes.length};e.prototype.clone=function(){var t;t=new e;t.nodes=this.nodes.slice(0);return t};e.prototype.toArray=function(){return this.nodes.slice(0)};e.prototype.insert=e.prototype.push;e.prototype.top=e.prototype.peek;e.prototype.front=e.prototype.peek;e.prototype.has=e.prototype.contains;e.prototype.copy=e.prototype.clone;return e}();t.exports=n},{}],93:[function(e,t,r){"use strict";e("./-preamble");var n=e("./window"),i=e("./is"),a=e("./core"),o=e("./extension"),s=e("./jquery-plugin"),l=e("./stylesheet"),u=e("./thread"),c=e("./fabric"),f=function(e){void 0===e&&(e={});return i.plainObject(e)?new a(e):i.string(e)?o.apply(o,arguments):void 0};f.version=e("./version.json");n&&n.jQuery&&s(n.jQuery,f);f.registerJquery=function(e){s(e,f)};f.stylesheet=f.Stylesheet=l;f.thread=f.Thread=u;f.fabric=f.Fabric=c;t.exports=f},{"./-preamble":12,"./core":48,"./extension":57,"./fabric":91,"./is":94,"./jquery-plugin":95,"./stylesheet":108,"./thread":109,"./version.json":117,"./window":118}],94:[function(e,t,r){"use strict";var n=e("./window"),i=n?n.navigator:null,a=n?n.document:null,o="string",s=typeof{},l="function",u=typeof HTMLElement,c=function(e){return e&&e.instanceString&&f.fn(e.instanceString)?e.instanceString():null},f={defined:function(e){return null!=e},string:function(e){return null!=e&&typeof e==o},fn:function(e){return null!=e&&typeof e===l},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(e){return null!=e&&typeof e===s&&!f.array(e)&&e.constructor===Object},object:function(e){return null!=e&&typeof e===s},number:function(e){return null!=e&&"number"==typeof e&&!isNaN(e)},integer:function(e){return f.number(e)&&Math.floor(e)===e},bool:function(e){return null!=e&&typeof e==typeof!0},htmlElement:function(e){return"undefined"===u?void 0:null!=e&&e instanceof HTMLElement},elementOrCollection:function(e){return f.element(e)||f.collection(e)},element:function(e){return"collection"===c(e)&&e._private.single},collection:function(e){return"collection"===c(e)&&!e._private.single},core:function(e){return"core"===c(e)},style:function(e){return"style"===c(e)},stylesheet:function(e){return"stylesheet"===c(e)},event:function(e){return"event"===c(e)},thread:function(e){return"thread"===c(e)},fabric:function(e){return"fabric"===c(e)},emptyString:function(e){return void 0===e||null===e||!(""!==e&&!e.match(/^\s+$/))},nonemptyString:function(e){return!(!e||!f.string(e)||""===e||e.match(/^\s+$/))},domElement:function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement},boundingBox:function(e){return f.plainObject(e)&&f.number(e.x1)&&f.number(e.x2)&&f.number(e.y1)&&f.number(e.y2)},promise:function(e){return f.object(e)&&f.fn(e.then)},touch:function(){return n&&("ontouchstart"in n||n.DocumentTouch&&a instanceof DocumentTouch)},gecko:function(){return n&&("undefined"!=typeof InstallTrigger||"MozAppearance"in a.documentElement.style)},webkit:function(){return n&&("undefined"!=typeof webkitURL||"WebkitAppearance"in a.documentElement.style)},chromium:function(){return n&&"undefined"!=typeof chrome},khtml:function(){return i&&i.vendor.match(/kde/i)},khtmlEtc:function(){return f.khtml()||f.webkit()||f.chromium()},ms:function(){return i&&i.userAgent.match(/msie|trident|edge/i)},windows:function(){return i&&i.appVersion.match(/Win/i)},mac:function(){return i&&i.appVersion.match(/Mac/i)},linux:function(){return i&&i.appVersion.match(/Linux/i)},unix:function(){return i&&i.appVersion.match(/X11/i)}};t.exports=f},{"./window":118}],95:[function(e,t,r){"use strict";var n=e("./is"),i=function(e){var t=e[0]._cyreg=e[0]._cyreg||{};return t},a=function(e,t){if(e&&!e.fn.cytoscape){e.fn.cytoscape=function(r){var a=e(this);if("get"===r)return i(a).cy;if(n.fn(r)){var o=r,s=i(a).cy;if(s&&s.isReady())s.trigger("ready",[],o);else{var l=i(a),u=l.readies=l.readies||[];u.push(o)}}else if(n.plainObject(r))return a.each(function(){var n=e.extend({},r,{container:e(this)[0]});t(n)})};e.cytoscape=t;if(null==e.fn.cy&&null==e.cy){e.fn.cy=e.fn.cytoscape;e.cy=e.cytoscape}}};t.exports=a},{"./is":94}],96:[function(e,t,r){"use strict";var n={};n.arePositionsSame=function(e,t){return e.x===t.x&&e.y===t.y};n.copyPosition=function(e){return{x:e.x,y:e.y}};n.array2point=function(e){return{x:e[0],y:e[1]}};n.deg2rad=function(e){return Math.PI*e/180};n.log2=Math.log2||function(e){return Math.log(e)/Math.log(2)};n.signum=function(e){return e>0?1:e<0?-1:0};n.dist=function(e,t){return Math.sqrt(n.sqdist(e,t))};n.sqdist=function(e,t){var r=t.x-e.x,n=t.y-e.y;return r*r+n*n};n.qbezierAt=function(e,t,r,n){return(1-n)*(1-n)*e+2*(1-n)*n*t+n*n*r};n.qbezierPtAt=function(e,t,r,i){return{x:n.qbezierAt(e.x,t.x,r.x,i),y:n.qbezierAt(e.y,t.y,r.y,i)}};n.lineAt=function(e,t,r,i){var a={x:t.x-e.x,y:t.y-e.y},o=n.dist(e,t),s={x:a.x/o,y:a.y/o};r=null==r?0:r;var i=null!=i?i:r*o;return{x:e.x+s.x*i,y:e.y+s.y*i}};n.lineAtDist=function(e,t,r){return n.lineAt(e,t,void 0,r)};n.triangleAngle=function(e,t,r){var i=n.dist(t,r),a=n.dist(e,r),o=n.dist(e,t);return Math.acos((i*i+a*a-o*o)/(2*i*a))};n.bound=function(e,t,r){return Math.max(e,Math.min(r,t))};n.makeBoundingBox=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-(1/0),y2:-(1/0),w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}};n.updateBoundingBox=function(e,t){e.x1=Math.min(e.x1,t.x1);e.x2=Math.max(e.x2,t.x2);e.w=e.x2-e.x1;e.y1=Math.min(e.y1,t.y1);e.y2=Math.max(e.y2,t.y2);e.h=e.y2-e.y1};n.expandBoundingBox=function(e,t){e.x1-=t;e.x2+=t;e.y1-=t;e.y2+=t;e.w=e.x2-e.x1;e.h=e.y2-e.y1;return e};n.boundingBoxesIntersect=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))};n.inBoundingBox=function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2};n.pointInBoundingBox=function(e,t){return this.inBoundingBox(e,t.x,t.y)};n.boundingBoxInBoundingBox=function(e,t){return n.inBoundingBox(e,t.x1,t.y1)&&n.inBoundingBox(e,t.x2,t.y2)};n.roundRectangleIntersectLine=function(e,t,r,n,i,a,o){var s,l=this.getRoundRectangleRadius(i,a),u=i/2,c=a/2,f=r-u+l-o,d=n-c-o,p=r+u-l+o,h=d;s=this.finiteLinesIntersect(e,t,r,n,f,d,p,h,!1);if(s.length>0)return s;var v=r+u+o,g=n-c+l-o,y=v,m=n+c-l+o;s=this.finiteLinesIntersect(e,t,r,n,v,g,y,m,!1);if(s.length>0)return s;var b=r-u+l-o,w=n+c+o,x=r+u-l+o,_=w;s=this.finiteLinesIntersect(e,t,r,n,b,w,x,_,!1);if(s.length>0)return s;var k=r-u-o,C=n-c+l-o,E=k,S=n+c-l+o;s=this.finiteLinesIntersect(e,t,r,n,k,C,E,S,!1);if(s.length>0)return s;var T,D=r-u+l,P=n-c+l;T=this.intersectLineCircle(e,t,r,n,D,P,l+o);if(T.length>0&&T[0]<=D&&T[1]<=P)return[T[0],T[1]];var j=r+u-l,L=n-c+l;T=this.intersectLineCircle(e,t,r,n,j,L,l+o);if(T.length>0&&T[0]>=j&&T[1]<=L)return[T[0],T[1]];var M=r+u-l,A=n+c-l;T=this.intersectLineCircle(e,t,r,n,M,A,l+o);if(T.length>0&&T[0]>=M&&T[1]>=A)return[T[0],T[1]];var N=r-u+l,O=n+c-l;T=this.intersectLineCircle(e,t,r,n,N,O,l+o);return T.length>0&&T[0]<=N&&T[1]>=O?[T[0],T[1]]:[]};n.inLineVicinity=function(e,t,r,n,i,a,o){var s=o,l=Math.min(r,i),u=Math.max(r,i),c=Math.min(n,a),f=Math.max(n,a);return l-s<=e&&e<=u+s&&c-s<=t&&t<=f+s};n.inBezierVicinity=function(e,t,r,n,i,a,o,s,l){var u={x1:Math.min(r,o,i)-l,x2:Math.max(r,o,i)+l,y1:Math.min(n,s,a)-l,y2:Math.max(n,s,a)+l};return!(e<u.x1||e>u.x2||t<u.y1||t>u.y2)};n.solveCubic=function(e,t,r,n,i){t/=e;r/=e;n/=e;var a,o,s,l,u,c,f,d;o=(3*r-t*t)/9;s=-(27*n)+t*(9*r-2*(t*t));s/=54;a=o*o*o+s*s;i[1]=0;f=t/3;if(a>0){u=s+Math.sqrt(a);u=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3);c=s-Math.sqrt(a);c=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3);i[0]=-f+u+c;f+=(u+c)/2;i[4]=i[2]=-f;f=Math.sqrt(3)*(-c+u)/2;i[3]=f;i[5]=-f}else{i[5]=i[3]=0;if(0!==a){o=-o;l=o*o*o;l=Math.acos(s/Math.sqrt(l));d=2*Math.sqrt(o);i[0]=-f+d*Math.cos(l/3);i[2]=-f+d*Math.cos((l+2*Math.PI)/3);i[4]=-f+d*Math.cos((l+4*Math.PI)/3)}else{d=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3);i[0]=-f+2*d;i[4]=i[2]=-(d+f)}}};n.sqdistToQuadraticBezier=function(e,t,r,n,i,a,o,s){var l=1*r*r-4*r*i+2*r*o+4*i*i-4*i*o+o*o+n*n-4*n*a+2*n*s+4*a*a-4*a*s+s*s,u=9*r*i-3*r*r-3*r*o-6*i*i+3*i*o+9*n*a-3*n*n-3*n*s-6*a*a+3*a*s,c=3*r*r-6*r*i+r*o-r*e+2*i*i+2*i*e-o*e+3*n*n-6*n*a+n*s-n*t+2*a*a+2*a*t-s*t,f=1*r*i-r*r+r*e-i*e+n*a-n*n+n*t-a*t,d=[];this.solveCubic(l,u,c,f,d);for(var p=1e-7,h=[],v=0;v<6;v+=2)Math.abs(d[v+1])<p&&d[v]>=0&&d[v]<=1&&h.push(d[v]);h.push(1);h.push(0);for(var g,y,m,b,w=-1,x=0;x<h.length;x++){y=Math.pow(1-h[x],2)*r+2*(1-h[x])*h[x]*i+h[x]*h[x]*o;m=Math.pow(1-h[x],2)*n+2*(1-h[x])*h[x]*a+h[x]*h[x]*s;b=Math.pow(y-e,2)+Math.pow(m-t,2);if(w>=0){if(b<w){w=b;g=h[x]}}else{w=b;g=h[x]}}return w};n.sqdistToFiniteLine=function(e,t,r,n,i,a){var o=[e-r,t-n],s=[i-r,a-n],l=s[0]*s[0]+s[1]*s[1],u=o[0]*o[0]+o[1]*o[1],c=o[0]*s[0]+o[1]*s[1],f=c*c/l;return c<0?u:f>l?(e-i)*(e-i)+(t-a)*(t-a):u-f};n.pointInsidePolygonPoints=function(e,t,r){for(var n,i,a,o,s,l=0,u=0,c=0;c<r.length/2;c++){n=r[2*c];i=r[2*c+1];if(c+1<r.length/2){a=r[2*(c+1)];o=r[2*(c+1)+1]}else{a=r[2*(c+1-r.length/2)];o=r[2*(c+1-r.length/2)+1]}if(n==e&&a==e);else{if(!(n>=e&&e>=a||n<=e&&e<=a))continue;s=(e-n)/(a-n)*(o-i)+i;s>t&&l++;s<t&&u++}}return l%2!==0};n.pointInsidePolygon=function(e,t,r,i,a,o,s,l,u){var c,f=new Array(r.length);if(null!=l[0]){c=Math.atan(l[1]/l[0]);l[0]<0?c+=Math.PI/2:c=-c-Math.PI/2}else c=l;for(var d=Math.cos(-c),p=Math.sin(-c),h=0;h<f.length/2;h++){f[2*h]=o/2*(r[2*h]*d-r[2*h+1]*p);f[2*h+1]=s/2*(r[2*h+1]*d+r[2*h]*p);f[2*h]+=i;f[2*h+1]+=a}var v;if(u>0){var g=this.expandPolygon(f,-u);v=this.joinLines(g)}else v=f;return n.pointInsidePolygonPoints(e,t,v)};n.joinLines=function(e){for(var t,r,n,i,a,o,s,l,u=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c];r=e[4*c+1];n=e[4*c+2];i=e[4*c+3];if(c<e.length/4-1){a=e[4*(c+1)];o=e[4*(c+1)+1];s=e[4*(c+1)+2];l=e[4*(c+1)+3]}else{a=e[0];o=e[1];s=e[2];l=e[3]}var f=this.finiteLinesIntersect(t,r,n,i,a,o,s,l,!0);u[2*c]=f[0];u[2*c+1]=f[1]}return u};n.expandPolygon=function(e,t){for(var r,n,i,a,o=new Array(2*e.length),s=0;s<e.length/2;s++){r=e[2*s];n=e[2*s+1];if(s<e.length/2-1){i=e[2*(s+1)];a=e[2*(s+1)+1]}else{i=e[0];a=e[1]}var l=a-n,u=-(i-r),c=Math.sqrt(l*l+u*u),f=l/c,d=u/c;o[4*s]=r+f*t;o[4*s+1]=n+d*t;o[4*s+2]=i+f*t;o[4*s+3]=a+d*t}return o};n.intersectLineEllipse=function(e,t,r,n,i,a){var o=r-e,s=n-t;o/=i;s/=a;var l=Math.sqrt(o*o+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(r-e)*c+e,(n-t)*c+t]};n.intersectLineCircle=function(e,t,r,n,i,a,o){var s=[r-e,n-t],l=[i,a],u=[e-i,t-a],c=s[0]*s[0]+s[1]*s[1],f=2*(u[0]*s[0]+u[1]*s[1]),l=u[0]*u[0]+u[1]*u[1]-o*o,d=f*f-4*c*l;if(d<0)return[];var p=(-f+Math.sqrt(d))/(2*c),h=(-f-Math.sqrt(d))/(2*c),v=Math.min(p,h),g=Math.max(p,h),y=[];v>=0&&v<=1&&y.push(v);g>=0&&g<=1&&y.push(g);if(0===y.length)return[];var m=y[0]*s[0]+e,b=y[0]*s[1]+t;if(y.length>1){if(y[0]==y[1])return[m,b];var w=y[1]*s[0]+e,x=y[1]*s[1]+t;return[m,b,w,x]}return[m,b]};n.findCircleNearPoint=function(e,t,r,n,i){var a=n-e,o=i-t,s=Math.sqrt(a*a+o*o),l=a/s,u=o/s;return[e+l*r,t+u*r]};n.findMaxSqDistanceToOrigin=function(e){for(var t,r=1e-6,n=0;n<e.length/2;n++){t=e[2*n]*e[2*n]+e[2*n+1]*e[2*n+1];t>r&&(r=t)}return r};n.midOfThree=function(e,t,r){return t<=e&&e<=r||r<=e&&e<=t?e:e<=t&&t<=r||r<=t&&t<=e?t:r};n.finiteLinesIntersect=function(e,t,r,n,i,a,o,s,l){var u=e-i,c=r-e,f=o-i,d=t-a,p=n-t,h=s-a,v=f*d-h*u,g=c*d-p*u,y=h*c-f*p;if(0!==y){var m=v/y,b=g/y,w=.001,x=0-w,_=1+w;return x<=m&&m<=_&&x<=b&&b<=_?[e+m*c,t+m*p]:l?[e+m*c,t+m*p]:[]}return 0===v||0===g?this.midOfThree(e,r,o)===o?[o,s]:this.midOfThree(e,r,i)===i?[i,a]:this.midOfThree(i,o,r)===r?[r,n]:[]:[]};n.polygonIntersectLine=function(e,t,r,i,a,o,s,l){for(var u,c=[],f=new Array(r.length),d=0;d<f.length/2;d++){f[2*d]=r[2*d]*o+i;f[2*d+1]=r[2*d+1]*s+a}var p;if(l>0){var h=n.expandPolygon(f,-l);p=n.joinLines(h)}else p=f;for(var v,g,y,m,d=0;d<p.length/2;d++){v=p[2*d];g=p[2*d+1];if(d<p.length/2-1){y=p[2*(d+1)];m=p[2*(d+1)+1]}else{y=p[0];m=p[1]}u=this.finiteLinesIntersect(e,t,i,a,v,g,y,m);0!==u.length&&c.push(u[0],u[1])}return c};n.shortenIntersection=function(e,t,r){var n=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]),a=(i-r)/i;a<0&&(a=1e-5);return[t[0]+a*n[0],t[1]+a*n[1]]};n.generateUnitNgonPointsFitToSquare=function(e,t){var r=n.generateUnitNgonPoints(e,t);r=n.fitPolygonToSquare(r);return r};n.fitPolygonToSquare=function(e){for(var t,r,n=e.length/2,i=1/0,a=1/0,o=-(1/0),s=-(1/0),l=0;l<n;l++){t=e[2*l];r=e[2*l+1];i=Math.min(i,t);o=Math.max(o,t);a=Math.min(a,r);s=Math.max(s,r)}for(var u=2/(o-i),c=2/(s-a),l=0;l<n;l++){t=e[2*l]=e[2*l]*u;r=e[2*l+1]=e[2*l+1]*c;i=Math.min(i,t);o=Math.max(o,t);a=Math.min(a,r);s=Math.max(s,r)}if(a<-1)for(var l=0;l<n;l++)r=e[2*l+1]=e[2*l+1]+(-1-a);return e};n.generateUnitNgonPoints=function(e,t){var r=1/e*2*Math.PI,n=e%2===0?Math.PI/2+r/2:Math.PI/2;n+=t;for(var i,a,o,s=new Array(2*e),l=0;l<e;l++){i=l*r+n;a=s[2*l]=Math.cos(i);o=s[2*l+1]=Math.sin(-i)}return s};n.getRoundRectangleRadius=function(e,t){return Math.min(e/4,t/4,8)};t.exports=n},{}],97:[function(e,t,r){"use strict";var n=0,i=1,a=2,o=function(e){if(!(this instanceof o))return new o(e);this.id="Thenable/1.0.7";this.state=n;this.fulfillValue=void 0;this.rejectReason=void 0;this.onFulfilled=[];this.onRejected=[];this.proxy={then:this.then.bind(this)};"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};o.prototype={fulfill:function(e){return s(this,i,"fulfillValue",e)},reject:function(e){return s(this,a,"rejectReason",e)},then:function(e,t){var r=this,n=new o;r.onFulfilled.push(c(e,n,"fulfill"));r.onRejected.push(c(t,n,"reject"));l(r);return n.proxy}};var s=function(e,t,r,i){if(e.state===n){e.state=t;e[r]=i;l(e)}return e},l=function(e){e.state===i?u(e,"onFulfilled",e.fulfillValue):e.state===a&&u(e,"onRejected",e.rejectReason)},u=function(e,t,r){if(0!==e[t].length){var n=e[t];e[t]=[];var i=function(){for(var e=0;e<n.length;e++)n[e](r)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},c=function(e,t,r){return function(n){if("function"!=typeof e)t[r].call(t,n);else{var i;try{i=e(n)}catch(a){t.reject(a);return}f(t,i)}}},f=function(e,t){if(e!==t&&e.proxy!==t){var r;if("object"==typeof t&&null!==t||"function"==typeof t)try{r=t.then}catch(n){e.reject(n);return}if("function"!=typeof r)e.fulfill(t);else{var i=!1;try{r.call(t,function(r){if(!i){i=!0;r===t?e.reject(new TypeError("circular thenable chain")):f(e,r)}},function(t){if(!i){i=!0;e.reject(t)}})}catch(n){i||e.reject(n)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};o.all=function(e){return new o(function(t,r){for(var n=new Array(e.length),i=0,a=function(r,a){n[r]=a;i++;i===e.length&&t(n)},o=0;o<e.length;o++)(function(t){var n=e[t],i=null!=n&&null!=n.then;if(i)n.then(function(e){a(t,e)},function(e){r(e)});else{var o=n;a(t,o)}})(o)})};o.resolve=function(e){return new o(function(t,r){t(e)})};o.reject=function(e){return new o(function(t,r){r(e)})};t.exports="undefined"!=typeof Promise?Promise:o},{}],98:[function(e,t,r){"use strict";var n=e("./is"),i=e("./util"),a=function(e){if(!(this instanceof a))return new a(e);var t=this;t._private={selectorText:null,invalid:!0};var r=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}};if(!e||n.string(e)&&e.match(/^\s*$/))t.length=0;else if("*"===e||"edge"===e||"node"===e){t[0]=r();t[0].group="*"===e?e:e+"s";t[0].groupOnly=!0;t._private.invalid=!1;t._private.selectorText=e;t.length=1}else if(n.elementOrCollection(e)){var o=e.collection();t[0]=r();t[0].collection=o;t.length=1}else if(n.fn(e)){t[0]=r();t[0].filter=e;t.length=1}else{if(!n.string(e)){i.error("A selector must be created from a string; found "+e);return}var s=null,l={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])+"|'+"'(?:\\\\'|[^'])+'",number:i.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$"};l.variable="(?:[\\w-]|(?:\\\\"+l.metaChar+"))+";l.value=l.string+"|"+l.number;l.className=l.variable;l.id=l.variable;for(var u=function(e){return e.replace(new RegExp("\\\\("+l.metaChar+")","g"),function(e,t,r,n){return t})},c=l.comparatorOp.split("|"),f=0;f<c.length;f++){var d=c[f];l.comparatorOp+="|@"+d}for(var c=l.comparatorOp.split("|"),f=0;f<c.length;f++){var d=c[f];d.indexOf("!")>=0||"="!==d&&(l.comparatorOp+="|\\!"+d)}var p=[{name:"group",query:!0,regex:"(node|edge|\\*)",populate:function(e){this.group="*"===e?e:e+"s"}},{name:"state",query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch|:backgrounding|:nonbackgrounding)",populate:function(e){this.colonSelectors.push(e)}},{name:"id",query:!0,regex:"\\#("+l.id+")",populate:function(e){this.ids.push(u(e))}},{name:"className",query:!0,regex:"\\.("+l.className+")",populate:function(e){this.classes.push(u(e))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+l.variable+")\\s*\\]",populate:function(e){this.data.push({field:u(e)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+l.variable+")\\s*("+l.comparatorOp+")\\s*("+l.value+")\\s*\\]",populate:function(e,t,r){var n=null!=new RegExp("^"+l.string+"$").exec(r);r=n?r.substring(1,r.length-1):parseFloat(r);this.data.push({field:u(e),operator:t,value:r})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+l.boolOp+")\\s*("+l.variable+")\\s*\\]",populate:function(e,t){this.data.push({field:u(t),operator:e})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+l.meta+")\\s*("+l.comparatorOp+")\\s*("+l.number+")\\s*\\]\\]",populate:function(e,t,r){this.meta.push({field:u(e),operator:t,value:parseFloat(r)})}},{name:"nextQuery",separator:!0,regex:l.separator,populate:function(){t[++f]=r();s=null}},{name:"child",separator:!0,regex:l.child,populate:function(){var e=r();e.parent=this;e.subject=s;t[f]=e}},{name:"descendant",separator:!0,regex:l.descendant,populate:function(){var e=r();e.ancestor=this;e.subject=s;t[f]=e}},{name:"subject",modifier:!0,regex:l.subject,populate:function(){if(null!=s&&this.subject!=this){i.error("Redefinition of subject in selector `"+e+"`");return!1}s=this;this.subject=this}}];t._private.selectorText=e;var h=e,f=0,v=function(e){for(var t,r,i,a=0;a<p.length;a++){var o=p[a],s=o.name;if(!n.fn(e)||e(s,o)){var l=h.match(new RegExp("^"+o.regex));if(null!=l){r=l;t=o;i=s;var u=l[0];h=h.substring(u.length);break}}}return{expr:t,match:r,name:i}},g=function(){var e=h.match(/^\s+/);if(e){var t=e[0];h=h.substring(t.length)}};t[0]=r();g();for(;;){var y=v();if(null==y.expr){i.error("The selector `"+e+"`is invalid");return}for(var m=[],b=1;b<y.match.length;b++)m.push(y.match[b]);var w=y.expr.populate.apply(t[f],m);if(w===!1)return;if(h.match(/^\s*$/))break}t.length=f+1;for(var b=0;b<t.length;b++){var x=t[b];if(null!=x.subject){for(;x.subject!=x;)if(null!=x.parent){var _=x.parent,k=x;k.parent=null;_.child=k;x=_}else{if(null==x.ancestor){i.error("When adjusting references for the selector `"+x+"`, neither parent nor ancestor was found");break}var C=x.ancestor,E=x;E.ancestor=null;C.descendant=E;x=C}t[b]=x.subject}}}t._private.invalid=!1},o=a.prototype;o.size=function(){return this.length};o.eq=function(e){return this[e]};var s=function(e,t){var r=t._private;if(e.groupOnly)return"*"===e.group||e.group===r.group;if(null!=e.group&&"*"!=e.group&&e.group!=r.group)return!1;for(var i=t.cy(),a=!0,o=0;o<e.colonSelectors.length;o++){var l=e.colonSelectors[o];switch(l){case":selected":a=t.selected();break;case":unselected":a=!t.selected();break;case":selectable":a=t.selectable();break;case":unselectable":a=!t.selectable();break;case":locked":a=t.locked();break;case":unlocked":a=!t.locked();break;case":visible":a=t.visible();break;case":hidden":a=!t.visible();break;case":transparent":a=t.transparent();break;case":grabbed":a=t.grabbed();break;case":free":a=!t.grabbed();break;case":removed":a=t.removed();break;case":inside":a=!t.removed();break;case":grabbable":a=t.grabbable();break;case":ungrabbable":a=!t.grabbable();break;case":animated":a=t.animated();break;case":unanimated":a=!t.animated();break;case":parent":
a=t.isNode()&&t.children().nonempty();break;case":child":case":nonorphan":a=t.isNode()&&t.parent().nonempty();break;case":orphan":a=t.isNode()&&t.parent().empty();break;case":loop":a=t.isEdge()&&t.data("source")===t.data("target");break;case":simple":a=t.isEdge()&&t.data("source")!==t.data("target");break;case":active":a=t.active();break;case":inactive":a=!t.active();break;case":touch":a=n.touch();break;case":backgrounding":a=t.backgrounding();break;case":nonbackgrounding":a=!t.backgrounding()}if(!a)break}if(!a)return!1;for(var u=!0,o=0;o<e.ids.length;o++){var c=e.ids[o],f=r.data.id;u=u&&c==f;if(!u)break}if(!u)return!1;for(var d=!0,o=0;o<e.classes.length;o++){var p=e.classes[o];d=d&&t.hasClass(p);if(!d)break}if(!d)return!1;var h=function(t){for(var r=!0,i=0;i<e[t.name].length;i++){var a,o=e[t.name][i],s=o.operator,l=o.value,u=o.field;if(null!=s&&null!=l){var c=t.fieldValue(u),f=n.string(c)||n.number(c)?""+c:"",d=""+l,p=!1;if(s.indexOf("@")>=0){f=f.toLowerCase();d=d.toLowerCase();s=s.replace("@","");p=!0}var h=!1;if(s.indexOf("!")>=0){s=s.replace("!","");h=!0}if(p){l=d.toLowerCase();c=f.toLowerCase()}var v=!1;switch(s){case"*=":a=f.indexOf(d)>=0;break;case"$=":a=f.indexOf(d,f.length-d.length)>=0;break;case"^=":a=0===f.indexOf(d);break;case"=":a=c===l;break;case">":v=!0;a=c>l;break;case">=":v=!0;a=c>=l;break;case"<":v=!0;a=c<l;break;case"<=":v=!0;a=c<=l;break;default:a=!1}!h||null==c&&v||(a=!a)}else if(null!=s)switch(s){case"?":a=t.fieldTruthy(u);break;case"!":a=!t.fieldTruthy(u);break;case"^":a=t.fieldUndefined(u)}else a=!t.fieldUndefined(u);if(!a){r=!1;break}}return r},v=h({name:"data",fieldValue:function(e){return r.data[e]},fieldUndefined:function(e){return void 0===r.data[e]},fieldTruthy:function(e){return!!r.data[e]}});if(!v)return!1;var g=h({name:"meta",fieldValue:function(e){return t[e]()},fieldUndefined:function(e){return null==t[e]()},fieldTruthy:function(e){return!!t[e]()}});if(!g)return!1;if(null!=e.collection){var y=e.collection.hasElementWithId(t.id());if(!y)return!1}if(null!=e.filter&&0===t.collection().filter(e.filter).size())return!1;var m=function(e,t){if(null!=e){var r=!1;if(!i.hasCompoundNodes())return!1;t=t();for(var n=0;n<t.length;n++)if(s(e,t[n])){r=!0;break}return r}return!0};return!!m(e.parent,function(){return t.parent()})&&(!!m(e.ancestor,function(){return t.parents()})&&(!!m(e.child,function(){return t.children()})&&!!m(e.descendant,function(){return t.descendants()})))};o.filter=function(e){var t=this,r=e.cy();if(t._private.invalid)return r.collection();var n=function(e,r){for(var n=0;n<t.length;n++){var i=t[n];if(s(i,r))return!0}return!1};null==t._private.selectorText&&(n=function(){return!0});var i=e.filter(n);return i};o.matches=function(e){var t=this;if(t._private.invalid)return!1;for(var r=0;r<t.length;r++){var n=t[r];if(s(n,e))return!0}return!1};o.toString=o.selector=function(){for(var e="",t=function(e){return null==e?"":e},r=function(e){return n.string(e)?'"'+e+'"':t(e)},i=function(e){return" "+e+" "},a=function(e){var n="";e.subject===e&&(n+="$");var s=t(e.group);n+=s.substring(0,s.length-1);for(var l=0;l<e.data.length;l++){var u=e.data[l];n+=u.value?"["+u.field+i(t(u.operator))+r(u.value)+"]":"["+t(u.operator)+u.field+"]"}for(var l=0;l<e.meta.length;l++){var c=e.meta[l];n+="[["+c.field+i(t(c.operator))+r(c.value)+"]]"}for(var l=0;l<e.colonSelectors.length;l++){var f=e.colonSelectors[o];n+=f}for(var l=0;l<e.ids.length;l++){var f="#"+e.ids[o];n+=f}for(var l=0;l<e.classes.length;l++){var f="."+e.classes[l];n+=f}null!=e.parent&&(n=a(e.parent)+" > "+n);null!=e.ancestor&&(n=a(e.ancestor)+" "+n);null!=e.child&&(n+=" > "+a(e.child));null!=e.descendant&&(n+=" "+a(e.descendant));return n},o=0;o<this.length;o++){var s=this[o];e+=a(s);this.length>1&&o<this.length-1&&(e+=", ")}return e};t.exports=a},{"./is":94,"./util":111}],99:[function(e,t,r){"use strict";var n=e("../util"),i=e("../is"),a={};a.apply=function(e){var t=this,r=t._private;if(r.newStyle){r.contextStyles={};r.propDiffs={};t.cleanElements(e,!0)}for(var n=0;n<e.length;n++){var i=e[n],a=t.getContextMeta(i),o=t.getContextStyle(a),s=t.applyContextStyle(a,o,i);t.updateTransitions(i,s.diffProps);t.updateStyleHints(i)}r.newStyle=!1};a.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,a=n[i];if(a)return a;for(var o=[],s={},l=0;l<r.length;l++){var u=r[l],c="t"===e[l],f="t"===t[l],d=c!==f,p=u.mappedProperties.length>0;if(d||p){var h;d&&p?h=u.properties:d?h=u.properties:p&&(h=u.mappedProperties);for(var v=0;v<h.length;v++){for(var g=h[v],y=g.name,m=!1,b=l+1;b<r.length;b++){var w=r[b],x="t"===t[b];if(x){m=null!=w.properties[g.name];if(m)break}}if(!s[y]&&!m){s[y]=!0;o.push(y)}}}}n[i]=o;return o};a.getContextMeta=function(e){var t,r=this,n="",i=e._private.styleCxtKey||"";r._private.newStyle&&(i="");for(var a=0;a<r.length;a++){var o=r[a],s=o.selector&&o.selector.matches(e);n+=s?"t":"f"}t=r.getPropertiesDiff(i,n);e._private.styleCxtKey=n;return{key:n,diffPropNames:t}};a.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var i={_private:{key:t}},a=0;a<r.length;a++){var o=r[a],s="t"===t[a];if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l],c=i[u.name]=u;c.context=o}}n[t]=i;return i};a.applyContextStyle=function(e,t,r){for(var n=this,i=e.diffPropNames,a={},o=0;o<i.length;o++){var s=i[o],l=t[s],u=r.pstyle(s);if(!l){if(!u)continue;l=u.bypass?{name:s,deleteBypassed:!0}:{name:s,"delete":!0}}if(u!==l){var c=a[s]={prev:u};n.applyParsedProperty(r,l);c.next=r.pstyle(s);c.next&&c.next.bypass&&(c.next=c.next.bypassed)}}return{diffProps:a}};a.updateStyleHints=function(e){var t=e._private,r=this;if(!e.removed()){var n=!1;if("nodes"===t.group)for(var i=1;i<=r.pieBackgroundN;i++){var a=e.pstyle("pie-"+i+"-background-size").value;if(a>0){n=!0;break}}t.hasPie=n;var o=e.pstyle("text-transform").strValue,s=e.pstyle("label").strValue,l=e.pstyle("source-label").strValue,u=e.pstyle("target-label").strValue,c=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",f=e.pstyle("font-family").strValue,d=e.pstyle("font-weight").strValue,p=e.pstyle("text-valign").strValue,h=e.pstyle("text-valign").strValue,v=e.pstyle("text-outline-width").pfValue,g=e.pstyle("text-wrap").strValue,y=e.pstyle("text-max-width").pfValue,m=c+"$"+a+"$"+f+"$"+d+"$"+o+"$"+p+"$"+h+"$"+v+"$"+g+"$"+y;t.labelStyleKey=m;t.sourceLabelKey=m+"$"+l;t.targetLabelKey=m+"$"+u;t.labelKey=m+"$"+s;t.fontKey=c+"$"+d+"$"+a+"$"+f;t.styleKey=Date.now()}};a.applyParsedProperty=function(e,t){var r,a,o=this,s=t,l=e._private.style,u=o.types,c=o.properties[s.name].type,f=s.bypass,d=l[s.name],p=d&&d.bypass,h=e._private;"curve-style"===t.name&&"haystack"===t.value&&e.isEdge()&&(e.isLoop()||e.source().isParent()||e.target().isParent())&&(s=t=this.parse(t.name,"bezier",f));if(s["delete"]){l[s.name]=void 0;return!0}if(s.deleteBypassed){if(d){if(d.bypass){d.bypassed=void 0;return!0}return!1}return!0}if(s.deleteBypass){if(d){if(d.bypass){l[s.name]=d.bypassed;return!0}return!1}return!0}var v=function(){n.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+e.id()+"` for property `"+s.name+"` with data field `"+s.field+"`); try a `["+s.field+"]` selector to limit scope to elements with `"+s.field+"` defined")};switch(s.mapped){case u.mapData:case u.mapLayoutData:case u.mapScratch:var r,g=s.mapped===u.mapLayoutData,y=s.mapped===u.mapScratch,m=s.field.split(".");r=y||g?h.scratch:h.data;for(var b=0;b<m.length&&r;b++){var w=m[b];r=r[w]}var x;x=i.number(r)?(r-s.fieldMin)/(s.fieldMax-s.fieldMin):0;x<0?x=0:x>1&&(x=1);if(c.color){var _=s.valueMin[0],k=s.valueMax[0],C=s.valueMin[1],E=s.valueMax[1],S=s.valueMin[2],T=s.valueMax[2],D=null==s.valueMin[3]?1:s.valueMin[3],P=null==s.valueMax[3]?1:s.valueMax[3],j=[Math.round(_+(k-_)*x),Math.round(C+(E-C)*x),Math.round(S+(T-S)*x),Math.round(D+(P-D)*x)];a={bypass:s.bypass,name:s.name,value:j,strValue:"rgb("+j[0]+", "+j[1]+", "+j[2]+")"}}else{if(!c.number)return!1;var L=s.valueMin+(s.valueMax-s.valueMin)*x;a=this.parse(s.name,L,s.bypass,!0)}a||(a=this.parse(s.name,d.strValue,s.bypass,!0));a||v();a.mapping=s;s=a;break;case u.data:case u.layoutData:case u.scratch:var r,g=s.mapped===u.layoutData,y=s.mapped===u.scratch,m=s.field.split(".");r=y||g?h.scratch:h.data;if(r)for(var b=0;b<m.length;b++){var w=m[b];r=r[w]}a=this.parse(s.name,r,s.bypass,!0);if(!a){var M=d?d.strValue:"";a=this.parse(s.name,M,s.bypass,!0)}a||v();a.mapping=s;s=a;break;case u.fn:var A=s.value,N=A(e);a=this.parse(s.name,N,s.bypass,!0);a.mapping=s;s=a;break;case void 0:break;default:return!1}if(f){p?s.bypassed=d.bypassed:s.bypassed=d;l[s.name]=s}else p?d.bypassed=s:l[s.name]=s;return!0};a.cleanElements=function(e,t){for(var r=this,n=r.properties,i=0;i<e.length;i++){var a=e[i];if(t)for(var o=a._private.style,s=0;s<n.length;s++){var l=n[s],u=o[l.name];u&&(u.bypass?u.bypassed=null:o[l.name]=null)}else a._private.style={}}};a.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};a.updateMappers=function(e){for(var t=this,r=0;r<e.length;r++){for(var n=e[r],i=n._private.style,a=0;a<t.properties.length;a++){var o=t.properties[a],s=i[o.name];if(s&&s.mapping){var l=s.mapping;this.applyParsedProperty(n,l)}}this.updateStyleHints(n)}};a.updateTransitions=function(e,t,r){var n=this,a=e._private,o=e.pstyle("transition-property").value,s=e.pstyle("transition-duration").pfValue,l=e.pstyle("transition-delay").pfValue;if(o.length>0&&s>0){for(var u={},c=!1,f=0;f<o.length;f++){var d=o[f],p=e.pstyle(d),h=t[d];if(h){var v,g=h.prev,y=g,m=null!=h.next?h.next:p,b=!1,w=1e-6;if(y){if(i.number(y.pfValue)&&i.number(m.pfValue)){b=m.pfValue-y.pfValue;v=y.pfValue+w*b}else if(i.number(y.value)&&i.number(m.value)){b=m.value-y.value;v=y.value+w*b}else if(i.array(y.value)&&i.array(m.value)){b=y.value[0]!==m.value[0]||y.value[1]!==m.value[1]||y.value[2]!==m.value[2];v=y.strValue}if(b){u[d]=m.strValue;this.applyBypass(e,d,v);c=!0}}}}if(!c)return;a.transitioning=!0;e.stop();l>0&&e.delay(l);e.animate({css:u},{duration:s,easing:e.pstyle("transition-timing-function").value,queue:!1,complete:function(){r||n.removeBypasses(e,o);a.transitioning=!1}})}else if(a.transitioning){e.stop();this.removeBypasses(e,o);a.transitioning=!1}};t.exports=a},{"../is":94,"../util":111}],100:[function(e,t,r){"use strict";var n=e("../is"),i=e("../util"),a={};a.applyBypass=function(e,t,r,a){var o=this,s=[],l=!0;if("*"===t||"**"===t){if(void 0!==r)for(var u=0;u<o.properties.length;u++){var c=o.properties[u],t=c.name,f=this.parse(t,r,!0);f&&s.push(f)}}else if(n.string(t)){var f=this.parse(t,r,!0);f&&s.push(f)}else{if(!n.plainObject(t))return!1;var d=t;a=r;for(var u=0;u<o.properties.length;u++){var c=o.properties[u],t=c.name,r=d[t];void 0===r&&(r=d[i.dash2camel(t)]);if(void 0!==r){var f=this.parse(t,r,!0);f&&s.push(f)}}}if(0===s.length)return!1;for(var p=!1,u=0;u<e.length;u++){for(var h,v=e[u],g={},y=0;y<s.length;y++){var c=s[y];if(a){var m=v.pstyle(c.name);h=g[c.name]={prev:m}}p=this.applyParsedProperty(v,c)||p;a&&(h.next=v.pstyle(c.name))}p&&this.updateStyleHints(v);a&&this.updateTransitions(v,g,l)}return p};a.overrideBypass=function(e,t,r){t=i.camel2dash(t);for(var n=0;n<e.length;n++){var a=e[n],o=a._private.style[t],s=this.properties[t].type,l=s.color,u=s.mutiple;if(o&&o.bypass){o.value=r;null!=o.pfValue&&(o.pfValue=r);l?o.strValue="rgb("+r.join(",")+")":u?o.strValue=r.join(" "):o.strValue=""+r}else this.applyBypass(a,t,r)}};a.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};a.removeBypasses=function(e,t,r){for(var n=!0,i=0;i<e.length;i++){for(var a=e[i],o={},s=0;s<t.length;s++){var l=t[s],u=this.properties[l],c=a.pstyle(u.name);if(c&&c.bypass){var f="",d=this.parse(l,f,!0),p=o[u.name]={prev:c};this.applyParsedProperty(a,d);p.next=a.pstyle(u.name)}}this.updateStyleHints(a);r&&this.updateTransitions(a,o,n)}};t.exports=a},{"../is":94,"../util":111}],101:[function(e,t,r){"use strict";var n=e("../window"),i={};i.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1};i.containerCss=function(e){var t=this._private.cy,r=t.container();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)};t.exports=i},{"../window":118}],102:[function(e,t,r){"use strict";var n=e("../util"),i=e("../is"),a={};a.getRenderedStyle=function(e){return this.getRawStyle(e,!0)};a.getRawStyle=function(e,t){var r=this,e=e[0];if(e){for(var i={},a=0;a<r.properties.length;a++){var o=r.properties[a],s=r.getStylePropertyValue(e,o.name,t);if(s){i[o.name]=s;i[n.dash2camel(o.name)]=s}}return i}};a.getStylePropertyValue=function(e,t,r){var n=this,e=e[0];if(e){var i=n.properties[t];i.alias&&(i=i.pointsTo);var a=i.type,o=e.pstyle(i.name),s=e.cy().zoom();if(o){var l=o.units?a.implicitUnits||"px":null,u=l?[].concat(o.pfValue).map(function(e){return e*(r?s:1)+l}).join(" "):o.strValue;return u}}};a.getAnimationStartStyle=function(e,t){for(var r={},n=0;n<t.length;n++){var a=t[n],o=a.name,s=e.pstyle(o);void 0!==s&&(s=i.plainObject(s)?this.parse(o,s.strValue):this.parse(o,s));s&&(r[o]=s)}return r};a.getPropsList=function(e){var t=this,r=[],i=e,a=t.properties;if(i)for(var o=Object.keys(i),s=0;s<o.length;s++){var l=o[s],u=i[l],c=a[l]||a[n.camel2dash(l)],f=this.parse(c.name,u);r.push(f)}return r};t.exports=a},{"../is":94,"../util":111}],103:[function(e,t,r){"use strict";var n=e("../is"),i=e("../util"),a=e("../selector"),o=function(e){if(!(this instanceof o))return new o(e);if(n.core(e)){this._private={cy:e,coreStyle:{}};this.length=0;this.resetToDefault()}else i.error("A style must have a core reference")},s=o.prototype;s.instanceString=function(){return"style"};s.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;this.length=0;var t=this._private;t.newStyle=!0;return this};s.resetToDefault=function(){this.clear();this.addDefaultStylesheet();return this};s.core=function(){return this._private.coreStyle};s.selector=function(e){var t="core"===e?null:new a(e),r=this.length++;this[r]={selector:t,properties:[],mappedProperties:[],index:r};return this};s.css=function(){var e=this,t=arguments;switch(t.length){case 1:for(var r=t[0],n=0;n<e.properties.length;n++){var a=e.properties[n],o=r[a.name];void 0===o&&(o=r[i.dash2camel(a.name)]);void 0!==o&&this.cssRule(a.name,o)}break;case 2:this.cssRule(t[0],t[1])}return this};s.style=s.css;s.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r);this[n].properties[r.name]=r;r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0);r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};o.fromJson=function(e,t){var r=new o(e);r.fromJson(t);return r};o.fromString=function(e,t){return new o(e).fromString(t)};[e("./apply"),e("./bypass"),e("./container"),e("./get-for-ele"),e("./json"),e("./string-sheet"),e("./properties"),e("./parse")].forEach(function(e){i.extend(s,e)});o.types=s.types;o.properties=s.properties;t.exports=o},{"../is":94,"../selector":98,"../util":111,"./apply":99,"./bypass":100,"./container":101,"./get-for-ele":102,"./json":104,"./parse":105,"./properties":106,"./string-sheet":107}],104:[function(e,t,r){"use strict";var n={};n.applyFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],i=n.selector,a=n.style||n.css,o=Object.keys(a);t.selector(i);for(var s=0;s<o.length;s++){var l=o[s],u=a[l];t.css(l,u)}}return t};n.fromJson=function(e){var t=this;t.resetToDefault();t.applyFromJson(e);return t};n.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,i=r.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:n?n.toString():"core",style:a})}return e};t.exports=n},{}],105:[function(e,t,r){"use strict";var n=e("../util"),i=e("../is"),a=e("../math"),o={};o.parse=function(e,t,r,a){var o=this;if(i.fn(t))return o.parseImpl(e,t,r,a);var s,l=[e,t,r,a].join("$"),u=o.propCache=o.propCache||{};(s=u[l])||(s=u[l]=o.parseImpl(e,t,r,a));s=n.copy(s);s&&(s.value=n.copy(s.value));return s};var s=function(e,t,r,o){var s=this;e=n.camel2dash(e);var l=s.properties[e],u=t,c=s.types;if(!l)return null;if(void 0===t||null===t)return null;if(l.alias){l=l.pointsTo;e=l.name}var f=i.string(t);f&&(t=t.trim());var d=l.type;if(!d)return null;if(r&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(i.fn(t))return{name:e,value:t,strValue:"fn",mapped:c.fn,bypass:r};var p,h,v,g,y,m;if(!f||o);else{if((p=new RegExp(c.data.regex).exec(t))||(v=new RegExp(c.layoutData.regex).exec(t))||(y=new RegExp(c.scratch.regex).exec(t))){if(r)return!1;var b;b=p?c.data:v?c.layoutData:c.scratch;p=p||v||y;return{name:e,value:p,strValue:""+t,mapped:b,field:p[1],bypass:r}}if((h=new RegExp(c.mapData.regex).exec(t))||(g=new RegExp(c.mapLayoutData.regex).exec(t))||(m=new RegExp(c.mapScratch.regex).exec(t))){if(r)return!1;if(d.multiple)return!1;var b;b=h?c.mapData:g?c.mapLayoutData:c.mapScratch;h=h||g||m;if(!d.color&&!d.number)return!1;var w=this.parse(e,h[4]);if(!w||w.mapped)return!1;var x=this.parse(e,h[5]);if(!x||x.mapped)return!1;if(w.value===x.value)return!1;if(d.color){var _=w.value,k=x.value,C=!(_[0]!==k[0]||_[1]!==k[1]||_[2]!==k[2]||_[3]!==k[3]&&(null!=_[3]&&1!==_[3]||null!=k[3]&&1!==k[3]));if(C)return!1}return{name:e,value:h,strValue:""+t,mapped:b,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:w.value,valueMax:x.value,bypass:r}}}if(d.multiple&&"multiple"!==o){var E;E=f?t.split(/\s+/):i.array(t)?t:[t];if(d.evenMultiple&&E.length%2!==0)return null;var S=E.map(function(t){var n=s.parse(e,t,r,"multiple");return null!=n.pfValue?n.pfValue:n.value});return{name:e,value:S,pfValue:S,strValue:S.join(" "),bypass:r,units:d.number&&!d.unitless?d.implicitUnits||"px":void 0}}var T=function(){for(var n=0;n<d.enums.length;n++){var i=d.enums[n];if(i===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null};if(d.number){var D,P="px";d.units&&(D=d.units);d.implicitUnits&&(P=d.implicitUnits);if(!d.unitless)if(f){var j="px|em"+(d.allowPercent?"|\\%":"");D&&(j=D);var L=t.match("^("+n.regex.number+")("+j+")?$");if(L){t=L[1];D=L[2]||P}}else D&&!d.implicitUnits||(D=P);t=parseFloat(t);if(isNaN(t)&&void 0===d.enums)return null;if(isNaN(t)&&void 0!==d.enums){t=u;return T()}if(d.integer&&!i.integer(t))return null;if(void 0!==d.min&&t<d.min||void 0!==d.max&&t>d.max)return null;var M={name:e,value:t,strValue:""+t+(D?D:""),units:D,bypass:r};d.unitless||"px"!==D&&"em"!==D?M.pfValue=t:M.pfValue="px"!==D&&D?this.getEmSizeInPixels()*t:t;"ms"!==D&&"s"!==D||(M.pfValue="ms"===D?t:1e3*t);"deg"!==D&&"rad"!==D||(M.pfValue="rad"===D?t:a.deg2rad(t));return M}if(d.propList){var A=[],N=""+t;if("none"===N);else{for(var O=N.split(","),R=0;R<O.length;R++){var I=O[R].trim();s.properties[I]&&A.push(I)}if(0===A.length)return null}return{name:e,value:A,strValue:0===A.length?"none":A.join(", "),bypass:r}}if(d.color){var z=n.color2tuple(t);return z?{name:e,value:z,strValue:""+t,bypass:r,roundValue:!0}:null}if(d.regex||d.regexes){if(d.enums){var B=T();if(B)return B}for(var q=d.regexes?d.regexes:[d.regex],R=0;R<q.length;R++){var F=new RegExp(q[R]),V=F.exec(t);if(V)return{name:e,value:V,strValue:""+t,bypass:r}}return null}return d.string?{name:e,value:""+t,strValue:""+t,bypass:r}:d.enums?T():null};o.parseImpl=s;t.exports=o},{"../is":94,"../math":96,"../util":111}],106:[function(e,t,r){"use strict";var n=e("../util"),i={};(function(){var e=n.regex.number,t=n.regex.rgbaNoBackRefs,r=n.regex.hslaNoBackRefs,a=n.regex.hex3,o=n.regex.hex6,s=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},l=function(n){var i=e+"|\\w+|"+t+"|"+r+"|"+a+"|"+o;return"^"+n+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+i+")\\s*\\,\\s*("+i+")\\)$"};i.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},bgSize:{number:!0,min:0,allowPercent:!0},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"]},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgCrossOrigin:{enums:["anonymous","use-credentials"]},bgClip:{enums:["none","node"]},color:{color:!0},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-backcurve","half-triangle-overshot","vee","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:s("data")},layoutData:{mapping:!0,regex:s("layoutData")},scratch:{mapping:!0,regex:s("scratch")},mapData:{mapping:!0,regex:l("mapData")},mapLayoutData:{mapping:!0,regex:l("mapLayoutData")},mapScratch:{mapping:!0,regex:l("mapScratch")},fn:{mapping:!0,fn:!0},url:{regex:"url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]}};var u=i.types,c=i.properties=[{name:"label",type:u.text},{name:"text-rotation",type:u.textRotation},{name:"text-margin-x",type:u.bidirectionalSize},{name:"text-margin-y",type:u.bidirectionalSize},{name:"source-label",type:u.text},{name:"source-text-rotation",type:u.textRotation},{name:"source-text-margin-x",type:u.bidirectionalSize},{name:"source-text-margin-y",type:u.bidirectionalSize},{name:"source-text-offset",type:u.size},{name:"target-label",type:u.text},{name:"target-text-rotation",type:u.textRotation},{name:"target-text-margin-x",type:u.bidirectionalSize},{name:"target-text-margin-y",type:u.bidirectionalSize},{name:"target-text-offset",type:u.size},{name:"text-valign",type:u.valign},{name:"text-halign",type:u.halign},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-width",type:u.size},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-margin",type:u.size},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size},{name:"text-border-style",type:u.borderStyle},{name:"text-background-shape",type:u.textBackgroundShape},{name:"text-transform",type:u.textTransform},{name:"text-wrap",type:u.textWrap},{name:"text-max-width",type:u.size},{name:"text-events",type:u.bool},{name:"font-family",type:u.fontFamily},{name:"font-style",type:u.fontStyle},{name:"font-weight",type:u.fontWeight},{name:"font-size",type:u.size},{name:"min-zoomed-font-size",type:u.size},{name:"events",type:u.bool},{name:"display",type:u.display},{name:"visibility",type:u.visibility},{name:"opacity",type:u.zeroOneNumber},{name:"z-index",type:u.nonNegativeInt},{name:"overlay-padding",type:u.size},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber},{name:"shadow-blur",type:u.size},{name:"shadow-color",type:u.color},{name:"shadow-opacity",type:u.zeroOneNumber},{name:"shadow-offset-x",type:u.bidirectionalSize},{name:"shadow-offset-y",type:u.bidirectionalSize},{name:"text-shadow-blur",type:u.size},{name:"text-shadow-color",type:u.color},{name:"text-shadow-opacity",type:u.zeroOneNumber},{name:"text-shadow-offset-x",type:u.bidirectionalSize},{name:"text-shadow-offset-y",type:u.bidirectionalSize},{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing},{name:"height",type:u.nodeSize},{name:"width",type:u.nodeSize},{name:"shape",type:u.nodeShape},{name:"shape-polygon-points",type:u.polygonPointList},{name:"background-color",type:u.color},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"padding",type:u.size},{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size},{name:"border-style",type:u.borderStyle},{name:"background-image",type:u.url},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumber},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"position",type:u.position},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels},{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"curve-style",type:u.curveStyle},{name:"haystack-radius",type:u.zeroOneNumber},{name:"control-point-step-size",type:u.size},{name:"control-point-distances",type:u.bidirectionalSizes},{name:"control-point-weights",type:u.numbers},{name:"segment-distances",type:u.bidirectionalSizes},{name:"segment-weights",type:u.numbers},{name:"edge-distances",type:u.edgeDistances},{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],f=i.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];i.pieBackgroundN=16;c.push({name:"pie-size",type:u.bgSize});for(var d=1;d<=i.pieBackgroundN;d++){c.push({name:"pie-"+d+"-background-color",type:u.color});c.push({name:"pie-"+d+"-background-size",type:u.percent});c.push({name:"pie-"+d+"-background-opacity",type:u.zeroOneNumber})}var p=i.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill}].forEach(function(e){p.forEach(function(t){var r=t+"-"+e.name,n=e.type;c.push({name:r,type:n})})},{});i.propertyNames=c.map(function(e){return e.name});for(var d=0;d<c.length;d++){var h=c[d];c[h.name]=h}for(var d=0;d<f.length;d++){var v=f[d],g=c[v.pointsTo],y={name:v.name,alias:!0,pointsTo:g};c.push(y);c[v.name]=y}})();i.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};i.getDefaultProperties=n.memoize(function(){for(var e=n.extend({events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-margin":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","text-background-shape":"rectangle","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"shadow-opacity":0,"shadow-color":"#000","shadow-blur":10,"shadow-offset-x":0,"shadow-offset-y":0,"text-shadow-opacity":0,"text-shadow-color":"#000","text-shadow-blur":5,"text-shadow-offset-x":0,"text-shadow-offset-y":0,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1",padding:0,position:"origin","compound-sizing-wrt-labels":"include"},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var r=1;r<=i.pieBackgroundN;r++){var n=t.name.replace("{{i}}",r),a=t.value;e[n]=a}return e},{}),{"line-style":"solid","line-color":"#999","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"edge-distances":"intersection","curve-style":"bezier","haystack-radius":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(e,t){i.arrowPrefixes.forEach(function(r){var n=r+"-"+t.name,i=t.value;e[n]=i});return e},{})),t={},r=0;r<this.properties.length;r++){var a=this.properties[r];if(!a.pointsTo){var o=a.name,s=e[o],l=this.parse(o,s);t[o]=l}}return t});i.addDefaultStylesheet=function(){this.selector("$node > node").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3,"curve-style":"haystack"}).selector(":selected").css({
"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector("node:parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125});this.defaultLength=this.length};t.exports=i},{"../util":111}],107:[function(e,t,r){"use strict";var n=e("../util"),i=e("../selector"),a={};a.applyFromString=function(e){function t(){c=c.length>a.length?c.substr(a.length):""}function r(){o=o.length>s.length?o.substr(s.length):""}var a,o,s,l=this,u=this,c=""+e;c=c.replace(/[\/][*](\s|.)+?[*][\/]/g,"");for(;;){var f=c.match(/^\s*$/);if(f)break;var d=c.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){n.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+c);break}a=d[0];var p=d[1];if("core"!==p){var h=new i(p);if(h._private.invalid){n.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+p);t();continue}}var v=d[2],g=!1;o=v;for(var y=[];;){var f=o.match(/^\s*$/);if(f)break;var m=o.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!m){n.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+v);g=!0;break}s=m[0];var b=m[1],w=m[2],x=l.properties[b];if(x){var _=u.parse(b,w);if(_){y.push({name:b,val:w});r()}else{n.error("Skipping property: Invalid property definition in: "+s);r()}}else{n.error("Skipping property: Invalid property name in: "+s);r()}}if(g){t();break}u.selector(p);for(var k=0;k<y.length;k++){var x=y[k];u.css(x.name,x.val)}t()}return u};a.fromString=function(e){var t=this;t.resetToDefault();t.applyFromString(e);return t};t.exports=a},{"../selector":98,"../util":111}],108:[function(e,t,r){"use strict";var n=e("./is"),i=e("./util"),a=e("./style"),o=function(){if(!(this instanceof o))return new o;this.length=0},s=o.prototype;s.instanceString=function(){return"stylesheet"};s.selector=function(e){var t=this.length++;this[t]={selector:e,properties:[]};return this};s.css=function(e,t){var r=this.length-1;if(n.string(e))this[r].properties.push({name:e,value:t});else if(n.plainObject(e))for(var o=e,s=0;s<a.properties.length;s++){var l=a.properties[s],u=o[l.name];void 0===u&&(u=o[i.dash2camel(l.name)]);if(void 0!==u){var e=l.name,t=u;this[r].properties.push({name:e,value:t})}}return this};s.style=s.css;s.generateStyle=function(e){for(var t=new a(e),r=0;r<this.length;r++){var n=this[r],i=n.selector,o=n.properties;t.selector(i);for(var s=0;s<o.length;s++){var l=o[s];t.css(l.name,l.value)}}return t};t.exports=o},{"./is":94,"./style":103,"./util":111}],109:[function(require,module,exports){(function(__dirname){"use strict";var window=require("./window"),util=require("./util"),Promise=require("./promise"),Event=require("./event"),define=require("./define"),is=require("./is"),Thread=function(e){if(!(this instanceof Thread))return new Thread(e);var t=this._private={requires:[],files:[],queue:null,pass:[],disabled:!1};is.plainObject(e)&&null!=e.disabled&&(t.disabled=!!e.disabled)},thdfn=Thread.prototype,stringifyFieldVal=function(e){var t=is.fn(e)?e.toString():"JSON.parse('"+JSON.stringify(e)+"')";return t},fnAsRequire=function(e){var t,r;if(is.object(e)&&e.fn){t=fnAs(e.fn,e.name);r=e.name;e=e.fn}else if(is.fn(e)){t=e.toString();r=e.name}else if(is.string(e))t=e;else if(is.object(e)){t=e.proto?"":e.name+" = {};";r=e.name;e=e.obj}t+="\n";var n=function(e,r){if(e.prototype){var n=!1;for(var i in e.prototype){n=!0;break}n&&(t+=fnAsRequire({name:r,obj:e,proto:!0},e))}};if(e.prototype&&null!=r)for(var i in e.prototype){var a="",o=e.prototype[i],s=stringifyFieldVal(o),l=r+".prototype."+i;a+=l+" = "+s+";\n";a&&(t+=a);n(o,l)}if(!is.string(e))for(var i in e){var u="";if(e.hasOwnProperty(i)){var o=e[i],s=stringifyFieldVal(o),l=r+'["'+i+'"]';u+=l+" = "+s+";\n"}u&&(t+=u);n(o,l)}return t},isPathStr=function(e){return is.string(e)&&e.match(/\.js$/)};util.extend(thdfn,{instanceString:function(){return"thread"},require:function(e,t){var r=this._private.requires;if(isPathStr(e)){this._private.files.push(e);return this}if(t)e=is.fn(e)?{name:t,fn:e}:{name:t,obj:e};else if(is.fn(e)){if(!e.name)throw'The function name could not be automatically determined.  Use thread.require( someFunction, "someFunction" )';e={name:e.name,fn:e}}r.push(e);return this},pass:function(e){this._private.pass.push(e);return this},run:function(fn,pass){var self=this,_p=this._private;pass=pass||_p.pass.shift();if(_p.stopped)throw"Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.";if(_p.running)return _p.queue=_p.queue.then(function(){return self.run(fn,pass)});var useWW=null!=window&&!_p.disabled,useNode=!window&&"undefined"!=typeof module&&!_p.disabled;self.trigger("run");var runP=new Promise(function(resolve,reject){_p.running=!0;var threadTechAlreadyExists=_p.ran,fnImplStr=is.string(fn)?fn:fn.toString(),fnStr="\n"+_p.requires.map(function(e){return fnAsRequire(e)}).concat(_p.files.map(function(e){if(useWW){var t=function(e){return e.match(/^\.\//)||e.match(/^\.\./)?window.location.origin+window.location.pathname+e:e.match(/^\//)?window.location.origin+"/"+e:e};return'importScripts("'+t(e)+'");'}if(useNode)return'eval( require("fs").readFileSync("'+e+'", { encoding: "utf8" }) );';throw"External file `"+e+"` can not be required without any threading technology."})).concat(["( function(){","var ret = ("+fnImplStr+")("+JSON.stringify(pass)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");_p.requires=[];_p.files=[];if(useWW){var fnBlob,fnUrl;if(!threadTechAlreadyExists){var fnPre=fnStr+"";fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n");fnStr+=fnPre;fnBlob=new Blob([fnStr],{type:"application/javascript"});fnUrl=window.URL.createObjectURL(fnBlob)}var ww=_p.webworker=_p.webworker||new Worker(fnUrl);threadTechAlreadyExists&&ww.postMessage({$$eval:fnStr});var cb;ww.addEventListener("message",cb=function(e){var t=is.object(e)&&is.object(e.data);if(t&&"$$resolve"in e.data){ww.removeEventListener("message",cb);resolve(e.data.$$resolve)}else if(t&&"$$reject"in e.data){ww.removeEventListener("message",cb);reject(e.data.$$reject)}else self.trigger(new Event(e,{type:"message",message:e.data}))},!1);threadTechAlreadyExists||ww.postMessage("$$start")}else if(useNode){_p.child||(_p.child=require("child_process").fork(require("path").join(__dirname,"thread-node-fork")));var child=_p.child,cb;child.on("message",cb=function(e){if(is.object(e)&&"$$resolve"in e){child.removeListener("message",cb);resolve(e.$$resolve)}else if(is.object(e)&&"$$reject"in e){child.removeListener("message",cb);reject(e.$$reject)}else self.trigger(new Event({},{type:"message",message:e}))});child.send({$$eval:fnStr})}else{var promiseResolve=resolve,promiseReject=reject,timer=_p.timer=_p.timer||{listeners:[],exec:function(){fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };",'function message(m){ self.trigger( new Event({}, { type: "message", message: m }) ); };',"function listen(fn){ timer.listeners.push( fn ); };","function resolve(v){ promiseResolve(v); };","function reject(v){ promiseReject(v); };"].join("\n")+fnStr;eval(fnStr)},message:function(e){for(var t=timer.listeners,r=0;r<t.length;r++){var n=t[r];n(e)}}};timer.exec()}}).then(function(e){_p.running=!1;_p.ran=!0;self.trigger("ran");return e});null==_p.queue&&(_p.queue=runP);return runP},message:function(e){var t=this._private;t.webworker&&t.webworker.postMessage(e);t.child&&t.child.send(e);t.timer&&t.timer.message(e);return this},stop:function(){var e=this._private;e.webworker&&e.webworker.terminate();e.child&&e.child.kill();e.timer;e.stopped=!0;return this.trigger("stop")},stopped:function(){return this._private.stopped}});var fnAs=function(e,t){var r=e.toString();r=r.replace(/function\s*?\S*?\s*?\(/,"function "+t+"(");return r},defineFnal=function(e){e=e||{};return function(t,r){var n=fnAs(t,"_$_$_"+e.name);this.require(n);return this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+e.name+"( _$_$_"+e.name+(arguments.length>1?", "+JSON.stringify(r):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};util.extend(thdfn,{reduce:defineFnal({name:"reduce"}),reduceRight:defineFnal({name:"reduceRight"}),map:defineFnal({name:"map"})});var fn=thdfn;fn.promise=fn.run;fn.terminate=fn.halt=fn.stop;fn.include=fn.require;util.extend(thdfn,{on:define.on(),one:define.on({unbindSelfOnTrigger:!0}),off:define.off(),trigger:define.trigger()});define.eventAliasesOn(thdfn);module.exports=Thread}).call(this,"/node_modules/cytoscape/src")},{"./define":55,"./event":56,"./is":94,"./promise":97,"./util":111,"./window":118,child_process:4,path:122}],110:[function(e,t,r){"use strict";var n=e("../is");t.exports={hex2tuple:function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,r,n,i=4===e.length,a=16;if(i){t=parseInt(e[1]+e[1],a);r=parseInt(e[2]+e[2],a);n=parseInt(e[3]+e[3],a)}else{t=parseInt(e[1]+e[2],a);r=parseInt(e[3]+e[4],a);n=parseInt(e[5]+e[6],a)}return[t,r,n]}},hsl2tuple:function(e){function t(e,t,r){r<0&&(r+=1);r>1&&(r-=1);return r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}var r,n,i,a,o,s,l,u,c=new RegExp("^"+this.regex.hsla+"$").exec(e);if(c){n=parseInt(c[1]);n<0?n=(360- -1*n%360)%360:n>360&&(n%=360);n/=360;i=parseFloat(c[2]);if(i<0||i>100)return;i/=100;a=parseFloat(c[3]);if(a<0||a>100)return;a/=100;o=c[4];if(void 0!==o){o=parseFloat(o);if(o<0||o>1)return}if(0===i)s=l=u=Math.round(255*a);else{var f=a<.5?a*(1+i):a+i-a*i,d=2*a-f;s=Math.round(255*t(d,f,n+1/3));l=Math.round(255*t(d,f,n));u=Math.round(255*t(d,f,n-1/3))}r=[s,l,u,o]}return r},rgb2tuple:function(e){var t,r=new RegExp("^"+this.regex.rgba+"$").exec(e);if(r){t=[];for(var n=[],i=1;i<=3;i++){var a=r[i];"%"===a[a.length-1]&&(n[i]=!0);a=parseFloat(a);n[i]&&(a=a/100*255);if(a<0||a>255)return;t.push(Math.floor(a))}var o=n[1]||n[2]||n[3],s=n[1]&&n[2]&&n[3];if(o&&!s)return;var l=r[4];if(void 0!==l){l=parseFloat(l);if(l<0||l>1)return;t.push(l)}}return t},colorname2tuple:function(e){return this.colors[e.toLowerCase()]},color2tuple:function(e){return(n.array(e)?e:null)||this.colorname2tuple(e)||this.hex2tuple(e)||this.rgb2tuple(e)||this.hsl2tuple(e)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}},{"../is":94}],111:[function(e,t,r){"use strict";var n=e("../is"),i=e("../math"),a={trueify:function(){return!0},falsify:function(){return!1},zeroify:function(){return 0},noop:function(){},error:function(e){if(console.error){console.error.apply(console,arguments);console.trace&&console.trace()}else{console.log.apply(console,arguments);console.trace&&console.trace()}},clone:function(e){return this.extend({},e)},copy:function(e){return null==e?e:n.array(e)?e.slice():n.plainObject(e)?this.clone(e):e},uuid:function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t}};a.makeBoundingBox=i.makeBoundingBox.bind(i);a._staticEmptyObject={};a.staticEmptyObject=function(){return a._staticEmptyObject};a.extend=null!=Object.assign?Object.assign:function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(n)for(var i=Object.keys(n),a=0;a<i.length;a++){var o=i[a];e[o]=n[o]}}return e};a["default"]=function(e,t){return void 0===e?t:e};a.removeFromArray=function(e,t,r){for(var n=e.length;n>=0;n--)if(e[n]===t){e.splice(n,1);if(!r)break}};a.clearArray=function(e){e.splice(0,e.length)};a.getPrefixedProperty=function(e,t,r){r&&(t=this.prependCamel(r,t));return e[t]};a.setPrefixedProperty=function(e,t,r,n){r&&(t=this.prependCamel(r,t));e[t]=n};[e("./colors"),e("./maps"),{memoize:e("./memoize")},e("./regex"),e("./strings"),e("./timing")].forEach(function(e){a.extend(a,e)});t.exports=a},{"../is":94,"../math":96,"./colors":110,"./maps":112,"./memoize":113,"./regex":114,"./strings":115,"./timing":116}],112:[function(e,t,r){"use strict";var n=e("../is");t.exports={mapEmpty:function(e){var t=!0;return null!=e?0===Object.keys(e).length:t},pushMap:function(e){var t=this.getMap(e);null==t?this.setMap(this.extend({},e,{value:[e.value]})):t.push(e.value)},setMap:function(e){for(var t,r=e.map,i=e.keys,a=i.length,o=0;o<a;o++){var t=i[o];n.plainObject(t)&&this.error("Tried to set map with object key");if(o<i.length-1){null==r[t]&&(r[t]={});r=r[t]}else r[t]=e.value}},getMap:function(e){for(var t=e.map,r=e.keys,i=r.length,a=0;a<i;a++){var o=r[a];n.plainObject(o)&&this.error("Tried to get map with object key");t=t[o];if(null==t)return t}return t},deleteMap:function(e){for(var t=e.map,r=e.keys,i=r.length,a=e.keepChildren,o=0;o<i;o++){var s=r[o];n.plainObject(s)&&this.error("Tried to delete map with object key");var l=o===e.keys.length-1;if(l)if(a)for(var u=Object.keys(t),c=0;c<u.length;c++){var f=u[c];a[f]||(t[f]=void 0)}else t[s]=void 0;else t=t[s]}}}},{"../is":94}],113:[function(e,t,r){"use strict";t.exports=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var r=function(){var n,i=this,a=arguments,o=t.apply(i,a),s=r.cache;(n=s[o])||(n=s[o]=e.apply(i,a));return n};r.cache={};return r}},{}],114:[function(e,t,r){"use strict";var n="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",i="rgb[a]?\\(("+n+"[%]?)\\s*,\\s*("+n+"[%]?)\\s*,\\s*("+n+"[%]?)(?:\\s*,\\s*("+n+"))?\\)",a="rgb[a]?\\((?:"+n+"[%]?)\\s*,\\s*(?:"+n+"[%]?)\\s*,\\s*(?:"+n+"[%]?)(?:\\s*,\\s*(?:"+n+"))?\\)",o="hsl[a]?\\(("+n+")\\s*,\\s*("+n+"[%])\\s*,\\s*("+n+"[%])(?:\\s*,\\s*("+n+"))?\\)",s="hsl[a]?\\((?:"+n+")\\s*,\\s*(?:"+n+"[%])\\s*,\\s*(?:"+n+"[%])(?:\\s*,\\s*(?:"+n+"))?\\)",l="\\#[0-9a-fA-F]{3}",u="\\#[0-9a-fA-F]{6}";t.exports={regex:{number:n,rgba:i,rgbaNoBackRefs:a,hsla:o,hslaNoBackRefs:s,hex3:l,hex6:u}}},{}],115:[function(e,t,r){"use strict";var n=e("./memoize"),i=e("../is");t.exports={camel2dash:n(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),dash2camel:n(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),prependCamel:n(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),capitalize:function(e){return i.emptyString(e)?e:e.charAt(0).toUpperCase()+e.substring(1)}}},{"../is":94,"./memoize":113}],116:[function(e,t,r){"use strict";var n=e("../window"),i=e("../is"),a=n?n.performance:null,o={},s=n?function(){return n.requestAnimationFrame?function(e){n.requestAnimationFrame(e)}:n.mozRequestAnimationFrame?function(e){n.mozRequestAnimationFrame(e)}:n.webkitRequestAnimationFrame?function(e){n.webkitRequestAnimationFrame(e)}:n.msRequestAnimationFrame?function(e){n.msRequestAnimationFrame(e)}:void 0}():function(e){e&&setTimeout(function(){e(l())},1e3/60)};o.requestAnimationFrame=function(e){s(e)};var l=a&&a.now?function(){return a.now()}:function(){return Date.now()};o.performanceNow=l;o.throttle=function(e,t,r){var n=!0,a=!0;if(r===!1)n=!1;else if(i.plainObject(r)){n="leading"in r?r.leading:n;a="trailing"in r?r.trailing:a}r=r||{};r.leading=n;r.maxWait=t;r.trailing=a;return o.debounce(e,t,r)};o.now=function(){return Date.now()};o.debounce=function(e,t,r){var n,a,o,s,l,u,c,f=this,d=0,p=!1,h=!0;if(i.fn(e)){t=Math.max(0,t)||0;if(r===!0){var v=!0;h=!1}else if(i.plainObject(r)){v=r.leading;p="maxWait"in r&&(Math.max(t,r.maxWait)||0);h="trailing"in r?r.trailing:h}var g=function(){var r=t-(f.now()-s);if(r<=0){a&&clearTimeout(a);var i=c;a=u=c=void 0;if(i){d=f.now();o=e.apply(l,n);u||a||(n=l=null)}}else u=setTimeout(g,r)},y=function(){u&&clearTimeout(u);a=u=c=void 0;if(h||p!==t){d=f.now();o=e.apply(l,n);u||a||(n=l=null)}};return function(){n=arguments;s=f.now();l=this;c=h&&(u||!v);if(p===!1)var r=v&&!u;else{a||v||(d=s);var i=p-(s-d),m=i<=0;if(m){a&&(a=clearTimeout(a));d=s;o=e.apply(l,n)}else a||(a=setTimeout(y,i))}m&&u?u=clearTimeout(u):u||t===p||(u=setTimeout(g,t));if(r){m=!0;o=e.apply(l,n)}!m||u||a||(n=l=null);return o}}};t.exports=o},{"../is":94,"../window":118}],117:[function(e,t,r){t.exports="2.7.14"},{}],118:[function(e,t,r){t.exports="undefined"==typeof window?null:window},{}],119:[function(e,t,r){function n(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function a(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=n;n.EventEmitter=n;n.prototype._events=void 0;n.prototype._maxListeners=void 0;n.defaultMaxListeners=10;n.prototype.setMaxListeners=function(e){if(!a(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};n.prototype.emit=function(e){var t,r,n,a,l,u;this._events||(this._events={});if("error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){t=arguments[1];if(t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}r=this._events[e];if(s(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=arguments.length;a=new Array(n-1);for(l=1;l<n;l++)a[l-1]=arguments[l];r.apply(this,a)}else if(o(r)){n=arguments.length;a=new Array(n-1);for(l=1;l<n;l++)a[l-1]=arguments[l];u=r.slice();n=u.length;for(l=0;l<n;l++)u[l].apply(this,a)}return!0};n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t);this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t;if(o(this._events[e])&&!this._events[e].warned){var r;r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners;if(r&&r>0&&this._events[e].length>r){this._events[e].warned=!0;console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length);"function"==typeof console.trace&&console.trace()}}return this};n.prototype.on=n.prototype.addListener;n.prototype.once=function(e,t){function r(){this.removeListener(e,r);if(!n){n=!0;t.apply(this,arguments)}}if(!i(t))throw TypeError("listener must be a function");var n=!1;r.listener=t;this.on(e,r);return this};n.prototype.removeListener=function(e,t){var r,n,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;r=this._events[e];a=r.length;n=-1;if(r===t||i(r.listener)&&r.listener===t){delete this._events[e];this._events.removeListener&&this.emit("removeListener",e,t)}else if(o(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(n<0)return this;if(1===r.length){r.length=0;delete this._events[e]}else r.splice(n,1);this._events.removeListener&&this.emit("removeListener",e,t)}return this};n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener){0===arguments.length?this._events={}:this._events[e]&&delete this._events[e];return this}if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);this.removeAllListeners("removeListener");this._events={};return this}r=this._events[e];if(i(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);delete this._events[e];return this};n.prototype.listeners=function(e){var t;t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[];return t};n.listenerCount=function(e,t){var r;r=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0;return r}},{}],120:[function(e,t,r){(function(e){(function(){function n(e,t){if(e!==t){var r=null===e,n=e===E,i=e===e,a=null===t,o=t===E,s=t===t;if(e>t&&!a||!i||r&&!o&&s||n&&s)return 1;if(e<t&&!r||!s||a&&!n&&i||o&&i)return-1}return 0}function i(e,t,r){for(var n=e.length,i=r?n:-1;r?i--:++i<n;)if(t(e[i],i,e))return i;return-1}function a(e,t,r){if(t!==t)return g(e,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function o(e){return"function"==typeof e||!1}function s(e){return null==e?"":e+""}function l(e,t){for(var r=-1,n=e.length;++r<n&&t.indexOf(e.charAt(r))>-1;);return r}function u(e,t){for(var r=e.length;r--&&t.indexOf(e.charAt(r))>-1;);return r}function c(e,t){return n(e.criteria,t.criteria)||e.index-t.index}function f(e,t,r){for(var i=-1,a=e.criteria,o=t.criteria,s=a.length,l=r.length;++i<s;){var u=n(a[i],o[i]);if(u){if(i>=l)return u;var c=r[i];return u*("asc"===c||c===!0?1:-1)}}return e.index-t.index}function d(e){return Ye[e]}function p(e){return We[e]}function h(e,t,r){t?e=$e[e]:r&&(e=Ge[e]);return"\\"+e}function v(e){return"\\"+Ge[e]}function g(e,t,r){for(var n=e.length,i=t+(r?0:-1);r?i--:++i<n;){var a=e[i];if(a!==a)return i}return-1}function y(e){return!!e&&"object"==typeof e}function m(e){return e<=160&&e>=9&&e<=13||32==e||160==e||5760==e||6158==e||e>=8192&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function b(e,t){for(var r=-1,n=e.length,i=-1,a=[];++r<n;)if(e[r]===t){e[r]=Y;a[++i]=r}return a}function w(e,t){for(var r,n=-1,i=e.length,a=-1,o=[];++n<i;){var s=e[n],l=t?t(s,n,e):s;if(!n||r!==l){r=l;o[++a]=s}}return o}function x(e){for(var t=-1,r=e.length;++t<r&&m(e.charCodeAt(t)););return t}function _(e){for(var t=e.length;t--&&m(e.charCodeAt(t)););return t}function k(e){return Ue[e]}function C(e){function t(e){if(y(e)&&!Ps(e)&&!(e instanceof Z)){if(e instanceof m)return e;if(eo.call(e,"__chain__")&&eo.call(e,"__wrapped__"))return pn(e)}return new m(e)}function r(){}function m(e,t,r){this.__wrapped__=e;this.__actions__=r||[];this.__chain__=!!t}function Z(e){this.__wrapped__=e;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=Do;this.__views__=[]}function te(){var e=new Z(this.__wrapped__);e.__actions__=et(this.__actions__);e.__dir__=this.__dir__;e.__filtered__=this.__filtered__;e.__iteratees__=et(this.__iteratees__);e.__takeCount__=this.__takeCount__;e.__views__=et(this.__views__);return e}function ne(){if(this.__filtered__){var e=new Z(this);e.__dir__=-1;e.__filtered__=!0}else{e=this.clone();e.__dir__*=-1}return e}function Ye(){var e=this.__wrapped__.value(),t=this.__dir__,r=Ps(e),n=t<0,i=r?e.length:0,a=Wr(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=n?s:o-1,c=this.__iteratees__,f=c.length,d=0,p=ko(l,this.__takeCount__);if(!r||i<q||i==l&&p==l)return rr(n&&r?e.reverse():e,this.__actions__);var h=[];e:for(;l--&&d<p;){u+=t;for(var v=-1,g=e[u];++v<f;){var y=c[v],m=y.iteratee,b=y.type,w=m(g);if(b==V)g=w;else if(!w){if(b==F)continue e;break e}}h[d++]=g}return h}function We(){this.__data__={}}function Ue(e){return this.has(e)&&delete this.__data__[e]}function He(e){return"__proto__"==e?E:this.__data__[e]}function $e(e){return"__proto__"!=e&&eo.call(this.__data__,e)}function Ge(e,t){"__proto__"!=e&&(this.__data__[e]=t);return this}function Qe(e){var t=e?e.length:0;this.data={hash:yo(null),set:new co};for(;t--;)this.push(e[t])}function Ze(e,t){var r=e.data,n="string"==typeof t||Ni(t)?r.set.has(t):r.hash[t];return n?0:-1}function Je(e){var t=this.data;"string"==typeof e||Ni(e)?t.set.add(e):t.hash[e]=!0}function Ke(e,t){for(var r=-1,n=e.length,i=-1,a=t.length,o=qa(n+a);++r<n;)o[r]=e[r];for(;++i<a;)o[r++]=t[i];return o}function et(e,t){var r=-1,n=e.length;t||(t=qa(n));for(;++r<n;)t[r]=e[r];return t}function tt(e,t){for(var r=-1,n=e.length;++r<n&&t(e[r],r,e)!==!1;);return e}function it(e,t){for(var r=e.length;r--&&t(e[r],r,e)!==!1;);return e}function at(e,t){for(var r=-1,n=e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function ot(e,t,r,n){for(var i=-1,a=e.length,o=n,s=o;++i<a;){var l=e[i],u=+t(l);if(r(u,o)){o=u;s=l}}return s}function st(e,t){for(var r=-1,n=e.length,i=-1,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[++i]=o)}return a}function lt(e,t){for(var r=-1,n=e.length,i=qa(n);++r<n;)i[r]=t(e[r],r,e);return i}function ut(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function ct(e,t,r,n){var i=-1,a=e.length;n&&a&&(r=e[++i]);for(;++i<a;)r=t(r,e[i],i,e);return r}function ft(e,t,r,n){var i=e.length;n&&i&&(r=e[--i]);for(;i--;)r=t(r,e[i],i,e);return r}function dt(e,t){for(var r=-1,n=e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function pt(e,t){for(var r=e.length,n=0;r--;)n+=+t(e[r])||0;return n}function ht(e,t){return e===E?t:e}function vt(e,t,r,n){return e!==E&&eo.call(n,r)?e:t}function gt(e,t,r){for(var n=-1,i=qs(t),a=i.length;++n<a;){var o=i[n],s=e[o],l=r(s,t[o],o,e,t);(l===l?l===s:s!==s)&&(s!==E||o in e)||(e[o]=l)}return e}function yt(e,t){return null==t?e:bt(t,qs(t),e)}function mt(e,t){for(var r=-1,n=null==e,i=!n&&Qr(e),a=i?e.length:0,o=t.length,s=qa(o);++r<o;){var l=t[r];i?s[r]=Zr(l,a)?e[l]:E:s[r]=n?E:e[l]}return s}function bt(e,t,r){r||(r={});for(var n=-1,i=t.length;++n<i;){var a=t[n];r[a]=e[a]}return r}function wt(e,t,r){var n=typeof e;return"function"==n?t===E?e:ar(e,t,r):null==e?Ta:"object"==n?Bt(e):t===E?Aa(e):qt(e,t)}function xt(e,t,r,n,i,a,o){var s;r&&(s=i?r(e,n,i):r(e));if(s!==E)return s;if(!Ni(e))return e;var l=Ps(e);if(l){s=Ur(e);if(!t)return et(e,s)}else{var u=ro.call(e),c=u==Q;if(u!=K&&u!=W&&(!c||i))return Xe[u]?$r(e,u,t):i?e:{};s=Hr(c?{}:e);if(!t)return yt(s,e)}a||(a=[]);o||(o=[]);for(var f=a.length;f--;)if(a[f]==e)return o[f];a.push(e);o.push(s);(l?tt:Lt)(e,function(n,i){s[i]=xt(n,t,r,i,e,a,o)});return s}function _t(e,t,r){if("function"!=typeof e)throw new Ga(X);return fo(function(){e.apply(E,r)},t)}function kt(e,t){var r=e?e.length:0,n=[];if(!r)return n;var i=-1,o=Vr(),s=o==a,l=s&&t.length>=q?hr(t):null,u=t.length;if(l){o=Ze;s=!1;t=l}e:for(;++i<r;){var c=e[i];if(s&&c===c){for(var f=u;f--;)if(t[f]===c)continue e;n.push(c)}else o(t,c,0)<0&&n.push(c)}return n}function Ct(e,t){var r=!0;Ro(e,function(e,n,i){r=!!t(e,n,i);return r});return r}function Et(e,t,r,n){var i=n,a=i;Ro(e,function(e,o,s){var l=+t(e,o,s);if(r(l,i)||l===n&&l===a){i=l;a=e}});return a}function St(e,t,r,n){var i=e.length;r=null==r?0:+r||0;r<0&&(r=-r>i?0:i+r);n=n===E||n>i?i:+n||0;n<0&&(n+=i);i=r>n?0:n>>>0;r>>>=0;for(;r<i;)e[r++]=t;return e}function Tt(e,t){var r=[];Ro(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Dt(e,t,r,n){var i;r(e,function(e,r,a){if(t(e,r,a)){i=n?r:e;return!1}});return i}function Pt(e,t,r,n){n||(n=[]);for(var i=-1,a=e.length;++i<a;){var o=e[i];y(o)&&Qr(o)&&(r||Ps(o)||Ei(o))?t?Pt(o,t,r,n):ut(n,o):r||(n[n.length]=o)}return n}function jt(e,t){return zo(e,t,ea)}function Lt(e,t){return zo(e,t,qs)}function Mt(e,t){return Bo(e,t,qs)}function At(e,t){for(var r=-1,n=t.length,i=-1,a=[];++r<n;){var o=t[r];Ai(e[o])&&(a[++i]=o)}return a}function Nt(e,t,r){if(null!=e){r!==E&&r in fn(e)&&(t=[r]);for(var n=0,i=t.length;null!=e&&n<i;)e=e[t[n++]];return n&&n==i?e:E}}function Ot(e,t,r,n,i,a){return e===t||(null==e||null==t||!Ni(e)&&!y(t)?e!==e&&t!==t:Rt(e,t,Ot,r,n,i,a))}function Rt(e,t,r,n,i,a,o){var s=Ps(e),l=Ps(t),u=U,c=U;if(!s){u=ro.call(e);u==W?u=K:u!=K&&(s=Xi(e))}if(!l){c=ro.call(t);c==W?c=K:c!=K&&(l=Xi(t))}var f=u==K,d=c==K,p=u==c;if(p&&!s&&!f)return zr(e,t,u);if(!i){var h=f&&eo.call(e,"__wrapped__"),v=d&&eo.call(t,"__wrapped__");if(h||v)return r(h?e.value():e,v?t.value():t,n,i,a,o)}if(!p)return!1;a||(a=[]);o||(o=[]);for(var g=a.length;g--;)if(a[g]==e)return o[g]==t;a.push(e);o.push(t);var y=(s?Ir:Br)(e,t,r,n,i,a,o);a.pop();o.pop();return y}function It(e,t,r){var n=t.length,i=n,a=!r;if(null==e)return!i;e=fn(e);for(;n--;){var o=t[n];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<i;){o=t[n];var s=o[0],l=e[s],u=o[1];if(a&&o[2]){if(l===E&&!(s in e))return!1}else{var c=r?r(l,u,s):E;if(!(c===E?Ot(u,l,r,!0):c))return!1}}return!0;
}function zt(e,t){var r=-1,n=Qr(e)?qa(e.length):[];Ro(e,function(e,i,a){n[++r]=t(e,i,a)});return n}function Bt(e){var t=Xr(e);if(1==t.length&&t[0][2]){var r=t[0][0],n=t[0][1];return function(e){return null!=e&&(e[r]===n&&(n!==E||r in fn(e)))}}return function(e){return It(e,t)}}function qt(e,t){var r=Ps(e),n=Kr(e)&&rn(t),i=e+"";e=dn(e);return function(a){if(null==a)return!1;var o=i;a=fn(a);if((r||!n)&&!(o in a)){a=1==e.length?a:Nt(a,$t(e,0,-1));if(null==a)return!1;o=Sn(e);a=fn(a)}return a[o]===t?t!==E||o in a:Ot(t,a[o],E,!0)}}function Ft(e,t,r,n,i){if(!Ni(e))return e;var a=Qr(t)&&(Ps(t)||Xi(t)),o=a?E:qs(t);tt(o||t,function(s,l){if(o){l=s;s=t[l]}if(y(s)){n||(n=[]);i||(i=[]);Vt(e,t,l,Ft,r,n,i)}else{var u=e[l],c=r?r(u,s,l,e,t):E,f=c===E;f&&(c=s);c===E&&(!a||l in e)||!f&&(c===c?c===u:u!==u)||(e[l]=c)}});return e}function Vt(e,t,r,n,i,a,o){for(var s=a.length,l=t[r];s--;)if(a[s]==l){e[r]=o[s];return}var u=e[r],c=i?i(u,l,r,e,t):E,f=c===E;if(f){c=l;Qr(l)&&(Ps(l)||Xi(l))?c=Ps(u)?u:Qr(u)?et(u):[]:qi(l)||Ei(l)?c=Ei(u)?$i(u):qi(u)?u:{}:f=!1}a.push(l);o.push(c);f?e[r]=n(c,l,i,a,o):(c===c?c!==u:u===u)&&(e[r]=c)}function Xt(e){return function(t){return null==t?E:t[e]}}function Yt(e){var t=e+"";e=dn(e);return function(r){return Nt(r,e,t)}}function Wt(e,t){for(var r=e?t.length:0;r--;){var n=t[r];if(n!=i&&Zr(n)){var i=n;po.call(e,n,1)}}return e}function Ut(e,t){return e+mo(So()*(t-e+1))}function Ht(e,t,r,n,i){i(e,function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)});return r}function $t(e,t,r){var n=-1,i=e.length;t=null==t?0:+t||0;t<0&&(t=-t>i?0:i+t);r=r===E||r>i?i:+r||0;r<0&&(r+=i);i=t>r?0:r-t>>>0;t>>>=0;for(var a=qa(i);++n<i;)a[n]=e[n+t];return a}function Gt(e,t){var r;Ro(e,function(e,n,i){r=t(e,n,i);return!r});return!!r}function Qt(e,t){var r=e.length;e.sort(t);for(;r--;)e[r]=e[r].value;return e}function Zt(e,t,r){var n=qr(),i=-1;t=lt(t,function(e){return n(e)});var a=zt(e,function(e){var r=lt(t,function(t){return t(e)});return{criteria:r,index:++i,value:e}});return Qt(a,function(e,t){return f(e,t,r)})}function Jt(e,t){var r=0;Ro(e,function(e,n,i){r+=+t(e,n,i)||0});return r}function Kt(e,t){var r=-1,n=Vr(),i=e.length,o=n==a,s=o&&i>=q,l=s?hr():null,u=[];if(l){n=Ze;o=!1}else{s=!1;l=t?[]:u}e:for(;++r<i;){var c=e[r],f=t?t(c,r,e):c;if(o&&c===c){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f);u.push(c)}else if(n(l,f,0)<0){(t||s)&&l.push(f);u.push(c)}}return u}function er(e,t){for(var r=-1,n=t.length,i=qa(n);++r<n;)i[r]=e[t[r]];return i}function tr(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?$t(e,n?0:a,n?a+1:i):$t(e,n?a+1:0,n?i:a)}function rr(e,t){var r=e;r instanceof Z&&(r=r.value());for(var n=-1,i=t.length;++n<i;){var a=t[n];r=a.func.apply(a.thisArg,ut([r],a.args))}return r}function nr(e,t,r){var n=0,i=e?e.length:n;if("number"==typeof t&&t===t&&i<=Lo){for(;n<i;){var a=n+i>>>1,o=e[a];(r?o<=t:o<t)&&null!==o?n=a+1:i=a}return i}return ir(e,t,Ta,r)}function ir(e,t,r,n){t=r(t);for(var i=0,a=e?e.length:0,o=t!==t,s=null===t,l=t===E;i<a;){var u=mo((i+a)/2),c=r(e[u]),f=c!==E,d=c===c;if(o)var p=d||n;else p=s?d&&f&&(n||null!=c):l?d&&(n||f):null!=c&&(n?c<=t:c<t);p?i=u+1:a=u}return ko(a,jo)}function ar(e,t,r){if("function"!=typeof e)return Ta;if(t===E)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,a){return e.call(t,r,n,i,a)};case 5:return function(r,n,i,a,o){return e.call(t,r,n,i,a,o)}}return function(){return e.apply(t,arguments)}}function or(e){var t=new ao(e.byteLength),r=new ho(t);r.set(new ho(e));return t}function sr(e,t,r){for(var n=r.length,i=-1,a=_o(e.length-n,0),o=-1,s=t.length,l=qa(s+a);++o<s;)l[o]=t[o];for(;++i<n;)l[r[i]]=e[i];for(;a--;)l[o++]=e[i++];return l}function lr(e,t,r){for(var n=-1,i=r.length,a=-1,o=_o(e.length-i,0),s=-1,l=t.length,u=qa(o+l);++a<o;)u[a]=e[a];for(var c=a;++s<l;)u[c+s]=t[s];for(;++n<i;)u[c+r[n]]=e[a++];return u}function ur(e,t){return function(r,n,i){var a=t?t():{};n=qr(n,i,3);if(Ps(r))for(var o=-1,s=r.length;++o<s;){var l=r[o];e(a,l,n(l,o,r),r)}else Ro(r,function(t,r,i){e(a,t,n(t,r,i),i)});return a}}function cr(e){return yi(function(t,r){var n=-1,i=null==t?0:r.length,a=i>2?r[i-2]:E,o=i>2?r[2]:E,s=i>1?r[i-1]:E;if("function"==typeof a){a=ar(a,s,5);i-=2}else{a="function"==typeof s?s:E;i-=a?1:0}if(o&&Jr(r[0],r[1],o)){a=i<3?E:a;i=1}for(;++n<i;){var l=r[n];l&&e(t,l,a)}return t})}function fr(e,t){return function(r,n){var i=r?Vo(r):0;if(!tn(i))return e(r,n);for(var a=t?i:-1,o=fn(r);(t?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}function dr(e){return function(t,r,n){for(var i=fn(t),a=n(t),o=a.length,s=e?o:-1;e?s--:++s<o;){var l=a[s];if(r(i[l],l,i)===!1)break}return t}}function pr(e,t){function r(){var i=this&&this!==rt&&this instanceof r?n:e;return i.apply(t,arguments)}var n=gr(e);return r}function hr(e){return yo&&co?new Qe(e):null}function vr(e){return function(t){for(var r=-1,n=Ca(ca(t)),i=n.length,a="";++r<i;)a=e(a,n[r],r);return a}}function gr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Oo(e.prototype),n=e.apply(r,t);return Ni(n)?n:r}}function yr(e){function t(r,n,i){i&&Jr(r,n,i)&&(n=E);var a=Rr(r,e,E,E,E,E,E,n);a.placeholder=t.placeholder;return a}return t}function mr(e,t){return yi(function(r){var n=r[0];if(null==n)return n;r.push(t);return e.apply(E,r)})}function br(e,t){return function(r,n,i){i&&Jr(r,n,i)&&(n=E);n=qr(n,i,3);if(1==n.length){r=Ps(r)?r:cn(r);var a=ot(r,n,e,t);if(!r.length||a!==t)return a}return Et(r,n,e,t)}}function wr(e,t){return function(r,n,a){n=qr(n,a,3);if(Ps(r)){var o=i(r,n,t);return o>-1?r[o]:E}return Dt(r,n,e)}}function xr(e){return function(t,r,n){if(!t||!t.length)return-1;r=qr(r,n,3);return i(t,r,e)}}function _r(e){return function(t,r,n){r=qr(r,n,3);return Dt(t,r,e,!0)}}function kr(e){return function(){for(var t,r=arguments.length,n=e?r:-1,i=0,a=qa(r);e?n--:++n<r;){var o=a[i++]=arguments[n];if("function"!=typeof o)throw new Ga(X);!t&&m.prototype.thru&&"wrapper"==Fr(o)&&(t=new m([],(!0)))}n=t?-1:r;for(;++n<r;){o=a[n];var s=Fr(o),l="wrapper"==s?Fo(o):E;t=l&&en(l[0])&&l[1]==(N|j|M|O)&&!l[4].length&&1==l[9]?t[Fr(l[0])].apply(t,l[3]):1==o.length&&en(o)?t[s]():t.thru(o)}return function(){var e=arguments,n=e[0];if(t&&1==e.length&&Ps(n)&&n.length>=q)return t.plant(n).value();for(var i=0,o=r?a[i].apply(this,e):n;++i<r;)o=a[i].call(this,o);return o}}}function Cr(e,t){return function(r,n,i){return"function"==typeof n&&i===E&&Ps(r)?e(r,n):t(r,ar(n,i,3))}}function Er(e){return function(t,r,n){"function"==typeof r&&n===E||(r=ar(r,n,3));return e(t,r,ea)}}function Sr(e){return function(t,r,n){"function"==typeof r&&n===E||(r=ar(r,n,3));return e(t,r)}}function Tr(e){return function(t,r,n){var i={};r=qr(r,n,3);Lt(t,function(t,n,a){var o=r(t,n,a);n=e?o:n;t=e?t:o;i[n]=t});return i}}function Dr(e){return function(t,r,n){t=s(t);return(e?t:"")+Mr(t,r,n)+(e?"":t)}}function Pr(e){var t=yi(function(r,n){var i=b(n,t.placeholder);return Rr(r,e,E,n,i)});return t}function jr(e,t){return function(r,n,i,a){var o=arguments.length<3;return"function"==typeof n&&a===E&&Ps(r)?e(r,n,i,o):Ht(r,qr(n,a,4),i,o,t)}}function Lr(e,t,r,n,i,a,o,s,l,u){function c(){for(var m=arguments.length,w=m,x=qa(m);w--;)x[w]=arguments[w];n&&(x=sr(x,n,i));a&&(x=lr(x,a,o));if(h||g){var _=c.placeholder,k=b(x,_);m-=k.length;if(m<u){var C=s?et(s):E,S=_o(u-m,0),P=h?k:E,j=h?E:k,L=h?x:E,N=h?E:x;t|=h?M:A;t&=~(h?A:M);v||(t&=~(T|D));var O=[e,t,r,L,P,N,j,C,l,S],R=Lr.apply(E,O);en(e)&&Xo(R,O);R.placeholder=_;return R}}var I=d?r:this,z=p?I[e]:e;s&&(x=ln(x,s));f&&l<x.length&&(x.length=l);this&&this!==rt&&this instanceof c&&(z=y||gr(e));return z.apply(I,x)}var f=t&N,d=t&T,p=t&D,h=t&j,v=t&P,g=t&L,y=p?E:gr(e);return c}function Mr(e,t,r){var n=e.length;t=+t;if(n>=t||!wo(t))return"";var i=t-n;r=null==r?" ":r+"";return ga(r,go(i/r.length)).slice(0,i)}function Ar(e,t,r,n){function i(){for(var t=-1,s=arguments.length,l=-1,u=n.length,c=qa(u+s);++l<u;)c[l]=n[l];for(;s--;)c[l++]=arguments[++t];var f=this&&this!==rt&&this instanceof i?o:e;return f.apply(a?r:this,c)}var a=t&T,o=gr(e);return i}function Nr(e){var t=Ya[e];return function(e,r){r=r===E?0:+r||0;if(r){r=lo(10,r);return t(e*r)/r}return t(e)}}function Or(e){return function(t,r,n,i){var a=qr(n);return null==n&&a===wt?nr(t,r,e):ir(t,r,a(n,i,1),e)}}function Rr(e,t,r,n,i,a,o,s){var l=t&D;if(!l&&"function"!=typeof e)throw new Ga(X);var u=n?n.length:0;if(!u){t&=~(M|A);n=i=E}u-=i?i.length:0;if(t&A){var c=n,f=i;n=i=E}var d=l?E:Fo(e),p=[e,t,r,n,i,c,f,a,o,s];if(d){nn(p,d);t=p[1];s=p[9]}p[9]=null==s?l?0:e.length:_o(s-u,0)||0;if(t==T)var h=pr(p[0],p[2]);else h=t!=M&&t!=(T|M)||p[4].length?Lr.apply(E,p):Ar.apply(E,p);var v=d?qo:Xo;return v(h,p)}function Ir(e,t,r,n,i,a,o){var s=-1,l=e.length,u=t.length;if(l!=u&&!(i&&u>l))return!1;for(;++s<l;){var c=e[s],f=t[s],d=n?n(i?f:c,i?c:f,s):E;if(d!==E){if(d)continue;return!1}if(i){if(!dt(t,function(e){return c===e||r(c,e,n,i,a,o)}))return!1}else if(c!==f&&!r(c,f,n,i,a,o))return!1}return!0}function zr(e,t,r){switch(r){case H:case $:return+e==+t;case G:return e.name==t.name&&e.message==t.message;case J:return e!=+e?t!=+t:e==+t;case ee:case re:return e==t+""}return!1}function Br(e,t,r,n,i,a,o){var s=qs(e),l=s.length,u=qs(t),c=u.length;if(l!=c&&!i)return!1;for(var f=l;f--;){var d=s[f];if(!(i?d in t:eo.call(t,d)))return!1}for(var p=i;++f<l;){d=s[f];var h=e[d],v=t[d],g=n?n(i?v:h,i?h:v,d):E;if(!(g===E?r(h,v,n,i,a,o):g))return!1;p||(p="constructor"==d)}if(!p){var y=e.constructor,m=t.constructor;if(y!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m))return!1}return!0}function qr(e,r,n){var i=t.callback||Ea;i=i===Ea?wt:i;return n?i(e,r,n):i}function Fr(e){for(var t=e.name,r=No[t],n=r?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function Vr(e,r,n){var i=t.indexOf||Cn;i=i===Cn?a:i;return e?i(e,r,n):i}function Xr(e){for(var t=ta(e),r=t.length;r--;)t[r][2]=rn(t[r][1]);return t}function Yr(e,t){var r=null==e?E:e[t];return Ii(r)?r:E}function Wr(e,t,r){for(var n=-1,i=r.length;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=ko(t,e+o);break;case"takeRight":e=_o(e,t-o)}}return{start:e,end:t}}function Ur(e){var t=e.length,r=new e.constructor(t);if(t&&"string"==typeof e[0]&&eo.call(e,"index")){r.index=e.index;r.input=e.input}return r}function Hr(e){var t=e.constructor;"function"==typeof t&&t instanceof t||(t=Ua);return new t}function $r(e,t,r){var n=e.constructor;switch(t){case ie:return or(e);case H:case $:return new n((+e));case ae:case oe:case se:case le:case ue:case ce:case fe:case de:case pe:var i=e.buffer;return new n(r?or(i):i,e.byteOffset,e.length);case J:case re:return new n(e);case ee:var a=new n(e.source,Me.exec(e));a.lastIndex=e.lastIndex}return a}function Gr(e,t,r){if(null!=e&&!Kr(t,e)){t=dn(t);e=1==t.length?e:Nt(e,$t(t,0,-1));t=Sn(t)}var n=null==e?e:e[t];return null==n?E:n.apply(e,r)}function Qr(e){return null!=e&&tn(Vo(e))}function Zr(e,t){e="number"==typeof e||Oe.test(e)?+e:-1;t=null==t?Mo:t;return e>-1&&e%1==0&&e<t}function Jr(e,t,r){if(!Ni(r))return!1;var n=typeof t;if("number"==n?Qr(r)&&Zr(t,r.length):"string"==n&&t in r){var i=r[t];return e===e?e===i:i!==i}return!1}function Kr(e,t){var r=typeof e;if("string"==r&&Ee.test(e)||"number"==r)return!0;if(Ps(e))return!1;var n=!Ce.test(e);return n||null!=t&&e in fn(t)}function en(e){var r=Fr(e);if(!(r in Z.prototype))return!1;var n=t[r];if(e===n)return!0;var i=Fo(n);return!!i&&e===i[0]}function tn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Mo}function rn(e){return e===e&&!Ni(e)}function nn(e,t){var r=e[1],n=t[1],i=r|n,a=i<N,o=n==N&&r==j||n==N&&r==O&&e[7].length<=t[8]||n==(N|O)&&r==j;if(!a&&!o)return e;if(n&T){e[2]=t[2];i|=r&T?0:P}var s=t[3];if(s){var l=e[3];e[3]=l?sr(l,s,t[4]):et(s);e[4]=l?b(e[3],Y):et(t[4])}s=t[5];if(s){l=e[5];e[5]=l?lr(l,s,t[6]):et(s);e[6]=l?b(e[5],Y):et(t[6])}s=t[7];s&&(e[7]=et(s));n&N&&(e[8]=null==e[8]?t[8]:ko(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0];e[1]=i;return e}function an(e,t){return e===E?t:js(e,t,an)}function on(e,t){e=fn(e);for(var r=-1,n=t.length,i={};++r<n;){var a=t[r];a in e&&(i[a]=e[a])}return i}function sn(e,t){var r={};jt(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function ln(e,t){for(var r=e.length,n=ko(t.length,r),i=et(e);n--;){var a=t[n];e[n]=Zr(a,r)?i[a]:E}return e}function un(e){for(var t=ea(e),r=t.length,n=r&&e.length,i=!!n&&tn(n)&&(Ps(e)||Ei(e)),a=-1,o=[];++a<r;){var s=t[a];(i&&Zr(s,n)||eo.call(e,s))&&o.push(s)}return o}function cn(e){return null==e?[]:Qr(e)?Ni(e)?e:Ua(e):aa(e)}function fn(e){return Ni(e)?e:Ua(e)}function dn(e){if(Ps(e))return e;var t=[];s(e).replace(Se,function(e,r,n,i){t.push(n?i.replace(je,"$1"):r||e)});return t}function pn(e){return e instanceof Z?e.clone():new m(e.__wrapped__,e.__chain__,et(e.__actions__))}function hn(e,t,r){t=(r?Jr(e,t,r):null==t)?1:_o(mo(t)||1,1);for(var n=0,i=e?e.length:0,a=-1,o=qa(go(i/t));n<i;)o[++a]=$t(e,n,n+=t);return o}function vn(e){for(var t=-1,r=e?e.length:0,n=-1,i=[];++t<r;){var a=e[t];a&&(i[++n]=a)}return i}function gn(e,t,r){var n=e?e.length:0;if(!n)return[];(r?Jr(e,t,r):null==t)&&(t=1);return $t(e,t<0?0:t)}function yn(e,t,r){var n=e?e.length:0;if(!n)return[];(r?Jr(e,t,r):null==t)&&(t=1);t=n-(+t||0);return $t(e,0,t<0?0:t)}function mn(e,t,r){return e&&e.length?tr(e,qr(t,r,3),!0,!0):[]}function bn(e,t,r){return e&&e.length?tr(e,qr(t,r,3),!0):[]}function wn(e,t,r,n){var i=e?e.length:0;if(!i)return[];if(r&&"number"!=typeof r&&Jr(e,t,r)){r=0;n=i}return St(e,t,r,n)}function xn(e){return e?e[0]:E}function _n(e,t,r){var n=e?e.length:0;r&&Jr(e,t,r)&&(t=!1);return n?Pt(e,t):[]}function kn(e){var t=e?e.length:0;return t?Pt(e,!0):[]}function Cn(e,t,r){var n=e?e.length:0;if(!n)return-1;if("number"==typeof r)r=r<0?_o(n+r,0):r;else if(r){var i=nr(e,t);return i<n&&(t===t?t===e[i]:e[i]!==e[i])?i:-1}return a(e,t,r||0)}function En(e){return yn(e,1)}function Sn(e){var t=e?e.length:0;return t?e[t-1]:E}function Tn(e,t,r){var n=e?e.length:0;if(!n)return-1;var i=n;if("number"==typeof r)i=(r<0?_o(n+r,0):ko(r||0,n-1))+1;else if(r){i=nr(e,t,!0)-1;var a=e[i];return(t===t?t===a:a!==a)?i:-1}if(t!==t)return g(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Dn(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var r=0,n=Vr(),i=e.length;++r<i;)for(var a=0,o=e[r];(a=n(t,o,a))>-1;)po.call(t,a,1);return t}function Pn(e,t,r){var n=[];if(!e||!e.length)return n;var i=-1,a=[],o=e.length;t=qr(t,r,3);for(;++i<o;){var s=e[i];if(t(s,i,e)){n.push(s);a.push(i)}}Wt(e,a);return n}function jn(e){return gn(e,1)}function Ln(e,t,r){var n=e?e.length:0;if(!n)return[];if(r&&"number"!=typeof r&&Jr(e,t,r)){t=0;r=n}return $t(e,t,r)}function Mn(e,t,r){var n=e?e.length:0;if(!n)return[];(r?Jr(e,t,r):null==t)&&(t=1);return $t(e,0,t<0?0:t)}function An(e,t,r){var n=e?e.length:0;if(!n)return[];(r?Jr(e,t,r):null==t)&&(t=1);t=n-(+t||0);return $t(e,t<0?0:t)}function Nn(e,t,r){return e&&e.length?tr(e,qr(t,r,3),!1,!0):[]}function On(e,t,r){return e&&e.length?tr(e,qr(t,r,3)):[]}function Rn(e,t,r,n){var i=e?e.length:0;if(!i)return[];if(null!=t&&"boolean"!=typeof t){n=r;r=Jr(e,t,n)?E:t;t=!1}var o=qr();null==r&&o===wt||(r=o(r,n,3));return t&&Vr()==a?w(e,r):Kt(e,r)}function In(e){if(!e||!e.length)return[];var t=-1,r=0;e=st(e,function(e){if(Qr(e)){r=_o(e.length,r);return!0}});for(var n=qa(r);++t<r;)n[t]=lt(e,Xt(t));return n}function zn(e,t,r){var n=e?e.length:0;if(!n)return[];var i=In(e);if(null==t)return i;t=ar(t,r,4);return lt(i,function(e){return ct(e,t,E,!0)})}function Bn(){for(var e=-1,t=arguments.length;++e<t;){var r=arguments[e];if(Qr(r))var n=n?ut(kt(n,r),kt(r,n)):r}return n?Kt(n):[]}function qn(e,t){var r=-1,n=e?e.length:0,i={};!n||t||Ps(e[0])||(t=[]);for(;++r<n;){var a=e[r];t?i[a]=t[r]:a&&(i[a[0]]=a[1])}return i}function Fn(e){var r=t(e);r.__chain__=!0;return r}function Vn(e,t,r){t.call(r,e);return e}function Xn(e,t,r){return t.call(r,e)}function Yn(){return Fn(this)}function Wn(){return new m(this.value(),this.__chain__)}function Un(e){for(var t,n=this;n instanceof r;){var i=pn(n);t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}a.__wrapped__=e;return t}function Hn(){var e=this.__wrapped__,t=function(e){return r&&r.__dir__<0?e:e.reverse()};if(e instanceof Z){var r=e;this.__actions__.length&&(r=new Z(this));r=r.reverse();r.__actions__.push({func:Xn,args:[t],thisArg:E});return new m(r,this.__chain__)}return this.thru(t)}function $n(){return this.value()+""}function Gn(){return rr(this.__wrapped__,this.__actions__)}function Qn(e,t,r){var n=Ps(e)?at:Ct;r&&Jr(e,t,r)&&(t=E);"function"==typeof t&&r===E||(t=qr(t,r,3));return n(e,t)}function Zn(e,t,r){var n=Ps(e)?st:Tt;t=qr(t,r,3);return n(e,t)}function Jn(e,t){return is(e,Bt(t))}function Kn(e,t,r,n){var i=e?Vo(e):0;if(!tn(i)){e=aa(e);i=e.length}r="number"!=typeof r||n&&Jr(t,r,n)?0:r<0?_o(i+r,0):r||0;return"string"==typeof e||!Ps(e)&&Vi(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Vr(e,t,r)>-1}function ei(e,t,r){var n=Ps(e)?lt:zt;t=qr(t,r,3);return n(e,t)}function ti(e,t){return ei(e,Aa(t))}function ri(e,t,r){var n=Ps(e)?st:Tt;t=qr(t,r,3);return n(e,function(e,r,n){return!t(e,r,n)})}function ni(e,t,r){if(r?Jr(e,t,r):null==t){e=cn(e);var n=e.length;return n>0?e[Ut(0,n-1)]:E}var i=-1,a=Hi(e),n=a.length,o=n-1;t=ko(t<0?0:+t||0,n);for(;++i<t;){var s=Ut(i,o),l=a[s];a[s]=a[i];a[i]=l}a.length=t;return a}function ii(e){return ni(e,Do)}function ai(e){var t=e?Vo(e):0;return tn(t)?t:qs(e).length}function oi(e,t,r){var n=Ps(e)?dt:Gt;r&&Jr(e,t,r)&&(t=E);"function"==typeof t&&r===E||(t=qr(t,r,3));return n(e,t)}function si(e,t,r){if(null==e)return[];r&&Jr(e,t,r)&&(t=E);var n=-1;t=qr(t,r,3);var i=zt(e,function(e,r,i){return{criteria:t(e,r,i),index:++n,value:e}});return Qt(i,c)}function li(e,t,r,n){if(null==e)return[];n&&Jr(t,r,n)&&(r=E);Ps(t)||(t=null==t?[]:[t]);Ps(r)||(r=null==r?[]:[r]);return Zt(e,t,r)}function ui(e,t){return Zn(e,Bt(t))}function ci(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Ga(X);var r=e;e=t;t=r}e=wo(e=+e)?e:0;return function(){if(--e<1)return t.apply(this,arguments)}}function fi(e,t,r){r&&Jr(e,t,r)&&(t=E);t=e&&null==t?e.length:_o(+t||0,0);return Rr(e,N,E,E,E,E,t)}function di(e,t){var r;if("function"!=typeof t){if("function"!=typeof e)throw new Ga(X);var n=e;e=t;t=n}return function(){--e>0&&(r=t.apply(this,arguments));e<=1&&(t=E);return r}}function pi(e,t,r){function n(){p&&oo(p);u&&oo(u);v=0;u=p=h=E}function i(t,r){r&&oo(r);u=p=h=E;if(t){v=vs();c=e.apply(d,l);p||u||(l=d=E)}}function a(){var e=t-(vs()-f);e<=0||e>t?i(h,u):p=fo(a,e)}function o(){i(y,p)}function s(){l=arguments;f=vs();d=this;h=y&&(p||!m);if(g===!1)var r=m&&!p;else{u||m||(v=f);var n=g-(f-v),i=n<=0||n>g;if(i){u&&(u=oo(u));v=f;c=e.apply(d,l)}else u||(u=fo(o,n))}i&&p?p=oo(p):p||t===g||(p=fo(a,t));if(r){i=!0;c=e.apply(d,l)}!i||p||u||(l=d=E);return c}var l,u,c,f,d,p,h,v=0,g=!1,y=!0;if("function"!=typeof e)throw new Ga(X);t=t<0?0:+t||0;if(r===!0){var m=!0;y=!1}else if(Ni(r)){m=!!r.leading;g="maxWait"in r&&_o(+r.maxWait||0,t);y="trailing"in r?!!r.trailing:y}s.cancel=n;return s}function hi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Ga(X);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);r.cache=a.set(i,o);return o};r.cache=new hi.Cache;return r}function vi(e){if("function"!=typeof e)throw new Ga(X);return function(){return!e.apply(this,arguments)}}function gi(e){return di(2,e)}function yi(e,t){if("function"!=typeof e)throw new Ga(X);t=_o(t===E?e.length-1:+t||0,0);return function(){for(var r=arguments,n=-1,i=_o(r.length-t,0),a=qa(i);++n<i;)a[n]=r[t+n];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var o=qa(t+1);n=-1;for(;++n<t;)o[n]=r[n];o[t]=a;return e.apply(this,o)}}function mi(e){if("function"!=typeof e)throw new Ga(X);return function(t){return e.apply(this,t)}}function bi(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Ga(X);if(r===!1)n=!1;else if(Ni(r)){n="leading"in r?!!r.leading:n;i="trailing"in r?!!r.trailing:i}return pi(e,t,{leading:n,maxWait:+t,trailing:i})}function wi(e,t){t=null==t?Ta:t;return Rr(t,M,E,[e],[])}function xi(e,t,r,n){if(t&&"boolean"!=typeof t&&Jr(e,t,r))t=!1;else if("function"==typeof t){n=r;r=t;t=!1}return"function"==typeof r?xt(e,t,ar(r,n,1)):xt(e,t)}function _i(e,t,r){return"function"==typeof t?xt(e,!0,ar(t,r,1)):xt(e,!0)}function ki(e,t){return e>t}function Ci(e,t){return e>=t}function Ei(e){return y(e)&&Qr(e)&&eo.call(e,"callee")&&!uo.call(e,"callee")}function Si(e){return e===!0||e===!1||y(e)&&ro.call(e)==H}function Ti(e){return y(e)&&ro.call(e)==$}function Di(e){return!!e&&1===e.nodeType&&y(e)&&!qi(e)}function Pi(e){return null==e||(Qr(e)&&(Ps(e)||Vi(e)||Ei(e)||y(e)&&Ai(e.splice))?!e.length:!qs(e).length)}function ji(e,t,r,n){r="function"==typeof r?ar(r,n,3):E;var i=r?r(e,t):E;return i===E?Ot(e,t,r):!!i}function Li(e){return y(e)&&"string"==typeof e.message&&ro.call(e)==G}function Mi(e){return"number"==typeof e&&wo(e)}function Ai(e){return Ni(e)&&ro.call(e)==Q}function Ni(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Oi(e,t,r,n){r="function"==typeof r?ar(r,n,3):E;return It(e,Xr(t),r)}function Ri(e){return Bi(e)&&e!=+e}function Ii(e){return null!=e&&(Ai(e)?io.test(Ka.call(e)):y(e)&&Ne.test(e))}function zi(e){return null===e}function Bi(e){return"number"==typeof e||y(e)&&ro.call(e)==J}function qi(e){var t;if(!y(e)||ro.call(e)!=K||Ei(e)||!eo.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var r;jt(e,function(e,t){r=t});return r===E||eo.call(e,r)}function Fi(e){return Ni(e)&&ro.call(e)==ee}function Vi(e){return"string"==typeof e||y(e)&&ro.call(e)==re}function Xi(e){return y(e)&&tn(e.length)&&!!Ve[ro.call(e)]}function Yi(e){return e===E}function Wi(e,t){return e<t}function Ui(e,t){return e<=t}function Hi(e){var t=e?Vo(e):0;return tn(t)?t?et(e):[]:aa(e)}function $i(e){return bt(e,ea(e))}function Gi(e,t,r){var n=Oo(e);r&&Jr(e,t,r)&&(t=E);return t?yt(n,t):n}function Qi(e){return At(e,ea(e))}function Zi(e,t,r){var n=null==e?E:Nt(e,dn(t),t+"");return n===E?r:n}function Ji(e,t){if(null==e)return!1;var r=eo.call(e,t);if(!r&&!Kr(t)){t=dn(t);e=1==t.length?e:Nt(e,$t(t,0,-1));if(null==e)return!1;t=Sn(t);r=eo.call(e,t)}return r||tn(e.length)&&Zr(t,e.length)&&(Ps(e)||Ei(e))}function Ki(e,t,r){r&&Jr(e,t,r)&&(t=E);for(var n=-1,i=qs(e),a=i.length,o={};++n<a;){var s=i[n],l=e[s];t?eo.call(o,l)?o[l].push(s):o[l]=[s]:o[l]=s}return o}function ea(e){if(null==e)return[];Ni(e)||(e=Ua(e));var t=e.length;t=t&&tn(t)&&(Ps(e)||Ei(e))&&t||0;for(var r=e.constructor,n=-1,i="function"==typeof r&&r.prototype===e,a=qa(t),o=t>0;++n<t;)a[n]=n+"";for(var s in e)o&&Zr(s,t)||"constructor"==s&&(i||!eo.call(e,s))||a.push(s);return a}function ta(e){e=fn(e);for(var t=-1,r=qs(e),n=r.length,i=qa(n);++t<n;){var a=r[t];i[t]=[a,e[a]]}return i}function ra(e,t,r){var n=null==e?E:e[t];if(n===E){if(null!=e&&!Kr(t,e)){t=dn(t);e=1==t.length?e:Nt(e,$t(t,0,-1));n=null==e?E:e[Sn(t)]}n=n===E?r:n}return Ai(n)?n.call(e):n}function na(e,t,r){if(null==e)return e;var n=t+"";t=null!=e[n]||Kr(t,e)?[n]:dn(t);for(var i=-1,a=t.length,o=a-1,s=e;null!=s&&++i<a;){var l=t[i];Ni(s)&&(i==o?s[l]=r:null==s[l]&&(s[l]=Zr(t[i+1])?[]:{}));s=s[l]}return e}function ia(e,t,r,n){var i=Ps(e)||Xi(e);t=qr(t,n,4);if(null==r)if(i||Ni(e)){var a=e.constructor;r=i?Ps(e)?new a:[]:Oo(Ai(a)?a.prototype:E)}else r={};(i?tt:Lt)(e,function(e,n,i){return t(r,e,n,i)});return r}function aa(e){return er(e,qs(e))}function oa(e){return er(e,ea(e))}function sa(e,t,r){t=+t||0;if(r===E){r=t;t=0}else r=+r||0;return e>=ko(t,r)&&e<_o(t,r)}function la(e,t,r){r&&Jr(e,t,r)&&(t=r=E);var n=null==e,i=null==t;if(null==r)if(i&&"boolean"==typeof e){r=e;e=1}else if("boolean"==typeof t){r=t;i=!0}if(n&&i){t=1;i=!1}e=+e||0;if(i){t=e;e=0}else t=+t||0;if(r||e%1||t%1){var a=So();return ko(e+a*(t-e+so("1e-"+((a+"").length-1))),t)}return Ut(e,t)}function ua(e){e=s(e);return e&&e.charAt(0).toUpperCase()+e.slice(1)}function ca(e){e=s(e);return e&&e.replace(Re,d).replace(Pe,"")}function fa(e,t,r){e=s(e);t+="";var n=e.length;r=r===E?n:ko(r<0?0:+r||0,n);r-=t.length;return r>=0&&e.indexOf(t,r)==r}function da(e){e=s(e);return e&&we.test(e)?e.replace(me,p):e}function pa(e){e=s(e);return e&&De.test(e)?e.replace(Te,h):e||"(?:)"}function ha(e,t,r){e=s(e);t=+t;var n=e.length;if(n>=t||!wo(t))return e;var i=(t-n)/2,a=mo(i),o=go(i);r=Mr("",o,r);return r.slice(0,a)+e+r}function va(e,t,r){(r?Jr(e,t,r):null==t)?t=0:t&&(t=+t);e=ba(e);return Eo(e,t||(Ae.test(e)?16:10))}function ga(e,t){var r="";e=s(e);t=+t;if(t<1||!e||!wo(t))return r;do{t%2&&(r+=e);t=mo(t/2);e+=e}while(t);return r}function ya(e,t,r){e=s(e);r=null==r?0:ko(r<0?0:+r||0,e.length);return e.lastIndexOf(t,r)==r}function ma(e,r,n){var i=t.templateSettings;n&&Jr(e,r,n)&&(r=n=E);e=s(e);r=gt(yt({},n||r),i,vt);var a,o,l=gt(yt({},r.imports),i.imports,vt),u=qs(l),c=er(l,u),f=0,d=r.interpolate||Ie,p="__p += '",h=Ha((r.escape||Ie).source+"|"+d.source+"|"+(d===ke?Le:Ie).source+"|"+(r.evaluate||Ie).source+"|$","g"),g="//# sourceURL="+("sourceURL"in r?r.sourceURL:"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(h,function(t,r,n,i,s,l){n||(n=i);p+=e.slice(f,l).replace(ze,v);if(r){a=!0;p+="' +\n__e("+r+") +\n'"}if(s){o=!0;p+="';\n"+s+";\n__p += '"}n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'");f=l+t.length;return t});p+="';\n";var y=r.variable;y||(p="with (obj) {\n"+p+"\n}\n");p=(o?p.replace(he,""):p).replace(ve,"$1").replace(ge,"$1;");p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Zs(function(){return Xa(u,g+"return "+p).apply(E,c)});m.source=p;if(Li(m))throw m;return m}function ba(e,t,r){var n=e;e=s(e);if(!e)return e;if(r?Jr(n,t,r):null==t)return e.slice(x(e),_(e)+1);t+="";return e.slice(l(e,t),u(e,t)+1)}function wa(e,t,r){var n=e;e=s(e);return e?(r?Jr(n,t,r):null==t)?e.slice(x(e)):e.slice(l(e,t+"")):e}function xa(e,t,r){var n=e;e=s(e);return e?(r?Jr(n,t,r):null==t)?e.slice(0,_(e)+1):e.slice(0,u(e,t+"")+1):e}function _a(e,t,r){r&&Jr(e,t,r)&&(t=E);var n=R,i=I;if(null!=t)if(Ni(t)){var a="separator"in t?t.separator:a;n="length"in t?+t.length||0:n;i="omission"in t?s(t.omission):i}else n=+t||0;e=s(e);if(n>=e.length)return e;var o=n-i.length;if(o<1)return i;var l=e.slice(0,o);if(null==a)return l+i;if(Fi(a)){if(e.slice(o).search(a)){var u,c,f=e.slice(0,o);a.global||(a=Ha(a.source,(Me.exec(a)||"")+"g"));a.lastIndex=0;for(;u=a.exec(f);)c=u.index;l=l.slice(0,null==c?o:c)}}else if(e.indexOf(a,o)!=o){var d=l.lastIndexOf(a);d>-1&&(l=l.slice(0,d))}return l+i}function ka(e){e=s(e);return e&&be.test(e)?e.replace(ye,k):e}function Ca(e,t,r){r&&Jr(e,t,r)&&(t=E);e=s(e);return e.match(t||Be)||[]}function Ea(e,t,r){r&&Jr(e,t,r)&&(t=E);return y(e)?Da(e):wt(e,t)}function Sa(e){return function(){return e}}function Ta(e){return e}function Da(e){return Bt(xt(e,!0))}function Pa(e,t){return qt(e,xt(t,!0))}function ja(e,t,r){if(null==r){var n=Ni(t),i=n?qs(t):E,a=i&&i.length?At(t,i):E;if(!(a?a.length:n)){a=!1;r=t;t=e;e=this}}a||(a=At(t,qs(t)));var o=!0,s=-1,l=Ai(e),u=a.length;r===!1?o=!1:Ni(r)&&"chain"in r&&(o=r.chain);for(;++s<u;){var c=a[s],f=t[c];e[c]=f;l&&(e.prototype[c]=function(t){return function(){var r=this.__chain__;if(o||r){var n=e(this.__wrapped__),i=n.__actions__=et(this.__actions__);i.push({func:t,args:arguments,thisArg:e});n.__chain__=r;return n}return t.apply(e,ut([this.value()],arguments))}}(f))}return e}function La(){rt._=no;return this}function Ma(){}function Aa(e){return Kr(e)?Xt(e):Yt(e)}function Na(e){return function(t){return Nt(e,dn(t),t+"")}}function Oa(e,t,r){r&&Jr(e,t,r)&&(t=r=E);e=+e||0;r=null==r?1:+r||0;if(null==t){t=e;e=0}else t=+t||0;for(var n=-1,i=_o(go((t-e)/(r||1)),0),a=qa(i);++n<i;){a[n]=e;e+=r}return a}function Ra(e,t,r){e=mo(e);if(e<1||!wo(e))return[];var n=-1,i=qa(ko(e,Po));t=ar(t,r,1);for(;++n<e;)n<Po?i[n]=t(n):t(n);return i}function Ia(e){var t=++to;return s(e)+t}function za(e,t){return(+e||0)+(+t||0)}function Ba(e,t,r){r&&Jr(e,t,r)&&(t=E);t=qr(t,r,3);return 1==t.length?pt(Ps(e)?e:cn(e),t):Jt(e,t)}e=e?nt.defaults(rt.Object(),e,nt.pick(rt,qe)):rt;var qa=e.Array,Fa=e.Date,Va=e.Error,Xa=e.Function,Ya=e.Math,Wa=e.Number,Ua=e.Object,Ha=e.RegExp,$a=e.String,Ga=e.TypeError,Qa=qa.prototype,Za=Ua.prototype,Ja=$a.prototype,Ka=Xa.prototype.toString,eo=Za.hasOwnProperty,to=0,ro=Za.toString,no=rt._,io=Ha("^"+Ka.call(eo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ao=e.ArrayBuffer,oo=e.clearTimeout,so=e.parseFloat,lo=Ya.pow,uo=Za.propertyIsEnumerable,co=Yr(e,"Set"),fo=e.setTimeout,po=Qa.splice,ho=e.Uint8Array,vo=Yr(e,"WeakMap"),go=Ya.ceil,yo=Yr(Ua,"create"),mo=Ya.floor,bo=Yr(qa,"isArray"),wo=e.isFinite,xo=Yr(Ua,"keys"),_o=Ya.max,ko=Ya.min,Co=Yr(Fa,"now"),Eo=e.parseInt,So=Ya.random,To=Wa.NEGATIVE_INFINITY,Do=Wa.POSITIVE_INFINITY,Po=4294967295,jo=Po-1,Lo=Po>>>1,Mo=9007199254740991,Ao=vo&&new vo,No={};t.support={};t.templateSettings={escape:xe,evaluate:_e,interpolate:ke,variable:"",imports:{_:t}};var Oo=function(){function e(){}return function(t){if(Ni(t)){e.prototype=t;var r=new e;e.prototype=E}return r||{}}}(),Ro=fr(Lt),Io=fr(Mt,!0),zo=dr(),Bo=dr(!0),qo=Ao?function(e,t){Ao.set(e,t);return e}:Ta,Fo=Ao?function(e){return Ao.get(e)}:Ma,Vo=Xt("length"),Xo=function(){var e=0,t=0;return function(r,n){var i=vs(),a=B-(i-t);t=i;if(a>0){if(++e>=z)return r}else e=0;return qo(r,n)}}(),Yo=yi(function(e,t){return y(e)&&Qr(e)?kt(e,Pt(t,!1,!0)):[]}),Wo=xr(),Uo=xr(!0),Ho=yi(function(e){for(var t=e.length,r=t,n=qa(f),i=Vr(),o=i==a,s=[];r--;){var l=e[r]=Qr(l=e[r])?l:[];n[r]=o&&l.length>=120?hr(r&&l):null}var u=e[0],c=-1,f=u?u.length:0,d=n[0];e:for(;++c<f;){l=u[c];if((d?Ze(d,l):i(s,l,0))<0){for(var r=t;--r;){var p=n[r];if((p?Ze(p,l):i(e[r],l,0))<0)continue e}d&&d.push(l);s.push(l)}}return s}),$o=yi(function(e,t){t=Pt(t);var r=mt(e,t);Wt(e,t.sort(n));return r}),Go=Or(),Qo=Or(!0),Zo=yi(function(e){return Kt(Pt(e,!1,!0))}),Jo=yi(function(e,t){return Qr(e)?kt(e,t):[]}),Ko=yi(In),es=yi(function(e){var t=e.length,r=t>2?e[t-2]:E,n=t>1?e[t-1]:E;if(t>2&&"function"==typeof r)t-=2;else{r=t>1&&"function"==typeof n?(--t,n):E;n=E}e.length=t;return zn(e,r,n)}),ts=yi(function(e){e=Pt(e);return this.thru(function(t){return Ke(Ps(t)?t:[fn(t)],e)})}),rs=yi(function(e,t){return mt(e,Pt(t))}),ns=ur(function(e,t,r){eo.call(e,r)?++e[r]:e[r]=1}),is=wr(Ro),as=wr(Io,!0),os=Cr(tt,Ro),ss=Cr(it,Io),ls=ur(function(e,t,r){eo.call(e,r)?e[r].push(t):e[r]=[t]}),us=ur(function(e,t,r){e[r]=t}),cs=yi(function(e,t,r){var n=-1,i="function"==typeof t,a=Kr(t),o=Qr(e)?qa(e.length):[];Ro(e,function(e){var s=i?t:a&&null!=e?e[t]:E;o[++n]=s?s.apply(e,r):Gr(e,t,r)});return o}),fs=ur(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),ds=jr(ct,Ro),ps=jr(ft,Io),hs=yi(function(e,t){if(null==e)return[];var r=t[2];r&&Jr(t[0],t[1],r)&&(t.length=1);return Zt(e,Pt(t),[])}),vs=Co||function(){return(new Fa).getTime()},gs=yi(function(e,t,r){var n=T;if(r.length){var i=b(r,gs.placeholder);n|=M}return Rr(e,n,t,r,i)}),ys=yi(function(e,t){t=t.length?Pt(t):Qi(e);for(var r=-1,n=t.length;++r<n;){var i=t[r];e[i]=Rr(e[i],T,e)}return e}),ms=yi(function(e,t,r){var n=T|D;if(r.length){var i=b(r,ms.placeholder);n|=M}return Rr(t,n,e,r,i)}),bs=yr(j),ws=yr(L),xs=yi(function(e,t){return _t(e,1,t)}),_s=yi(function(e,t,r){return _t(e,t,r)}),ks=kr(),Cs=kr(!0),Es=yi(function(e,t){t=Pt(t);if("function"!=typeof e||!at(t,o))throw new Ga(X);var r=t.length;return yi(function(n){for(var i=ko(n.length,r);i--;)n[i]=t[i](n[i]);return e.apply(this,n)})}),Ss=Pr(M),Ts=Pr(A),Ds=yi(function(e,t){return Rr(e,O,E,E,E,Pt(t))}),Ps=bo||function(e){return y(e)&&tn(e.length)&&ro.call(e)==U;
},js=cr(Ft),Ls=cr(function(e,t,r){return r?gt(e,t,r):yt(e,t)}),Ms=mr(Ls,ht),As=mr(js,an),Ns=_r(Lt),Os=_r(Mt),Rs=Er(zo),Is=Er(Bo),zs=Sr(Lt),Bs=Sr(Mt),qs=xo?function(e){var t=null==e?E:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Qr(e)?un(e):Ni(e)?xo(e):[]}:un,Fs=Tr(!0),Vs=Tr(),Xs=yi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=lt(Pt(t),$a);return on(e,kt(ea(e),t))}var r=ar(t[0],t[1],3);return sn(e,function(e,t,n){return!r(e,t,n)})}),Ys=yi(function(e,t){return null==e?{}:"function"==typeof t[0]?sn(e,ar(t[0],t[1],3)):on(e,Pt(t))}),Ws=vr(function(e,t,r){t=t.toLowerCase();return e+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Us=vr(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Hs=Dr(),$s=Dr(!0),Gs=vr(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),Qs=vr(function(e,t,r){return e+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Zs=yi(function(e,t){try{return e.apply(E,t)}catch(r){return Li(r)?r:new Va(r)}}),Js=yi(function(e,t){return function(r){return Gr(r,e,t)}}),Ks=yi(function(e,t){return function(r){return Gr(e,r,t)}}),el=Nr("ceil"),tl=Nr("floor"),rl=br(ki,To),nl=br(Wi,Do),il=Nr("round");t.prototype=r.prototype;m.prototype=Oo(r.prototype);m.prototype.constructor=m;Z.prototype=Oo(r.prototype);Z.prototype.constructor=Z;We.prototype["delete"]=Ue;We.prototype.get=He;We.prototype.has=$e;We.prototype.set=Ge;Qe.prototype.push=Je;hi.Cache=We;t.after=ci;t.ary=fi;t.assign=Ls;t.at=rs;t.before=di;t.bind=gs;t.bindAll=ys;t.bindKey=ms;t.callback=Ea;t.chain=Fn;t.chunk=hn;t.compact=vn;t.constant=Sa;t.countBy=ns;t.create=Gi;t.curry=bs;t.curryRight=ws;t.debounce=pi;t.defaults=Ms;t.defaultsDeep=As;t.defer=xs;t.delay=_s;t.difference=Yo;t.drop=gn;t.dropRight=yn;t.dropRightWhile=mn;t.dropWhile=bn;t.fill=wn;t.filter=Zn;t.flatten=_n;t.flattenDeep=kn;t.flow=ks;t.flowRight=Cs;t.forEach=os;t.forEachRight=ss;t.forIn=Rs;t.forInRight=Is;t.forOwn=zs;t.forOwnRight=Bs;t.functions=Qi;t.groupBy=ls;t.indexBy=us;t.initial=En;t.intersection=Ho;t.invert=Ki;t.invoke=cs;t.keys=qs;t.keysIn=ea;t.map=ei;t.mapKeys=Fs;t.mapValues=Vs;t.matches=Da;t.matchesProperty=Pa;t.memoize=hi;t.merge=js;t.method=Js;t.methodOf=Ks;t.mixin=ja;t.modArgs=Es;t.negate=vi;t.omit=Xs;t.once=gi;t.pairs=ta;t.partial=Ss;t.partialRight=Ts;t.partition=fs;t.pick=Ys;t.pluck=ti;t.property=Aa;t.propertyOf=Na;t.pull=Dn;t.pullAt=$o;t.range=Oa;t.rearg=Ds;t.reject=ri;t.remove=Pn;t.rest=jn;t.restParam=yi;t.set=na;t.shuffle=ii;t.slice=Ln;t.sortBy=si;t.sortByAll=hs;t.sortByOrder=li;t.spread=mi;t.take=Mn;t.takeRight=An;t.takeRightWhile=Nn;t.takeWhile=On;t.tap=Vn;t.throttle=bi;t.thru=Xn;t.times=Ra;t.toArray=Hi;t.toPlainObject=$i;t.transform=ia;t.union=Zo;t.uniq=Rn;t.unzip=In;t.unzipWith=zn;t.values=aa;t.valuesIn=oa;t.where=ui;t.without=Jo;t.wrap=wi;t.xor=Bn;t.zip=Ko;t.zipObject=qn;t.zipWith=es;t.backflow=Cs;t.collect=ei;t.compose=Cs;t.each=os;t.eachRight=ss;t.extend=Ls;t.iteratee=Ea;t.methods=Qi;t.object=qn;t.select=Zn;t.tail=jn;t.unique=Rn;ja(t,t);t.add=za;t.attempt=Zs;t.camelCase=Ws;t.capitalize=ua;t.ceil=el;t.clone=xi;t.cloneDeep=_i;t.deburr=ca;t.endsWith=fa;t.escape=da;t.escapeRegExp=pa;t.every=Qn;t.find=is;t.findIndex=Wo;t.findKey=Ns;t.findLast=as;t.findLastIndex=Uo;t.findLastKey=Os;t.findWhere=Jn;t.first=xn;t.floor=tl;t.get=Zi;t.gt=ki;t.gte=Ci;t.has=Ji;t.identity=Ta;t.includes=Kn;t.indexOf=Cn;t.inRange=sa;t.isArguments=Ei;t.isArray=Ps;t.isBoolean=Si;t.isDate=Ti;t.isElement=Di;t.isEmpty=Pi;t.isEqual=ji;t.isError=Li;t.isFinite=Mi;t.isFunction=Ai;t.isMatch=Oi;t.isNaN=Ri;t.isNative=Ii;t.isNull=zi;t.isNumber=Bi;t.isObject=Ni;t.isPlainObject=qi;t.isRegExp=Fi;t.isString=Vi;t.isTypedArray=Xi;t.isUndefined=Yi;t.kebabCase=Us;t.last=Sn;t.lastIndexOf=Tn;t.lt=Wi;t.lte=Ui;t.max=rl;t.min=nl;t.noConflict=La;t.noop=Ma;t.now=vs;t.pad=ha;t.padLeft=Hs;t.padRight=$s;t.parseInt=va;t.random=la;t.reduce=ds;t.reduceRight=ps;t.repeat=ga;t.result=ra;t.round=il;t.runInContext=C;t.size=ai;t.snakeCase=Gs;t.some=oi;t.sortedIndex=Go;t.sortedLastIndex=Qo;t.startCase=Qs;t.startsWith=ya;t.sum=Ba;t.template=ma;t.trim=ba;t.trimLeft=wa;t.trimRight=xa;t.trunc=_a;t.unescape=ka;t.uniqueId=Ia;t.words=Ca;t.all=Qn;t.any=oi;t.contains=Kn;t.eq=ji;t.detect=is;t.foldl=ds;t.foldr=ps;t.head=xn;t.include=Kn;t.inject=ds;ja(t,function(){var e={};Lt(t,function(r,n){t.prototype[n]||(e[n]=r)});return e}(),!1);t.sample=ni;t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ni(t,e)}):ni(this.value())};t.VERSION=S;tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t});tt(["drop","take"],function(e,t){Z.prototype[e]=function(r){var n=this.__filtered__;if(n&&!t)return new Z(this);r=null==r?1:_o(mo(r)||0,0);var i=this.clone();n?i.__takeCount__=ko(i.__takeCount__,r):i.__views__.push({size:r,type:e+(i.__dir__<0?"Right":"")});return i};Z.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}});tt(["filter","map","takeWhile"],function(e,t){var r=t+1,n=r!=V;Z.prototype[e]=function(e,t){var i=this.clone();i.__iteratees__.push({iteratee:qr(e,t,1),type:r});i.__filtered__=i.__filtered__||n;return i}});tt(["first","last"],function(e,t){var r="take"+(t?"Right":"");Z.prototype[e]=function(){return this[r](1).value()[0]}});tt(["initial","rest"],function(e,t){var r="drop"+(t?"":"Right");Z.prototype[e]=function(){return this.__filtered__?new Z(this):this[r](1)}});tt(["pluck","where"],function(e,t){var r=t?"filter":"map",n=t?Bt:Aa;Z.prototype[e]=function(e){return this[r](n(e))}});Z.prototype.compact=function(){return this.filter(Ta)};Z.prototype.reject=function(e,t){e=qr(e,t,1);return this.filter(function(t){return!e(t)})};Z.prototype.slice=function(e,t){e=null==e?0:+e||0;var r=this;if(r.__filtered__&&(e>0||t<0))return new Z(r);e<0?r=r.takeRight(-e):e&&(r=r.drop(e));if(t!==E){t=+t||0;r=t<0?r.dropRight(-t):r.take(t-e)}return r};Z.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()};Z.prototype.toArray=function(){return this.take(Do)};Lt(Z.prototype,function(e,r){var n=/^(?:filter|map|reject)|While$/.test(r),i=/^(?:first|last)$/.test(r),a=t[i?"take"+("last"==r?"Right":""):r];a&&(t.prototype[r]=function(){var t=i?[1]:arguments,r=this.__chain__,o=this.__wrapped__,s=!!this.__actions__.length,l=o instanceof Z,u=t[0],c=l||Ps(o);c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=function(e){return i&&r?a(e,1)[0]:a.apply(E,ut([e],t))},d={func:Xn,args:[f],thisArg:E},p=l&&!s;if(i&&!r){if(p){o=o.clone();o.__actions__.push(d);return e.call(o)}return a.call(E,this.value())[0]}if(!i&&c){o=p?o:new Z(this);var h=e.apply(o,t);h.__actions__.push(d);return new m(h,r)}return this.thru(f)})});tt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var r=(/^(?:replace|split)$/.test(e)?Ja:Qa)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?r.apply(this.value(),e):this[n](function(t){return r.apply(t,e)})}});Lt(Z.prototype,function(e,r){var n=t[r];if(n){var i=n.name,a=No[i]||(No[i]=[]);a.push({name:r,func:n})}});No[Lr(E,D).name]=[{name:"wrapper",func:E}];Z.prototype.clone=te;Z.prototype.reverse=ne;Z.prototype.value=Ye;t.prototype.chain=Yn;t.prototype.commit=Wn;t.prototype.concat=ts;t.prototype.plant=Un;t.prototype.reverse=Hn;t.prototype.toString=$n;t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Gn;t.prototype.collect=t.prototype.map;t.prototype.head=t.prototype.first;t.prototype.select=t.prototype.filter;t.prototype.tail=t.prototype.rest;return t}var E,S="3.10.1",T=1,D=2,P=4,j=8,L=16,M=32,A=64,N=128,O=256,R=30,I="...",z=150,B=16,q=200,F=1,V=2,X="Expected a function",Y="__lodash_placeholder__",W="[object Arguments]",U="[object Array]",H="[object Boolean]",$="[object Date]",G="[object Error]",Q="[object Function]",Z="[object Map]",J="[object Number]",K="[object Object]",ee="[object RegExp]",te="[object Set]",re="[object String]",ne="[object WeakMap]",ie="[object ArrayBuffer]",ae="[object Float32Array]",oe="[object Float64Array]",se="[object Int8Array]",le="[object Int16Array]",ue="[object Int32Array]",ce="[object Uint8Array]",fe="[object Uint8ClampedArray]",de="[object Uint16Array]",pe="[object Uint32Array]",he=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,ge=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ye=/&(?:amp|lt|gt|quot|#39|#96);/g,me=/[&<>"'`]/g,be=RegExp(ye.source),we=RegExp(me.source),xe=/<%-([\s\S]+?)%>/g,_e=/<%([\s\S]+?)%>/g,ke=/<%=([\s\S]+?)%>/g,Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ee=/^\w*$/,Se=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Te=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,De=RegExp(Te.source),Pe=/[\u0300-\u036f\ufe20-\ufe23]/g,je=/\\(\\)?/g,Le=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Me=/\w*$/,Ae=/^0[xX]/,Ne=/^\[object .+?Constructor\]$/,Oe=/^\d+$/,Re=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ie=/($^)/,ze=/['\n\r\u2028\u2029\\]/g,Be=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),qe=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Fe=-1,Ve={};Ve[ae]=Ve[oe]=Ve[se]=Ve[le]=Ve[ue]=Ve[ce]=Ve[fe]=Ve[de]=Ve[pe]=!0;Ve[W]=Ve[U]=Ve[ie]=Ve[H]=Ve[$]=Ve[G]=Ve[Q]=Ve[Z]=Ve[J]=Ve[K]=Ve[ee]=Ve[te]=Ve[re]=Ve[ne]=!1;var Xe={};Xe[W]=Xe[U]=Xe[ie]=Xe[H]=Xe[$]=Xe[ae]=Xe[oe]=Xe[se]=Xe[le]=Xe[ue]=Xe[J]=Xe[K]=Xe[ee]=Xe[re]=Xe[ce]=Xe[fe]=Xe[de]=Xe[pe]=!0;Xe[G]=Xe[Q]=Xe[Z]=Xe[te]=Xe[ne]=!1;var Ye={"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss"},We={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ue={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},He={"function":!0,object:!0},$e={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ge={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qe=He[typeof r]&&r&&!r.nodeType&&r,Ze=He[typeof t]&&t&&!t.nodeType&&t,Je=Qe&&Ze&&"object"==typeof e&&e&&e.Object&&e,Ke=He[typeof self]&&self&&self.Object&&self,et=He[typeof window]&&window&&window.Object&&window,tt=Ze&&Ze.exports===Qe&&Qe,rt=Je||et!==(this&&this.window)&&et||Ke||this,nt=C();if("function"==typeof define&&"object"==typeof define.amd&&define.amd){rt._=nt;define(function(){return nt})}else Qe&&Ze?tt?(Ze.exports=nt)._=nt:Qe._=nt:rt._=nt}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],121:[function(e,t,r){r.endianness=function(){return"LE"};r.hostname=function(){return"undefined"!=typeof location?location.hostname:""};r.loadavg=function(){return[]};r.uptime=function(){return 0};r.freemem=function(){return Number.MAX_VALUE};r.totalmem=function(){return Number.MAX_VALUE};r.cpus=function(){return[]};r.type=function(){return"Browser"};r.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""};r.networkInterfaces=r.getNetworkInterfaces=function(){return{}};r.arch=function(){return"javascript"};r.platform=function(){return"browser"};r.tmpdir=r.tmpDir=function(){return"/tmp"};r.EOL="\n"},{}],122:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];if("."===i)e.splice(n,1);else if(".."===i){e.splice(n,1);r++}else if(r){e.splice(n,1);r--}}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return i.exec(e).slice(1)};r.resolve=function(){for(var r="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");if(o){r=o+"/"+r;i="/"===o.charAt(0)}}r=t(n(r.split("/"),function(e){return!!e}),!i).join("/");return(i?"/":"")+r||"."};r.normalize=function(e){var i=r.isAbsolute(e),a="/"===o(e,-1);e=t(n(e.split("/"),function(e){return!!e}),!i).join("/");e||i||(e=".");e&&a&&(e+="/");return(i?"/":"")+e};r.isAbsolute=function(e){return"/"===e.charAt(0)};r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))};r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1);t=r.resolve(t).substr(1);for(var i=n(e.split("/")),a=n(t.split("/")),o=Math.min(i.length,a.length),s=o,l=0;l<o;l++)if(i[l]!==a[l]){s=l;break}for(var u=[],l=s;l<i.length;l++)u.push("..");u=u.concat(a.slice(s));return u.join("/")};r.sep="/";r.delimiter=":";r.dirname=function(e){var t=a(e),r=t[0],n=t[1];if(!r&&!n)return".";n&&(n=n.substr(0,n.length-1));return r+n};r.basename=function(e,t){var r=a(e)[2];t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length));return r};r.extname=function(e){return a(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){t<0&&(t=e.length+t);return e.substr(t,r)}}).call(this,e("_process"))},{_process:125}],123:[function(e,t,r){(function(){var n;n=function(n){return"object"==typeof r&&"object"==typeof t?n(function(){try{return e("jquery")}catch(t){return window.jQuery}}()):"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)};n(function(e){return e.pivotUtilities.d3_renderers={Treemap:function(t,r){var n,i,a,o,s,l,u,c,f,d,p,h,v;a={localeStrings:{},d3:{width:function(){return e(window).width()/1.4},height:function(){return e(window).height()/1.4}}};r=e.extend(a,r);c=e("<div>").css({width:"100%",height:"100%"});d={name:"All",children:[]};n=function(e,t,r){var i,a,o,s,l,u;if(0!==t.length){null==e.children&&(e.children=[]);u=t.shift();l=e.children;for(a=0,o=l.length;a<o;a++){i=l[a];if(i.name===u){n(i,t,r);return}}s={name:u};n(s,t,r);return e.children.push(s)}e.value=r};u=t.getRowKeys();for(s=0,l=u.length;s<l;s++){f=u[s];h=t.getAggregator(f,[]).value();null!=h&&n(d,f,h)}i=d3.scale.category10();v=r.d3.width();o=r.d3.height();p=d3.layout.treemap().size([v,o]).sticky(!0).value(function(e){return e.size});d3.select(c[0]).append("div").style("position","relative").style("width",v+"px").style("height",o+"px").datum(d).selectAll(".node").data(p.padding([15,0,0,0]).value(function(e){return e.value}).nodes).enter().append("div").attr("class","node").style("background",function(e){return null!=e.children?"lightgrey":i(e.name)}).text(function(e){return e.name}).call(function(){this.style("left",function(e){return e.x+"px"}).style("top",function(e){return e.y+"px"}).style("width",function(e){return Math.max(0,e.dx-1)+"px"}).style("height",function(e){return Math.max(0,e.dy-1)+"px"})});return c}}})}).call(this)},{jquery:void 0}],124:[function(e,t,r){(function(){var n;n=function(n){return"object"==typeof r&&"object"==typeof t?n(function(){try{return e("jquery")}catch(t){return window.jQuery}}()):"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)};n(function(e){var t;t=function(t,r){return function(n,i){var a,o,s,l,u,c,f,d,p,h,v,g,y,m,b,w,x,_,k,C,E,S,T,D,P,j,L,M,A,N,O;d={localeStrings:{vs:"vs",by:"by"},gchart:{}};i=e.extend(!0,d,i);null==(o=i.gchart).width&&(o.width=window.innerWidth/1.4);null==(s=i.gchart).height&&(s.height=window.innerHeight/1.4);D=n.getRowKeys();0===D.length&&D.push([]);u=n.getColKeys();0===u.length&&u.push([]);p=n.aggregatorName;n.valAttrs.length&&(p+="("+n.valAttrs.join(", ")+")");y=function(){var e,t,r;r=[];for(e=0,t=D.length;e<t;e++){v=D[e];r.push(v.join("-"))}return r}();y.unshift("");_=0;if("ScatterChart"===t){c=[];C=n.tree;for(O in C){j=C[O];for(N in j){a=j[N];c.push([parseFloat(N),parseFloat(O),p+": \n"+a.format(a.value())])}}f=new google.visualization.DataTable;f.addColumn("number",n.colAttrs.join("-"));f.addColumn("number",n.rowAttrs.join("-"));f.addColumn({type:"string",role:"tooltip"});f.addRows(c);g=n.colAttrs.join("-");L=n.rowAttrs.join("-");P=""}else{c=[y];for(m=0,w=u.length;m<w;m++){l=u[m];S=[l.join("-")];_+=S[0].length;for(b=0,x=D.length;b<x;b++){T=D[b];a=n.getAggregator(T,l);if(null!=a.value()){M=a.value();e.isNumeric(M)?M<1?S.push(parseFloat(M.toPrecision(3))):S.push(parseFloat(M.toFixed(3))):S.push(M)}else S.push(null)}c.push(S)}f=google.visualization.arrayToDataTable(c);P=L=p;g=n.colAttrs.join("-");""!==g&&(P+=" "+i.localeStrings.vs+" "+g);h=n.rowAttrs.join("-");""!==h&&(P+=" "+i.localeStrings.by+" "+h)}k={title:P,hAxis:{title:g,slantedText:_>50},vAxis:{title:L},tooltip:{textStyle:{fontName:"Arial",fontSize:12}}};"ColumnChart"===t&&(k.vAxis.minValue=0);if("ScatterChart"===t){k.legend={position:"none"};k.chartArea={width:"80%",height:"80%"}}else 2===c[0].length&&""===c[0][1]&&(k.legend={position:"none"});e.extend(k,i.gchart,r);E=e("<div>").css({width:"100%",height:"100%"});A=new google.visualization.ChartWrapper({dataTable:f,chartType:t,options:k});A.draw(E[0]);E.bind("dblclick",function(){var e;e=new google.visualization.ChartEditor;google.visualization.events.addListener(e,"ok",function(){return e.getChartWrapper().draw(E[0])});return e.openDialog(A)});return E}};return e.pivotUtilities.gchart_renderers={"Line Chart":t("LineChart"),"Bar Chart":t("ColumnChart"),"Stacked Bar Chart":t("ColumnChart",{isStacked:!0}),"Area Chart":t("AreaChart",{isStacked:!0}),"Scatter Chart":t("ScatterChart")}})}).call(this)},{jquery:void 0}],125:[function(e,t,r){function n(){}var i=t.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.MutationObserver,r="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var n=[];if(t){var i=document.createElement("div"),a=new MutationObserver(function(){var e=n.slice();n.length=0;e.forEach(function(e){e()})});a.observe(i,{attributes:!0});return function(e){n.length||i.setAttribute("yes","no");n.push(e)}}if(r){window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data){e.stopPropagation();if(n.length>0){var r=n.shift();r()}}},!0);return function(e){n.push(e);window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}();i.title="browser";i.browser=!0;i.env={};i.argv=[];i.on=n;i.addListener=n;i.once=n;i.off=n;i.removeListener=n;i.removeAllListeners=n;i.emit=n;i.binding=function(e){throw new Error("process.binding is not supported")};i.cwd=function(){return"/"};i.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],126:[function(e,t,r){(function(e){"use strict";(function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof r?t.exports=n():e.store=n()})(this,function(){function t(){try{return o in i&&i[o]}catch(e){return!1}}var r,n={},i="undefined"!=typeof window?window:e,a=i.document,o="localStorage",s="script";n.disabled=!1;n.version="1.3.20";n.set=function(e,t){};n.get=function(e,t){};n.has=function(e){return void 0!==n.get(e)};n.remove=function(e){};n.clear=function(){};n.transact=function(e,t,r){if(null==r){r=t;t=null}null==t&&(t={});var i=n.get(e,t);r(i);n.set(e,i)};n.getAll=function(){};n.forEach=function(){};n.serialize=function(e){return JSON.stringify(e)};n.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}};if(t()){r=i[o];n.set=function(e,t){if(void 0===t)return n.remove(e);r.setItem(e,n.serialize(t));return t};n.get=function(e,t){var i=n.deserialize(r.getItem(e));return void 0===i?t:i};n.remove=function(e){r.removeItem(e)};n.clear=function(){r.clear()};n.getAll=function(){var e={};n.forEach(function(t,r){e[t]=r});return e};n.forEach=function(e){for(var t=0;t<r.length;t++){var i=r.key(t);e(i,n.get(i))}}}else if(a&&a.documentElement.addBehavior){var l,u;try{u=new ActiveXObject("htmlfile");u.open();u.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>');u.close();l=u.w.frames[0].document;r=l.createElement("div")}catch(c){r=a.createElement("div");l=a.body}var f=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(r);l.appendChild(r);r.addBehavior("#default#userData");r.load(o);var i=e.apply(n,t);l.removeChild(r);return i}},d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),p=function(e){return e.replace(/^d/,"___$&").replace(d,"___")};n.set=f(function(e,t,r){t=p(t);if(void 0===r)return n.remove(t);e.setAttribute(t,n.serialize(r));e.save(o);return r});n.get=f(function(e,t,r){t=p(t);var i=n.deserialize(e.getAttribute(t));return void 0===i?r:i});n.remove=f(function(e,t){t=p(t);e.removeAttribute(t);e.save(o)});n.clear=f(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(o);for(var r=t.length-1;r>=0;r--)e.removeAttribute(t[r].name);e.save(o)});n.getAll=function(e){var t={};n.forEach(function(e,r){t[e]=r});return t};n.forEach=f(function(e,t){for(var r,i=e.XMLDocument.documentElement.attributes,a=0;r=i[a];++a)t(r.name,n.deserialize(e.getAttribute(r.name)))})}try{var h="__storejs__";n.set(h,h);n.get(h)!=h&&(n.disabled=!0);n.remove(h)}catch(c){n.disabled=!0}n.enabled=!n.disabled;return n})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],127:[function(e,t,r){t.exports={_args:[["yasgui-utils@^1.4.1","/home/desislava/workspace/yasr"]],_from:"yasgui-utils@>=1.4.1 <2.0.0",_id:"yasgui-utils@1.6.0",_inCache:!0,_installable:!0,_location:"/yasgui-utils",_npmUser:{email:"laurens.rietveld@gmail.com",name:"laurens.rietveld"},_npmVersion:"1.4.3",_phantomChildren:{},_requested:{name:"yasgui-utils",raw:"yasgui-utils@^1.4.1",rawSpec:"^1.4.1",scope:null,spec:">=1.4.1 <2.0.0",type:"range"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/yasgui-utils/-/yasgui-utils-1.6.0.tgz",_shasum:"bcb9091109c233e3e82737c94c202e6512389c47",_shrinkwrap:null,_spec:"yasgui-utils@^1.4.1",_where:"/home/desislava/workspace/yasr",author:{name:"Laurens Rietveld"},bugs:{url:"https://github.com/YASGUI/Utils/issues"},dependencies:{store:"^1.3.14"},description:"Utils for YASGUI libs",devDependencies:{},directories:{},dist:{shasum:"bcb9091109c233e3e82737c94c202e6512389c47",tarball:"https://registry.npmjs.org/yasgui-utils/-/yasgui-utils-1.6.0.tgz"},homepage:"https://github.com/YASGUI/Utils",licenses:[{type:"MIT",url:"http://yasgui.github.io/license.txt"}],main:"src/main.js",maintainers:[{name:"laurens.rietveld",email:"laurens.rietveld@gmail.com"}],name:"yasgui-utils",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git://github.com/YASGUI/Utils.git"},version:"1.6.0"}},{}],128:[function(e,t,r){window.console=window.console||{log:function(){}};t.exports={storage:e("./storage.js"),svg:e("./svg.js"),version:{"yasgui-utils":e("../package.json").version},nestedExists:function(e){for(var t=Array.prototype.slice.call(arguments,1),r=0;r<t.length;r++){if(!e||!e.hasOwnProperty(t[r]))return!1;e=e[t[r]]}return!0}}},{"../package.json":127,"./storage.js":129,"./svg.js":130}],129:[function(e,t,r){var n=e("store"),i={day:function(){return 864e5},month:function(){30*i.day()},year:function(){12*i.month()}},a=t.exports={set:function(e,t,r){if(n.enabled&&e&&void 0!==t){"string"==typeof r&&(r=i[r]());t.documentElement&&(t=(new XMLSerializer).serializeToString(t.documentElement));n.set(e,{val:t,exp:r,time:(new Date).getTime()})}},remove:function(e){n.enabled&&e&&n.remove(e)},removeAll:function(e){if(n.enabled&&"function"==typeof e)for(var t in n.getAll())e(t,a.get(t))&&a.remove(t)},get:function(e){if(!n.enabled)return null;if(e){var t=n.get(e);return t?t.exp&&(new Date).getTime()-t.time>t.exp?null:t.val:null}return null}}},{store:126}],130:[function(e,t,r){t.exports={draw:function(e,r){if(e){var n=t.exports.getElement(r);n&&(e.append?e.append(n):e.appendChild(n))}},getElement:function(e){if(e&&0==e.indexOf("<svg")){var t=new DOMParser,r=t.parseFromString(e,"text/xml"),n=r.documentElement,i=document.createElement("div");i.className="svgImg";i.appendChild(n);return i}return!1}}},{}],131:[function(e,t,r){t.exports={name:"yasgui-yasr",description:"Yet Another SPARQL Resultset GUI",version:"2.4.12",main:"src/main.js",licenses:[{type:"MIT",url:"http://yasr.yasgui.org/license.txt"}],author:"Laurens Rietveld",homepage:"http://yasr.yasgui.org",devDependencies:{browserify:"^6.1.0",gulp:"~3.6.0","gulp-bump":"^0.1.11","gulp-concat":"^2.4.1","gulp-connect":"^2.0.5","gulp-embedlr":"^0.5.2","gulp-filter":"^1.0.2","gulp-git":"^0.5.2","gulp-jsvalidate":"^0.2.0","gulp-livereload":"^1.3.1","gulp-minify-css":"0.3.11","gulp-notify":"^2.0.1","gulp-rename":"^1.2.0","gulp-streamify":"0.0.5","gulp-tag-version":"^1.1.0","gulp-uglify":"^1.0.1","require-dir":"^0.1.0","run-sequence":"^1.0.1","vinyl-buffer":"^1.0.0","vinyl-source-stream":"~0.1.1",watchify:"^0.6.4","gulp-sourcemaps":"^1.2.8",exorcist:"^0.1.6","vinyl-transform":"0.0.1","gulp-sass":"^2.2.0","bootstrap-sass":"^3.3.1","browserify-transform-tools":"^1.2.1","gulp-cssimport":"^1.3.1","gulp-html-replace":"^1.4.1","browserify-shim":"^3.8.1"},bugs:"https://github.com/YASGUI/YASR/issues/",keywords:["JavaScript","SPARQL","Editor","Semantic Web","Linked Data"],maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",web:"http://laurensrietveld.nl"}],repository:{type:"git",url:"https://github.com/YASGUI/YASR.git"},dependencies:{jquery:"1.11.0",codemirror:"^4.7.0","yasgui-utils":"^1.4.1",pivottable:"^1.2.2","jquery-ui":"1.10.5",d3:"^3.4.13",cytoscape:"^2.3.11",lodash:"^3.6.0"},"browserify-shim":{google:"global:google"},browserify:{transform:["browserify-shim"]},optionalShim:{codemirror:{require:"codemirror",global:"CodeMirror"},jquery:{require:"jquery",global:"jQuery"},"../../lib/codemirror":{require:"codemirror",global:"CodeMirror"},"../lib/DataTables/media/js/jquery.dataTables.js":{require:"datatables",global:"jQuery"},datatables:{require:"datatables",global:"jQuery"},d3:{require:"d3",global:"d3"},"jquery-ui/sortable":{require:"jquery-ui/sortable",global:"jQuery"},pivottable:{require:"pivottable",global:"jQuery"}}}},{}],132:[function(e,t,r){"use strict";t.exports=function(e){var t='"',r=",",n="\n",i=e.head.vars,a=e.results.bindings,o=function(){for(var e=0;e<i.length;e++)u(i[e]);f+=n},s=function(){for(var e=0;e<a.length;e++){l(a[e]);f+=n}},l=function(e){for(var t=0;t<i.length;t++){var r=i[t];u(e.hasOwnProperty(r)?e[r].value:"")}},u=function(e){e.replace(t,t+t);c(e)&&(e=t+e+t);f+=" "+e+" "+r},c=function(e){var n=!1;e.match("[\\w|"+r+"|"+t+"]")&&(n=!0);return n},f="";o();s();return f}},{}],133:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=t.exports=function(t){var r=n("<div class='booleanResult'></div>"),i=function(){r.empty().appendTo(t.resultsContainer);var i=t.results.getBoolean(),a=null,o=null;if(i===!0){a="check";o="True"}else if(i===!1){a="cross";o="False"}else{r.width("140");o="Could not find boolean value in response"}a&&e("yasgui-utils").svg.draw(r,e("./imgs.js")[a]);n("<span></span>").text(o).appendTo(r)},a=function(){return t.results.getBoolean&&(t.results.getBoolean()===!0||0==t.results.getBoolean())};return{name:null,draw:i,hideFromSelection:!0,getPriority:1,canHandleResults:a}};i.version={"YASR-boolean":e("../package.json").version,jquery:n.fn.jquery}},{"../package.json":131,"./imgs.js":142,jquery:void 0,"yasgui-utils":128}],134:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=t.exports=function(e){var t=n("<div class='booleanBootResult'></div>"),r=function(){t.empty().appendTo(e.resultsContainer);var r=e.results.getBoolean(),i=null;if(r===!0)i=n("<div class='boolRes alert alert-success no-icon'><span class='boolResTex'>YES</span></div>");else if(r===!1)i=n("<div class='boolRes alert alert-danger no-icon'><span class='boolResTex'>NO</span></div>");else{t.width("140");textVal="Could not find boolean value in response"}i.appendTo(t)},i=function(){return e.results.getBoolean&&(e.results.getBoolean()===!0||0==e.results.getBoolean())};return{name:null,draw:r,hideFromSelection:!0,getPriority:3,canHandleResults:i}};i.version={"YASR-boolean":e("../package.json").version,jquery:n.fn.jquery}},{"../package.json":131,jquery:void 0}],135:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();t.exports={output:"table",useGoogleCharts:!0,outputPlugins:["table","error","boolean","rawResponse"],drawOutputSelector:!0,drawDownloadIcon:!0,getUsedPrefixes:null,persistency:{prefix:function(e){return"yasr_"+n(e.container).closest("[id]").attr("id")+"_"},outputSelector:function(e){return"selector"},results:{id:function(e){return"results_"+n(e.container).closest("[id]").attr("id")},key:"results",maxSize:1e5}}}},{jquery:void 0}],136:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=t.exports=function(e){var t=n("<div class='errorResult'></div>"),r=n.extend(!0,{},i.defaults),a=function(){var e=null;if(r.tryQueryLink){var t=r.tryQueryLink();e=n("<button>",{"class":"yasr_btn yasr_tryQuery"}).text("Try query in new browser window").click(function(){window.open(t,"_blank");n(this).blur()})}return e},o=function(){var i=e.results.getException();t.empty().appendTo(e.resultsContainer);var o=n("<div>",{"class":"errorHeader"}).appendTo(t);if(0!==i.status){var s="Error";i.statusText&&i.statusText.length<100&&(s=i.statusText);s+=" (#"+i.status+")";o.append(n("<span>",{"class":"exception"}).text(s)).append(a());var l=null;i.responseText?l=i.responseText:"string"==typeof i&&(l=i);l&&t.append(n("<pre>").text(l))}else{o.append(a());t.append(n("<div>",{"class":"corsMessage"}).append(r.corsMessage))}},s=function(e){return e.results.getException()||!1};return{name:null,draw:o,getPriority:20,hideFromSelection:!0,canHandleResults:s}};i.defaults={corsMessage:"Unable to get response from endpoint",tryQueryLink:null}},{jquery:void 0}],137:[function(e,t,r){t.exports={GoogleTypeException:function(e,t){this.foundTypes=e;this.varName=t;this.toString=function(){var e="Conflicting data types found for variable "+this.varName+'. Assuming all values of this variable are "string".';e+=" To avoid this issue, cast the values in your SPARQL query to the intended xsd datatype";return e};this.toHtml=function(){var e="Conflicting data types found for variable <i>"+this.varName+'</i>. Assuming all values of this variable are "string".';e+=" As a result, several Google Charts will not render values of this particular variable.";e+=" To avoid this issue, cast the values in your SPARQL query to the intended xsd datatype";return e}}}},{}],138:[function(e,t,r){"use strict";t.exports={selectSaveAsDropDown:'<div class="saveAsDropDown btn-group pull-right"><button class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown" type="button">Download as &nbsp;</button><ul class="dropdown-menu" role="menu"><li><a class="format dropdown-item" data-accepts="application/sparql-results+json" href="#">JSON</a></li><li><a class="format dropdown-item" data-accepts="application/sparql-results+xml" href="#">XML</a></li><li><a class="format dropdown-item" data-accepts="text/csv" href="#">CSV</a></li><li><a class="format dropdown-item " data-accepts="text/tab-separated-values" href="#">TSV</a></li><li><a class="format dropdown-item" data-accepts="application/x-binary-rdf-results-table" href="#">Binary RDF Results</a></li></ul></div>',
graphSaveAsDropDown:'<div class="saveAsDropDown btn-group pull-right"><button class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown" type="button">Download as &nbsp;</button><ul class="dropdown-menu" role="menu"><li><a class="format dropdown-item" data-accepts="application/rdf+json" href="#">JSON</a></li><li><a class="format dropdown-item" data-accepts="application/ld+json" href="#">JSON-LD</a></li><li><a class="format dropdown-item" data-accepts="application/rdf+xml" href="#">RDF-XML</a></li><li><a class="format dropdown-item" data-accepts="text/rdf+n3" href="#">N3</a></li><li><a class="format dropdown-item" data-accepts="text/plain" href="#">N-Triples</a></li><li><a class="format dropdown-item" data-accepts="text/x-nquads" href="#">N-Quads</a></li><li><a class="format dropdown-item" data-accepts="text/turtle" href="#">Turtle</a></li><li><a class="format dropdown-item" data-accepts="application/trix" href="#">TriX</a></li><li><a class="format dropdown-item" data-accepts="application/x-trig" href="#">TriG</a></li><li><a class="format dropdown-item" data-accepts="application/x-binary-rdf" href="#">Binary RDF</a></li></ul></div>'}},{}],139:[function(e,t,r){(function(r){var n=e("events").EventEmitter,i=(function(){try{return e("jquery")}catch(t){return window.jQuery}}(),!1),a=!1,o=function(){n.call(this);var e=this;this.init=function(){if(a||("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null)||i)("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null)?e.emit("initDone"):a&&e.emit("initError");else{i=!0;s("http://google.com/jsapi",function(){i=!1;e.emit("initDone")});var t=100,n=6e3,o=+new Date,l=function(){if(!("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null))if(+new Date-o>n){a=!0;i=!1;e.emit("initError")}else setTimeout(l,t)};l()}};this.googleLoad=function(){var t=function(){("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null).load("visualization","1",{packages:["corechart","charteditor"],callback:function(){e.emit("done")}})};if(i){e.once("initDone",t);e.once("initError",function(){e.emit("error","Could not load google loader")})}else if("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null)t();else if(a)e.emit("error","Could not load google loader");else{e.once("initDone",t);e.once("initError",function(){e.emit("error","Could not load google loader")})}}},s=function(e,t){var r=document.createElement("script");r.type="text/javascript";r.readyState?r.onreadystatechange=function(){if("loaded"==r.readyState||"complete"==r.readyState){r.onreadystatechange=null;t()}}:r.onload=function(){t()};r.src=e;document.body.appendChild(r)};o.prototype=new n;t.exports=new o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{events:119,jquery:void 0}],140:[function(e,t,r){(function(r){"use strict";function n(e,t,r){function n(e,t,a){var l,u,c,f,d,p,h,v;if(null==e||null==t)return e===t;if(e.__placeholder__||t.__placeholder__)return!0;if(e===t)return 0!==e||1/e==1/t;l=i.call(e);if(i.call(t)!=l)return!1;switch(l){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;u=a.length;for(;u--;)if(a[u]==e)return!0;a.push(e);c=0;f=!0;if("[object Array]"==l){d=e.length;p=t.length;if(s){switch(r){case"===":f=d===p;break;case"<==":f=d<=p;break;case"<<=":f=d<p}c=d;s=!1}else{f=d===p;c=d}if(f)for(;c--&&(f=c in e==c in t&&n(e[c],t[c],a)););}else{if("constructor"in e!="constructor"in t||e.constructor!=t.constructor)return!1;for(h in e)if(o(e,h)){c++;if(!(f=o(t,h)&&n(e[h],t[h],a)))break}if(f){v=0;for(h in t)o(t,h)&&++v;if(s)f="<<="===r?c<v:"<=="===r?c<=v:c===v;else{s=!1;f=c===v}}}a.pop();return f}var i={}.toString,a={}.hasOwnProperty,o=function(e,t){return a.call(e,t)},s=!0;return n(e,t,[])}var i=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),a=e("./utils.js"),o=e("yasgui-utils"),s=t.exports=function(t){var l=i.extend(!0,{},s.defaults),u=t.container.closest("[id]").attr("id");null==t.options.gchart&&(t.options.gchart={});var c=t.getPersistencyId("motionchart"),f=t.getPersistencyId("chartConfig");null==t.options.gchart.motionChartState&&(t.options.gchart.motionChartState=o.storage.get(c));null==t.options.gchart.chartConfig&&(t.options.gchart.chartConfig=o.storage.get(f));var d=null,p=function(e){var i="undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null;d=new i.visualization.ChartEditor;i.visualization.events.addListener(d,"ok",function(){var e,r;e=d.getChartWrapper();if(!n(e.getChartType,"MotionChart","===")){t.options.gchart.motionChartState=e.n;o.storage.set(c,t.options.gchart.motionChartState);e.setOption("state",t.options.gchart.motionChartState);i.visualization.events.addListener(e,"ready",function(){var r;r=e.getChart();i.visualization.events.addListener(r,"statechange",function(){t.options.gchart.motionChartState=r.getState();o.storage.set(c,t.options.gchart.motionChartState)})})}r=e.getDataTable();e.setDataTable(null);t.options.gchart.chartConfig=e.toJSON();o.storage.set(f,t.options.gchart.chartConfig);e.setDataTable(r);e.setOption("width",l.width);e.setOption("height",l.height);e.draw();t.updateHeader()});e&&e()};return{name:"Google Chart",hideFromSelection:!1,priority:7,canHandleResults:function(e){var t,r;return null!=(t=e.results)&&(r=t.getVariables())&&r.length>0},getDownloadInfo:function(){if(!t.results)return null;var e=t.resultsContainer.find("svg");if(e.length>0)return{getContent:function(){return e[0].outerHTML?e[0].outerHTML:i("<div>").append(e.clone()).html()},filename:"queryResults.svg",contentType:"image/svg+xml",buttonTitle:"Download SVG Image"};var r=t.resultsContainer.find(".google-visualization-table-table");return r.length>0?{getContent:function(){return r.tableToCsv()},filename:"queryResults.csv",contentType:"text/csv",buttonTitle:"Download as CSV"}:void 0},getEmbedHtml:function(){if(!t.results)return null;var e=t.resultsContainer.find("svg").clone().removeAttr("height").removeAttr("width").css("height","").css("width","");if(0==e.length)return null;var r=e[0].outerHTML;r||(r=i("<div>").append(e.clone()).html());return'<div style="width: 800px; height: 600px;">\n'+r+"\n</div>"},draw:function(){var n=function(){t.resultsContainer=i(".yasr_results");t.resultsContainer.empty();if(t.options.output==s.defaults.persistencyId){var r=u+"_gchartWrapper",n=null;t.resultsContainer.append(i("<button>",{"class":"openGchartBtn yasr_btn"}).text("Chart Config").click(function(){d.openDialog(n)})).append(i("<div>",{id:r,"class":"gchartWrapper"}));var f=new google.visualization.DataTable,p=t.results.getAsJson();p.head.vars.forEach(function(r){var n="string";try{n=a.getGoogleTypeForBindings(p.results.bindings,r)}catch(i){if(!(i instanceof e("./exceptions.js").GoogleTypeException))throw i;t.warn(i.toHtml())}f.addColumn(n,r)});var h=null;t.options.getUsedPrefixes&&(h="function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes);p.results.bindings.forEach(function(e){var t=[];p.head.vars.forEach(function(r,n){t.push(a.castGoogleType(e[r],h,f.getColumnType(n)))});f.addRow(t)});if(t.options.gchart.chartConfig){n=new google.visualization.ChartWrapper(t.options.gchart.chartConfig);if("MotionChart"===n.getChartType()&&null!=t.options.gchart.motionChartState){n.setOption("state",t.options.gchart.motionChartState);google.visualization.events.addListener(n,"ready",function(){var e;e=n.getChart();google.visualization.events.addListener(e,"statechange",function(){t.options.gchart.motionChartState=e.getState();o.storage.set(c,t.options.gchart.motionChartState)})})}n.setDataTable(f)}else n=new google.visualization.ChartWrapper({chartType:"Table",dataTable:f,containerId:r});n.setOption("width",l.width);n.setOption("height",l.height);n.draw();t.updateHeader()}};("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null)&&("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null).visualization&&d?n():e("./gChartLoader.js").on("done",function(){p();n()}).on("error",function(){console.log("errorrr")}).googleLoad()}}};s.defaults={height:"600px",width:"100%",persistencyId:"gchart"}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./exceptions.js":137,"./gChartLoader.js":139,"./utils.js":156,jquery:void 0,"yasgui-utils":128}],141:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=e("./utils.js"),a=e("lodash");e("cytoscape");(function(){try{return e("datatables")}catch(t){return window.jQuery}})();t.exports=function(t){var r={graphJson:e("./parsers/graphJson.js")},o=function(){return t.options.getUsedPrefixes?a.invert("function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes):null}(),s=function(e){if(o){var t=i.uriToPrefixWithLocalName(o,e);if(t)return t.prefix+":"+t.localName}return e},l=function(e,t){return{data:{id:t.toString(),name:s(e),uri:e,size:70}}},u=function(e){var r=n('<table cellpadding="0" cellspacing="0" border="0" class="dataPropsTable table table-striped table-bordered fixedCellWidth"></table>');t.resultsContainer.find("table").remove();t.resultsContainer.find(".graph-info").append(r);var i=a.map(e,function(e){return{property:s(e.predicate.value),value:s(e.object.value)}});r.DataTable({data:i,columns:[{data:"property"},{data:"value"}],paging:!1,ordering:!1,searching:!1,info:!1});r.find("th").hide()},c=function(e,t){var r=20,n=50,s={},c={};e=a.sortBy(e,function(e){return"uri"==e.subject.type?0:1});var d=a.uniq(a.flatten(a.map(e,function(e){return"literal"!=e.object.type?[e.subject.value,e.object.value]:[e.subject.value]}))),p=a.filter(e,function(e){return"literal"!=e.object.type}).length,h=d.length,v=a.slice(d,0,r);c.nodes=a.map(v,function(e,t){s[e]=t.toString();return l(e,t)});if(t){var g=a.filter(e,function(e){return"literal"==e.object.type});u(g)}var y=a.slice(a.filter(e,function(e){return s[e.subject.value]&&s[e.object.value]}),0,n);c.edges=a.map(y,function(e,t){var r=s[e.subject.value],n=s[e.object.value],a=i.uriToPrefixWithLocalName(o,e.predicate.value),l=a?a.prefix+":"+a.localName:e.predicate.value;return{data:{id:"e"+t.toString(),name:l,source:r,target:n}}});f(c.nodes.length,h,c.edges.length,p);return c},f=function(e,r,n,i){t.resultsContainer.find(".graph-info-title").text(e+" of "+r+" nodes, "+n+" of "+i+" edges.")},d=function(){t.resultsContainer.empty();t.resultsContainer.append('<div class="graph-info-title"></div><div class="graph-info"></div><div id="cy"></div>');var e=c(t.results.getAsJson().results.bindings),i=cytoscape({container:document.getElementById("cy"),style:cytoscape.stylesheet().selector("node").css({content:"data(name)","text-valign":"center",color:"white","text-outline-width":2,"text-outline-color":"#888",width:"data(size)",height:"data(size)"}).selector("edge").css({"target-arrow-shape":"triangle",width:"mapData(weight, 0, 10, 3, 9)","line-color":"#ddd","target-arrow-color":"#ddd",content:"data(name)","text-opacity":1,"text-valign":"center",color:"black"}).selector(".from").css({"background-color":"#f04e23"}).selector(".to").css({"background-color":"#018ae1"}),elements:{nodes:e.nodes,edges:e.edges},layout:{name:"circle",padding:10},boxSelectionEnabled:!0}),a=function(e,a){var o={query:"describe <"+e+"> limit 1000",infer:!!t.currentQuery.inference};t.currentQuery.sameAs&&(o["default-graph-uri"]="http://www.ontotext.com/disable-sameAs");var s="repositories/"+backendRepositoryID;n.ajax({url:s,type:"POST",data:o,headers:{Accept:"application/rdf+json"}}).done(function(e){var t=c(r.graphJson(e).results.bindings,!0);i.load(t,a)}).fail(function(t,r,n){console.log("Cannot browse entity: "+e+"; "+t.responseText)})};i.on("tap","node",function(e){var t=e.cyTarget,r=t.data().uri;a(r,function(){var e=i.nodes("[uri='"+r+"']");i.nodes().addClass("to");e.removeClass("to").addClass("from")})})},p=function(){return"CONSTRUCT"==window.editor.getQueryType()||"DESCRIBE"==window.editor.getQueryType()};return{name:"Graph(beta)",draw:d,getPriority:20,hideFromSelection:!1,canHandleResults:p}}},{"./parsers/graphJson.js":148,"./utils.js":156,cytoscape:93,datatables:void 0,jquery:void 0,lodash:120}],142:[function(e,t,r){"use strict";t.exports={cross:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="30px" height="30px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g>\t<path d="M83.288,88.13c-2.114,2.112-5.575,2.112-7.689,0L53.659,66.188c-2.114-2.112-5.573-2.112-7.687,0L24.251,87.907   c-2.113,2.114-5.571,2.114-7.686,0l-4.693-4.691c-2.114-2.114-2.114-5.573,0-7.688l21.719-21.721c2.113-2.114,2.113-5.573,0-7.686   L11.872,24.4c-2.114-2.113-2.114-5.571,0-7.686l4.842-4.842c2.113-2.114,5.571-2.114,7.686,0L46.12,33.591   c2.114,2.114,5.572,2.114,7.688,0l21.721-21.719c2.114-2.114,5.573-2.114,7.687,0l4.695,4.695c2.111,2.113,2.111,5.571-0.003,7.686   L66.188,45.973c-2.112,2.114-2.112,5.573,0,7.686L88.13,75.602c2.112,2.111,2.112,5.572,0,7.687L83.288,88.13z"/></g></svg>',check:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="30px" height="30px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path fill="#000000" d="M14.301,49.982l22.606,17.047L84.361,4.903c2.614-3.733,7.76-4.64,11.493-2.026l0.627,0.462  c3.732,2.614,4.64,7.758,2.025,11.492l-51.783,79.77c-1.955,2.791-3.896,3.762-7.301,3.988c-3.405,0.225-5.464-1.039-7.508-3.084  L2.447,61.814c-3.263-3.262-3.263-8.553,0-11.814l0.041-0.019C5.75,46.718,11.039,46.718,14.301,49.982z"/></svg>',unsorted:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,-0.70898699,-0.70898699,0.70522156,97.988199,55.081205)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path7-9"     d="m 8.8748339,52.571766 16.9382111,-0.222584 4.050851,-0.06665 15.719154,-0.222166 0.27778,-0.04246 0.43276,0.0017 0.41632,-0.06121 0.37532,-0.0611 0.47132,-0.119342 0.27767,-0.08206 0.55244,-0.198047 0.19707,-0.08043 0.61095,-0.259721 0.0988,-0.05825 0.019,-0.01914 0.59303,-0.356548 0.11787,-0.0788 0.49125,-0.337892 0.17994,-0.139779 0.37317,-0.336871 0.21862,-0.219786 0.31311,-0.31479 0.21993,-0.259387 c 0.92402,-1.126057 1.55249,-2.512251 1.78961,-4.016904 l 0.0573,-0.25754 0.0195,-0.374113 0.0179,-0.454719 0.0175,-0.05874 -0.0169,-0.258049 -0.0225,-0.493503 -0.0398,-0.355569 -0.0619,-0.414201 -0.098,-0.414812 -0.083,-0.353334 L 53.23955,41.1484 53.14185,40.850967 52.93977,40.377742 52.84157,40.161628 34.38021,4.2507375 C 33.211567,1.9401875 31.035446,0.48226552 28.639484,0.11316952 l -0.01843,-0.01834 -0.671963,-0.07882 -0.236871,0.0042 L 27.335984,-4.7826577e-7 27.220736,0.00379952 l -0.398804,0.0025 -0.313848,0.04043 -0.594474,0.07724 -0.09611,0.02147 C 23.424549,0.60716252 21.216017,2.1142355 20.013025,4.4296865 L 0.93967491,40.894479 c -2.08310801,3.997178 -0.588125,8.835482 3.35080799,10.819749 1.165535,0.613495 2.43199,0.88731 3.675026,0.864202 l 0.49845,-0.02325 0.410875,0.01658 z M 9.1502369,43.934401 9.0136999,43.910011 27.164145,9.2564625 44.70942,43.42818 l -14.765289,0.214677 -4.031106,0.0468 -16.7627881,0.244744 z" /></svg>',sortDesc:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,-0.70898699,-0.70898699,0.70522156,97.988199,55.081205)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path9"     d="m 27.813273,0.12823506 0.09753,0.02006 c 2.39093,0.458209 4.599455,1.96811104 5.80244,4.28639004 L 52.785897,40.894525 c 2.088044,4.002139 0.590949,8.836902 -3.348692,10.821875 -1.329078,0.688721 -2.766603,0.943695 -4.133174,0.841768 l -0.454018,0.02 L 27.910392,52.354171 23.855313,52.281851 8.14393,52.061827 7.862608,52.021477 7.429856,52.021738 7.014241,51.959818 6.638216,51.900838 6.164776,51.779369 5.889216,51.699439 5.338907,51.500691 5.139719,51.419551 4.545064,51.145023 4.430618,51.105123 4.410168,51.084563 3.817138,50.730843 3.693615,50.647783 3.207314,50.310611 3.028071,50.174369 2.652795,49.833957 2.433471,49.613462 2.140099,49.318523 1.901127,49.041407 C 0.97781,47.916059 0.347935,46.528448 0.11153,45.021676 L 0.05352,44.766255 0.05172,44.371683 0.01894,43.936017 0,43.877277 0.01836,43.62206 0.03666,43.122889 0.0765,42.765905 0.13912,42.352413 0.23568,41.940425 0.32288,41.588517 0.481021,41.151945 0.579391,40.853806 0.77369,40.381268 0.876097,40.162336 19.338869,4.2542801 c 1.172169,-2.308419 3.34759,-3.76846504 5.740829,-4.17716604 l 0.01975,0.01985 0.69605,-0.09573 0.218437,0.0225 0.490791,-0.02132 0.39809,0.0046 0.315972,0.03973 0.594462,0.08149 z" /></svg>',sortAsc:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,0.70898699,-0.70898699,-0.70522156,97.988199,58.704807)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path9"     d="m 27.813273,113.65778 0.09753,-0.0201 c 2.39093,-0.45821 4.599455,-1.96811 5.80244,-4.28639 L 52.785897,72.891487 c 2.088044,-4.002139 0.590949,-8.836902 -3.348692,-10.821875 -1.329078,-0.688721 -2.766603,-0.943695 -4.133174,-0.841768 l -0.454018,-0.02 -16.939621,0.223997 -4.055079,0.07232 -15.711383,0.220024 -0.281322,0.04035 -0.432752,-2.61e-4 -0.415615,0.06192 -0.376025,0.05898 -0.47344,0.121469 -0.27556,0.07993 -0.550309,0.198748 -0.199188,0.08114 -0.594655,0.274528 -0.114446,0.0399 -0.02045,0.02056 -0.59303,0.35372 -0.123523,0.08306 -0.486301,0.337172 -0.179243,0.136242 -0.375276,0.340412 -0.219324,0.220495 -0.293372,0.294939 -0.238972,0.277116 C 0.97781,65.869953 0.347935,67.257564 0.11153,68.764336 L 0.05352,69.019757 0.05172,69.414329 0.01894,69.849995 0,69.908735 l 0.01836,0.255217 0.0183,0.499171 0.03984,0.356984 0.06262,0.413492 0.09656,0.411988 0.0872,0.351908 0.158141,0.436572 0.09837,0.298139 0.194299,0.472538 0.102407,0.218932 18.462772,35.908054 c 1.172169,2.30842 3.34759,3.76847 5.740829,4.17717 l 0.01975,-0.0199 0.69605,0.0957 0.218437,-0.0225 0.490791,0.0213 0.39809,-0.005 0.315972,-0.0397 0.594462,-0.0815 z" /></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" baseProfile="tiny" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 100 100" xml:space="preserve"><g id="Captions"></g><g id="Your_Icon">\t<path fill-rule="evenodd" fill="#000000" d="M88,84v-2c0-2.961-0.859-4-4-4H16c-2.961,0-4,0.98-4,4v2c0,3.102,1.039,4,4,4h68   C87.02,88,88,87.039,88,84z M58,12H42c-5,0-6,0.941-6,6v22H16l34,34l34-34H64V18C64,12.941,62.939,12,58,12z"/></g></svg>',move:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_11656_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="753"     inkscape:window-height="480"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="287"     inkscape:window-y="249"     inkscape:window-maximized="0"     inkscape:current-layer="Layer_1" /><polygon     points="33,83 50,100 67,83 54,83 54,17 67,17 50,0 33,17 46,17 46,83 "          transform="translate(-7.962963,-10)" /><polygon     points="83,67 100,50 83,33 83,46 17,46 17,33 0,50 17,67 17,54 83,54 "          transform="translate(-7.962963,-10)" /></svg>',fullscreen:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"      x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_2186_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="640"     inkscape:window-height="480"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="0"     inkscape:current-layer="Layer_1" /><path     d="m -7.962963,-10 v 38.889 l 16.667,-16.667 16.667,16.667 5.555,-5.555 -16.667,-16.667 16.667,-16.667 h -38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 92.037037,-10 v 38.889 l -16.667,-16.667 -16.666,16.667 -5.556,-5.555 16.666,-16.667 -16.666,-16.667 h 38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="M -7.962963,90 V 51.111 l 16.667,16.666 16.667,-16.666 5.555,5.556 -16.667,16.666 16.667,16.667 h -38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="M 92.037037,90 V 51.111 l -16.667,16.666 -16.666,-16.666 -5.556,5.556 16.666,16.666 -16.666,16.667 h 38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /></svg>',smallscreen:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"      x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_2186_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="1855"     inkscape:window-height="1056"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="1"     inkscape:current-layer="Layer_1" /><path     d="m 30.926037,28.889 0,-38.889 -16.667,16.667 -16.667,-16.667 -5.555,5.555 16.667,16.667 -16.667,16.667 38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 53.148037,28.889 0,-38.889 16.667,16.667 16.666,-16.667 5.556,5.555 -16.666,16.667 16.666,16.667 -38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 30.926037,51.111 0,38.889 -16.667,-16.666 -16.667,16.666 -5.555,-5.556 16.667,-16.666 -16.667,-16.667 38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 53.148037,51.111 0,38.889 16.667,-16.666 16.666,16.666 5.556,-5.556 -16.666,-16.666 16.666,-16.667 -38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /></svg>'}},{}],143:[function(e,t,r){e("./tableToCsv.js")},{"./tableToCsv.js":144}],144:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();n.fn.tableToCsv=function(e){var t="";e=n.extend({quote:'"',delimiter:",",lineBreak:"\n"},e);var r=function(t){var r=!1;t.match("[\\w|"+e.delimiter+"|"+e.quote+"]")&&(r=!0);return r},i=function(n){n.replace(e.quote,e.quote+e.quote);r(n)&&(n=e.quote+n+e.quote);t+=" "+n+" "+e.delimiter},a=function(r){r.forEach(function(e){i(e)});t+=e.lineBreak},o=n(this),s={},l=0;o.find("tr:first *").each(function(){n(this).attr("colspan")?l+=+n(this).attr("colspan"):l++});o.find("tr").each(function(e,t){for(var r=n(t),i=[],o=0,u=0;u+o<l;u++)if(s[u]){i.push(s[u].text);s[u].rowSpan--;s[u].rowSpan||delete s[u]}else{var c=r.find(":nth-child("+(u+1)+")");console.log(c);var f=c.attr("colspan"),d=c.attr("rowspan");if(f&&!isNaN(f)){for(var p=0;p<f;p++)i.push(c.text());o+=f-1}else if(d&&!isNaN(d)){s[u+o]={rowSpan:d-1,text:c.text()};i.push(c.text());o++}else i.push(c.text())}a(i)});return t}},{jquery:void 0}],145:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=e("yasgui-utils");console=console||{log:function(){}};e("./jquery/extendJquery.js");var a=t.exports=function(t,r,o){var s={};s.options=n.extend(!0,{},a.defaults,r);s.container=n(t).find(".yasr");s.header=n(t).find(".yasr_header");s.resultsContainer=n(t).find(".yasr_results");s.storage=i.storage;var l=null;s.getPersistencyId=function(e){null===l&&(l=!(!s.options.persistency||!s.options.persistency.prefix)&&("string"==typeof s.options.persistency.prefix?s.options.persistency.prefix:s.options.persistency.prefix(s)));return l&&e?l+("string"==typeof e?e:e(s)):null};s.options.useGoogleCharts&&e("./gChartLoader.js").once("initError",function(){s.options.useGoogleCharts=!1}).init();s.plugins={};for(var u in a.plugins)(s.options.useGoogleCharts||"gchart"!=u)&&(s.plugins[u]=new a.plugins[u](s));s.updateHeader=function(){var e=s.header.find(".yasr_downloadIcon").removeAttr("title"),t=s.header.find(".saveAsDropDown"),r=s.header.find(".yasr_embedBtn"),n=s.plugins[s.options.output];if(n){if("Table"==n.name){e.hide();
t.removeAttr("style")}else{t.hide();e.show()}var i=n.getDownloadInfo?n.getDownloadInfo():null;if(i){i.buttonTitle&&e.attr("title",i.buttonTitle);e.prop("disabled",!1);e.find("path").each(function(){this.style.fill="black"})}else{e.prop("disabled",!0).prop("title","Download not supported for this result representation");e.find("path").each(function(){this.style.fill="gray"})}var a=null;n.getEmbedHtml&&(a=n.getEmbedHtml());a&&a.length>0?r.show():r.hide()}};s.draw=function(e){s.updateHeader();if(!s.results)return!1;e||(e=s.options.output);var t=null,r=-1,n=[];for(var i in s.plugins)if(s.plugins[i].canHandleResults(s)){var a=s.plugins[i].getPriority;"function"==typeof a&&(a=a(s));if(null!=a&&void 0!=a&&a>r){r=a;t=i}}else n.push(i);f(n);return"table"==t&&s.plugins[t].canHandleResults(s)&&t!=e&&angular.isUndefined(e)?c(t):e in s.plugins&&s.plugins[e].canHandleResults(s)&&"booleanBootstrap"!=t?c(e):!!t&&c(t)};var c=function(e){s.header.find(".yasr_btnGroup").find("li.active").removeClass("active");n(s.resultsContainer).empty();s.plugins[e].draw();s.header.find(".yasr_btnGroup .select_"+e).parent().addClass("active");return!0},f=function(e){s.header.find(".yasr_btnGroup li").removeClass("disabled");e.forEach(function(e){s.header.find(".yasr_btnGroup .select_"+e).parent().addClass("disabled")})};s.somethingDrawn=function(){return!s.resultsContainer.is(":empty")};s.updateDownloadDropdown=function(){var t;if(window.editor){s.header.find(".saveAsDropDown").remove();var r=window.editor.getQueryType();"SELECT"==r&&(t=n(e("./extensions.js").selectSaveAsDropDown));"CONSTRUCT"!=r&&"DESCRIBE"!=r||(t=n(e("./extensions.js").graphSaveAsDropDown));if(t){t.find(".format").click(function(){s.getQueryResultsAsFormat(n(this).data("accepts"))});s.header.append(t)}}};s.setResultsCount=function(e,t,r){0==e.responseJSON&&(s.allCount=-1);if(e.responseJSON||0==e.responseJSON){s.allCount=-1;e.responseJSON["http://www.ontotext.com/"]&&(s.allCount=e.responseJSON["http://www.ontotext.com/"]["http://www.ontotext.com/"][0].value);n.isNumeric(e.responseJSON)&&(s.allCount=e.responseJSON);if(e.responseJSON.results&&e.responseJSON.results.bindings){var i=e.responseJSON.results.bindings[0],a=e.responseJSON.head.vars,o=Object.keys(i).filter(function(e){return a.indexOf(e)>-1});o.length>0&&(s.allCount=i[o[0]].value)}}};s.setResponse=function(t,r,n){try{s.results=e("./parsers/wrapper.js")(t,r,n)}catch(a){s.results={getException:function(){return a}}}s.results.getAsJson().results&&(s.resultsCount=s.results.getAsJson().results.bindings.length);if(s.results.getAsJson()&&!s.options.hideHeader){s.header.show();s.updateDownloadDropdown()}403==t.status&&(s.results.getException=function(){return{status:403,statusText:"Forbidden",responseText:"You don't have permission to execute this query. Ask your admin for support."}});s.draw();if(s.options.persistency){var o=s.getPersistencyId(s.options.persistency.results.key);o&&(s.results.getOriginalResponseAsString&&s.results.getOriginalResponseAsString().length<s.options.persistency.results.maxSize?i.storage.set(o,s.results.getAsStoreObject(),"month"):i.storage.remove(o))}};var d=null,p=null,h=null;s.warn=function(e){if(!d){d=n("<div>",{"class":"toggableWarning"}).prependTo(s.container).hide();p=n("<span>",{"class":"toggleWarning"}).html("&times;").click(function(){d.hide(400)}).appendTo(d);h=n("<span>",{"class":"toggableMsg"}).appendTo(d)}h.empty();e instanceof n?h.append(e):h.html(e);d.show(400)};var v=null,g=function(){if(null===v){var e=window.URL||window.webkitURL||window.mozURL||window.msURL;v=e&&Blob}return v},y=function(t){var r=function(){var e=n('<ul class="yasr_btnGroup nav nav-tabs"></ul>');n.each(t.plugins,function(r,a){if(!a.hideFromSelection){var o=a.name||r,s=n("<li class='nav-item'></li>");n("<a class='nav-link'></a>").text(o).addClass("select_"+r).click(function(){if(!n(this).parent().hasClass("disabled")){e.find("li.active").removeClass("active");s.addClass("active");t.options.output=r;var a=t.getPersistencyId(t.options.persistency.outputSelector);a&&i.storage.set(a,t.options.output,"month");d&&d.hide(400);t.draw(r);t.updateHeader()}}).appendTo(s);s.appendTo(e);t.options.output==r&&s.addClass("active")}});e.children().length>1&&t.header.append(e)},a=function(){var r=function(e,t){var r=null,n=window.URL||window.webkitURL||window.mozURL||window.msURL;if(n&&Blob){var i=new Blob([e],{type:t});r=n.createObjectURL(i)}return r},i=n("<button class='btn btn-primary btn-sm yasr_downloadIcon pull-right'>Save</button>").click(function(){var i=t.plugins[t.options.output];if(i&&i.getDownloadInfo){var a=i.getDownloadInfo(),o=r(a.getContent(),a.contentType?a.contentType:"text/plain"),s=n("<a></a>",{href:o,download:a.filename});e("./utils.js").fireClick(s)}});t.header.append(i)};t.options.drawOutputSelector&&r();t.options.drawDownloadIcon&&g()&&a()},m=s.getPersistencyId(s.options.persistency.outputSelector);if(m){var b=i.storage.get(m);b&&(s.options.output=b)}s.options.hideHeader||y(s);if(!o&&s.options.persistency&&s.options.persistency.results){var w,x=s.getPersistencyId(s.options.persistency.results.key);x&&(w=i.storage.get(x));if(!w&&s.options.persistency.results.id){var _="string"==typeof s.options.persistency.results.id?s.options.persistency.results.id:s.options.persistency.results.id(s);if(_){w=i.storage.get(_);w&&i.storage.remove(_)}}w&&(n.isArray(w)?s.setResponse.apply(this,w):s.setResponse(w))}o&&s.setResponse(o);s.updateHeader();return s};a.plugins={};a.registerOutput=function(e,t){a.plugins[e]=t};a.defaults=e("./defaults.js");a.version={YASR:e("../package.json").version,jquery:n.fn.jquery,"yasgui-utils":e("yasgui-utils").version};a.utils=e("./utils.js");a.$=n;try{a.registerOutput("boolean",e("./boolean.js"))}catch(o){}try{a.registerOutput("booleanBootstrap",e("./booleanBootstrap.js"))}catch(o){}try{a.registerOutput("table",e("./table.js"))}catch(o){}try{a.registerOutput("rawResponse",e("./rawResponse.js"))}catch(o){}try{a.registerOutput("error",e("./error.js"))}catch(o){}try{a.registerOutput("pivot",e("./pivot.js"))}catch(o){}try{a.registerOutput("gchart",e("./gchart.js"))}catch(o){}try{a.registerOutput("graph",e("./graph.js"))}catch(o){}},{"../package.json":131,"./boolean.js":133,"./booleanBootstrap.js":134,"./defaults.js":135,"./error.js":136,"./extensions.js":138,"./gChartLoader.js":139,"./gchart.js":140,"./graph.js":141,"./imgs.js":142,"./jquery/extendJquery.js":143,"./parsers/wrapper.js":151,"./pivot.js":153,"./rawResponse.js":154,"./table.js":155,"./utils.js":156,jquery:void 0,"yasgui-utils":128}],146:[function(e,t,r){"use strict";(function(){try{return e("jquery")}catch(t){return window.jQuery}})(),t.exports=function(t){return e("./dlv.js")(t,",")}},{"./dlv.js":147,jquery:void 0}],147:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();e("../../lib/jquery.csv-0.71.js");t.exports=function(e,t){var r={},i=n.csv.toArrays(e,{separator:t}),a=function(e){return 0==e.indexOf("http")?"uri":null},o=function(){if(2==i.length&&1==i[0].length&&1==i[1].length&&"boolean"==i[0][0]&&("1"==i[1][0]||"0"==i[1][0])){r["boolean"]="1"==i[1][0];return!0}return!1},s=function(){if(i.length>0&&i[0].length>0){r.head={vars:i[0]};return!0}return!1},l=function(){if(i.length>1){r.results={bindings:[]};for(var e=1;e<i.length;e++){for(var t={},n=0;n<i[e].length;n++){var o=r.head.vars[n];if(o){var s=i[e][n],l=a(s);t[o]={value:s};l&&(t[o].type=l)}}r.results.bindings.push(t)}r.head={vars:i[0]};return!0}return!1},u=o();if(!u){var c=s();c&&l()}return r}},{"../../lib/jquery.csv-0.71.js":3,jquery:void 0}],148:[function(e,t,r){"use strict";var n=(function(){try{return e("jquery")}catch(t){return window.jQuery}}(),e("lodash")),i=function(e){if("object"==typeof e){"bnode"==e.type&&(e.value=e.value.slice(2));return e}return 0==e.indexOf("_:")?{type:"bnode",value:e.slice(2)}:e.indexOf(":")==-1?{type:"bnode",value:e}:{type:"uri",value:e}};t.exports=function(e){if(e){var t="RESOURCE"==window.editor.getQueryType(),r=n.map(e,function(e,r){return n.map(e,function(e,a){return n.map(e,function(e){if(e.graphs){t=!0;return n.map(e.graphs,function(t){return[i(r),i(a),i(e),i(t)]})}return[i(r),i(a),i(e)]})})}),a=n.reduce(r,function(e,t){return e.concat(t)},[]);a=n.reduce(a,function(e,t){return e.concat(t)},[]);var o;if(t){a=n.reduce(a,function(e,t){return e.concat(t)},[]);o=a.map(function(e){return{subject:e[0],predicate:e[1],object:e[2],context:e[3]}})}else o=a.map(function(e){return{subject:e[0],predicate:e[1],object:e[2]}});var s=t?["subject","predicate","object","context"]:["subject","predicate","object"];return{head:{vars:s},results:{bindings:o}}}return!1}},{jquery:void 0,lodash:120}],149:[function(e,t,r){"use strict";(function(){try{return e("jquery")}catch(t){return window.jQuery}})(),t.exports=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return!1}return"object"==typeof e&&e.constructor==={}.constructor&&e}},{jquery:void 0}],150:[function(e,t,r){"use strict";(function(){try{return e("jquery")}catch(t){return window.jQuery}})(),t.exports=function(t){return e("./dlv.js")(t,"\t")}},{"./dlv.js":147,jquery:void 0}],151:[function(e,t,r){"use strict";var n=(function(){try{return e("jquery")}catch(t){return window.jQuery}}(),e("lodash"));t.exports=function(t,r,i){var a={xml:e("./xml.js"),json:e("./json.js"),tsv:e("./tsv.js"),csv:e("./csv.js"),graphJson:e("./graphJson.js")},o=null,s=null,l=null,u=null,c=null,f=null,d=function(){if("object"==typeof t){if(t.exception)f=t.exception;else if(void 0!=t.status&&(t.status>=300||0===t.status)){f={status:t.status};"string"==typeof i&&(f.errorString=i);t.responseText&&(f.responseText=t.responseText);t.statusText&&(f.statusText=t.statusText)}if(t.contentType)o=t.contentType.toLowerCase();else if(t.getResponseHeader&&t.getResponseHeader("content-type")){var e=t.getResponseHeader("content-type").trim().toLowerCase();e.length>0&&(o=e)}t.response?s=t.response:r||i||(s=t)}f||s||(s=t.responseText?t.responseText:t)},p=function(){return l},h=function(){if(u)return u;if(u===!1||f)return!1;var e=function(){if(o)if(o.indexOf("json")>-1){try{u=a.json(s,window.editor.getQueryType());l=u;var e=window.editor.getQueryType();"DESCRIBE"!=e&&"CONSTRUCT"!=e&&"RESOURCE"!=e||(u=a.graphJson(l))}catch(t){f=t}c="json"}else if(o.indexOf("xml")>-1){try{u=a.xml(s)}catch(t){f=t}c="xml"}else if(o.indexOf("csv")>-1){try{u=a.csv(s)}catch(t){f=t}c="csv"}else if(o.indexOf("tab-separated")>-1){try{u=a.tsv(s)}catch(t){f=t}c="tsv"}},t=function(){u=a.json(s);if(u)c="json";else try{u=a.xml(s);u&&(c="xml")}catch(e){}};e();u||t();u||(u=!1);return u},v=function(){var e=h();return e&&"head"in e?e.head.vars:null},g=function(){var e=h();return e&&"results"in e?e.results.bindings:null},y=function(){var e=h();return e&&"boolean"in e?e["boolean"]:null},m=function(){return s},b=function(e){if("json"==c){var t=w(e);return JSON.stringify(t,void 0,2)}return x().slice(0,e)},w=function(e){if(l.results&&l.results.bindings&&l.results.bindings.length>e){var t=jQuery.extend(!0,{},l);t.results.bindings=l.results.bindings.slice(0,e)}else{var r=n.keys(l).slice(0,e);t=n.pick(l,function(e,t){return r.indexOf(t)>=0})}return t},x=function(){var e="";"string"==typeof s?e=s:"json"==c?e=JSON.stringify(s,void 0,2):"xml"==c&&(e=(new XMLSerializer).serializeToString(s));return e},_=function(){return f},k=function(){null==c&&h();return c},C=function(){var e={};if(t.status){e.status=t.status;e.responseText=t.responseText;e.statusText=t.statusText;e.contentType=o}else e=t;var n=r,a=void 0;"string"==typeof i&&(a=i);return[e,n,a]};d();u=h();return{getAsStoreObject:C,getRawJson:p,getAsJson:h,getOriginalResponse:m,getShortOriginalResponse:b,getShortOriginalResponseAsJSON:w,getOriginalResponseAsString:x,getOriginalContentType:function(){return o},getVariables:v,getBindings:g,getBoolean:y,getType:k,getException:_}}},{"./csv.js":146,"./graphJson.js":148,"./json.js":149,"./tsv.js":150,"./xml.js":152,jquery:void 0,lodash:120}],152:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();t.exports=function(e){var t=function(e){o.head={};for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if("variable"==r.nodeName){o.head.vars||(o.head.vars=[]);var n=r.getAttribute("name");n&&o.head.vars.push(n)}}},r=function(e){o.results={};o.results.bindings=[];for(var t=0;t<e.childNodes.length;t++){for(var r=e.childNodes[t],n=null,i=0;i<r.childNodes.length;i++){var a=r.childNodes[i];if("binding"==a.nodeName){var s=a.getAttribute("name");if(s){n=n||{};n[s]={};for(var l=0;l<a.childNodes.length;l++){var u=a.childNodes[l],c=u.nodeName;if("#text"!=c){n[s].type=c;n[s].value=u.innerHTML;var f=u.getAttribute("datatype");f&&(n[s].datatype=f)}}}}}n&&o.results.bindings.push(n)}},i=function(e){"true"==e.innerHTML?o["boolean"]=!0:o["boolean"]=!1},a=null;"string"==typeof e?a=n.parseXML(e):n.isXMLDoc(e)&&(a=e);var e=null;if(!(a.childNodes.length>0))return null;e=a.childNodes[0];for(var o={},s=0;s<e.childNodes.length;s++){var l=e.childNodes[s];"head"==l.nodeName&&t(l);"results"==l.nodeName&&r(l);"boolean"==l.nodeName&&i(l)}return o}},{jquery:void 0}],153:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=e("./utils.js"),a=e("yasgui-utils"),o=e("./imgs.js");(function(){try{return e("jquery-ui/sortable")}catch(t){return window.jQuery}})();(function(){try{return e("pivottable")}catch(t){return window.jQuery}})();if(!n.fn.pivotUI)throw new Error("Pivot lib not loaded");var s=t.exports=function(t){var r=n.extend(!0,{},s.defaults);if(r.useD3Chart){try{var l=function(){try{return e("d3")}catch(t){return window.d3}}();l&&e("../node_modules/pivottable/dist/d3_renderers.js")}catch(u){}n.pivotUtilities.d3_renderers&&n.extend(!0,n.pivotUtilities.renderers,n.pivotUtilities.d3_renderers)}var c,f=null,d=function(){var e=t.results.getVariables();if(!r.mergeLabelsWithUris)return e;var n=[];f="string"==typeof r.mergeLabelsWithUris?r.mergeLabelsWithUris:"Label";e.forEach(function(t){t.indexOf(f,t.length-f.length)!==-1&&e.indexOf(t.substring(0,t.length-f.length))>=0||n.push(t)});return n},p=function(e){var r=d(),n=null;t.options.getUsedPrefixes&&(n="function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes);t.results.getBindings().forEach(function(t){var a={};r.forEach(function(e){if(e in t){var r=t[e].value;f&&t[e+f]?r=t[e+f].value:"uri"==t[e].type&&(r=i.uriToPrefixed(n,r));a[e]=r}else a[e]=null});e(a)})},h=t.getPersistencyId(r.persistencyId),v=function(){var e=a.storage.get(h);if(e){var r=t.results.getVariables(),i=!0;e.cols.forEach(function(e){r.indexOf(e)<0&&(i=!1)});i&&e.rows.forEach(function(e){r.indexOf(e)<0&&(i=!1)});if(!i){e.cols=[];e.rows=[]}n.pivotUtilities.renderers[e.rendererName]||delete e.rendererName}else e={};return e},g=function(){var i=function(){var e=function(e){if(h){var n={cols:e.cols,rows:e.rows,rendererName:e.rendererName,aggregatorName:e.aggregatorName,vals:e.vals};a.storage.set(h,n,"month")}e.rendererName.toLowerCase().indexOf(" chart")>=0?r.show():r.hide();t.updateHeader()},r=n("<button>",{"class":"openPivotGchart yasr_btn"}).text("Chart Config").click(function(){c.find('div[dir="ltr"]').dblclick()}).appendTo(t.resultsContainer);c=n("<div>",{"class":"pivotTable"}).appendTo(n(t.resultsContainer));var i=n.extend(!0,{},v(),s.defaults.pivotTable);i.onRefresh=function(){var t=i.onRefresh;return function(r){e(r);t&&t(r)}}();window.pivot=c.pivotUI(p,i);var l=n(a.svg.getElement(o.move));c.find(".pvtTriangle").replaceWith(l);n(".pvtCols").prepend(n("<div>",{"class":"containerHeader"}).text("Columns"));n(".pvtRows").prepend(n("<div>",{"class":"containerHeader"}).text("Rows"));n(".pvtUnused").prepend(n("<div>",{"class":"containerHeader"}).text("Available Variables"));n(".pvtVals").prepend(n("<div>",{"class":"containerHeader"}).text("Cells"));setTimeout(t.updateHeader,400)};t.options.useGoogleCharts&&r.useGoogleCharts&&!n.pivotUtilities.gchart_renderers?e("./gChartLoader.js").on("done",function(){try{e("../node_modules/pivottable/dist/gchart_renderers.js");n.extend(!0,n.pivotUtilities.renderers,n.pivotUtilities.gchart_renderers)}catch(t){r.useGoogleCharts=!1}i()}).on("error",function(){console.log("could not load gchart");r.useGoogleCharts=!1;i()}).googleLoad():i()},y=function(){return t.results&&t.results.getVariables&&t.results.getVariables()&&t.results.getVariables().length>0},m=function(){if(!t.results)return null;var e=t.resultsContainer.find(".pvtRendererArea svg");if(e.length>0)return{getContent:function(){return e[0].outerHTML?e[0].outerHTML:n("<div>").append(e.clone()).html()},filename:"queryResults.svg",contentType:"image/svg+xml",buttonTitle:"Download SVG Image"};var r=t.resultsContainer.find(".pvtRendererArea table");return r.length>0?{getContent:function(){return r.tableToCsv()},filename:"queryResults.csv",contentType:"text/csv",buttonTitle:"Download as CSV"}:void 0},b=function(){if(!t.results)return null;var e=t.resultsContainer.find(".pvtRendererArea svg").clone().removeAttr("height").removeAttr("width").css("height","").css("width","");if(0==e.length)return null;var r=e[0].outerHTML;r||(r=n("<div>").append(e.clone()).html());return'<div style="width: 800px; height: 600px;">\n'+r+"\n</div>"};return{getDownloadInfo:m,getEmbedHtml:b,options:r,draw:g,name:"Pivot Table",canHandleResults:y,getPriority:4}};s.defaults={mergeLabelsWithUris:!1,useGoogleCharts:!0,useD3Chart:!0,persistencyId:"pivot",pivotTable:{}};s.version={"YASR-rawResponse":e("../package.json").version,jquery:n.fn.jquery}},{"../node_modules/pivottable/dist/d3_renderers.js":123,"../node_modules/pivottable/dist/gchart_renderers.js":124,"../package.json":131,"./gChartLoader.js":139,"./imgs.js":142,"./utils.js":156,d3:void 0,jquery:void 0,"jquery-ui/sortable":void 0,pivottable:void 0,"yasgui-utils":128}],154:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}();e("codemirror/addon/fold/foldcode.js");e("codemirror/addon/fold/foldgutter.js");e("codemirror/addon/fold/xml-fold.js");e("codemirror/addon/fold/brace-fold.js");e("codemirror/addon/edit/matchbrackets.js");e("codemirror/mode/xml/xml.js");e("codemirror/mode/javascript/javascript.js");var a=t.exports=function(e){var t=n.extend(!0,{},a.defaults),r=null,o=function(){var n=t.CodeMirror;n.value=e.results.getShortOriginalResponse(t.limit);var a=e.results.getType();if(a){"json"==a&&(a={name:"javascript",json:!0});n.mode=a}r=i(e.resultsContainer.get()[0],n);r.on("fold",function(){r.refresh()});r.on("unfold",function(){r.refresh()})},s=function(){if(!e.results)return!1;if(!e.results.getOriginalResponseAsString)return!1;var t=e.results.getOriginalResponseAsString();return!((!t||0==t.length)&&e.results.getException())},l=function(){if(!e.results)return null;var t=e.results.getOriginalContentType(),r=e.results.getType();return{getContent:function(){return e.results.getOriginalResponse()},filename:"queryResults"+(r?"."+r:""),contentType:t?t:"text/plain",buttonTitle:"Download raw response"}};return{draw:o,name:"Raw Response",canHandleResults:s,getPriority:2,getDownloadInfo:l}};a.defaults={CodeMirror:{readOnly:!0,lineNumbers:!0,lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},limit:100};a.version={"YASR-rawResponse":e("../package.json").version,jquery:n.fn.jquery,CodeMirror:i.version}},{"../package.json":131,codemirror:void 0,"codemirror/addon/edit/matchbrackets.js":5,"codemirror/addon/fold/brace-fold.js":6,"codemirror/addon/fold/foldcode.js":7,"codemirror/addon/fold/foldgutter.js":8,"codemirror/addon/fold/xml-fold.js":9,"codemirror/mode/javascript/javascript.js":10,"codemirror/mode/xml/xml.js":11,jquery:void 0}],155:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=e("yasgui-utils"),a=e("./utils.js"),o=(e("./imgs.js"),e("lodash"));(function(){try{return e("datatables")}catch(t){return window.jQuery}})();e("../lib/colResizable-1.4.js");var s=t.exports=function(t){var r=null,a={name:"Table",getPriority:10},l=a.options=n.extend(!0,{},s.defaults),u=l.persistency?t.getPersistencyId(l.persistency.tableLength):null,f=function(){var e=[],r=t.results.getBindings(),n=t.results.getVariables(),i=null;t.options.getUsedPrefixes&&(i="function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes);i=o.invert(i);for(var s=0;s<r.length;s++){var u=[];u.push("");for(var c=r[s],f=0;f<n.length;f++){var d=n[f];d in c&&l.getCellContent?u.push(l.getCellContent(t,a,c,d,{rowId:s,colId:f,usedPrefixes:i})):u.push("")}e.push(u)}return e},d=(t.getPersistencyId("eventId")||"yasr_"+n(t.container).closest("[id]").attr("id"),function(){var e=angular.element(n("#yasr")[0]).scope();n("td div .fa-link").on("click",function(){var t=this.dataset.clipboardText;e.copyToClipboardResult(t)})}),p=function(){r.on("order.dt",function(){h()});u&&r.on("length.dt",function(e,t,r){i.storage.set(u,r,"month")});n.extend(!0,l.callbacks,l.handlers);r.delegate("td","click",function(e){if(l.callbacks&&l.callbacks.onCellClick){var t=l.callbacks.onCellClick(this,e);if(t===!1)return!1}}).delegate("td","mouseenter",function(e){l.callbacks&&l.callbacks.onCellMouseEnter&&l.callbacks.onCellMouseEnter(this,e);var t=n(this);l.fetchTitlesFromPreflabel&&void 0===t.attr("title")&&0==t.text().trim().indexOf("http")&&c(t)}).delegate("td","mouseleave",function(e){l.callbacks&&l.callbacks.onCellMouseLeave&&l.callbacks.onCellMouseLeave(this,e)});d()};a.draw=function(){r=n('<table cellpadding="0" cellspacing="0" border="0" class="resultsTable table stripe hover table-bordered fixedCellWidth"></table>');n(t.resultsContainer).html(r);var e=l.datatable;e.data=f();e.columns=l.getColumns(t,a);var o=i.storage.get(u);o&&(e.pageLength=o);r.DataTable(n.extend(!0,{},e));h();p();r.colResizable();r.find("thead").outerHeight();n(t.resultsContainer).find(".JCLRgrip").height(r.find("thead").outerHeight());var s=(t.header.outerHeight(),t.resultsContainer.find(".dataTables_filter label"));n(s.contents().get(0)).remove();s.find("input[type=search]").attr("placeholder","Filter query results").addClass("form-control")};var h=function(){var e={sorting:"unsorted",sorting_asc:"sortAsc",sorting_desc:"sortDesc"};r.find(".sortIcons").remove();for(var t in e){var i=n("<div class='sortIcons'></div>");"sorting"==t?i.append("<a class='fa fa-sort'></a>"):"sorting_asc"==t?i.append("<a class='fa fa-sort-alpha-asc'></a>"):"sorting_desc"==t&&i.append("<a class='fa fa-sort-alpha-desc'></a>");r.find("th."+t).append(i)}};a.canHandleResults=function(){return t.results&&t.results.getVariables&&t.results.getVariables()&&t.results.getVariables().length>0};a.getDownloadInfo=function(){return t.results?{getContent:function(){return e("./bindingsToCsv.js")(t.results.getAsJson())},filename:"queryResults.csv",contentType:"text/csv",buttonTitle:"Download as CSV"}:null};return a},l=function(e,t,r,n,i){var s=r[n],l=null,c="";if("uri"==s.type){var f,d=s.value,p=d;if(i.usedPrefixes){var h=a.uriToPrefixWithLocalName(i.usedPrefixes,p);if(h){var v=h.localName;p=h.prefix+":"+v;""!=h.prefix&&(f=v.lastIndexOf("/")===-1?"resource/"+encodeURIComponent(h.prefix)+"/"+encodeURIComponent(v):"resource?uri="+encodeURIComponent(d))}}void 0==f&&(f="resource?uri="+encodeURIComponent(d));f=f.replace(/'/g,"&#39;");d=d.replace(/'/g,"&#39;");l="<a title='"+d+"' class='uri' href='"+f+"'>"+o.escape(p)+"</a> <a class='fa fa-link share-result' data-clipboard-text='"+d+"' title='Copy to Clipboard' href='#'></a>";c=" class = 'uri-cell'"}else l="<p class='nonUri' style='border: none; background-color: transparent; padding: 0; margin: 0'>"+u(e,t,s)+"</p>";return"<div"+c+">"+l+"</div>"},u=function(e,t,r){var n=a.escapeHtmlEntities(r.value);if("bnode"==r.type)return"_:"+n;if(r["xml:lang"])n='"'+n+'"<sup>@'+r["xml:lang"]+"</sup>";else if(r.datatype){var i="http://www.w3.org/2001/XMLSchema#",o=r.datatype;o=0===o.indexOf(i)?"xsd:"+o.substring(i.length):"&lt;"+o+"&gt;";n='"'+n+'"<sup>^^'+o+"</sup>"}return n},c=function(e){var t=function(){e.attr("title","")};n.get("http://preflabel.org/api/v1/label/"+encodeURIComponent(e.text())+"?silent=true").success(function(r){"object"==typeof r&&r.label?e.attr("title",r.label):"string"==typeof r&&r.length>0?e.attr("title",r):t()}).fail(t)};s.defaults={getCellContent:l,persistency:{tableLength:"tableLength"},getColumns:function(e,t){var r=function(r){if(!t.options.mergeLabelsWithUris)return!0;var n="string"==typeof t.options.mergeLabelsWithUris?t.options.mergeLabelsWithUris:"Label";return!(r.indexOf(n,r.length-n.length)!==-1&&e.results.getVariables().indexOf(r.substring(0,r.length-n.length))>=0)},n=[];n.push({title:""});e.results.getVariables().forEach(function(e){n.push({title:"<span>"+e+"</span>",visible:r(e)})});return n},fetchTitlesFromPreflabel:!0,mergeLabelsWithUris:!1,callbacks:{onCellMouseEnter:null,onCellMouseLeave:null,onCellClick:null},datatable:{paginate:!1,info:!1,autoWidth:!1,order:[],pageLength:50,lengthMenu:[[10,50,100,1e3,-1],[10,50,100,1e3,"All"]],lengthChange:!0,drawCallback:function(e){for(var t=0;t<e.aiDisplay.length;t++)n("td:eq(0)",e.aoData[e.aiDisplay[t]].nTr).html(t+1);var r=!1;n(e.nTableWrapper).find(".paginate_button").each(function(){n(this).attr("class").indexOf("current")==-1&&n(this).attr("class").indexOf("disabled")==-1&&(r=!0)});r?n(e.nTableWrapper).find(".dataTables_paginate").show():n(e.nTableWrapper).find(".dataTables_paginate").hide()},columnDefs:[{width:"32px",orderable:!1,targets:0}]}};s.version={"YASR-table":e("../package.json").version,jquery:n.fn.jquery,"jquery-datatables":n.fn.DataTable.version}},{"../lib/colResizable-1.4.js":2,"../package.json":131,"./bindingsToCsv.js":132,"./imgs.js":142,"./utils.js":156,datatables:void 0,jquery:void 0,lodash:120,"yasgui-utils":128}],156:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=(e("lodash"),e("./exceptions.js").GoogleTypeException);t.exports={escapeHtmlEntities:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},uriToPrefixed:function(e,t){if(e)for(var r in e)if(0==t.indexOf(e[r])){t=r+":"+t.substring(e[r].length);break}return t},uriToPrefixWithLocalName:function(e,t){var r=Object.keys(e).filter(function(e){return 0==t.indexOf(e)});if(r.length>0){r=r.sort(function(e,t){return e.length<t.length});var n=r[0],i=e[n],a=t.substring(n.length);return{prefix:i,localName:a}}return null},getGoogleTypeForBinding:function(e){if(null==e)return null;if(null==e.type||"typed-literal"!==e.type&&"literal"!==e.type)return"string";switch(e.datatype){case"http://www.w3.org/2001/XMLSchema#float":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":return"number";case"http://www.w3.org/2001/XMLSchema#date":return"date";case"http://www.w3.org/2001/XMLSchema#dateTime":return"datetime";case"http://www.w3.org/2001/XMLSchema#time":return"timeofday";default:return"string"}},getGoogleTypeForBindings:function(e,r){var n={},a=0;e.forEach(function(e){var i=t.exports.getGoogleTypeForBinding(e[r]);if(null!=i){if(!(i in n)){n[i]=0;a++}n[i]++}});if(0==a)return"string";if(1!=a)throw new i(n,r);for(var o in n)return o},castGoogleType:function(e,r,n){if(null==e)return null;if("string"==n||null==e.type||"typed-literal"!==e.type&&"literal"!==e.type)return"uri"==e.type?t.exports.uriToPrefixed(r,e.value):e.value;switch(e.datatype){case"http://www.w3.org/2001/XMLSchema#float":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":return Number(e.value);case"http://www.w3.org/2001/XMLSchema#date":var i=a(e.value);if(i)return i;case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#time":return new Date(e.value);default:return e.value}},fireClick:function(e){e&&e.each(function(e,t){var r=n(t);if(document.dispatchEvent){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,1,1,1,1,!1,!1,!1,!1,0,r[0]);r[0].dispatchEvent(i)}else document.fireEvent&&r[0].click()})}};var a=function(e){var t=new Date(e.replace(/(\d)([\+-]\d{2}:\d{2})/,"$1Z$2"));return isNaN(t)?null:t}},{"./exceptions.js":137,jquery:void 0,lodash:120}]},{},[1])(1)});
//# sourceMappingURL=yasr.min.js.map
