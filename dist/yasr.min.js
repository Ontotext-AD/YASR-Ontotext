!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.YASR=e()}}(function(){var define,module,exports;return function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){t.exports=e("./main.js")},{"./main.js":38}],2:[function(e,t,r){var n,i=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),a=i(document),o=i("head"),s=null,l=[],u=0,c="id",d="px",f="JColResizer",p=parseInt,h=Math,v=navigator.userAgent.indexOf("Trident/4.0")>0;try{n=sessionStorage}catch(g){}o.append("<style type='text/css'>  .JColResizer{table-layout:fixed;} .JColResizer td, .JColResizer th{overflow:hidden;padding-left:0!important; padding-right:0!important;}  .JCLRgrips{ height:0px; position:relative;} .JCLRgrip{margin-left:-5px; position:absolute; z-index:5; } .JCLRgrip .JColResizer{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;top:0px} .JCLRLastGrip{position:absolute; width:1px; } .JCLRgripDrag{ border-left:1px dotted black;	}</style>");var y=function(e,t){var r=i(e);if(t.disable)return m(r);var n=r.id=r.attr(c)||f+u++;r.p=t.postbackSafe;if(r.is("table")&&!l[n]){r.addClass(f).attr(c,n).before('<div class="JCLRgrips"/>');r.opt=t;r.g=[];r.c=[];r.w=r.width();r.gc=r.prev();t.marginLeft&&r.gc.css("marginLeft",t.marginLeft);t.marginRight&&r.gc.css("marginRight",t.marginRight);r.cs=p(v?e.cellSpacing||e.currentStyle.borderSpacing:r.css("border-spacing"))||2;r.b=p(v?e.border||e.currentStyle.borderLeftWidth:r.css("border-left-width"))||1;l[n]=r;b(r)}},m=function(e){var t=e.attr(c),e=l[t];if(e&&e.is("table")){e.removeClass(f).gc.remove();delete l[t]}},b=function(e){var t=e.find(">thead>tr>th,>thead>tr>td");t.length||(t=e.find(">tbody>tr:first>th,>tr:first>th,>tbody>tr:first>td, >tr:first>td"));e.cg=e.find("col");e.ln=t.length;e.p&&n&&n[e.id]&&x(e,t);t.each(function(t){var r=i(this),n=i(e.gc.append('<div class="JCLRgrip"></div>')[0].lastChild);n.t=e;n.i=t;n.c=r;r.w=r.width();e.g.push(n);e.c.push(r);r.width(r.w).removeAttr("width");t<e.ln-1?n.bind("touchstart mousedown",C).append(e.opt.gripInnerHtml).append('<div class="'+f+'" style="cursor:'+e.opt.hoverCursor+'"></div>'):n.addClass("JCLRLastGrip").removeClass("JCLRgrip");n.data(f,{i:t,t:e.attr(c)})});e.cg.removeAttr("width");w(e);e.find("td, th").not(t).not("table th, table td").each(function(){i(this).removeAttr("width")})},x=function(e,t){var r,i=0,a=0,o=[];if(t){e.cg.removeAttr("width");if(e.opt.flush){n[e.id]="";return}r=n[e.id].split(";");for(;a<e.ln;a++){o.push(100*r[a]/r[e.ln]+"%");t.eq(a).css("width",o[a])}for(a=0;a<e.ln;a++)e.cg.eq(a).css("width",o[a])}else{n[e.id]="";for(;a<e.c.length;a++){r=e.c[a].width();n[e.id]+=r+";";i+=r}n[e.id]+=i}},w=function(e){e.gc.width(e.w);for(var t=0;t<e.ln;t++){var r=e.c[t];e.g[t].css({left:r.offset().left-e.offset().left+r.outerWidth(!1)+e.cs/2+d,height:e.opt.headerOnly?e.c[0].outerHeight(!1):e.outerHeight(!1)})}},_=function(e,t,r){var n=s.x-s.l,i=e.c[t],a=e.c[t+1],o=i.w+n,l=a.w-n;i.width(o+d);a.width(l+d);e.cg.eq(t).width(o+d);e.cg.eq(t+1).width(l+d);if(r){i.w=o;a.w=l}},k=function(e){if(s){var t=s.t;if(e.originalEvent.touches)var r=e.originalEvent.touches[0].pageX-s.ox+s.l;else var r=e.pageX-s.ox+s.l;var n=t.opt.minWidth,i=s.i,a=1.5*t.cs+n+t.b,o=i==t.ln-1?t.w-a:t.g[i+1].position().left-t.cs-n,l=i?t.g[i-1].position().left+t.cs+n:a;r=h.max(l,h.min(o,r));s.x=r;s.css("left",r+d);if(t.opt.liveDrag){_(t,i);w(t);var u=t.opt.onDrag;if(u){e.currentTarget=t[0];u(e)}}return!1}},E=function(e){a.unbind("touchend."+f+" mouseup."+f).unbind("touchmove."+f+" mousemove."+f);i("head :last-child").remove();if(s){s.removeClass(s.t.opt.draggingClass);var t=s.t,r=t.opt.onResize;if(s.x){_(t,s.i,!0);w(t);if(r){e.currentTarget=t[0];r(e)}}t.p&&n&&x(t);s=null}},C=function(e){var t=i(this).data(f),r=l[t.t],n=r.g[t.i];n.ox=e.originalEvent.touches?e.originalEvent.touches[0].pageX:e.pageX;n.l=n.position().left;a.bind("touchmove."+f+" mousemove."+f,k).bind("touchend."+f+" mouseup."+f,E);o.append("<style type='text/css'>*{cursor:"+r.opt.dragCursor+"!important}</style>");n.addClass(r.opt.draggingClass);s=n;if(r.c[t.i].l)for(var u,c=0;c<r.ln;c++){u=r.c[c];u.l=!1;u.w=u.width()}return!1},S=function(){for(t in l){var e,t=l[t],r=0;t.removeClass(f);if(t.w!=t.width()){t.w=t.width();for(e=0;e<t.ln;e++)r+=t.c[e].w;for(e=0;e<t.ln;e++)t.c[e].css("width",h.round(1e3*t.c[e].w/r)/10+"%").l=!0}w(t.addClass(f))}};i(window).bind("resize."+f,S);i.fn.extend({colResizable:function(e){var t={draggingClass:"JCLRgripDrag",gripInnerHtml:"",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:"e-resize",dragCursor:"e-resize",postbackSafe:!1,flush:!1,marginLeft:null,marginRight:null,disable:!1,onDrag:null,onResize:null},e=i.extend(t,e);return this.each(function(){y(this,e)})}})},{jquery:void 0}],3:[function(e,t,r){RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();n.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(e,t){var r=/\./;if(isNaN(e))return e;if(r.test(e))return parseFloat(e);var n=parseInt(e);return isNaN(n)?null:n}},parsers:{parse:function(e,t){function r(){l=0;u="";if(t.start&&t.state.rowNum<t.start){s=[];t.state.rowNum++;t.state.colNum=1}else{if(void 0===t.onParseEntry)o.push(s);else{var e=t.onParseEntry(s,t.state);e!==!1&&o.push(e)}s=[];t.end&&t.state.rowNum>=t.end&&(c=!0);t.state.rowNum++;t.state.colNum=1}}function n(){if(void 0===t.onParseValue)s.push(u);else{var e=t.onParseValue(u,t.state);e!==!1&&s.push(e)}u="";l=0;t.state.colNum++}var i=t.separator,a=t.delimiter;t.state.rowNum||(t.state.rowNum=1);t.state.colNum||(t.state.colNum=1);var o=[],s=[],l=0,u="",c=!1,d=RegExp.escape(i),f=RegExp.escape(a),p=/(D|S|\n|\r|[^DS\r\n]+)/,h=p.source;h=h.replace(/S/g,d);h=h.replace(/D/g,f);p=RegExp(h,"gm");e.replace(p,function(e){if(!c)switch(l){case 0:if(e===i){u+="";n();break}if(e===a){l=1;break}if("\n"===e){n();r();break}if(/^\r$/.test(e))break;u+=e;l=3;break;case 1:if(e===a){l=2;break}u+=e;l=1;break;case 2:if(e===a){u+=e;l=1;break}if(e===i){n();break}if("\n"===e){n();r();break}if(/^\r$/.test(e))break;throw new Error("CSVDataError: Illegal State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");case 3:if(e===i){n();break}if("\n"===e){n();r();break}if(/^\r$/.test(e))break;if(e===a)throw new Error("CSVDataError: Illegal Quote [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]")}});if(0!==s.length){n();r()}return o},splitLines:function(e,t){function r(){o=0;if(t.start&&t.state.rowNum<t.start){s="";t.state.rowNum++}else{if(void 0===t.onParseEntry)a.push(s);else{var e=t.onParseEntry(s,t.state);e!==!1&&a.push(e)}s="";t.end&&t.state.rowNum>=t.end&&(l=!0);t.state.rowNum++}}var n=t.separator,i=t.delimiter;t.state.rowNum||(t.state.rowNum=1);var a=[],o=0,s="",l=!1,u=RegExp.escape(n),c=RegExp.escape(i),d=/(D|S|\n|\r|[^DS\r\n]+)/,f=d.source;f=f.replace(/S/g,u);f=f.replace(/D/g,c);d=RegExp(f,"gm");e.replace(d,function(e){if(!l)switch(o){case 0:if(e===n){s+=e;o=0;break}if(e===i){s+=e;o=1;break}if("\n"===e){r();break}if(/^\r$/.test(e))break;s+=e;o=3;break;case 1:if(e===i){s+=e;o=2;break}s+=e;o=1;break;case 2:var a=s.substr(s.length-1);if(e===i&&a===i){s+=e;o=1;break}if(e===n){s+=e;o=0;break}if("\n"===e){r();break}if("\r"===e)break;throw new Error("CSVDataError: Illegal state [Row:"+t.state.rowNum+"]");case 3:if(e===n){s+=e;o=0;break}if("\n"===e){r();break}if("\r"===e)break;if(e===i)throw new Error("CSVDataError: Illegal quote [Row:"+t.state.rowNum+"]");throw new Error("CSVDataError: Illegal state [Row:"+t.state.rowNum+"]");default:throw new Error("CSVDataError: Unknown state [Row:"+t.state.rowNum+"]")}});""!==s&&r();return a},parseEntry:function(e,t){function r(){if(void 0===t.onParseValue)a.push(s);else{var e=t.onParseValue(s,t.state);e!==!1&&a.push(e)}s="";o=0;t.state.colNum++}var n=t.separator,i=t.delimiter;t.state.rowNum||(t.state.rowNum=1);t.state.colNum||(t.state.colNum=1);var a=[],o=0,s="";if(!t.match){var l=RegExp.escape(n),u=RegExp.escape(i),c=/(D|S|\n|\r|[^DS\r\n]+)/,d=c.source;d=d.replace(/S/g,l);d=d.replace(/D/g,u);t.match=RegExp(d,"gm")}e.replace(t.match,function(e){switch(o){case 0:if(e===n){s+="";r();break}if(e===i){o=1;break}if("\n"===e||"\r"===e)break;s+=e;o=3;break;case 1:if(e===i){o=2;break}s+=e;o=1;break;case 2:if(e===i){s+=e;o=1;break}if(e===n){r();break}if("\n"===e||"\r"===e)break;throw new Error("CSVDataError: Illegal State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");case 3:if(e===n){r();break}if("\n"===e||"\r"===e)break;if(e===i)throw new Error("CSVDataError: Illegal Quote [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]")}});r();return a}},toArray:function(e,t,r){var t=void 0!==t?t:{},i={};i.callback=void 0!==r&&"function"==typeof r?r:!1;i.separator="separator"in t?t.separator:n.csv.defaults.separator;i.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;var a=void 0!==t.state?t.state:{},t={delimiter:i.delimiter,separator:i.separator,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,state:a},o=n.csv.parsers.parseEntry(e,t);if(!i.callback)return o;i.callback("",o);return void 0},toArrays:function(e,t,r){var t=void 0!==t?t:{},i={};i.callback=void 0!==r&&"function"==typeof r?r:!1;i.separator="separator"in t?t.separator:n.csv.defaults.separator;i.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;var a=[],t={delimiter:i.delimiter,separator:i.separator,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,start:t.start,end:t.end,state:{rowNum:1,colNum:1}};a=n.csv.parsers.parse(e,t);if(!i.callback)return a;i.callback("",a);return void 0},toObjects:function(e,t,r){var t=void 0!==t?t:{},i={};i.callback=void 0!==r&&"function"==typeof r?r:!1;i.separator="separator"in t?t.separator:n.csv.defaults.separator;i.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;i.headers="headers"in t?t.headers:n.csv.defaults.headers;t.start="start"in t?t.start:1;i.headers&&t.start++;t.end&&i.headers&&t.end++;var a=[],o=[],t={delimiter:i.delimiter,separator:i.separator,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,start:t.start,end:t.end,state:{rowNum:1,colNum:1},match:!1},s={delimiter:i.delimiter,separator:i.separator,start:1,end:1,state:{rowNum:1,colNum:1}},l=n.csv.parsers.splitLines(e,s),u=n.csv.toArray(l[0],t),a=n.csv.parsers.splitLines(e,t);t.state.colNum=1;t.state.rowNum=u?2:1;for(var c=0,d=a.length;d>c;c++){var f=n.csv.toArray(a[c],t),p={};for(var h in u)p[u[h]]=f[h];o.push(p);t.state.rowNum++}if(!i.callback)return o;i.callback("",o);return void 0},fromArrays:function(e,t,r){var t=void 0!==t?t:{},a={};a.callback=void 0!==r&&"function"==typeof r?r:!1;a.separator="separator"in t?t.separator:n.csv.defaults.separator;a.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;a.escaper="escaper"in t?t.escaper:n.csv.defaults.escaper;a.experimental="experimental"in t?t.experimental:!1;if(!a.experimental)throw new Error("not implemented");var o=[];for(i in e)o.push(e[i]);if(!a.callback)return o;a.callback("",o);return void 0},fromObjects2CSV:function(e,t,r){var t=void 0!==t?t:{},a={};a.callback=void 0!==r&&"function"==typeof r?r:!1;a.separator="separator"in t?t.separator:n.csv.defaults.separator;a.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;a.experimental="experimental"in t?t.experimental:!1;if(!a.experimental)throw new Error("not implemented");var o=[];for(i in e)o.push(arrays[i]);if(!a.callback)return o;a.callback("",o);return void 0}};n.csvEntry2Array=n.csv.toArray;n.csv2Array=n.csv.toArrays;n.csv2Dictionary=n.csv.toObjects},{jquery:void 0}],4:[function(e,t,r){},{}],5:[function(e,t,r){function n(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function a(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=n;n.EventEmitter=n;n.prototype._events=void 0;n.prototype._maxListeners=void 0;n.defaultMaxListeners=10;n.prototype.setMaxListeners=function(e){if(!a(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};n.prototype.emit=function(e){var t,r,n,a,l,u;this._events||(this._events={});if("error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){t=arguments[1];if(t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}r=this._events[e];if(s(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=arguments.length;a=new Array(n-1);for(l=1;n>l;l++)a[l-1]=arguments[l];r.apply(this,a)}else if(o(r)){n=arguments.length;a=new Array(n-1);for(l=1;n>l;l++)a[l-1]=arguments[l];u=r.slice();n=u.length;for(l=0;n>l;l++)u[l].apply(this,a)}return!0};n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t);this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t;if(o(this._events[e])&&!this._events[e].warned){var r;r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners;if(r&&r>0&&this._events[e].length>r){this._events[e].warned=!0;console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length);"function"==typeof console.trace&&console.trace()}}return this};n.prototype.on=n.prototype.addListener;n.prototype.once=function(e,t){function r(){this.removeListener(e,r);if(!n){n=!0;t.apply(this,arguments)}}if(!i(t))throw TypeError("listener must be a function");var n=!1;r.listener=t;this.on(e,r);return this};n.prototype.removeListener=function(e,t){var r,n,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;r=this._events[e];a=r.length;n=-1;if(r===t||i(r.listener)&&r.listener===t){delete this._events[e];this._events.removeListener&&this.emit("removeListener",e,t)}else if(o(r)){for(s=a;s-->0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(0>n)return this;if(1===r.length){r.length=0;delete this._events[e]}else r.splice(n,1);this._events.removeListener&&this.emit("removeListener",e,t)}return this};n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener){0===arguments.length?this._events={}:this._events[e]&&delete this._events[e];return this}if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);this.removeAllListeners("removeListener");this._events={};return this}r=this._events[e];if(i(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);delete this._events[e];return this};n.prototype.listeners=function(e){var t;t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[];return t};n.listenerCount=function(e,t){var r;r=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0;return r}},{}],6:[function(e,t,r){r.endianness=function(){return"LE"};r.hostname=function(){return"undefined"!=typeof location?location.hostname:""};r.loadavg=function(){return[]};r.uptime=function(){return 0};r.freemem=function(){return Number.MAX_VALUE};r.totalmem=function(){return Number.MAX_VALUE};r.cpus=function(){return[]};r.type=function(){return"Browser"};r.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""};r.networkInterfaces=r.getNetworkInterfaces=function(){return{}};r.arch=function(){return"javascript"};r.platform=function(){return"browser"};r.tmpdir=r.tmpDir=function(){return"/tmp"};r.EOL="\n"},{}],7:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];if("."===i)e.splice(n,1);else if(".."===i){e.splice(n,1);r++}else if(r){e.splice(n,1);r--}}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return i.exec(e).slice(1)};r.resolve=function(){for(var r="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");if(o){r=o+"/"+r;i="/"===o.charAt(0)}}r=t(n(r.split("/"),function(e){return!!e}),!i).join("/");return(i?"/":"")+r||"."};r.normalize=function(e){var i=r.isAbsolute(e),a="/"===o(e,-1);e=t(n(e.split("/"),function(e){return!!e}),!i).join("/");e||i||(e=".");e&&a&&(e+="/");return(i?"/":"")+e};r.isAbsolute=function(e){return"/"===e.charAt(0)};r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))};r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1);t=r.resolve(t).substr(1);for(var i=n(e.split("/")),a=n(t.split("/")),o=Math.min(i.length,a.length),s=o,l=0;o>l;l++)if(i[l]!==a[l]){s=l;break}for(var u=[],l=s;l<i.length;l++)u.push("..");u=u.concat(a.slice(s));return u.join("/")};r.sep="/";r.delimiter=":";r.dirname=function(e){var t=a(e),r=t[0],n=t[1];if(!r&&!n)return".";n&&(n=n.substr(0,n.length-1));return r+n};r.basename=function(e,t){var r=a(e)[2];t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length));return r};r.extname=function(e){return a(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){0>t&&(t=e.length+t);return e.substr(t,r)}}).call(this,e("_process"))},{_process:8}],8:[function(e,t,r){function n(){}var i=t.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.MutationObserver,r="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var n=[];if(t){var i=document.createElement("div"),a=new MutationObserver(function(){var e=n.slice();n.length=0;e.forEach(function(e){e()})});a.observe(i,{attributes:!0});return function(e){n.length||i.setAttribute("yes","no");n.push(e)}}if(r){window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data){e.stopPropagation();if(n.length>0){var r=n.shift();r()}}},!0);return function(e){n.push(e);window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}();i.title="browser";i.browser=!0;i.env={};i.argv=[];i.on=n;i.addListener=n;i.once=n;i.off=n;i.removeListener=n;i.removeAllListeners=n;i.emit=n;i.binding=function(e){throw new Error("process.binding is not supported")};i.cwd=function(){return"/"};i.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],9:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){function t(e,t,n,i){var a=e.getLineHandle(t.line),l=t.ch-1,u=l>=0&&s[a.text.charAt(l)]||s[a.text.charAt(++l)];if(!u)return null;var c=">"==u.charAt(1)?1:-1;if(n&&c>0!=(l==t.ch))return null;var d=e.getTokenTypeAt(o(t.line,l+1)),f=r(e,o(t.line,l+(c>0?1:0)),c,d||null,i);return null==f?null:{from:o(t.line,l),to:f&&f.pos,match:f&&f.ch==u.charAt(0),forward:c>0}}function r(e,t,r,n,i){for(var a=i&&i.maxScanLineLength||1e4,l=i&&i.maxScanLines||1e3,u=[],c=i&&i.bracketRegex?i.bracketRegex:/[(){}[\]]/,d=r>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),f=t.line;f!=d;f+=r){var p=e.getLine(f);if(p){var h=r>0?0:p.length-1,v=r>0?p.length:-1;if(!(p.length>a)){f==t.line&&(h=t.ch-(0>r?1:0));for(;h!=v;h+=r){var g=p.charAt(h);if(c.test(g)&&(void 0===n||e.getTokenTypeAt(o(f,h+1))==n)){var y=s[g];if(">"==y.charAt(1)==r>0)u.push(g);else{if(!u.length)return{pos:o(f,h),ch:g};u.pop()}}}}}}return f-r==(r>0?e.lastLine():e.firstLine())?!1:null}function n(e,r,n){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=e.listSelections(),u=0;u<l.length;u++){var c=l[u].empty()&&t(e,l[u].head,!1,n);if(c&&e.getLine(c.from.line).length<=i){var d=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(c.from,o(c.from.line,c.from.ch+1),{className:d}));c.to&&e.getLine(c.to.line).length<=i&&s.push(e.markText(c.to,o(c.to.line,c.to.ch+1),{className:d}))}}if(s.length){a&&e.state.focused&&e.display.input.focus();var f=function(){e.operation(function(){for(var e=0;e<s.length;e++)s[e].clear()})};if(!r)return f;setTimeout(f,800)}}function i(e){e.operation(function(){if(l){l();l=null}l=n(e,!1,e.state.matchBrackets)})}var a=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),o=e.Pos,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,r,n){n&&n!=e.Init&&t.off("cursorActivity",i);if(r){t.state.matchBrackets="object"==typeof r?r:{};t.on("cursorActivity",i)}});e.defineExtension("matchBrackets",function(){n(this,!0)});e.defineExtension("findMatchingBracket",function(e,r,n){return t(this,e,r,n)});e.defineExtension("scanForBracket",function(e,t,n,i){return r(this,e,t,n,i)})})},{codemirror:void 0}],10:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";e.registerHelper("fold","brace",function(t,r){function n(n){for(var i=r.ch,l=0;;){var u=0>=i?-1:s.lastIndexOf(n,i-1);if(-1!=u){if(1==l&&u<r.ch)break;a=t.getTokenTypeAt(e.Pos(o,u+1));if(!/^(comment|string)/.test(a))return u+1;i=u-1}else{if(1==l)break;l=1;i=s.length}}}var i,a,o=r.line,s=t.getLine(o),l="{",u="}",i=n("{");if(null==i){l="[",u="]";i=n("[")}if(null!=i){var c,d,f=1,p=t.lastLine();e:for(var h=o;p>=h;++h)for(var v=t.getLine(h),g=h==o?i:0;;){var y=v.indexOf(l,g),m=v.indexOf(u,g);0>y&&(y=v.length);0>m&&(m=v.length);g=Math.min(y,m);if(g==v.length)break;if(t.getTokenTypeAt(e.Pos(h,g+1))==a)if(g==y)++f;else if(!--f){c=h;d=g;break e}++g}if(null!=c&&(o!=c||d!=i))return{from:e.Pos(o,i),to:e.Pos(c,d)}}});e.registerHelper("fold","import",function(t,r){function n(r){if(r<t.firstLine()||r>t.lastLine())return null;var n=t.getTokenAt(e.Pos(r,1));/\S/.test(n.string)||(n=t.getTokenAt(e.Pos(r,n.end+1)));if("keyword"!=n.type||"import"!=n.string)return null;for(var i=r,a=Math.min(t.lastLine(),r+10);a>=i;++i){var o=t.getLine(i),s=o.indexOf(";");if(-1!=s)return{startCh:n.end,end:e.Pos(i,s)}}}var i,r=r.line,a=n(r);if(!a||n(r-1)||(i=n(r-2))&&i.end.line==r-1)return null;for(var o=a.end;;){var s=n(o.line+1);if(null==s)break;o=s.end}return{from:t.clipPos(e.Pos(r,a.startCh+1)),to:o}});e.registerHelper("fold","include",function(t,r){function n(r){if(r<t.firstLine()||r>t.lastLine())return null;var n=t.getTokenAt(e.Pos(r,1));/\S/.test(n.string)||(n=t.getTokenAt(e.Pos(r,n.end+1)));return"meta"==n.type&&"#include"==n.string.slice(0,8)?n.start+8:void 0}var r=r.line,i=n(r);if(null==i||null!=n(r-1))return null;for(var a=r;;){var o=n(a+1);if(null==o)break;++a}return{from:e.Pos(r,i+1),to:t.clipPos(e.Pos(a))}})})},{codemirror:void 0}],11:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";function t(t,i,a,o){function s(e){var r=l(t,i);if(!r||r.to.line-r.from.line<u)return null;for(var n=t.findMarksAt(r.from),a=0;a<n.length;++a)if(n[a].__isFold&&"fold"!==o){if(!e)return null;r.cleared=!0;n[a].clear()}return r}if(a&&a.call){var l=a;a=null}else var l=n(t,a,"rangeFinder");"number"==typeof i&&(i=e.Pos(i,0));var u=n(t,a,"minFoldSize"),c=s(!0);if(n(t,a,"scanUp"))for(;!c&&i.line>t.firstLine();){i=e.Pos(i.line-1,0);c=s(!1)}if(c&&!c.cleared&&"unfold"!==o){var d=r(t,a);e.on(d,"mousedown",function(t){f.clear();e.e_preventDefault(t)});var f=t.markText(c.from,c.to,{replacedWith:d,clearOnEnter:!0,__isFold:!0});f.on("clear",function(r,n){e.signal(t,"unfold",t,r,n)});e.signal(t,"fold",t,c.from,c.to)}}function r(e,t){var r=n(e,t,"widget");if("string"==typeof r){var i=document.createTextNode(r);r=document.createElement("span");r.appendChild(i);r.className="CodeMirror-foldmarker"}return r}function n(e,t,r){if(t&&void 0!==t[r])return t[r];var n=e.options.foldOptions;return n&&void 0!==n[r]?n[r]:i[r]}e.newFoldFunction=function(e,r){return function(n,i){t(n,i,{rangeFinder:e,widget:r})}};e.defineExtension("foldCode",function(e,r,n){t(this,e,r,n)});e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),r=0;r<t.length;++r)if(t[r].__isFold)return!0});e.commands.toggleFold=function(e){e.foldCode(e.getCursor())};e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")};e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")};e.commands.foldAll=function(t){t.operation(function(){for(var r=t.firstLine(),n=t.lastLine();n>=r;r++)t.foldCode(e.Pos(r,0),null,"fold")})};e.commands.unfoldAll=function(t){t.operation(function(){for(var r=t.firstLine(),n=t.lastLine();n>=r;r++)t.foldCode(e.Pos(r,0),null,"unfold")})};e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,r){for(var n=0;n<e.length;++n){var i=e[n](t,r);if(i)return i}}});e.registerHelper("fold","auto",function(e,t){for(var r=e.getHelpers(t,"fold"),n=0;n<r.length;n++){var i=r[n](e,t);if(i)return i}});var i={rangeFinder:e.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1};e.defineOption("foldOptions",null);e.defineExtension("foldOption",function(e,t){return n(this,e,t)})})},{codemirror:void 0}],12:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}(),e("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],n):n(CodeMirror)})(function(e){"use strict";function t(e){this.options=e;this.from=this.to=0}function r(e){e===!0&&(e={});null==e.gutter&&(e.gutter="CodeMirror-foldgutter");null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open");null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded");return e}function n(e,t){for(var r=e.findMarksAt(d(t)),n=0;n<r.length;++n)if(r[n].__isFold&&r[n].find().from.line==t)return!0}function i(e){if("string"==typeof e){var t=document.createElement("div");t.className=e+" CodeMirror-guttermarker-subtle";return t}return e.cloneNode(!0)}function a(e,t,r){var a=e.state.foldGutter.options,o=t,s=e.foldOption(a,"minFoldSize"),l=e.foldOption(a,"rangeFinder");e.eachLine(t,r,function(t){var r=null;if(n(e,o))r=i(a.indicatorFolded);else{var u=d(o,0),c=l&&l(e,u);c&&c.to.line-c.from.line>=s&&(r=i(a.indicatorOpen))}e.setGutterMarker(t,a.gutter,r);++o})}function o(e){var t=e.getViewport(),r=e.state.foldGutter;if(r){e.operation(function(){a(e,t.from,t.to)});r.from=t.from;r.to=t.to}}function s(e,t,r){var n=e.state.foldGutter;if(n){var i=n.options;r==i.gutter&&e.foldCode(d(t,0),i.rangeFinder)}}function l(e){var t=e.state.foldGutter;if(t){var r=t.options;t.from=t.to=0;clearTimeout(t.changeUpdate);t.changeUpdate=setTimeout(function(){o(e)},r.foldOnChangeTimeSpan||600)}}function u(e){var t=e.state.foldGutter;if(t){var r=t.options;clearTimeout(t.changeUpdate);t.changeUpdate=setTimeout(function(){var r=e.getViewport();t.from==t.to||r.from-t.to>20||t.from-r.to>20?o(e):e.operation(function(){if(r.from<t.from){a(e,r.from,t.from);t.from=r.from}if(r.to>t.to){a(e,t.to,r.to);t.to=r.to}})},r.updateViewportTimeSpan||400)}}function c(e,t){var r=e.state.foldGutter;if(r){var n=t.line;n>=r.from&&n<r.to&&a(e,n,n+1)}}e.defineOption("foldGutter",!1,function(n,i,a){if(a&&a!=e.Init){n.clearGutter(n.state.foldGutter.options.gutter);n.state.foldGutter=null;n.off("gutterClick",s);n.off("change",l);n.off("viewportChange",u);n.off("fold",c);n.off("unfold",c);n.off("swapDoc",o)}if(i){n.state.foldGutter=new t(r(i));o(n);n.on("gutterClick",s);n.on("change",l);n.on("viewportChange",u);n.on("fold",c);n.on("unfold",c);n.on("swapDoc",o)}});var d=e.Pos})},{"./foldcode":11,codemirror:void 0}],13:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function r(e,t,r,n){this.line=t;this.ch=r;this.cm=e;this.text=e.getLine(t);this.min=n?n.from:e.firstLine();this.max=n?n.to-1:e.lastLine()}function n(e,t){var r=e.cm.getTokenTypeAt(f(e.line,t));return r&&/\btag\b/.test(r)}function i(e){if(!(e.line>=e.max)){e.ch=0;e.text=e.cm.getLine(++e.line);return!0}}function a(e){if(!(e.line<=e.min)){e.text=e.cm.getLine(--e.line);e.ch=e.text.length;return!0}}function o(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(i(e))continue;return}if(n(e,t+1)){var r=e.text.lastIndexOf("/",t),a=r>-1&&!/\S/.test(e.text.slice(r+1,t));e.ch=t+1;return a?"selfClose":"regular"}e.ch=t+1}}function s(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(a(e))continue;return}if(n(e,t+1)){v.lastIndex=t;e.ch=t;var r=v.exec(e.text);if(r&&r.index==t)return r}else e.ch=t}}function l(e){for(;;){v.lastIndex=e.ch;var t=v.exec(e.text);if(!t){if(i(e))continue;return}if(n(e,t.index+1)){e.ch=t.index+t[0].length;return t}e.ch=t.index+1}}function u(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(a(e))continue;return}if(n(e,t+1)){var r=e.text.lastIndexOf("/",t),i=r>-1&&!/\S/.test(e.text.slice(r+1,t));e.ch=t+1;return i?"selfClose":"regular"}e.ch=t}}function c(e,t){for(var r=[];;){var n,i=l(e),a=e.line,s=e.ch-(i?i[0].length:0);if(!i||!(n=o(e)))return;if("selfClose"!=n)if(i[1]){for(var u=r.length-1;u>=0;--u)if(r[u]==i[2]){r.length=u;break}if(0>u&&(!t||t==i[2]))return{tag:i[2],from:f(a,s),to:f(e.line,e.ch)}}else r.push(i[2])}}function d(e,t){for(var r=[];;){var n=u(e);if(!n)return;if("selfClose"!=n){var i=e.line,a=e.ch,o=s(e);if(!o)return;if(o[1])r.push(o[2]);else{for(var l=r.length-1;l>=0;--l)if(r[l]==o[2]){r.length=l;break}if(0>l&&(!t||t==o[2]))return{tag:o[2],from:f(e.line,e.ch),to:f(i,a)}}}else s(e)}}var f=e.Pos,p="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",h=p+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",v=new RegExp("<(/?)(["+p+"]["+h+"]*)","g");e.registerHelper("fold","xml",function(e,t){for(var n=new r(e,t.line,0);;){var i,a=l(n);if(!a||n.line!=t.line||!(i=o(n)))return;if(!a[1]&&"selfClose"!=i){var t=f(n.line,n.ch),s=c(n,a[2]);return s&&{
from:t,to:s.from}}}});e.findMatchingTag=function(e,n,i){var a=new r(e,n.line,n.ch,i);if(-1!=a.text.indexOf(">")||-1!=a.text.indexOf("<")){var l=o(a),u=l&&f(a.line,a.ch),p=l&&s(a);if(l&&p&&!(t(a,n)>0)){var h={from:f(a.line,a.ch),to:u,tag:p[2]};if("selfClose"==l)return{open:h,close:null,at:"open"};if(p[1])return{open:d(a,p[2]),close:h,at:"close"};a=new r(e,u.line,u.ch,i);return{open:h,close:c(a,p[2]),at:"open"}}}};e.findEnclosingTag=function(e,t,n){for(var i=new r(e,t.line,t.ch,n);;){var a=d(i);if(!a)break;var o=new r(e,t.line,t.ch,n),s=c(o,a.tag);if(s)return{open:a,close:s}}};e.scanForClosingTag=function(e,t,n,i){var a=new r(e,t.line,t.ch,i?{from:0,to:i}:null);return c(a,n)}})},{codemirror:void 0}],14:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";e.defineMode("javascript",function(t,r){function n(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}function i(e,t,r){ve=e;ge=r;return t}function a(e,t){var r=e.next();if('"'==r||"'"==r){t.tokenize=o(r);return t.tokenize(e,t)}if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==r&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return i(r);if("="==r&&e.eat(">"))return i("=>","operator");if("0"==r&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return i("number","number")}if(/\d/.test(r)){e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return i("number","number")}if("/"==r){if(e.eat("*")){t.tokenize=s;return s(e,t)}if(e.eat("/")){e.skipToEnd();return i("comment","comment")}if("operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)){n(e);e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return i("regexp","string-2")}e.eatWhile(Ee);return i("operator","operator",e.current())}if("`"==r){t.tokenize=l;return l(e,t)}if("#"==r){e.skipToEnd();return i("error","error")}if(Ee.test(r)){e.eatWhile(Ee);return i("operator","operator",e.current())}if(_e.test(r)){e.eatWhile(_e);var a=e.current(),u=ke.propertyIsEnumerable(a)&&ke[a];return u&&"."!=t.lastType?i(u.type,u.style,a):i("variable","variable",a)}}function o(e){return function(t,r){var n,o=!1;if(be&&"@"==t.peek()&&t.match(Ce)){r.tokenize=a;return i("jsonld-keyword","meta")}for(;null!=(n=t.next())&&(n!=e||o);)o=!o&&"\\"==n;o||(r.tokenize=a);return i("string","string")}}function s(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=a;break}n="*"==r}return i("comment","comment")}function l(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=a;break}n=!n&&"\\"==r}return i("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(0>r)){for(var n=0,i=!1,a=r-1;a>=0;--a){var o=e.string.charAt(a),s=Se.indexOf(o);if(s>=0&&3>s){if(!n){++a;break}if(0==--n)break}else if(s>=3&&6>s)++n;else if(_e.test(o))i=!0;else{if(/["'\/]/.test(o))return;if(i&&!n){++a;break}}}i&&!n&&(t.fatArrowAt=a)}}function c(e,t,r,n,i,a){this.indented=e;this.column=t;this.type=r;this.prev=i;this.info=a;null!=n&&(this.align=n)}function d(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(var r=n.vars;r;r=r.next)if(r.name==t)return!0}function f(e,t,r,n,i){var a=e.cc;De.state=e;De.stream=i;De.marked=null,De.cc=a;De.style=t;e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);for(;;){var o=a.length?a.pop():xe?_:w;if(o(r,n)){for(;a.length&&a[a.length-1].lex;)a.pop()();return De.marked?De.marked:"variable"==r&&d(e,n)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)De.cc.push(arguments[e])}function h(){p.apply(null,arguments);return!0}function v(e){function t(t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}var n=De.state;if(n.context){De.marked="def";if(t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;r.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function g(){De.state.context={prev:De.state.context,vars:De.state.localVars};De.state.localVars=Pe}function y(){De.state.localVars=De.state.context.vars;De.state.context=De.state.context.prev}function m(e,t){var r=function(){var r=De.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new c(n,De.stream.column(),e,null,r.lexical,t)};r.lex=!0;return r}function b(){var e=De.state;if(e.lexical.prev){")"==e.lexical.type&&(e.indented=e.lexical.indented);e.lexical=e.lexical.prev}}function x(e){function t(r){return r==e?h():";"==e?p():h(t)}return t}function w(e,t){if("var"==e)return h(m("vardef",t.length),X,x(";"),b);if("keyword a"==e)return h(m("form"),_,w,b);if("keyword b"==e)return h(m("form"),w,b);if("{"==e)return h(m("}"),V,b);if(";"==e)return h();if("if"==e){"else"==De.state.lexical.info&&De.state.cc[De.state.cc.length-1]==b&&De.state.cc.pop()();return h(m("form"),_,w,b,$)}return"function"==e?h(ee):"for"==e?h(m("form"),G,w,b):"variable"==e?h(m("stat"),L):"switch"==e?h(m("form"),_,m("}","switch"),x("{"),V,b,b):"case"==e?h(_,x(":")):"default"==e?h(x(":")):"catch"==e?h(m("form"),g,x("("),te,x(")"),w,b,y):"module"==e?h(m("form"),g,oe,y,b):"class"==e?h(m("form"),re,b):"export"==e?h(m("form"),se,b):"import"==e?h(m("form"),le,b):p(m("stat"),_,x(";"),b)}function _(e){return E(e,!1)}function k(e){return E(e,!0)}function E(e,t){if(De.state.fatArrowAt==De.stream.start){var r=t?j:N;if("("==e)return h(g,m(")"),A(Y,")"),b,x("=>"),r,y);if("variable"==e)return p(g,Y,x("=>"),r,y)}var n=t?D:T;return Te.hasOwnProperty(e)?h(n):"function"==e?h(ee,n):"keyword c"==e?h(t?S:C):"("==e?h(m(")"),C,pe,x(")"),b,n):"operator"==e||"spread"==e?h(t?k:_):"["==e?h(m("]"),de,b,n):"{"==e?z(B,"}",null,n):"quasi"==e?p(P,n):h()}function C(e){return e.match(/[;\}\)\],]/)?p():p(_)}function S(e){return e.match(/[;\}\)\],]/)?p():p(k)}function T(e,t){return","==e?h(_):D(e,t,!1)}function D(e,t,r){var n=0==r?T:D,i=0==r?_:k;return"=>"==e?h(g,r?j:N,y):"operator"==e?/\+\+|--/.test(t)?h(n):"?"==t?h(_,x(":"),i):h(i):"quasi"==e?p(P,n):";"!=e?"("==e?z(k,")","call",n):"."==e?h(I,n):"["==e?h(m("]"),C,x("]"),b,n):void 0:void 0}function P(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?h(P):h(_,M)}function M(e){if("}"==e){De.marked="string-2";De.state.tokenize=l;return h(P)}}function N(e){u(De.stream,De.state);return p("{"==e?w:_)}function j(e){u(De.stream,De.state);return p("{"==e?w:k)}function L(e){return":"==e?h(b,w):p(T,x(";"),b)}function I(e){if("variable"==e){De.marked="property";return h()}}function B(e,t){if("variable"==e||"keyword"==De.style){De.marked="property";return h("get"==t||"set"==t?O:R)}if("number"==e||"string"==e){De.marked=be?"property":De.style+" property";return h(R)}return"jsonld-keyword"==e?h(R):"["==e?h(_,x("]"),R):void 0}function O(e){if("variable"!=e)return p(R);De.marked="property";return h(ee)}function R(e){return":"==e?h(k):"("==e?p(ee):void 0}function A(e,t){function r(n){if(","==n){var i=De.state.lexical;"call"==i.info&&(i.pos=(i.pos||0)+1);return h(e,r)}return n==t?h():h(x(t))}return function(n){return n==t?h():p(e,r)}}function z(e,t,r){for(var n=3;n<arguments.length;n++)De.cc.push(arguments[n]);return h(m(t,r),A(e,t),b)}function V(e){return"}"==e?h():p(w,V)}function F(e){return we&&":"==e?h(q):void 0}function q(e){if("variable"==e){De.marked="variable-3";return h()}}function X(){return p(Y,F,H,U)}function Y(e,t){if("variable"==e){v(t);return h()}return"["==e?z(Y,"]"):"{"==e?z(W,"}"):void 0}function W(e,t){if("variable"==e&&!De.stream.match(/^\s*:/,!1)){v(t);return h(H)}"variable"==e&&(De.marked="property");return h(x(":"),Y,H)}function H(e,t){return"="==t?h(k):void 0}function U(e){return","==e?h(X):void 0}function $(e,t){return"keyword b"==e&&"else"==t?h(m("form","else"),w,b):void 0}function G(e){return"("==e?h(m(")"),Z,x(")"),b):void 0}function Z(e){return"var"==e?h(X,x(";"),J):";"==e?h(J):"variable"==e?h(Q):p(_,x(";"),J)}function Q(e,t){if("in"==t||"of"==t){De.marked="keyword";return h(_)}return h(T,J)}function J(e,t){if(";"==e)return h(K);if("in"==t||"of"==t){De.marked="keyword";return h(_)}return p(_,x(";"),K)}function K(e){")"!=e&&h(_)}function ee(e,t){if("*"==t){De.marked="keyword";return h(ee)}if("variable"==e){v(t);return h(ee)}return"("==e?h(g,m(")"),A(te,")"),b,w,y):void 0}function te(e){return"spread"==e?h(te):p(Y,F)}function re(e,t){if("variable"==e){v(t);return h(ne)}}function ne(e,t){return"extends"==t?h(_,ne):"{"==e?h(m("}"),ie,b):void 0}function ie(e,t){if("variable"==e||"keyword"==De.style){De.marked="property";return"get"==t||"set"==t?h(ae,ee,ie):h(ee,ie)}if("*"==t){De.marked="keyword";return h(ie)}return";"==e?h(ie):"}"==e?h():void 0}function ae(e){if("variable"!=e)return p();De.marked="property";return h()}function oe(e,t){if("string"==e)return h(w);if("variable"==e){v(t);return h(ce)}}function se(e,t){if("*"==t){De.marked="keyword";return h(ce,x(";"))}if("default"==t){De.marked="keyword";return h(_,x(";"))}return p(w)}function le(e){return"string"==e?h():p(ue,ce)}function ue(e,t){if("{"==e)return z(ue,"}");"variable"==e&&v(t);return h()}function ce(e,t){if("from"==t){De.marked="keyword";return h(_)}}function de(e){return"]"==e?h():p(k,fe)}function fe(e){return"for"==e?p(pe,x("]")):","==e?h(A(S,"]")):p(A(k,"]"))}function pe(e){return"for"==e?h(G,pe):"if"==e?h(_,pe):void 0}function he(e,t){return"operator"==e.lastType||","==e.lastType||Ee.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var ve,ge,ye=t.indentUnit,me=r.statementIndent,be=r.jsonld,xe=r.json||be,we=r.typescript,_e=r.wordCharacters||/[\w$\xa1-\uffff]/,ke=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("operator"),a={type:"atom",style:"atom"},o={"if":e("if"),"while":t,"with":t,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"debugger":n,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":a,"false":a,"null":a,undefined:a,NaN:a,Infinity:a,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":n,"export":e("export"),"import":e("import"),"extends":n};if(we){var s={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:s,number:s,bool:s,any:s};for(var u in l)o[u]=l[u]}return o}(),Ee=/[+\-*&%=<>!?|~^]/,Ce=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Se="([{}])",Te={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},De={state:null,column:null,marked:null,cc:null},Pe={name:"this",next:{name:"arguments"}};b.lex=!0;return{startState:function(e){var t={tokenize:a,lastType:"sof",cc:[],lexical:new c((e||0)-ye,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:0};r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars);return t},token:function(e,t){if(e.sol()){t.lexical.hasOwnProperty("align")||(t.lexical.align=!1);t.indented=e.indentation();u(e,t)}if(t.tokenize!=s&&e.eatSpace())return null;var r=t.tokenize(e,t);if("comment"==ve)return r;t.lastType="operator"!=ve||"++"!=ge&&"--"!=ge?ve:"incdec";return f(t,r,ve,ge,e)},indent:function(t,n){if(t.tokenize==s)return e.Pass;if(t.tokenize!=a)return 0;var i=n&&n.charAt(0),o=t.lexical;if(!/^\s*else\b/.test(n))for(var l=t.cc.length-1;l>=0;--l){var u=t.cc[l];if(u==b)o=o.prev;else if(u!=$)break}"stat"==o.type&&"}"==i&&(o=o.prev);me&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var c=o.type,d=i==c;return"vardef"==c?o.indented+("operator"==t.lastType||","==t.lastType?o.info+1:0):"form"==c&&"{"==i?o.indented:"form"==c?o.indented+ye:"stat"==c?o.indented+(he(t,n)?me||ye:0):"switch"!=o.info||d||0==r.doubleIndentSwitch?o.align?o.column+(d?0:1):o.indented+(d?0:ye):o.indented+(/^(?:case|default)\b/.test(n)?ye:2*ye)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:xe?null:"/*",blockCommentEnd:xe?null:"*/",lineComment:xe?null:"//",fold:"brace",helperType:xe?"json":"javascript",jsonldMode:be,jsonMode:xe}});e.registerHelper("wordChars","javascript",/[\w$]/);e.defineMIME("text/javascript","javascript");e.defineMIME("text/ecmascript","javascript");e.defineMIME("application/javascript","javascript");e.defineMIME("application/x-javascript","javascript");e.defineMIME("application/ecmascript","javascript");e.defineMIME("application/json",{name:"javascript",json:!0});e.defineMIME("application/x-json",{name:"javascript",json:!0});e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});e.defineMIME("text/typescript",{name:"javascript",typescript:!0});e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},{codemirror:void 0}],15:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";e.defineMode("xml",function(t,r){function n(e,t){function r(r){t.tokenize=r;return r(e,t)}var n=e.next();if("<"==n){if(e.eat("!")){if(e.eat("["))return e.match("CDATA[")?r(o("atom","]]>")):null;if(e.match("--"))return r(o("comment","-->"));if(e.match("DOCTYPE",!0,!0)){e.eatWhile(/[\w\._\-]/);return r(s(1))}return null}if(e.eat("?")){e.eatWhile(/[\w\._\-]/);t.tokenize=o("meta","?>");return"meta"}k=e.eat("/")?"closeTag":"openTag";t.tokenize=i;return"tag bracket"}if("&"==n){var a;a=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";");return a?"atom":"error"}e.eatWhile(/[^&<]/);return null}function i(e,t){var r=e.next();if(">"==r||"/"==r&&e.eat(">")){t.tokenize=n;k=">"==r?"endTag":"selfcloseTag";return"tag bracket"}if("="==r){k="equals";return null}if("<"==r){t.tokenize=n;t.state=d;t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}if(/[\'\"]/.test(r)){t.tokenize=a(r);t.stringStartCol=e.column();return t.tokenize(e,t)}e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}function a(e){var t=function(t,r){for(;!t.eol();)if(t.next()==e){r.tokenize=i;break}return"string"};t.isInAttribute=!0;return t}function o(e,t){return function(r,i){for(;!r.eol();){if(r.match(t)){i.tokenize=n;break}r.next()}return e}}function s(e){return function(t,r){for(var i;null!=(i=t.next());){if("<"==i){r.tokenize=s(e+1);return r.tokenize(t,r)}if(">"==i){if(1==e){r.tokenize=n;break}r.tokenize=s(e-1);return r.tokenize(t,r)}}return"meta"}}function l(e,t,r){this.prev=e.context;this.tagName=t;this.indent=e.indented;this.startOfLine=r;(C.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function u(e){e.context&&(e.context=e.context.prev)}function c(e,t){for(var r;;){if(!e.context)return;r=e.context.tagName;if(!C.contextGrabbers.hasOwnProperty(r)||!C.contextGrabbers[r].hasOwnProperty(t))return;u(e)}}function d(e,t,r){if("openTag"==e){r.tagStart=t.column();return f}return"closeTag"==e?p:d}function f(e,t,r){if("word"==e){r.tagName=t.current();E="tag";return g}E="error";return f}function p(e,t,r){if("word"==e){var n=t.current();r.context&&r.context.tagName!=n&&C.implicitlyClosed.hasOwnProperty(r.context.tagName)&&u(r);if(r.context&&r.context.tagName==n){E="tag";return h}E="tag error";return v}E="error";return v}function h(e,t,r){if("endTag"!=e){E="error";return h}u(r);return d}function v(e,t,r){E="error";return h(e,t,r)}function g(e,t,r){if("word"==e){E="attribute";return y}if("endTag"==e||"selfcloseTag"==e){var n=r.tagName,i=r.tagStart;r.tagName=r.tagStart=null;if("selfcloseTag"==e||C.autoSelfClosers.hasOwnProperty(n))c(r,n);else{c(r,n);r.context=new l(r,n,i==r.indented)}return d}E="error";return g}function y(e,t,r){if("equals"==e)return m;C.allowMissing||(E="error");return g(e,t,r)}function m(e,t,r){if("string"==e)return b;if("word"==e&&C.allowUnquoted){E="string";return g}E="error";return g(e,t,r)}function b(e,t,r){return"string"==e?b:g(e,t,r)}var x=t.indentUnit,w=r.multilineTagIndentFactor||1,_=r.multilineTagIndentPastTag;null==_&&(_=!0);var k,E,C=r.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},S=r.alignCDATA;return{startState:function(){return{tokenize:n,state:d,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){!t.tagName&&e.sol()&&(t.indented=e.indentation());if(e.eatSpace())return null;k=null;var r=t.tokenize(e,t);if((r||k)&&"comment"!=r){E=null;t.state=t.state(k||r,e,t);E&&(r="error"==E?r+" error":E)}return r},indent:function(t,r,a){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+x;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=i&&t.tokenize!=n)return a?a.match(/^(\s*)/)[0].length:0;if(t.tagName)return _?t.tagStart+t.tagName.length+2:t.tagStart+x*w;if(S&&/<!\[CDATA\[/.test(r))return 0;var s=r&&/^<(\/)?([\w_:\.-]*)/.exec(r);if(s&&s[1])for(;o;){if(o.tagName==s[2]){o=o.prev;break}if(!C.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(s)for(;o;){var l=C.contextGrabbers[o.tagName];if(!l||!l.hasOwnProperty(s[2]))break;o=o.prev}for(;o&&!o.startOfLine;)o=o.prev;return o?o.indent+x:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:r.htmlMode?"html":"xml",helperType:r.htmlMode?"html":"xml"}});e.defineMIME("text/xml","xml");e.defineMIME("application/xml","xml");e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{codemirror:void 0}],16:[function(require,module,exports){(function(process,__dirname){var cytoscape;(function(e){"use strict";var t=cytoscape=function(){return cytoscape.init.apply(cytoscape,arguments)};t.version="2.4.2";t.init=function(e){void 0===e&&(e={});return t.is.plainObject(e)?new t.Core(e):t.is.string(e)?t.extension.apply(t.extension,arguments):void 0};t.fn={};"undefined"!=typeof module&&module.exports&&(module.exports=cytoscape);"undefined"!=typeof define&&define.amd&&define("cytoscape",function(){return cytoscape});e&&(e.cytoscape=cytoscape)})("undefined"==typeof window?null:window);this.cytoscape=cytoscape;(function(e){"use strict";var t=0,r=1,n=2,i=function(e){if(!(this instanceof i))return new i(e);this.id="Thenable/1.0.7";this.state=t;this.fulfillValue=void 0;this.rejectReason=void 0;this.onFulfilled=[];this.onRejected=[];this.proxy={then:this.then.bind(this)};"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};i.prototype={fulfill:function(e){return a(this,r,"fulfillValue",e)},reject:function(e){return a(this,n,"rejectReason",e)},then:function(e,t){var r=this,n=new i;r.onFulfilled.push(l(e,n,"fulfill"));r.onRejected.push(l(t,n,"reject"));o(r);return n.proxy}};var a=function(e,r,n,i){if(e.state===t){e.state=r;e[n]=i;o(e)}return e},o=function(e){e.state===r?s(e,"onFulfilled",e.fulfillValue):e.state===n&&s(e,"onRejected",e.rejectReason)},s=function(e,t,r){if(0!==e[t].length){var n=e[t];e[t]=[];var i=function(){for(var e=0;e<n.length;e++)n[e](r)};"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick(i):"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},l=function(e,t,r){return function(n){if("function"!=typeof e)t[r].call(t,n);else{var i;try{i=e(n)}catch(a){t.reject(a);return}u(t,i)}}},u=function(e,t){if(e!==t&&e.proxy!==t){var r;if("object"==typeof t&&null!==t||"function"==typeof t)try{r=t.then}catch(n){e.reject(n);return}if("function"!=typeof r)e.fulfill(t);else{var i=!1;try{r.call(t,function(r){if(!i){i=!0;r===t?e.reject(new TypeError("circular thenable chain")):u(e,r)}},function(t){if(!i){i=!0;e.reject(t)}})}catch(n){i||e.reject(n)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};e.Promise="undefined"==typeof Promise?i:Promise;e.Promise.all=e.Promise.all||function(t){return new e.Promise(function(e,r){for(var n=new Array(t.length),i=0,a=function(r,a){n[r]=a;i++;i===t.length&&e(n)},o=0;o<t.length;o++)(function(e){var n=t[e],i=null!=n.then;if(i)n.then(function(t){a(e,t)},function(e){r(e)});else{var o=n;a(e,o)}})(o)})}})(cytoscape);(function(e,t){"use strict";var r="string",n=typeof{},i="function";e.is={defined:function(e){return null!=e},string:function(e){return null!=e&&typeof e==r},fn:function(e){return null!=e&&typeof e===i},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(t){return null!=t&&typeof t===n&&!e.is.array(t)&&t.constructor===Object},object:function(e){return null!=e&&typeof e===n},number:function(e){return null!=e&&"number"==typeof e&&!isNaN(e)},integer:function(t){return e.is.number(t)&&Math.floor(t)===t},color:function(e){return null!=e&&"string"==typeof e&&""!==$.Color(e).toString()},bool:function(e){return null!=e&&typeof e==typeof!0},elementOrCollection:function(t){return e.is.element(t)||e.is.collection(t)},element:function(t){return t instanceof e.Element&&t._private.single},collection:function(t){return t instanceof e.Collection&&!t._private.single},core:function(t){return t instanceof e.Core},style:function(t){return t instanceof e.Style},stylesheet:function(t){return t instanceof e.Stylesheet},event:function(t){return t instanceof e.Event},thread:function(t){return t instanceof e.Thread},fabric:function(t){return t instanceof e.Fabric},emptyString:function(t){return t?e.is.string(t)&&(""===t||t.match(/^\s+$/))?!0:!1:!0},nonemptyString:function(t){return t&&e.is.string(t)&&""!==t&&!t.match(/^\s+$/)?!0:!1},domElement:function(e){return"undefined"==typeof HTMLElement?!1:e instanceof HTMLElement},boundingBox:function(t){return e.is.plainObject(t)&&e.is.number(t.x1)&&e.is.number(t.x2)&&e.is.number(t.y1)&&e.is.number(t.y2)},promise:function(t){return e.is.object(t)&&e.is.fn(t.then)},touch:function(){return t&&("ontouchstart"in t||t.DocumentTouch&&document instanceof DocumentTouch)},gecko:function(){return"undefined"!=typeof InstallTrigger||"MozAppearance"in document.documentElement.style},webkit:function(){return"undefined"!=typeof webkitURL||"WebkitAppearance"in document.documentElement.style},chromium:function(){return"undefined"!=typeof chrome},khtml:function(){return navigator.vendor.match(/kde/i)},khtmlEtc:function(){return e.is.khtml()||e.is.webkit()||e.is.blink()},trident:function(){return"undefined"!=typeof ActiveXObject||!1},windows:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Win/i)},mac:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Mac/i)},linux:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/Linux/i)},unix:function(){return"undefined"!=typeof navigator&&navigator.appVersion.match(/X11/i)}}})(cytoscape,"undefined"==typeof window?null:window);(function(e,t){"use strict";e.util={extend:function(){var t,r,n,i,a,o,s=arguments[0]||{},l=1,u=arguments.length,c=!1;if("boolean"==typeof s){c=s;s=arguments[1]||{};l=2}"object"==typeof s||e.is.fn(s)||(s={});if(u===l){s=this;--l}for(;u>l;l++)if(null!=(t=arguments[l]))for(r in t){n=s[r];i=t[r];if(s!==i)if(c&&i&&(e.is.plainObject(i)||(a=e.is.array(i)))){if(a){a=!1;o=n&&e.is.array(n)?n:[]}else o=n&&e.is.plainObject(n)?n:{};s[r]=e.util.extend(c,o,i)}else void 0!==i&&(s[r]=i)}return s},require:function(r,n,i){var a;i=e.util.extend({msgIfNotFound:!0},i);var o=!1,s=function(e){o=!0;n(e)},l=function(e){t&&(a=t[r]);void 0!==a&&s(a);e&&e()},u=function(){o||c(d)},c=function(e){"undefined"!=typeof module&&module.exports&&require&&(a=require(r));void 0!==a&&s(a);e&&e()},d=function(){o||f(p)},f=function(e){"undefined"!=typeof define&&define.amd&&require&&require([r],function(t){a=t;void 0!==a&&s(a);e&&e()})},p=function(){!o&&i.msgIfNotFound&&e.util.error("Cytoscape.js tried to pull in dependency `"+r+"` but no module (i.e. CommonJS, AMD, or window) was found")};l(u)},requires:function(t,r){for(var n=[],i=[],a=function(){for(var e=0;e<t.length;e++)if(!i[e])return;r.apply(r,n)},o=0;o<t.length;o++)(function(){var r=t[o],s=o;e.util.require(r,function(e){n[s]=e;i[s]=!0;a()})})()},throttle:function(t,r,n){var i=!0,a=!0;if(n===!1)i=!1;else if(e.is.plainObject(n)){i="leading"in n?n.leading:i;a="trailing"in n?n.trailing:a}n=n||{};n.leading=i;n.maxWait=r;n.trailing=a;return e.util.debounce(t,r,n)},now:function(){return+new Date},debounce:function(t,r,n){var i,a,o,s,l,u,c,d=0,f=!1,p=!0;if(e.is.fn(t)){r=Math.max(0,r)||0;if(n===!0){var h=!0;p=!1}else if(e.is.plainObject(n)){h=n.leading;f="maxWait"in n&&(Math.max(r,n.maxWait)||0);p="trailing"in n?n.trailing:p}var v=function(){var n=r-(e.util.now()-s);if(0>=n){a&&clearTimeout(a);var f=c;a=u=c=void 0;if(f){d=e.util.now();o=t.apply(l,i);u||a||(i=l=null)}}else u=setTimeout(v,n)},g=function(){u&&clearTimeout(u);a=u=c=void 0;if(p||f!==r){d=e.util.now();o=t.apply(l,i);u||a||(i=l=null)}};return function(){i=arguments;s=e.util.now();l=this;c=p&&(u||!h);if(f===!1)var n=h&&!u;else{a||h||(d=s);var y=f-(s-d),m=0>=y;if(m){a&&(a=clearTimeout(a));d=s;o=t.apply(l,i)}else a||(a=setTimeout(g,y))}m&&u?u=clearTimeout(u):u||r===f||(u=setTimeout(v,r));if(n){m=!0;o=t.apply(l,i)}!m||u||a||(i=l=null);return o}}},error:function(e){if(!console)throw e;if(console.error)console.error.apply(console,arguments);else{if(!console.log)throw e;console.log.apply(console,arguments)}},clone:function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},copy:function(t){return null==t?t:e.is.array(t)?t.slice():e.is.plainObject(t)?e.util.clone(t):t},makeBoundingBox:function(e){if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},mapEmpty:function(e){var t=!0;if(null!=e)for(var r in e){t=!1;break}return t},pushMap:function(t){var r=e.util.getMap(t);null==r?e.util.setMap($.extend({},t,{value:[t.value]})):r.push(t.value)},setMap:function(t){for(var r,n=t.map,i=t.keys,a=i.length,o=0;a>o;o++){var r=i[o];e.is.plainObject(r)&&e.util.error("Tried to set map with object key");if(o<i.length-1){null==n[r]&&(n[r]={});n=n[r]}else n[r]=t.value}},getMap:function(t){for(var r=t.map,n=t.keys,i=n.length,a=0;i>a;a++){var o=n[a];e.is.plainObject(o)&&e.util.error("Tried to get map with object key");r=r[o];if(null==r)return r}return r},deleteMap:function(t){for(var r=t.map,n=t.keys,i=n.length,a=t.keepChildren,o=0;i>o;o++){var s=n[o];e.is.plainObject(s)&&e.util.error("Tried to delete map with object key");var l=o===t.keys.length-1;if(l)if(a)for(var u in r)a[u]||(r[u]=void 0);else r[s]=void 0;else r=r[s]}},capitalize:function(t){return e.is.emptyString(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},camel2dash:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],i=n.toLowerCase(),a=n!==i;if(a){t.push("-");t.push(i)}else t.push(n)}var o=t.length===e.length;return o?e:t.join("")},dash2camel:function(e){for(var t=[],r=!1,n=0;n<e.length;n++){var i=e[n],a="-"===i;if(a)r=!0;else{t.push(r?i.toUpperCase():i);r=!1}}return t.join("")},trim:function(e){var t,r;for(t=0;t<e.length&&" "===e[t];t++);for(r=e.length-1;r>t&&" "===e[r];r--);return e.substring(t,r+1)},hex2tuple:function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,r,n,i=4===e.length,a=16;if(i){t=parseInt(e[1]+e[1],a);r=parseInt(e[2]+e[2],a);n=parseInt(e[3]+e[3],a)}else{t=parseInt(e[1]+e[2],a);r=parseInt(e[3]+e[4],a);n=parseInt(e[5]+e[6],a)}return[t,r,n]}},hsl2tuple:function(t){function r(e,t,r){0>r&&(r+=1);r>1&&(r-=1);return 1/6>r?e+6*(t-e)*r:.5>r?t:2/3>r?e+(t-e)*(2/3-r)*6:e}var n,i,a,o,s,l,u,c,d=new RegExp("^"+e.util.regex.hsla+"$").exec(t);if(d){i=parseInt(d[1]);0>i?i=(360- -1*i%360)%360:i>360&&(i%=360);i/=360;a=parseFloat(d[2]);if(0>a||a>100)return;a/=100;o=parseFloat(d[3]);if(0>o||o>100)return;o/=100;s=d[4];if(void 0!==s){s=parseFloat(s);if(0>s||s>1)return}if(0===a)l=u=c=Math.round(255*o);else{var f=.5>o?o*(1+a):o+a-o*a,p=2*o-f;l=Math.round(255*r(p,f,i+1/3));u=Math.round(255*r(p,f,i));c=Math.round(255*r(p,f,i-1/3))}n=[l,u,c,s]}return n},rgb2tuple:function(t){var r,n=new RegExp("^"+e.util.regex.rgba+"$").exec(t);if(n){r=[];for(var i=[],a=1;3>=a;a++){var o=n[a];"%"===o[o.length-1]&&(i[a]=!0);o=parseFloat(o);i[a]&&(o=o/100*255);if(0>o||o>255)return;r.push(Math.floor(o))}var s=i[1]||i[2]||i[3],l=i[1]&&i[2]&&i[3];if(s&&!l)return;var u=n[4];if(void 0!==u){u=parseFloat(u);if(0>u||u>1)return;r.push(u)}}return r},colorname2tuple:function(t){return e.util.colors[t.toLowerCase()]},color2tuple:function(t){return(e.is.array(t)?t:null)||e.util.colorname2tuple(t)||e.util.hex2tuple(t)||e.util.rgb2tuple(t)||e.util.hsl2tuple(t)},tuple2hex:function(e){function t(e){var t=e.toString(16);1===t.length&&(t="0"+t);return t}var r=e[0],n=e[1],i=e[2];return"#"+t(r)+t(n)+t(i)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],
mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}};e.util.regex={};e.util.regex.number="(?:[-]?\\d*\\.\\d+|[-]?\\d+|[-]?\\d*\\.\\d+[eE]\\d+)";e.util.regex.rgba="rgb[a]?\\(("+e.util.regex.number+"[%]?)\\s*,\\s*("+e.util.regex.number+"[%]?)\\s*,\\s*("+e.util.regex.number+"[%]?)(?:\\s*,\\s*("+e.util.regex.number+"))?\\)";e.util.regex.rgbaNoBackRefs="rgb[a]?\\((?:"+e.util.regex.number+"[%]?)\\s*,\\s*(?:"+e.util.regex.number+"[%]?)\\s*,\\s*(?:"+e.util.regex.number+"[%]?)(?:\\s*,\\s*(?:"+e.util.regex.number+"))?\\)";e.util.regex.hsla="hsl[a]?\\(("+e.util.regex.number+")\\s*,\\s*("+e.util.regex.number+"[%])\\s*,\\s*("+e.util.regex.number+"[%])(?:\\s*,\\s*("+e.util.regex.number+"))?\\)";e.util.regex.hslaNoBackRefs="hsl[a]?\\((?:"+e.util.regex.number+")\\s*,\\s*(?:"+e.util.regex.number+"[%])\\s*,\\s*(?:"+e.util.regex.number+"[%])(?:\\s*,\\s*(?:"+e.util.regex.number+"))?\\)";e.util.regex.hex3="\\#[0-9a-fA-F]{3}";e.util.regex.hex6="\\#[0-9a-fA-F]{6}";var r=t?t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame:null;r=r||function(e){e&&setTimeout(e,1e3/60)};e.util.requestAnimationFrame=function(e){r(e)}})(cytoscape,"undefined"==typeof window?null:window);(function(e){"use strict";e.math={};e.math.signum=function(e){return e>0?1:0>e?-1:0};e.math.distance=function(e,t){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)};e.math.qbezierAt=function(e,t,r,n){return(1-n)*(1-n)*e+2*(1-n)*n*t+n*n*r};e.math.qbezierPtAt=function(t,r,n,i){return{x:e.math.qbezierAt(t.x,r.x,n.x,i),y:e.math.qbezierAt(t.y,r.y,n.y,i)}};e.math.boundingBoxesIntersect=function(e,t){return e.x1>t.x2?!1:t.x1>e.x2?!1:e.x2<t.x1?!1:t.x2<e.x1?!1:e.y2<t.y1?!1:t.y2<e.y1?!1:e.y1>t.y2?!1:t.y1>e.y2?!1:!0};e.math.inBoundingBox=function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2};e.math.pointInBoundingBox=function(e,t){return this.inBoundingBox(e,t.x,t.y)};e.math.roundRectangleIntersectLine=function(e,t,r,n,i,a,o){var s,l=this.getRoundRectangleRadius(i,a),u=i/2,c=a/2,d=r-u+l-o,f=n-c-o,p=r+u-l+o,h=f;s=this.finiteLinesIntersect(e,t,r,n,d,f,p,h,!1);if(s.length>0)return s;var v=r+u+o,g=n-c+l-o,y=v,m=n+c-l+o;s=this.finiteLinesIntersect(e,t,r,n,v,g,y,m,!1);if(s.length>0)return s;var b=r-u+l-o,x=n+c+o,w=r+u-l+o,_=x;s=this.finiteLinesIntersect(e,t,r,n,b,x,w,_,!1);if(s.length>0)return s;var k=r-u-o,E=n-c+l-o,C=k,S=n+c-l+o;s=this.finiteLinesIntersect(e,t,r,n,k,E,C,S,!1);if(s.length>0)return s;var T,D=r-u+l,P=n-c+l;T=this.intersectLineCircle(e,t,r,n,D,P,l+o);if(T.length>0&&T[0]<=D&&T[1]<=P)return[T[0],T[1]];var M=r+u-l,N=n-c+l;T=this.intersectLineCircle(e,t,r,n,M,N,l+o);if(T.length>0&&T[0]>=M&&T[1]<=N)return[T[0],T[1]];var j=r+u-l,L=n+c-l;T=this.intersectLineCircle(e,t,r,n,j,L,l+o);if(T.length>0&&T[0]>=j&&T[1]>=L)return[T[0],T[1]];var I=r-u+l,B=n+c-l;T=this.intersectLineCircle(e,t,r,n,I,B,l+o);return T.length>0&&T[0]<=I&&T[1]>=B?[T[0],T[1]]:[]};e.math.roundRectangleIntersectBox=function(e,t,r,n,i,a,o,s,l){var u=this.getRoundRectangleRadius(i,a),c=o-i/2-l,d=s-a/2+u-l,f=o+i/2+l,p=s+a/2-u+l,h=o-i/2+u-l,v=s-a/2-l,g=o+i/2-u+l,y=s+a/2+l,m=Math.min(e,r),b=Math.max(e,r),x=Math.min(t,n),w=Math.max(t,n);return c>b?!1:m>f?!1:v>w?!1:x>y?!1:c>=m&&b>=c&&d>=x&&w>=d?!0:f>=m&&b>=f&&d>=x&&w>=d?!0:f>=m&&b>=f&&p>=x&&w>=p?!0:c>=m&&b>=c&&p>=x&&w>=p?!0:m>=c&&f>=m&&x>=d&&p>=x?!0:b>=c&&f>=b&&x>=d&&p>=x?!0:b>=c&&f>=b&&w>=d&&p>=w?!0:m>=c&&f>=m&&w>=d&&p>=w?!0:h>=m&&b>=h&&v>=x&&w>=v?!0:g>=m&&b>=g&&v>=x&&w>=v?!0:g>=m&&b>=g&&y>=x&&w>=y?!0:h>=m&&b>=h&&y>=x&&w>=y?!0:m>=h&&g>=m&&x>=v&&y>=x?!0:b>=h&&g>=b&&x>=v&&y>=x?!0:b>=h&&g>=b&&w>=v&&y>=w?!0:m>=h&&g>=m&&w>=v&&y>=w?!0:this.boxIntersectEllipse(m,x,b,w,l,2*u,2*u,h+l,d+l)?!0:this.boxIntersectEllipse(m,x,b,w,l,2*u,2*u,g-l,d+l)?!0:this.boxIntersectEllipse(m,x,b,w,l,2*u,2*u,g-l,p-l)?!0:this.boxIntersectEllipse(m,x,b,w,l,2*u,2*u,h+l,p-l)?!0:!1};e.math.checkInBoundingCircle=function(e,t,r,n,i,a,o,s){e=(e-o)/(i+n);t=(t-s)/(a+n);return r>=e*e+t*t};e.math.boxInBezierVicinity=function(e,t,r,n,i,a,o,s,l,u,c){var d=.25*i+.5*o+.25*l,f=.25*a+.5*s+.25*u,p=Math.min(e,r)-c,h=Math.min(t,n)-c,v=Math.max(e,r)+c,g=Math.max(t,n)+c;if(i>=p&&v>=i&&a>=h&&g>=a)return 1;if(l>=p&&v>=l&&u>=h&&g>=u)return 1;if(d>=p&&v>=d&&f>=h&&g>=f)return 1;if(o>=p&&v>=o&&s>=h&&g>=s)return 1;var y=Math.min(i,d,l),m=Math.min(a,f,u),b=Math.max(i,d,l),x=Math.max(a,f,u);return y>v||p>b||m>g||h>x?0:1};e.math.checkBezierInBox=function(t,r,n,i,a,o,s,l,u,c,d){function f(d){var f=e.math.qbezierAt(a,s,u,d),p=e.math.qbezierAt(o,l,c,d);return f>=t&&n>=f&&p>=r&&i>=p}for(var p=0;1>=p;p+=.25)if(!f(p))return!1;return!0};e.math.checkStraightEdgeInBox=function(e,t,r,n,i,a,o,s,l){return i>=e&&r>=i&&o>=e&&r>=o&&a>=t&&n>=a&&s>=t&&n>=s};e.math.checkStraightEdgeCrossesBox=function(e,t,r,n,i,a,o,s,l){var u,c,d=Math.min(e,r)-l,f=Math.min(t,n)-l,p=Math.max(e,r)+l,h=Math.max(t,n)+l,v=o-i,g=i,y=s-a,m=a;if(Math.abs(v)<1e-4)return i>=d&&p>=i&&Math.min(a,s)<=f&&Math.max(a,s)>=h;var b=(d-g)/v;if(b>0&&1>=b){u=y*b+m;if(u>=f&&h>=u)return!0}var x=(p-g)/v;if(x>0&&1>=x){u=y*x+m;if(u>=f&&h>=u)return!0}var w=(f-m)/y;if(w>0&&1>=w){c=v*w+g;if(c>=d&&p>=c)return!0}var _=(h-m)/y;if(_>0&&1>=_){c=v*_+g;if(c>=d&&p>=c)return!0}return!1};e.math.checkBezierCrossesBox=function(e,t,r,n,i,a,o,s,l,u,c){var d=Math.min(e,r)-c,f=Math.min(t,n)-c,p=Math.max(e,r)+c,h=Math.max(t,n)+c;if(i>=d&&p>=i&&a>=f&&h>=a)return!0;if(l>=d&&p>=l&&u>=f&&h>=u)return!0;var v=i-2*o+l,g=-2*i+2*o,y=i,m=[];if(Math.abs(v)<1e-4){var b=(d-i)/g,x=(p-i)/g;m.push(b,x)}else{var w,_,k=g*g-4*v*(y-d);if(k>0){var E=Math.sqrt(k);w=(-g+E)/(2*v);_=(-g-E)/(2*v);m.push(w,_)}var C,S,T=g*g-4*v*(y-p);if(T>0){var E=Math.sqrt(T);C=(-g+E)/(2*v);S=(-g-E)/(2*v);m.push(C,S)}}m.sort(function(e,t){return e-t});var D=a-2*s+u,P=-2*a+2*s,M=a,N=[];if(Math.abs(D)<1e-4){var j=(f-a)/P,L=(h-a)/P;N.push(j,L)}else{var I,B,O=P*P-4*D*(M-f);if(O>0){var E=Math.sqrt(O);I=(-P+E)/(2*D);B=(-P-E)/(2*D);N.push(I,B)}var R,A,z=P*P-4*D*(M-h);if(z>0){var E=Math.sqrt(z);R=(-P+E)/(2*D);A=(-P-E)/(2*D);N.push(R,A)}}N.sort(function(e,t){return e-t});for(var V=0;V<m.length;V+=2)for(var F=1;F<N.length;F+=2)if(m[V]<N[F]&&N[F]>=0&&m[V]<=1&&m[V+1]>N[F-1]&&N[F-1]<=1&&m[V+1]>=0)return!0;return!1};e.math.inLineVicinity=function(e,t,r,n,i,a,o){var s=o,l=Math.min(r,i),u=Math.max(r,i),c=Math.min(n,a),d=Math.max(n,a);return e>=l-s&&u+s>=e&&t>=c-s&&d+s>=t};e.math.inBezierVicinity=function(e,t,r,n,i,a,o,s,l){var u={x1:Math.min(r,o,i),x2:Math.max(r,o,i),y1:Math.min(n,s,a),y2:Math.max(n,s,a)};return e<u.x1||e>u.x2||t<u.y1||t>u.y2?!1:!0};e.math.solveCubic=function(e,t,r,n,i){t/=e;r/=e;n/=e;var a,o,s,l,u,c,d,f;o=(3*r-t*t)/9;s=-(27*n)+t*(9*r-2*t*t);s/=54;a=o*o*o+s*s;i[1]=0;d=t/3;if(a>0){u=s+Math.sqrt(a);u=0>u?-Math.pow(-u,1/3):Math.pow(u,1/3);c=s-Math.sqrt(a);c=0>c?-Math.pow(-c,1/3):Math.pow(c,1/3);i[0]=-d+u+c;d+=(u+c)/2;i[4]=i[2]=-d;d=Math.sqrt(3)*(-c+u)/2;i[3]=d;i[5]=-d}else{i[5]=i[3]=0;if(0!==a){o=-o;l=o*o*o;l=Math.acos(s/Math.sqrt(l));f=2*Math.sqrt(o);i[0]=-d+f*Math.cos(l/3);i[2]=-d+f*Math.cos((l+2*Math.PI)/3);i[4]=-d+f*Math.cos((l+4*Math.PI)/3)}else{f=0>s?-Math.pow(-s,1/3):Math.pow(s,1/3);i[0]=-d+2*f;i[4]=i[2]=-(f+d)}}};e.math.sqDistanceToQuadraticBezier=function(e,t,r,n,i,a,o,s){var l=1*r*r-4*r*i+2*r*o+4*i*i-4*i*o+o*o+n*n-4*n*a+2*n*s+4*a*a-4*a*s+s*s,u=9*r*i-3*r*r-3*r*o-6*i*i+3*i*o+9*n*a-3*n*n-3*n*s-6*a*a+3*a*s,c=3*r*r-6*r*i+r*o-r*e+2*i*i+2*i*e-o*e+3*n*n-6*n*a+n*s-n*t+2*a*a+2*a*t-s*t,d=1*r*i-r*r+r*e-i*e+n*a-n*n+n*t-a*t,f=[];this.solveCubic(l,u,c,d,f);for(var p=1e-7,h=[],v=0;6>v;v+=2)Math.abs(f[v+1])<p&&f[v]>=0&&f[v]<=1&&h.push(f[v]);h.push(1);h.push(0);for(var g,y,m,b,x=-1,w=0;w<h.length;w++){y=Math.pow(1-h[w],2)*r+2*(1-h[w])*h[w]*i+h[w]*h[w]*o;m=Math.pow(1-h[w],2)*n+2*(1-h[w])*h[w]*a+h[w]*h[w]*s;b=Math.pow(y-e,2)+Math.pow(m-t,2);if(x>=0){if(x>b){x=b;g=h[w]}}else{x=b;g=h[w]}}return x};e.math.sqDistanceToFiniteLine=function(e,t,r,n,i,a){var o=[e-r,t-n],s=[i-r,a-n],l=s[0]*s[0]+s[1]*s[1],u=o[0]*o[0]+o[1]*o[1],c=o[0]*s[0]+o[1]*s[1],d=c*c/l;return 0>c?u:d>l?(e-i)*(e-i)+(t-a)*(t-a):u-d};e.math.pointInsidePolygon=function(e,t,r,n,i,a,o,s,l){var u=new Array(r.length),c=Math.asin(s[1]/Math.sqrt(s[0]*s[0]+s[1]*s[1]));s[0]<0?c+=Math.PI/2:c=-c-Math.PI/2;for(var d=Math.cos(-c),f=Math.sin(-c),p=0;p<u.length/2;p++){u[2*p]=a/2*(r[2*p]*d-r[2*p+1]*f);u[2*p+1]=o/2*(r[2*p+1]*d+r[2*p]*f);u[2*p]+=n;u[2*p+1]+=i}var h;if(l>0){var v=this.expandPolygon(u,-l);h=this.joinLines(v)}else h=u;for(var g,y,m,b,x,w=0,_=0,p=0;p<h.length/2;p++){g=h[2*p];y=h[2*p+1];if(p+1<h.length/2){m=h[2*(p+1)];b=h[2*(p+1)+1]}else{m=h[2*(p+1-h.length/2)];b=h[2*(p+1-h.length/2)+1]}if(g==e&&m==e);else{if(!(g>=e&&e>=m||e>=g&&m>=e))continue;x=(e-g)/(m-g)*(b-y)+y;x>t&&w++;t>x&&_++}}return w%2===0?!1:!0};e.math.joinLines=function(e){for(var t,r,n,i,a,o,s,l,u=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c];r=e[4*c+1];n=e[4*c+2];i=e[4*c+3];if(c<e.length/4-1){a=e[4*(c+1)];o=e[4*(c+1)+1];s=e[4*(c+1)+2];l=e[4*(c+1)+3]}else{a=e[0];o=e[1];s=e[2];l=e[3]}var d=this.finiteLinesIntersect(t,r,n,i,a,o,s,l,!0);u[2*c]=d[0];u[2*c+1]=d[1]}return u};e.math.expandPolygon=function(e,t){for(var r,n,i,a,o=new Array(2*e.length),s=0;s<e.length/2;s++){r=e[2*s];n=e[2*s+1];if(s<e.length/2-1){i=e[2*(s+1)];a=e[2*(s+1)+1]}else{i=e[0];a=e[1]}var l=a-n,u=-(i-r),c=Math.sqrt(l*l+u*u),d=l/c,f=u/c;o[4*s]=r+d*t;o[4*s+1]=n+f*t;o[4*s+2]=i+d*t;o[4*s+3]=a+f*t}return o};e.math.intersectLineEllipse=function(e,t,r,n,i,a){var o=r-e,s=n-t;o/=i;s/=a;var l=Math.sqrt(o*o+s*s),u=l-1;if(0>u)return[];var c=u/l;return[(r-e)*c+e,(n-t)*c+t]};e.math.dotProduct=function(e,t){if(2!=e.length||2!=t.length)throw"dot product: arguments are not vectors";return e[0]*t[0]+e[1]*t[1]};e.math.intersectLineCircle=function(e,t,r,n,i,a,o){var s=[r-e,n-t],l=[i,a],u=[e-i,t-a],c=s[0]*s[0]+s[1]*s[1],d=2*(u[0]*s[0]+u[1]*s[1]),l=u[0]*u[0]+u[1]*u[1]-o*o,f=d*d-4*c*l;if(0>f)return[];var p=(-d+Math.sqrt(f))/(2*c),h=(-d-Math.sqrt(f))/(2*c),v=Math.min(p,h),g=Math.max(p,h),y=[];v>=0&&1>=v&&y.push(v);g>=0&&1>=g&&y.push(g);if(0===y.length)return[];var m=y[0]*s[0]+e,b=y[0]*s[1]+t;if(y.length>1){if(y[0]==y[1])return[m,b];var x=y[1]*s[0]+e,w=y[1]*s[1]+t;return[m,b,x,w]}return[m,b]};e.math.findCircleNearPoint=function(e,t,r,n,i){var a=n-e,o=i-t,s=Math.sqrt(a*a+o*o),l=a/s,u=o/s;return[e+l*r,t+u*r]};e.math.findMaxSqDistanceToOrigin=function(e){for(var t,r=1e-6,n=0;n<e.length/2;n++){t=e[2*n]*e[2*n]+e[2*n+1]*e[2*n+1];t>r&&(r=t)}return r};e.math.finiteLinesIntersect=function(e,t,r,n,i,a,o,s,l){var u=(o-i)*(t-a)-(s-a)*(e-i),c=(r-e)*(t-a)-(n-t)*(e-i),d=(s-a)*(r-e)-(o-i)*(n-t);if(0!==d){var f=u/d,p=c/d;return f>=0&&1>=f&&p>=0&&1>=p?[e+f*(r-e),t+f*(n-t)]:l?[e+f*(r-e),t+f*(n-t)]:[]}return 0===u||0===c?[e,r,o].sort()[1]===o?[o,s]:[e,r,i].sort()[1]===i?[i,a]:[i,o,r].sort()[1]===r?[r,n]:[]:[]};e.math.boxIntersectEllipse=function(e,t,r,n,i,a,o,s,l){if(e>r){var u=e;e=r;r=u}if(t>n){var c=t;t=n;n=c}var d=[s-a/2-i,l],f=[s+a/2+i,l],p=[s,l-o/2-i],h=[s,l+o/2+i];if(r<d[0])return!1;if(e>f[0])return!1;if(t>h[1])return!1;if(n<p[1])return!1;if(e<=f[0]&&f[0]<=r&&t<=f[1]&&f[1]<=n)return!0;if(e<=d[0]&&d[0]<=r&&t<=d[1]&&d[1]<=n)return!0;if(e<=p[0]&&p[0]<=r&&t<=p[1]&&p[1]<=n)return!0;if(e<=h[0]&&h[0]<=r&&t<=h[1]&&h[1]<=n)return!0;e=(e-s)/(a/2+i);r=(r-s)/(a/2+i);t=(t-l)/(o/2+i);n=(n-l)/(o/2+i);return 1>=e*e+t*t?!0:1>=r*r+t*t?!0:1>=r*r+n*n?!0:1>=e*e+n*n?!0:!1};e.math.boxIntersectPolygon=function(t,r,n,i,a,o,s,l,u,c,d){if(t>n){var f=t;t=n;n=f}if(r>i){var p=r;r=i;i=p}var h=new Array(a.length),v=Math.asin(c[1]/Math.sqrt(c[0]*c[0]+c[1]*c[1]));c[0]<0?v+=Math.PI/2:v=-v-Math.PI/2;for(var g=Math.cos(-v),y=Math.sin(-v),m=0;m<h.length/2;m++){h[2*m]=o/2*(a[2*m]*g-a[2*m+1]*y);h[2*m+1]=s/2*(a[2*m+1]*g+a[2*m]*y);h[2*m]+=l;h[2*m+1]+=u}for(var b=h[0],x=h[0],w=h[1],_=h[1],m=1;m<h.length/2;m++){h[2*m]>x&&(x=h[2*m]);h[2*m]<b&&(b=h[2*m]);h[2*m+1]>_&&(_=h[2*m+1]);h[2*m+1]<w&&(w=h[2*m+1])}if(b-d>n)return!1;if(t>x+d)return!1;if(w-d>i)return!1;if(r>_+d)return!1;var k;if(d>0){var E=e.math.expandPolygon(h,-d);k=e.math.joinLines(E)}else k=h;for(var m=0;m<h.length/2;m++)if(t<=h[2*m]&&h[2*m]<=n&&r<=h[2*m+1]&&h[2*m+1]<=i)return!0;for(var m=0;m<k.length/2;m++){var C,S,T=k[2*m],D=k[2*m+1];if(m<k.length/2-1){C=k[2*(m+1)];S=k[2*(m+1)+1]}else{C=k[0];S=k[1]}if(e.math.finiteLinesIntersect(T,D,C,S,t,r,n,r,!1).length>0)return!0;if(e.math.finiteLinesIntersect(T,D,C,S,t,i,n,i,!1).length>0)return!0;if(e.math.finiteLinesIntersect(T,D,C,S,t,r,t,i,!1).length>0)return!0;if(e.math.finiteLinesIntersect(T,D,C,S,n,r,n,i,!1).length>0)return!0}return!1};e.math.polygonIntersectLine=function(t,r,n,i,a,o,s,l){for(var u,c=[],d=new Array(n.length),f=0;f<d.length/2;f++){d[2*f]=n[2*f]*o+i;d[2*f+1]=n[2*f+1]*s+a}var p;if(l>0){var h=e.math.expandPolygon(d,-l);p=e.math.joinLines(h)}else p=d;for(var v,g,y,m,f=0;f<p.length/2;f++){v=p[2*f];g=p[2*f+1];if(f<p.length/2-1){y=p[2*(f+1)];m=p[2*(f+1)+1]}else{y=p[0];m=p[1]}u=this.finiteLinesIntersect(t,r,i,a,v,g,y,m);0!==u.length&&c.push(u[0],u[1])}return c};e.math.shortenIntersection=function(e,t,r){var n=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]),a=(i-r)/i;0>a&&(a=1e-5);return[t[0]+a*n[0],t[1]+a*n[1]]};e.math.generateUnitNgonPointsFitToSquare=function(t,r){var n=e.math.generateUnitNgonPoints(t,r);n=e.math.fitPolygonToSquare(n);return n};e.math.fitPolygonToSquare=function(e){for(var t,r,n=e.length/2,i=1/0,a=1/0,o=-(1/0),s=-(1/0),l=0;n>l;l++){t=e[2*l];r=e[2*l+1];i=Math.min(i,t);o=Math.max(o,t);a=Math.min(a,r);s=Math.max(s,r)}for(var u=2/(o-i),c=2/(s-a),l=0;n>l;l++){t=e[2*l]=e[2*l]*u;r=e[2*l+1]=e[2*l+1]*c;i=Math.min(i,t);o=Math.max(o,t);a=Math.min(a,r);s=Math.max(s,r)}if(-1>a)for(var l=0;n>l;l++)r=e[2*l+1]=e[2*l+1]+(-1-a);return e};e.math.generateUnitNgonPoints=function(e,t){var r=1/e*2*Math.PI,n=e%2===0?Math.PI/2+r/2:Math.PI/2;n+=t;for(var i,a,o,s=new Array(2*e),l=0;e>l;l++){i=l*r+n;a=s[2*l]=Math.cos(i);o=s[2*l+1]=Math.sin(-i)}return s};e.math.getRoundRectangleRadius=function(e,t){return Math.min(e/4,t/4,8)}})(cytoscape);(function(e){"use strict";function t(t,r,n){var i={};i[r]=n;switch(t){case"core":case"collection":e.fn[t](i)}if("layout"===t){for(var o=n.prototype,s=["stop"],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){this.start();return this}:!o.start&&o.run&&(o.start=function(){this.run();return this});o.on=e.define.on({layout:!0});o.one=e.define.on({layout:!0,unbindSelfOnTrigger:!0});o.once=e.define.on({layout:!0,unbindAllBindersOnTrigger:!0});o.off=e.define.off({layout:!0});o.trigger=e.define.trigger({layout:!0});e.define.eventAliasesOn(o)}return e.util.setMap({map:a,keys:[t,r],value:n})}function r(t,r){return e.util.getMap({map:a,keys:[t,r]})}function n(t,r,n,i,a){return e.util.setMap({map:o,keys:[t,r,n,i],value:a})}function i(t,r,n,i){return e.util.getMap({map:o,keys:[t,r,n,i]})}var a={};e.extensions=a;var o={};e.modules=o;e.extension=function(){if(2==arguments.length)return r.apply(this,arguments);if(3==arguments.length)return t.apply(this,arguments);if(4==arguments.length)return i.apply(this,arguments);if(5==arguments.length)return n.apply(this,arguments);e.util.error("Invalid extension access syntax");return void 0}})(cytoscape);(function(e,t){"use strict";if(e){var r=function(e){var t=e[0]._cyreg=e[0]._cyreg||{};return t};e.fn.cytoscape=function(n){var i=e(this);if("get"===n)return r(i).cy;if(t.is.fn(n)){var a=n,o=r(i).cy;if(o&&o.isReady())o.trigger("ready",[],a);else{var s=r(i),l=s.readies=s.readies||[];l.push(a)}}else if(t.is.plainObject(n))return i.each(function(){var t=e.extend({},n,{container:e(this)[0]});cytoscape(t)})};e.cytoscape=cytoscape;if(null==e.fn.cy&&null==e.cy){e.fn.cy=e.fn.cytoscape;e.cy=e.cytoscape}}})("undefined"!=typeof jQuery?jQuery:null,cytoscape);(function(e){"use strict";function t(){return!1}function r(){return!0}e.Event=function(n,i){if(!(this instanceof e.Event))return new e.Event(n,i);if(n&&n.type){this.originalEvent=n;this.type=n.type;this.isDefaultPrevented=n.defaultPrevented?r:t}else this.type=n;if(i){this.type=void 0!==i.type?i.type:this.type;this.cy=i.cy;this.cyTarget=i.cyTarget;this.cyPosition=i.cyPosition;this.cyRenderedPosition=i.cyRenderedPosition;this.namespace=i.namespace;this.layout=i.layout;this.data=i.data;this.message=i.message}this.timeStamp=n&&n.timeStamp||+new Date};e.Event.prototype={preventDefault:function(){this.isDefaultPrevented=r;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=r;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r;this.stopPropagation()},isDefaultPrevented:t,isPropagationStopped:t,isImmediatePropagationStopped:t}})(cytoscape);(function(e){"use strict";e.define={data:function(t){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(e){},canSet:function(e){return!0}};t=e.util.extend({},r,t);return function(r,n){var i=t,a=this,o=void 0!==a.length,s=o?a:[a],l=o?a[0]:a;if(e.is.string(r)){if(i.allowGetting&&void 0===n){var u;l&&(u=l._private[i.field][r]);return u}if(i.allowSetting&&void 0!==n){var c=!i.immutableKeys[r];if(c){for(var d=0,f=s.length;f>d;d++)i.canSet(s[d])&&(s[d]._private[i.field][r]=n);i.updateStyle&&a.updateStyle();i.onSet(a);i.settingTriggersEvent&&a[i.triggerFnName](i.settingEvent)}}}else if(i.allowSetting&&e.is.plainObject(r)){var p,h,v=r;for(p in v){h=v[p];var c=!i.immutableKeys[p];if(c)for(var d=0,f=s.length;f>d;d++)i.canSet(s[d])&&(s[d]._private[i.field][p]=h)}i.updateStyle&&a.updateStyle();i.onSet(a);i.settingTriggersEvent&&a[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&e.is.fn(r)){var g=r;a.bind(i.bindingEvent,g)}else if(i.allowGetting&&void 0===r){var u;l&&(u=l._private[i.field]);return u}return a}},removeData:function(t){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};t=e.util.extend({},r,t);return function(r){var n=t,i=this,a=void 0!==i.length,o=a?i:[i];if(e.is.string(r)){for(var s=r.split(/\s+/),l=s.length,u=0;l>u;u++){var c=s[u];if(!e.is.emptyString(c)){var d=!n.immutableKeys[c];if(d)for(var f=0,p=o.length;p>f;f++)o[f]._private[n.field][c]=void 0}}n.triggerEvent&&i[n.triggerFnName](n.event)}else if(void 0===r){for(var f=0,p=o.length;p>f;f++){var h=o[f]._private[n.field];for(var c in h){var v=!n.immutableKeys[c];v&&(h[c]=void 0)}}n.triggerEvent&&i[n.triggerFnName](n.event)}return i}},event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(t){var r={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};t=e.util.extend({},r,t);return function(r,n,i,a){var o=this,s=void 0!==o.length,l=s?o:[o],u=e.is.string(r),c=t;if(e.is.plainObject(n)){a=i;i=n;n=void 0}else if(e.is.fn(n)||n===!1){a=n;i=void 0;n=void 0}if(e.is.fn(i)||i===!1){a=i;i=void 0}if(!e.is.fn(a)&&a!==!1&&u)return o;if(u){var d={};d[r]=a;r=d}for(var f in r){a=r[f];a===!1&&(a=e.define.event.falseCallback);if(e.is.fn(a)){f=f.split(/\s+/);for(var p=0;p<f.length;p++){var h=f[p];if(!e.is.emptyString(h)){var v=h.match(e.define.event.regex);if(v)for(var g=v[1],y=v[2]?v[2]:void 0,m={callback:a,data:i,delegated:n?!0:!1,selector:n,selObj:new e.Selector(n),type:g,namespace:y,unbindSelfOnTrigger:c.unbindSelfOnTrigger,unbindAllBindersOnTrigger:c.unbindAllBindersOnTrigger,binders:l},b=0;b<l.length;b++){var x=l[b]._private;x.listeners=x.listeners||[];x.listeners.push(m)}}}}}return o}},eventAliasesOn:function(t){var r=t;r.addListener=r.listen=r.bind=r.on;r.removeListener=r.unlisten=r.unbind=r.off;r.emit=r.trigger;r.pon=r.promiseOn=function(t,r){var n=this,i=Array.prototype.slice.call(arguments,0);return new e.Promise(function(e,t){var r=function(t){n.off.apply(n,o);e(t)},a=i.concat([r]),o=a.concat([]);n.on.apply(n,a)})}},off:function(t){var r={};t=e.util.extend({},r,t);return function(t,r,n){var i=this,a=void 0!==i.length,o=a?i:[i],s=e.is.string(t);if(0===arguments.length){for(var l=0;l<o.length;l++)o[l]._private.listeners=[];return i}if(e.is.fn(r)||r===!1){n=r;r=void 0}if(s){var u={};u[t]=n;t=u}for(var c in t){n=t[c];n===!1&&(n=e.define.event.falseCallback);c=c.split(/\s+/);for(var d=0;d<c.length;d++){var f=c[d];if(!e.is.emptyString(f)){var p=f.match(e.define.event.optionalTypeRegex);if(p)for(var h=p[1]?p[1]:void 0,v=p[2]?p[2]:void 0,l=0;l<o.length;l++)for(var g=o[l]._private.listeners=o[l]._private.listeners||[],y=0;y<g.length;y++){var m=g[y],b=!v||v===m.namespace,x=!h||m.type===h,w=!n||n===m.callback,_=b&&x&&w;if(_){g.splice(y,1);y--}}}}}return i}},trigger:function(t){var r={};t=e.util.extend({},r,t);return function(r,n,i){var a=this,o=void 0!==a.length,s=o?a:[a],l=e.is.string(r),u=e.is.plainObject(r),c=e.is.event(r),d=this._private.cy||(e.is.core(this)?this:null),f=d?d.hasCompoundNodes():!1;if(l){var p=r.split(/\s+/);r=[];for(var h=0;h<p.length;h++){var v=p[h];if(!e.is.emptyString(v)){var g=v.match(e.define.event.regex),y=g[1],m=g[2]?g[2]:void 0;r.push({type:y,namespace:m})}}}else if(u){var b=r;r=[b]}n?e.is.array(n)||(n=[n]):n=[];for(var h=0;h<r.length;h++)for(var x=r[h],w=0;w<s.length;w++){var v,_=s[w],k=_._private.listeners=_._private.listeners||[],E=e.is.element(_),C=E||t.layout;if(c){v=x;v.cyTarget=v.cyTarget||_;v.cy=v.cy||d}else v=new e.Event(x,{cyTarget:_,cy:d,namespace:x.namespace});x.layout&&(v.layout=x.layout);t.layout&&(v.layout=_);if(v.cyPosition){var S=v.cyPosition,T=d.zoom(),D=d.pan();v.cyRenderedPosition={x:S.x*T+D.x,y:S.y*T+D.y}}i&&(k=[{namespace:v.namespace,type:v.type,callback:i}]);for(var P=0;P<k.length;P++){var M=k[P],N=!M.namespace||M.namespace===v.namespace,j=M.type===v.type,L=M.delegated?_!==v.cyTarget&&e.is.element(v.cyTarget)&&M.selObj.matches(v.cyTarget):!0,I=N&&j&&L;if(I){var B=[v];B=B.concat(n);v.data=M.data?M.data:void 0;if(M.unbindSelfOnTrigger||M.unbindAllBindersOnTrigger){k.splice(P,1);P--}if(M.unbindAllBindersOnTrigger)for(var O=M.binders,R=0;R<O.length;R++){var A=O[R];if(A&&A!==_)for(var z=A._private.listeners,V=0;V<z.length;V++){var F=z[V];if(F===M){z.splice(V,1);V--}}}var q=M.delegated?v.cyTarget:_,X=M.callback.apply(q,B);if(X===!1||v.isPropagationStopped()){C=!1;if(X===!1){v.stopPropagation();v.preventDefault()}}}}if(C){var Y=f?_._private.parent:null,W=null!=Y&&0!==Y.length;if(W){Y=Y[0];Y.trigger(v)}else d.trigger(v)}}return a}},animated:function(t){var r={};t=e.util.extend({},r,t);return function(){var e=this,t=void 0!==e.length,r=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return!1;var i=r[0];return i?i._private.animation.current.length>0:void 0}},clearQueue:function(t){var r={};t=e.util.extend({},r,t);return function(){var e=this,t=void 0!==e.length,r=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return this;for(var i=0;i<r.length;i++){var a=r[i];a._private.animation.queue=[]}return this}},delay:function(t){var r={};t=e.util.extend({},r,t);return function(e,t){var r=this._private.cy||this;if(!r.styleEnabled())return this;this.animate({delay:e},{duration:e,complete:t});return this}},animate:function(t){var r={};t=e.util.extend({},r,t);return function(e,t){var r=this,n=void 0!==r.length,i=n?r:[r],a=this._private.cy||this,o=!n,s=!o;if(!a.styleEnabled())return this;var l,u=+new Date,c=a.style();void 0===t&&(t={});void 0===t.duration&&(t.duration=400);switch(t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}var d=!0;if(e)for(var f in e){d=!1;break}if(d)return this;e.css&&s&&(e.css=c.getValueStyle(e.css,{array:!0}));if(e.renderedPosition&&s){var p=e.renderedPosition,h=a.pan(),v=a.zoom();e.position={x:(p.x-h.x)/v,y:(p.y-h.y)/v}}if(e.panBy&&o){var g=e.panBy,y=a.pan();e.pan={x:y.x+g.x,y:y.y+g.y}}var m=e.center||e.centre;if(m&&o){var b=a.getCenterPan(m.eles,e.zoom);b&&(e.pan=b)}if(e.fit&&o){var x=e.fit,w=a.getFitViewport(x.eles||x.boundingBox,x.padding);if(w){e.pan=w.pan;e.zoom=w.zoom}}for(var f=0;f<i.length;f++){var _=i[f];l=_.animated()&&(void 0===t.queue||t.queue)?_._private.animation.queue:_._private.animation.current;l.push({properties:e,duration:t.duration,params:t,callTime:u})}s&&a.addToAnimationPool(this);return this}},stop:function(t){var r={};t=e.util.extend({},r,t);return function(e,t){var r=this,n=void 0!==r.length,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){for(var s=i[o],l=s._private.animation.current,u=0;u<l.length;u++){var c=l[u];t&&(c.duration=0)}e&&(s._private.animation.queue=[]);t||(s._private.animation.current=[])}a.notify({collection:this,type:"draw"});return this}}}})(cytoscape);(function(e){"use strict";e.fn.selector=function(t,r){for(var n in t){var i=t[n];e.Selector.prototype[n]=i}};e.Selector=function(t,r){if(!(this instanceof e.Selector))return new e.Selector(t,r);if(void 0===r&&void 0!==t){r=t;t=void 0}var n=this;n._private={selectorText:null,invalid:!0};if(!r||e.is.string(r)&&r.match(/^\s*$/))if(null==t)n.length=0;else{n[0]=o();n[0].group=t;n.length=1}else if(e.is.element(r)){var i=new e.Collection(n.cy(),[r]);n[0]=o();n[0].collection=i;n.length=1}else if(e.is.collection(r)){n[0]=o();n[0].collection=r;n.length=1}else if(e.is.fn(r)){n[0]=o();n[0].filter=r;n.length=1}else{if(!e.is.string(r)){e.util.error("A selector must be created from a string; found "+r);return}var a=null,o=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}},s={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])+"|'+"'(?:\\\\'|[^'])+'",number:e.util.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$"};s.variable="(?:[\\w-]|(?:\\\\"+s.metaChar+"))+";s.value=s.string+"|"+s.number;s.className=s.variable;s.id=s.variable;for(var l=function(e){return e.replace(new RegExp("\\\\("+s.metaChar+")","g"),function(e,t,r,n){return t})},u=s.comparatorOp.split("|"),c=0;c<u.length;c++){var d=u[c];s.comparatorOp+="|@"+d}for(var u=s.comparatorOp.split("|"),c=0;c<u.length;c++){var d=u[c];d.indexOf("!")>=0||"="!==d&&(s.comparatorOp+="|\\!"+d)}var f={group:{query:!0,regex:"(node|edge|\\*)",populate:function(e){this.group="*"==e?e:e+"s"}},state:{query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch|:backgrounding|:nonbackgrounding)",populate:function(e){this.colonSelectors.push(e)}},id:{query:!0,regex:"\\#("+s.id+")",populate:function(e){this.ids.push(l(e))}},className:{query:!0,regex:"\\.("+s.className+")",populate:function(e){this.classes.push(l(e))}},dataExists:{query:!0,regex:"\\[\\s*("+s.variable+")\\s*\\]",populate:function(e){this.data.push({field:l(e)})}},dataCompare:{query:!0,regex:"\\[\\s*("+s.variable+")\\s*("+s.comparatorOp+")\\s*("+s.value+")\\s*\\]",populate:function(e,t,r){var n=null!=new RegExp("^"+s.string+"$").exec(r);r=n?r.substring(1,r.length-1):parseFloat(r);this.data.push({field:l(e),operator:t,value:r})}},dataBool:{query:!0,regex:"\\[\\s*("+s.boolOp+")\\s*("+s.variable+")\\s*\\]",populate:function(e,t){this.data.push({field:l(t),operator:e})}},metaCompare:{query:!0,regex:"\\[\\[\\s*("+s.meta+")\\s*("+s.comparatorOp+")\\s*("+s.number+")\\s*\\]\\]",populate:function(e,t,r){this.meta.push({field:l(e),operator:t,value:parseFloat(r)})}},nextQuery:{separator:!0,regex:s.separator,populate:function(){n[++c]=o();a=null}},child:{separator:!0,regex:s.child,populate:function(){var e=o();e.parent=this;e.subject=a;n[c]=e}},descendant:{separator:!0,regex:s.descendant,populate:function(){var e=o();e.ancestor=this;e.subject=a;n[c]=e}},subject:{modifier:!0,regex:s.subject,populate:function(){if(null!=a&&this.subject!=this){e.util.error("Redefinition of subject in selector `"+r+"`");return!1}a=this;this.subject=this}}},p=0;for(var h in f){f[p]=f[h];f[p].name=h;p++}f.length=p;n._private.selectorText=r;var v=r,c=0,g=function(t){for(var r,n,i,a=0;a<f.length;a++){var o=f[a],s=o.name;if(!e.is.fn(t)||t(s,o)){var l=v.match(new RegExp("^"+o.regex));if(null!=l){n=l;r=o;i=s;var u=l[0];v=v.substring(u.length);break}}}return{expr:r,match:n,name:i}},y=function(){var e=v.match(/^\s+/);if(e){var t=e[0];v=v.substring(t.length)}};n[0]=o();y();for(;;){var m=g();if(null==m.expr){e.util.error("The selector `"+r+"`is invalid");return}for(var b=[],p=1;p<m.match.length;p++)b.push(m.match[p]);var x=m.expr.populate.apply(n[c],b);if(x===!1)return;if(v.match(/^\s*$/))break}n.length=c+1;for(p=0;p<n.length;p++){var w=n[p];if(null!=w.subject){for(;w.subject!=w;)if(null!=w.parent){var _=w.parent,k=w;k.parent=null;_.child=k;w=_}else{if(null==w.ancestor){e.util.error("When adjusting references for the selector `"+w+"`, neither parent nor ancestor was found");break}var E=w.ancestor,C=w;C.ancestor=null;E.descendant=C;w=E}n[p]=w.subject}}if(null!=t)for(var p=0;p<n.length;p++){if(null!=n[p].group&&n[p].group!=t){e.util.error("Group `"+n[p].group+"` conflicts with implicit group `"+t+"` in selector `"+r+"`");return}n[p].group=t}}n._private.invalid=!1};e.selfn=e.Selector.prototype;e.selfn.size=function(){return this.length};e.selfn.eq=function(e){return this[e]};e.selfn.find=function(){};var t=function(r,n){if(null!=r.group&&"*"!=r.group&&r.group!=n._private.group)return!1;for(var i=n.cy(),a=!0,o=0;o<r.colonSelectors.length;o++){var s=r.colonSelectors[o];switch(s){case":selected":a=n.selected();break;case":unselected":a=!n.selected();break;case":selectable":a=n.selectable();break;case":unselectable":a=!n.selectable();break;case":locked":a=n.locked();break;case":unlocked":a=!n.locked();break;case":visible":a=n.visible();break;case":hidden":a=!n.visible();break;case":transparent":a=n.transparent();break;case":grabbed":a=n.grabbed();break;case":free":a=!n.grabbed();break;case":removed":a=n.removed();break;case":inside":a=!n.removed();break;case":grabbable":a=n.grabbable();break;case":ungrabbable":a=!n.grabbable();break;case":animated":a=n.animated();break;case":unanimated":a=!n.animated();break;case":parent":a=n.isNode()&&n.children().nonempty();break;case":child":case":nonorphan":a=n.isNode()&&n.parent().nonempty();break;case":orphan":a=n.isNode()&&n.parent().empty();break;case":loop":a=n.isEdge()&&n.data("source")===n.data("target");break;case":simple":a=n.isEdge()&&n.data("source")!==n.data("target");break;case":active":a=n.active();break;case":inactive":a=!n.active();break;case":touch":a=e.is.touch();break;case":backgrounding":a=n.backgrounding();break;case":nonbackgrounding":a=!n.backgrounding()}if(!a)break}if(!a)return!1;for(var l=!0,o=0;o<r.ids.length;o++){var u=r.ids[o],c=n._private.data.id;

l=l&&u==c;if(!l)break}if(!l)return!1;for(var d=!0,o=0;o<r.classes.length;o++){var f=r.classes[o];d=d&&n.hasClass(f);if(!d)break}if(!d)return!1;var p=function(t){for(var n=!0,i=0;i<r[t.name].length;i++){var a,o=r[t.name][i],s=o.operator,l=o.value,u=o.field;if(null!=s&&null!=l){var c=t.fieldValue(u),d=e.is.string(c)||e.is.number(c)?""+c:"",f=""+l,p=!1;if(s.indexOf("@")>=0){d=d.toLowerCase();f=f.toLowerCase();s=s.replace("@","");p=!0}var h=!1,v=!1;if(s.indexOf("!")>=0){s=s.replace("!","");h=!0}if(p){l=f.toLowerCase();c=d.toLowerCase()}switch(s){case"*=":a=d.search(f)>=0;break;case"$=":a=null!=new RegExp(f+"$").exec(d);break;case"^=":a=null!=new RegExp("^"+f).exec(d);break;case"=":a=c===l;break;case"!=":a=c!==l;break;case">":a=h?l>=c:c>l;v=!0;break;case">=":a=h?l>c:c>=l;v=!0;break;case"<":a=h?c>=l:l>c;v=!0;break;case"<=":a=h?c>l:l>=c;v=!0;break;default:a=!1}}else if(null!=s)switch(s){case"?":a=t.fieldTruthy(u);break;case"!":a=!t.fieldTruthy(u);break;case"^":a=t.fieldUndefined(u)}else a=!t.fieldUndefined(u);if(h&&!v){a=!a;v=!0}if(!a){n=!1;break}}return n},h=p({name:"data",fieldValue:function(e){return n._private.data[e]},fieldRef:function(e){return"element._private.data."+e},fieldUndefined:function(e){return void 0===n._private.data[e]},fieldTruthy:function(e){return n._private.data[e]?!0:!1}});if(!h)return!1;var v=p({name:"meta",fieldValue:function(e){return n[e]()},fieldRef:function(e){return"element."+e+"()"},fieldUndefined:function(e){return null==n[e]()},fieldTruthy:function(e){return n[e]()?!0:!1}});if(!v)return!1;if(null!=r.collection){var g=null!=r.collection._private.ids[n.id()];if(!g)return!1}if(null!=r.filter&&0===n.collection().filter(r.filter).size())return!1;var y=function(e,r){if(null!=e){var n=!1;if(!i.hasCompoundNodes())return!1;r=r();for(var a=0;a<r.length;a++)if(t(e,r[a])){n=!0;break}return n}return!0};return y(r.parent,function(){return n.parent()})&&y(r.ancestor,function(){return n.parents()})&&y(r.child,function(){return n.children()})&&y(r.descendant,function(){return n.descendants()})?!0:!1};e.selfn.filter=function(r){var n=this,i=r.cy();if(n._private.invalid)return new e.Collection(i);var a=function(e,r){for(var i=0;i<n.length;i++){var a=n[i];if(t(a,r))return!0}return!1};null==n._private.selectorText&&(a=function(){return!0});var o=r.filter(a);return o};e.selfn.matches=function(e){var r=this;if(r._private.invalid)return!1;for(var n=0;n<r.length;n++){var i=r[n];if(t(i,e))return!0}return!1};e.selfn.toString=e.selfn.selector=function(){for(var t="",r=function(t,r){return e.is.string(t)?r?'"'+t+'"':t:""},n=function(e){var t="";e.subject===e&&(t+="$");var a=r(e.group);t+=a.substring(0,a.length-1);for(var o=0;o<e.data.length;o++){var s=e.data[o];t+=s.value?"["+s.field+r(s.operator)+r(s.value,!0)+"]":"["+r(s.operator)+s.field+"]"}for(var o=0;o<e.meta.length;o++){var l=e.meta[o];t+="[["+l.field+r(l.operator)+r(l.value,!0)+"]]"}for(var o=0;o<e.colonSelectors.length;o++){var u=e.colonSelectors[i];t+=u}for(var o=0;o<e.ids.length;o++){var u="#"+e.ids[i];t+=u}for(var o=0;o<e.classes.length;o++){var u="."+e.classes[i];t+=u}null!=e.parent&&(t=n(e.parent)+" > "+t);null!=e.ancestor&&(t=n(e.ancestor)+" "+t);null!=e.child&&(t+=" > "+n(e.child));null!=e.descendant&&(t+=" "+n(e.descendant));return t},i=0;i<this.length;i++){var a=this[i];t+=n(a);this.length>1&&i<this.length-1&&(t+=", ")}return t}})(cytoscape);(function(e){"use strict";e.Style=function(t){if(!(this instanceof e.Style))return new e.Style(t);if(e.is.core(t)){this._private={cy:t,coreStyle:{},newStyle:!0};this.length=0;this.addDefaultStylesheet()}else e.util.error("A style must have a core reference")};e.style=e.Style;e.styfn=e.Style.prototype;e.fn.style=function(t,r){for(var n in t){var i=t[n];e.Style.prototype=i}};(function(){var t=e.util.regex.number,r=e.util.regex.rgbaNoBackRefs,n=e.util.regex.hslaNoBackRefs,i=e.util.regex.hex3,a=e.util.regex.hex6,o=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(e){return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+t+"|\\w+|"+r+"|"+n+"|"+i+"|"+a+")\\s*\\,\\s*("+t+"|\\w+|"+r+"|"+n+"|"+i+"|"+a+")\\)$"};e.style.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},autoSize:{number:!0,min:0,enums:["auto"]},number:{number:!0},size:{number:!0,min:0},bgSize:{number:!0,min:0,allowPercent:!0},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"]},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgClip:{enums:["none","node"]},color:{color:!0},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star","diamond","vee","rhomboid"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-backcurve","half-triangle-overshot","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad"},textRotation:{enums:["none","autorotate"]}};var l=e.style.types,u=e.style.properties=[{name:"text-valign",type:l.valign},{name:"text-halign",type:l.halign},{name:"color",type:l.color},{name:"content",type:l.text},{name:"text-outline-color",type:l.color},{name:"text-outline-width",type:l.size},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size},{name:"text-border-style",type:l.borderStyle},{name:"text-background-shape",type:l.textBackgroundShape},{name:"text-transform",type:l.textTransform},{name:"text-wrap",type:l.textWrap},{name:"text-max-width",type:l.size},{name:"font-family",type:l.fontFamily},{name:"font-style",type:l.fontStyle},{name:"font-weight",type:l.fontWeight},{name:"font-size",type:l.size},{name:"min-zoomed-font-size",type:l.size},{name:"edge-text-rotation",type:l.textRotation},{name:"display",type:l.display},{name:"visibility",type:l.visibility},{name:"opacity",type:l.zeroOneNumber},{name:"z-index",type:l.nonNegativeInt},{name:"overlay-padding",type:l.size},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber},{name:"shadow-blur",type:l.size},{name:"shadow-color",type:l.color},{name:"shadow-opacity",type:l.zeroOneNumber},{name:"shadow-offset-x",type:l.number},{name:"shadow-offset-y",type:l.number},{name:"text-shadow-blur",type:l.size},{name:"text-shadow-color",type:l.color},{name:"text-shadow-opacity",type:l.zeroOneNumber},{name:"text-shadow-offset-x",type:l.number},{name:"text-shadow-offset-y",type:l.number},{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"height",type:l.autoSize},{name:"width",type:l.autoSize},{name:"shape",type:l.nodeShape},{name:"background-color",type:l.color},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size},{name:"border-style",type:l.borderStyle},{name:"background-image",type:l.url},{name:"background-image-opacity",type:l.zeroOneNumber},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"padding-left",type:l.size},{name:"padding-right",type:l.size},{name:"padding-top",type:l.size},{name:"padding-bottom",type:l.size},{name:"position",type:l.position},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels},{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"control-point-step-size",type:l.size},{name:"control-point-distance",type:l.number},{name:"control-point-weight",type:l.zeroOneNumber},{name:"curve-style",type:l.curveStyle},{name:"haystack-radius",type:l.zeroOneNumber},{name:"source-arrow-shape",type:l.arrowShape},{name:"target-arrow-shape",type:l.arrowShape},{name:"mid-source-arrow-shape",type:l.arrowShape},{name:"mid-target-arrow-shape",type:l.arrowShape},{name:"source-arrow-color",type:l.color},{name:"target-arrow-color",type:l.color},{name:"mid-source-arrow-color",type:l.color},{name:"mid-target-arrow-color",type:l.color},{name:"source-arrow-fill",type:l.arrowFill},{name:"target-arrow-fill",type:l.arrowFill},{name:"mid-source-arrow-fill",type:l.arrowFill},{name:"mid-target-arrow-fill",type:l.arrowFill},{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}];e.style.pieBackgroundN=16;u.push({name:"pie-size",type:l.bgSize});for(var c=1;c<=e.style.pieBackgroundN;c++){u.push({name:"pie-"+c+"-background-color",type:l.color});u.push({name:"pie-"+c+"-background-size",type:l.percent});u.push({name:"pie-"+c+"-background-opacity",type:l.zeroOneNumber})}for(var c=0;c<u.length;c++){var d=u[c];u[d.name]=d}})();e.styfn.addDefaultStylesheet=function(){var t="Helvetica",r="normal",n="normal",i="#000",a="none",o=16,s=9999;this.selector("node, edge").css({"text-valign":"top","text-halign":"center",color:i,"text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":a,"text-wrap":"none","text-max-width":s,"text-background-color":"#000","text-background-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","text-background-shape":"rectangle","font-family":t,"font-style":r,"font-weight":n,"font-size":o,"min-zoomed-font-size":0,"edge-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-index":0,content:"","overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"shadow-opacity":0,"shadow-color":"#000","shadow-blur":10,"shadow-offset-x":0,"shadow-offset-y":0,"text-shadow-opacity":0,"text-shadow-color":"#000","text-shadow-blur":5,"text-shadow-offset-x":0,"text-shadow-offset-y":0,"transition-property":"none","transition-duration":0,"transition-delay":0,"background-blacken":0,"background-color":"#888","background-opacity":1,"background-image":"none","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,position:"origin","compound-sizing-wrt-labels":"include","pie-size":"100%","pie-1-background-color":"black","pie-2-background-color":"black","pie-3-background-color":"black","pie-4-background-color":"black","pie-5-background-color":"black","pie-6-background-color":"black","pie-7-background-color":"black","pie-8-background-color":"black","pie-9-background-color":"black","pie-10-background-color":"black","pie-11-background-color":"black","pie-12-background-color":"black","pie-13-background-color":"black","pie-14-background-color":"black","pie-15-background-color":"black","pie-16-background-color":"black","pie-1-background-size":"0%","pie-2-background-size":"0%","pie-3-background-size":"0%","pie-4-background-size":"0%","pie-5-background-size":"0%","pie-6-background-size":"0%","pie-7-background-size":"0%","pie-8-background-size":"0%","pie-9-background-size":"0%","pie-10-background-size":"0%","pie-11-background-size":"0%","pie-12-background-size":"0%","pie-13-background-size":"0%","pie-14-background-size":"0%","pie-15-background-size":"0%","pie-16-background-size":"0%","pie-1-background-opacity":1,"pie-2-background-opacity":1,"pie-3-background-opacity":1,"pie-4-background-opacity":1,"pie-5-background-opacity":1,"pie-6-background-opacity":1,"pie-7-background-opacity":1,"pie-8-background-opacity":1,"pie-9-background-opacity":1,"pie-10-background-opacity":1,"pie-11-background-opacity":1,"pie-12-background-opacity":1,"pie-13-background-opacity":1,"pie-14-background-opacity":1,"pie-15-background-opacity":1,"pie-16-background-opacity":1,"source-arrow-shape":"none","mid-source-arrow-shape":"none","target-arrow-shape":"none","mid-target-arrow-shape":"none","source-arrow-color":"#ddd","mid-source-arrow-color":"#ddd","target-arrow-color":"#ddd","mid-target-arrow-color":"#ddd","source-arrow-fill":"filled","mid-source-arrow-fill":"filled","target-arrow-fill":"filled","mid-target-arrow-fill":"filled","line-style":"solid","line-color":"#ddd","control-point-step-size":40,"control-point-weight":.5,"curve-style":"bezier","haystack-radius":.8}).selector("$node > node").css({width:"auto",height:"auto",shape:"rectangle","background-opacity":.5,"padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10}).selector("edge").css({width:1}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":e.is.touch()?40:15,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125});this.defaultLength=this.length};e.styfn.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;this.length=0;this._private.newStyle=!0;return this};e.styfn.resetToDefault=function(){this.clear();this.addDefaultStylesheet();return this};e.styfn.core=function(){return this._private.coreStyle};e.styfn.parse=function(t,r,n,i){t=e.util.camel2dash(t);var a=e.style.properties[t],o=r,s=e.style.types;if(!a)return null;if(void 0===r||null===r)return null;var l=e.is.string(r);l&&(r=e.util.trim(r));var u=a.type;if(!u)return null;if(n&&(""===r||null===r))return{name:t,value:r,bypass:!0,deleteBypass:!0};var c=t.match(/pie-(\d+)-background-size/);if(e.is.fn(r))return{name:t,value:r,strValue:"fn",mapped:s.fn,bypass:n,hasPie:c};var d,f,p,h,v,g;if(!l||i);else{if((d=new RegExp(s.data.regex).exec(r))||(p=new RegExp(s.layoutData.regex).exec(r))||(v=new RegExp(s.scratch.regex).exec(r))){if(n)return!1;var y;y=d?s.data:p?s.layoutData:s.scratch;d=d||p||v;return{name:t,value:d,strValue:""+r,mapped:y,field:d[1],bypass:n,hasPie:c}}if((f=new RegExp(s.mapData.regex).exec(r))||(h=new RegExp(s.mapLayoutData.regex).exec(r))||(g=new RegExp(s.mapScratch.regex).exec(r))){if(n)return!1;var y;y=f?s.mapData:h?s.mapLayoutData:s.mapScratch;f=f||h||g;if(!u.color&&!u.number)return!1;var m=this.parse(t,f[4]);if(!m||m.mapped)return!1;var b=this.parse(t,f[5]);if(!b||b.mapped)return!1;if(m.value===b.value)return!1;if(u.color){var x=m.value,w=b.value,_=!(x[0]!==w[0]||x[1]!==w[1]||x[2]!==w[2]||x[3]!==w[3]&&(null!=x[3]&&1!==x[3]||null!=w[3]&&1!==w[3]));if(_)return!1}return{name:t,value:f,strValue:""+r,mapped:y,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:m.value,valueMax:b.value,bypass:n,hasPie:c}}}if(u.number){var k,E="px";u.units&&(k=u.units);u.implicitUnits&&(E=u.implicitUnits);if(!u.unitless)if(l){var C="px|em"+(u.allowPercent?"|\\%":"");k&&(C=k);var S=r.match("^("+e.util.regex.number+")("+C+")?$");if(S){r=S[1];k=S[2]||E}}else(!k||u.implicitUnits)&&(k=E);r=parseFloat(r);if(isNaN(r)&&void 0===u.enums)return null;if(isNaN(r)&&void 0!==u.enums){r=o;for(var T=0;T<u.enums.length;T++){var D=u.enums[T];if(D===r)return{name:t,value:r,strValue:""+r,bypass:n}}return null}if(u.integer&&!e.is.integer(r))return null;if(void 0!==u.min&&r<u.min||void 0!==u.max&&r>u.max)return null;var P={name:t,value:r,strValue:""+r+(k?k:""),units:k,bypass:n,hasPie:c&&null!=r&&0!==r&&""!==r};u.unitless||"px"!==k&&"em"!==k||(P.pxValue="px"!==k&&k?this.getEmSizeInPixels()*r:r);("ms"===k||"s"===k)&&(P.msValue="ms"===k?r:1e3*r);return P}if(u.propList){var M=[],N=""+r;if("none"===N);else{for(var j=N.split(","),T=0;T<j.length;T++){var L=e.util.trim(j[T]);e.style.properties[L]&&M.push(L)}if(0===M.length)return null}return{name:t,value:M,strValue:0===M.length?"none":M.join(", "),bypass:n}}if(u.color){var I=e.util.color2tuple(r);return I?{name:t,value:I,strValue:""+r,bypass:n}:null}if(u.enums){for(var T=0;T<u.enums.length;T++){var D=u.enums[T];if(D===r)return{name:t,value:r,strValue:""+r,bypass:n}}return null}if(u.regex){var B=new RegExp(u.regex),O=B.exec(r);return O?{name:t,value:O,strValue:""+r,bypass:n}:null}return u.string?{name:t,value:r,strValue:""+r,bypass:n}:null};e.styfn.selector=function(t){var r="core"===t?null:new e.Selector(t),n=this.length++;this[n]={selector:r,properties:[],mappedProperties:[],index:n};return this};e.styfn.css=function(){var t=arguments;switch(t.length){case 1:for(var r=t[0],n=0;n<e.style.properties.length;n++){var i=e.style.properties[n],a=r[i.name];void 0===a&&(a=r[e.util.dash2camel(i.name)]);void 0!==a&&this.cssRule(i.name,a)}break;case 2:this.cssRule(t[0],t[1])}return this};e.styfn.style=e.styfn.css;e.styfn.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r);this[n].properties[r.name]=r;r.hasPie&&(this._private.hasPie=!0);r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this}})(cytoscape);(function(e){"use strict";e.styfn.apply=function(e){var t=this;if(t._private.newStyle){this._private.contextStyles={};this._private.propDiffs={}}for(var r=0;r<e.length;r++){var n=e[r],i=t.getContextMeta(n),a=t.getContextStyle(i),o=t.applyContextStyle(i,a,n);t.updateTransitions(n,o.diffProps);t.updateStyleHints(n)}t._private.newStyle=!1};e.styfn.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,a=n[i];if(a)return a;for(var o=[],s={},l=0;l<r.length;l++){var u=r[l],c="t"===e[l],d="t"===t[l],f=c!==d,p=u.mappedProperties.length>0;if(f||p){var h;f&&p?h=u.properties:f?h=u.properties:p&&(h=u.mappedProperties);for(var v=0;v<h.length;v++){for(var g=h[v],y=g.name,m=!1,b=l+1;b<r.length;b++){var x=r[b],w="t"===t[b];if(w){m=null!=x.properties[g.name];if(m)break}}if(!s[y]&&!m){s[y]=!0;o.push(y)}}}}n[i]=o;return o};e.styfn.getContextMeta=function(e){var t,r=this,n="",i=e._private.styleCxtKey||"";r._private.newStyle&&(i="");for(var a=0;a<r.length;a++){var o=r[a],s=o.selector&&o.selector.matches(e);n+=s?"t":"f"}t=r.getPropertiesDiff(i,n);e._private.styleCxtKey=n;return{key:n,diffPropNames:t}};e.styfn.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var i={_private:{key:t}},a=0;a<r.length;a++){var o=r[a],s="t"===t[a];if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l],c=i[u.name]=u;c.context=o}}n[t]=i;return i};e.styfn.applyContextStyle=function(e,t,r){for(var n=this,i=e.diffPropNames,a={},o=0;o<i.length;o++){var s=i[o],l=t[s],u=r._private.style[s];if(l&&u!==l){var c=a[s]={prev:u};n.applyParsedProperty(r,l);c.next=r._private.style[s];c.next&&c.next.bypass&&(c.next=c.next.bypassed)}}return{diffProps:a}};e.styfn.updateStyleHints=function(t){var r=t._private,n=this,i=r.style,a=!1;if("nodes"===r.group&&n._private.hasPie)for(var o=1;o<=e.style.pieBackgroundN;o++){var s=r.style["pie-"+o+"-background-size"].value;if(s>0){a=!0;break}}r.hasPie=a;var l=i["text-transform"].strValue,u=i.content.strValue,c=i["font-style"].strValue,s=i["font-size"].pxValue+"px",d=i["font-family"].strValue,f=i["font-weight"].strValue,p=i["text-valign"].strValue,h=i["text-valign"].strValue,v=i["text-outline-width"].pxValue,g=i["text-wrap"].strValue,y=i["text-max-width"].pxValue;r.labelKey=c+"$"+s+"$"+d+"$"+f+"$"+u+"$"+l+"$"+p+"$"+h+"$"+v+"$"+g+"$"+y;r.fontKey=c+"$"+f+"$"+s+"$"+d;var m=i.width.pxValue,b=i.height.pxValue,x=i["border-width"].pxValue;r.boundingBoxKey=m+"$"+b+"$"+x;if("edges"===t._private.group){var w=i["control-point-step-size"].pxValue,_=i["control-point-distance"]?i["control-point-distance"].pxValue:void 0,k=i["control-point-weight"].value,E=i["curve-style"].strValue;r.boundingBoxKey+="$"+w+"$"+_+"$"+k+"$"+E}r.styleKey=Date.now()};e.styfn.applyParsedProperty=function(t,r){var n,i,a=r,o=t._private.style,s=e.style.types,l=e.style.properties[a.name].type,u=a.bypass,c=o[a.name],d=c&&c.bypass,f=t._private;if(("height"===r.name||"width"===r.name)&&t.isNode()){if("auto"===r.value&&!t.isParent())return!1;"auto"!==r.value&&t.isParent()&&(a=r=this.parse(r.name,"auto",u))}if(u&&a.deleteBypass){var p=o[a.name];if(p){if(p.bypass&&p.bypassed){o[a.name]=p.bypassed;return!0}return!1}return!0}var h=function(){e.util.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+t.id()+"` for property `"+a.name+"` with data field `"+a.field+"`); try a `["+a.field+"]` selector to limit scope to elements with `"+a.field+"` defined")};switch(a.mapped){case s.mapData:case s.mapLayoutData:case s.mapScratch:var n,v=a.mapped===s.mapLayoutData,g=a.mapped===s.mapScratch,y=a.field.split(".");n=g||v?f.scratch:f.data;for(var m=0;m<y.length&&n;m++){var b=y[m];n=n[b]}var x;x=e.is.number(n)?(n-a.fieldMin)/(a.fieldMax-a.fieldMin):0;0>x?x=0:x>1&&(x=1);if(l.color){var w=a.valueMin[0],_=a.valueMax[0],k=a.valueMin[1],E=a.valueMax[1],C=a.valueMin[2],S=a.valueMax[2],T=null==a.valueMin[3]?1:a.valueMin[3],D=null==a.valueMax[3]?1:a.valueMax[3],P=[Math.round(w+(_-w)*x),Math.round(k+(E-k)*x),Math.round(C+(S-C)*x),Math.round(T+(D-T)*x)];i={bypass:a.bypass,name:a.name,value:P,strValue:"rgb("+P[0]+", "+P[1]+", "+P[2]+")"}}else{if(!l.number)return!1;var M=a.valueMin+(a.valueMax-a.valueMin)*x;i=this.parse(a.name,M,a.bypass,!0)}i||(i=this.parse(a.name,c.strValue,a.bypass,!0));i||h();i.mapping=a;a=i;break;case s.data:case s.layoutData:case s.scratch:var n,v=a.mapped===s.layoutData,g=a.mapped===s.scratch,y=a.field.split(".");n=g||v?f.scratch:f.data;if(n)for(var m=0;m<y.length;m++){var b=y[m];n=n[b]}i=this.parse(a.name,n,a.bypass,!0);if(!i){var N=c?c.strValue:"";i=this.parse(a.name,N,a.bypass,!0)}i||h();i.mapping=a;a=i;break;case s.fn:var j=a.value,L=j(t);i=this.parse(a.name,L,a.bypass,!0);i.mapping=a;a=i;break;case void 0:break;default:return!1}if(u){a.bypassed=d?c.bypassed:c;o[a.name]=a}else d?c.bypassed=a:o[a.name]=a;return!0};e.styfn.update=function(){var e=this._private.cy,t=e.elements();t.updateStyle()};e.styfn.updateMappers=function(t){for(var r=0;r<t.length;r++){for(var n=t[r],i=n._private.style,a=0;a<e.style.properties.length;a++){var o=e.style.properties[a],s=i[o.name];if(s&&s.mapping){var l=s.mapping;this.applyParsedProperty(n,l)}}this.updateStyleHints(n)}};e.styfn.updateTransitions=function(t,r,n){var i=this,a=t._private.style,o=a["transition-property"].value,s=a["transition-duration"].msValue,l=a["transition-delay"].msValue,u={};if(o.length>0&&s>0){for(var c=!1,d=0;d<o.length;d++){var f=o[d],p=a[f],h=r[f];if(h){var v=h.prev,g=v,y=null!=h.next?h.next:p,m=!1;if(g){e.is.number(g.pxValue)&&e.is.number(y.pxValue)?m=g.pxValue!==y.pxValue:e.is.number(g.value)&&e.is.number(y.value)?m=g.value!==y.value:e.is.array(g.value)&&e.is.array(y.value)&&(m=g.value[0]!==y.value[0]||g.value[1]!==y.value[1]||g.value[2]!==y.value[2]);if(m){u[f]=y.strValue;this.applyBypass(t,f,g.strValue);c=!0}}}}if(!c)return;t._private.transitioning=!0;t.stop();l>0&&t.delay(l);t.animate({css:u},{duration:s,queue:!1,complete:function(){n||i.removeBypasses(t,o);t._private.transitioning=!1}})}else if(t._private.transitioning){t.stop();this.removeBypasses(t,o);t._private.transitioning=!1}}})(cytoscape);(function(e){"use strict";e.styfn.applyBypass=function(t,r,n,i){var a=[],o=!0;if("*"===r||"**"===r){if(void 0!==n)for(var s=0;s<e.style.properties.length;s++){var l=e.style.properties[s],r=l.name,u=this.parse(r,n,!0);u&&a.push(u)}}else if(e.is.string(r)){var u=this.parse(r,n,!0);u&&a.push(u)}else{if(!e.is.plainObject(r))return!1;var c=r;i=n;for(var s=0;s<e.style.properties.length;s++){var l=e.style.properties[s],r=l.name,n=c[r];void 0===n&&(n=c[e.util.dash2camel(r)]);if(void 0!==n){var u=this.parse(r,n,!0);u&&a.push(u)}}}if(0===a.length)return!1;for(var d=!1,s=0;s<t.length;s++){for(var f,p=t[s],h=p._private.style,v={},g=0;g<a.length;g++){var l=a[g];if(i){var y=h[l.name];f=v[l.name]={prev:y}}d=this.applyParsedProperty(p,l)||d;i&&(f.next=h[l.name])}i&&this.updateTransitions(p,v,o)}return d};e.styfn.overrideBypass=function(t,r,n){for(var i=0;i<t.length;i++){var a=t[i],o=a._private.style[e.util.camel2dash(r)];if(o.bypass){o.value=n;o.pxValue=n}else this.applyBypass(a,r,n)}};e.styfn.removeAllBypasses=function(t,r){for(var n=!0,i=0;i<t.length;i++){for(var a=t[i],o={},s=a._private.style,l=0;l<e.style.properties.length;l++){var u=e.style.properties[l],c=u.name,d="",f=this.parse(c,d,!0),p=s[u.name],h=o[u.name]={prev:p};this.applyParsedProperty(a,f);h.next=s[u.name]}r&&this.updateTransitions(a,o,n)}};e.styfn.removeBypasses=function(t,r,n){for(var i=!0,a=0;a<t.length;a++){for(var o=t[a],s={},l=o._private.style,u=0;u<r.length;u++){var c=r[u],d=e.style.properties[c],f="",p=this.parse(c,f,!0),h=l[d.name],v=s[d.name]={prev:h};this.applyParsedProperty(o,p);v.next=l[d.name]}n&&this.updateTransitions(o,s,i)}}})(cytoscape);(function(e,t){"use strict";e.styfn.getEmSizeInPixels=function(){var e=this._private.cy,r=e.container();if(t&&r&&t.getComputedStyle){var n=t.getComputedStyle(r).getPropertyValue("font-size"),i=parseFloat(n);return i}return 1};e.styfn.containerCss=function(e){var r=this._private.cy,n=r.container();return t&&n&&t.getComputedStyle?t.getComputedStyle(n).getPropertyValue(e):void 0};e.styfn.containerProperty=function(e){var t=this.containerCss(e),r=this.parse(e,t);return r};e.styfn.containerPropertyAsString=function(e){var t=this.containerProperty(e);return t?t.strValue:void 0}})(cytoscape,"undefined"==typeof window?null:window);(function(e){"use strict";e.styfn.getRenderedStyle=function(t){var t=t[0];if(t){for(var r={},n=t._private.style,i=this._private.cy,a=i.zoom(),o=0;o<e.style.properties.length;o++){var s=e.style.properties[o],l=n[s.name];if(l){var u=l.unitless?l.strValue:l.pxValue*a+"px";r[s.name]=u;r[e.util.dash2camel(s.name)]=u}}return r}};e.styfn.getRawStyle=function(t){var t=t[0];if(t){for(var r={},n=t._private.style,i=0;i<e.style.properties.length;i++){var a=e.style.properties[i],o=n[a.name];if(o){r[a.name]=o.strValue;r[e.util.dash2camel(a.name)]=o.strValue}}return r}};e.styfn.getValueStyle=function(t,r){r=r||{};var n,i=r.array?[]:{};n=e.is.element(t)?t._private.style:t;if(n)for(var a=0;a<e.style.properties.length;a++){var o=e.style.properties[a],s=n[o.name]||n[e.util.dash2camel(o.name)];void 0===s||e.is.plainObject(s)||(s=this.parse(o.name,s));if(s)if(r.array)i.push(s);else{i[o.name]=s;i[e.util.dash2camel(o.name)]=s}}return i}})(cytoscape);(function(e){"use strict";e.style.applyFromJson=function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.selector,a=n.style||n.css;e.selector(i);for(var o in a){var s=a[o];e.css(o,s)}}return e};e.style.fromJson=function(t,r){var n=new e.Style(t);e.style.applyFromJson(n,r);return n};e.styfn.fromJson=function(t){var r=this;r.resetToDefault();e.style.applyFromJson(r,t);return r};e.styfn.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,i=r.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:n?n.toString():"core",style:a})}return e}})(cytoscape);(function(e){"use strict";e.style.applyFromString=function(t,r){function n(){l=l.length>a.length?l.substr(a.length):""}function i(){o=o.length>s.length?o.substr(s.length):""}var a,o,s,l=""+r;l=l.replace(/[/][*](\s|.)+?[*][/]/g,"");for(;;){var u=l.match(/^\s*$/);if(u)break;var c=l.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){e.util.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+l);break}a=c[0];var d=c[1];if("core"!==d){var f=new e.Selector(d);if(f._private.invalid){e.util.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+d);n();continue}}var p=c[2],h=!1;o=p;for(var v=[];;){var u=o.match(/^\s*$/);if(u)break;var g=o.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!g){e.util.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p);h=!0;break}s=g[0];var y=g[1],m=g[2],b=e.style.properties[y];if(b){var x=t.parse(y,m);if(x){v.push({name:y,val:m});i()}else{e.util.error("Skipping property: Invalid property definition in: "+s);i()}}else{e.util.error("Skipping property: Invalid property name in: "+s);i()}}if(h){n();break}t.selector(d);for(var w=0;w<v.length;w++){var b=v[w];t.css(b.name,b.val)}n()}return t};e.style.fromString=function(t,r){var n=new e.Style(t);e.style.applyFromString(n,r);return n};e.styfn.fromString=function(t){var r=this;r.resetToDefault();e.style.applyFromString(r,t);return r}})(cytoscape);(function(e){"use strict";e.stylesheet=e.Stylesheet=function(){if(!(this instanceof e.Stylesheet))return new e.Stylesheet;this.length=0;return void 0};e.sheetfn=e.Stylesheet.prototype;e.sheetfn.selector=function(e){var t=this.length++;this[t]={selector:e,properties:[]};return this};e.sheetfn.css=function(t,r){var n=this.length-1;if(e.is.string(t))this[n].properties.push({name:t,value:r});else if(e.is.plainObject(t))for(var i=t,a=0;a<e.style.properties.length;a++){var o=e.style.properties[a],s=i[o.name];void 0===s&&(s=i[e.util.dash2camel(o.name)]);if(void 0!==s){var t=o.name,r=s;this[n].properties.push({name:t,value:r})}}return this};e.sheetfn.style=e.sheetfn.css;e.sheetfn.generateStyle=function(t){for(var r=new e.Style(t),n=0;n<this.length;n++){var i=this[n],a=i.selector,o=i.properties;r.selector(a);for(var s=0;s<o.length;s++){var l=o[s];r.css(l.name,l.value)}}return r}})(cytoscape);(function(e,t){"use strict";e.Thread=function(t){if(!(this instanceof e.Thread))return new e.Thread(t);this._private={requires:[],files:[],queue:null,pass:[]};t&&this.run(t)};e.thread=e.Thread;e.thdfn=e.Thread.prototype;e.fn.thread=function(t,r){for(var n in t){var i=t[n];e.Thread.prototype[n]=i}};var r=function(t){var r=e.is.fn(t)?t.toString():'JSON.parse("'+JSON.stringify(t)+'")';return r},n=function(t){var i,o;if(e.is.object(t)&&t.fn){i=a(t.fn,t.name);o=t.name;t=t.fn}else if(e.is.fn(t)){i=t.toString();o=t.name}else if(e.is.string(t))i=t;else if(e.is.object(t)){i=t.proto?"":t.name+" = {};";

o=t.name;t=t.obj}i+="\n";var s=function(e,t){if(e.prototype){var r=!1;for(var a in e.prototype){r=!0;break}r&&(i+=n({name:t,obj:e,proto:!0},e))}};if(t.prototype&&null!=o)for(var l in t.prototype){var u="",c=t.prototype[l],d=r(c),f=o+".prototype."+l;u+=f+" = "+d+";\n";u&&(i+=u);s(c,f)}if(!e.is.string(t))for(var l in t){var p="";if(t.hasOwnProperty(l)){var c=t[l],d=r(c),f=o+'["'+l+'"]';p+=f+" = "+d+";\n"}p&&(i+=p);s(c,f)}return i},i=function(t){return e.is.string(t)&&t.match(/\.js$/)};e.fn.thread({require:function(t,r){if(i(t)){this._private.files.push(t);return this}if(r)if(e.is.fn(t)){r=r||t.name;t={name:r,fn:t}}else t={name:r,obj:t};this._private.requires.push(t);return this},pass:function(e){this._private.pass.push(e);return this},run:function(r,i){var a=this,o=this._private;i=i||o.pass.shift();if(!o.stopped){if(o.running)return o.queue=o.queue.then(function(){return a.run(r,i)});var s=null!=t,l="undefined"!=typeof module;a.trigger("run");var u=new e.Promise(function(u,c){o.running=!0;var d=o.ran,f=e.is.string(r)?r:r.toString(),p="\n"+o.requires.map(function(e){return n(e)}).concat(o.files.map(function(e){if(s){var r=function(e){return e.match(/^\.\//)||e.match(/^\.\./)?t.location.origin+t.location.pathname+e:e.match(/^\//)?t.location.origin+"/"+e:e};return'importScripts("'+r(e)+'");'}return l?'eval( require("fs").readFileSync("'+e+'", { encoding: "utf8" }) );':void 0})).concat(["( function(){","var ret = ("+f+")("+JSON.stringify(i)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");o.requires=[];o.files=[];if(s){var h,v;if(!d){var g=p+"";p=["function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n");p+=g;h=new Blob([p],{type:"application/javascript"});v=t.URL.createObjectURL(h)}var y=o.webworker=o.webworker||new Worker(v);d&&y.postMessage({$$eval:p});var m;y.addEventListener("message",m=function(t){var r=e.is.object(t)&&e.is.object(t.data);if(r&&"$$resolve"in t.data){y.removeEventListener("message",m);u(t.data.$$resolve)}else if(r&&"$$reject"in t.data){y.removeEventListener("message",m);c(t.data.$$reject)}else a.trigger(new e.Event(t,{type:"message",message:t.data}))},!1);d||y.postMessage("$$start")}else if(l){var m,b=require("path"),x=require("child_process"),w=o.child=o.child||x.fork(b.join(__dirname,"thread-node-fork"));w.on("message",m=function(t){if(e.is.object(t)&&"$$resolve"in t){w.removeListener("message",m);u(t.$$resolve)}else if(e.is.object(t)&&"$$reject"in t){w.removeListener("message",m);c(t.$$reject)}else a.trigger(new e.Event({},{type:"message",message:t}))});w.send({$$eval:p})}else e.error("Tried to create thread but no underlying tech found!")}).then(function(e){o.running=!1;o.ran=!0;a.trigger("ran");return e});null==o.queue&&(o.queue=u);return u}e.util.error("Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.")},message:function(e){var t=this._private;t.webworker&&t.webworker.postMessage(e);t.child&&t.child.send(e);return this},stop:function(){var e=this._private;e.webworker&&e.webworker.terminate();e.child&&e.child.kill();e.stopped=!0;return this.trigger("stop")},stopped:function(){return this._private.stopped}});var a=function(e,t){var r=e.toString();r=r.replace(/function.*\(/,"function "+t+"(");return r},o=function(e){e=e||{};return function(t,r){var n=a(t,"_$_$_"+e.name);this.require(n);return this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+e.name+"( _$_$_"+e.name+(arguments.length>1?", "+JSON.stringify(r):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};e.fn.thread({reduce:o({name:"reduce"}),reduceRight:o({name:"reduceRight"}),map:o({name:"map"})});var s=e.thdfn;s.promise=s.run;s.terminate=s.halt=s.stop;s.include=s.require;e.worker=e.Worker=e.Thread;e.fn.thread({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()});e.define.eventAliasesOn(e.thdfn)})(cytoscape,"undefined"==typeof window?null:window);(function(e,t){"use strict";e.Fabric=function(t){if(!(this instanceof e.Fabric))return new e.Fabric(t);this._private={pass:[]};var r=4;e.is.number(t);t="undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency?navigator.hardwareConcurrency:"undefined"!=typeof module?require("os").cpus().length:r;for(var n=0;t>n;n++)this[n]=e.Thread();this.length=t};e.fabric=e.Fabric;e.fabfn=e.Fabric.prototype;e.fn.fabric=function(t,r){for(var n in t){var i=t[n];e.Fabric.prototype[n]=i}};e.fn.fabric({require:function(e,t){for(var r=0;r<this.length;r++){var n=this[r];n.require(e,t)}return this},random:function(){var e=Math.round((this.length-1)*Math.random()),t=this[e];return t},run:function(e){var t=this._private.pass.shift();return this.random().pass(t).run(e)},message:function(e){return this.random().message(e)},broadcast:function(e){for(var t=0;t<this.length;t++){var r=this[t];r.message(e)}return this},stop:function(){for(var e=0;e<this.length;e++){var t=this[e];t.stop()}return this},pass:function(t){var r=this._private.pass;e.is.array(t)?r.push(t):e.util.error("Only arrays or collections may be used with fabric.pass()");return this},spreadSize:function(){var e=Math.ceil(this._private.pass[0].length/this.length);e=Math.max(1,e);return e},spread:function(t){for(var r=this,n=r._private,i=r.spreadSize(),a=n.pass.shift().concat([]),o=[],s=0;s<this.length;s++){var l=this[s],u=a.splice(0,i),c=l.pass(u).run(t);o.push(c);var d=0===a.length;if(d)break}return e.Promise.all(o).then(function(e){for(var t=[],r=0,n=0;n<e.length;n++)for(var i=e[n],a=0;a<i.length;a++){var o=i[a];t[r++]=o}return t})},map:function(e){var t=this;t.require(e,"_$_$_fabmap");return t.spread(function(e){var t=[],r=resolve;resolve=function(e){t.push(e)};for(var n=0;n<e.length;n++){var i=t.length,a=_$_$_fabmap(e[n]),o=i===t.length;o&&t.push(a)}resolve=r;return t})},filter:function(e){var t=this._private,r=t.pass[0];return this.map(e).then(function(e){for(var t=[],n=0;n<r.length;n++){var i=r[n],a=e[n];a&&t.push(i)}return t})},sort:function(e){var t=this,r=this._private.pass[0].length,n=this.spreadSize();e=e||function(e,t){return t>e?-1:e>t?1:0};t.require(e,"_$_$_cmp");return t.spread(function(e){var t=e.sort(_$_$_cmp);resolve(t)}).then(function(t){for(var i=function(n,i,a){i=Math.min(i,r);a=Math.min(a,r);for(var o=n,s=i,l=[],u=o;a>u;u++){var c=t[n],d=t[i];if(s>n&&(i>=a||e(c,d)<=0)){l.push(c);n++}else{l.push(d);i++}}for(var u=0;u<l.length;u++){var f=o+u;t[f]=l[u]}},a=n;r>a;a*=2)for(var o=0;r>o;o+=2*a)i(o,o+a,o+2*a);return t})}});var r=function(e){e=e||{};return function(t,r){var n=this._private.pass.shift();return this.random().pass(n)[e.threadFn](t,r)}};e.fn.fabric({randomMap:r({threadFn:"map"}),reduce:r({threadFn:"reduce"}),reduceRight:r({threadFn:"reduceRight"})});var n=e.fabfn;n.promise=n.run;n.terminate=n.halt=n.stop;n.include=n.require;e.fn.fabric({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()});e.define.eventAliasesOn(e.fabfn)})(cytoscape,"undefined"==typeof window?null:window);(function(e,t){"use strict";var r=e.is.touch(),n={},i=e.util.copy(n);e.defaults=function(t){n=e.util.extend({},i,t)};e.fn.core=function(t,r){for(var n in t){var i=t[n];e.Core.prototype[n]=i}};e.Core=function(i){if(!(this instanceof e.Core))return new e.Core(i);var a=this;i=e.util.extend({},n,i);var o=i.container,s=o?o._cyreg:null;s=s||{};if(s&&s.cy){if(o)for(;o.firstChild;)o.removeChild(o.firstChild);s.cy.notify({type:"destroy"});s={}}var l=s.readies=s.readies||[];o&&(o._cyreg=s);s.cy=a;var u=void 0!==t&&void 0!==o&&!i.headless,c=i;c.layout=e.util.extend({name:u?"grid":"null"},c.layout);c.renderer=e.util.extend({name:u?"canvas":"null"},c.renderer);var d=function(e,t,r){return void 0!==t?t:void 0!==r?r:e},f=this._private={container:c.container,ready:!1,initrender:!1,options:c,elements:[],id2index:{},listeners:[],onRenders:[],aniEles:e.Collection(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:d(!0,c.zoomingEnabled),userZoomingEnabled:d(!0,c.userZoomingEnabled),panningEnabled:d(!0,c.panningEnabled),userPanningEnabled:d(!0,c.userPanningEnabled),boxSelectionEnabled:d(!1,c.boxSelectionEnabled),autolock:d(!1,c.autolock,c.autolockNodes),autoungrabify:d(!1,c.autoungrabify,c.autoungrabifyNodes),autounselectify:d(!1,c.autounselectify),styleEnabled:void 0===c.styleEnabled?u:c.styleEnabled,zoom:e.is.number(c.zoom)?c.zoom:1,pan:{x:e.is.plainObject(c.pan)&&e.is.number(c.pan.x)?c.pan.x:0,y:e.is.plainObject(c.pan)&&e.is.number(c.pan.y)?c.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,deferredExecQueue:[]},p=c.selectionType;f.selectionType=void 0===p||"additive"!==p&&"single"!==p?r?"additive":"single":p;if(e.is.number(c.minZoom)&&e.is.number(c.maxZoom)&&c.minZoom<c.maxZoom){f.minZoom=c.minZoom;f.maxZoom=c.maxZoom}else e.is.number(c.minZoom)&&void 0===c.maxZoom?f.minZoom=c.minZoom:e.is.number(c.maxZoom)&&void 0===c.minZoom&&(f.maxZoom=c.maxZoom);var h=function(t){for(var r=!1,n=0;n<v.length;n++){var i=v[n];if(e.is.promise(i)){r=!0;break}}if(r)return e.Promise.all(v).then(t);t(v);return void 0},v=[c.style,c.elements];h(function(t){var r=t[0],n=t[1];f.styleEnabled&&a.setStyle(r);a.initRenderer(e.util.extend({hideEdgesOnViewport:c.hideEdgesOnViewport,hideLabelsOnViewport:c.hideLabelsOnViewport,textureOnViewport:c.textureOnViewport,wheelSensitivity:e.is.number(c.wheelSensitivity)&&c.wheelSensitivity>0?c.wheelSensitivity:1,motionBlur:void 0===c.motionBlur?!0:c.motionBlur,motionBlurOpacity:void 0===c.motionBlurOpacity?.05:c.motionBlurOpacity,pixelRatio:e.is.number(c.pixelRatio)&&c.pixelRatio>0?c.pixelRatio:"auto"===c.pixelRatio?void 0:1,tapThreshold:d(e.is.touch()?8:4,e.is.touch()?c.touchTapThreshold:c.desktopTapThreshold)},c.renderer));if(c.initrender){a.on("initrender",c.initrender);a.on("initrender",function(){a._private.initrender=!0})}a.load(n,function(){a.startAnimationLoop();a._private.ready=!0;e.is.fn(c.ready)&&a.on("ready",c.ready);for(var t=0;t<l.length;t++){var r=l[t];a.on("ready",r)}s&&(s.readies=[]);a.trigger("ready")},c.done)})};e.corefn=e.Core.prototype;e.fn.core({isReady:function(){return this._private.ready},ready:function(e){this.isReady()?this.trigger("ready",[],e):this.on("ready",e)},initrender:function(){return this._private.initrender},destroy:function(){this.notify({type:"destroy"});var e=this.container(),t=e.parentNode;t&&t.removeChild(e);return this},getElementById:function(t){var r=this._private.id2index[t];return void 0!==r?this._private.elements[r]:new e.Collection(this)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){for(var t=this._private.elements,r=this._private.id2index,n=0;n<e.length;n++){var i=e[n],a=i._private.data.id,o=r[a],s=void 0!==o;if(!s){o=t.length;t.push(i);r[a]=o;i._private.index=o}}return this},removeFromPool:function(e){for(var t=this._private.elements,r=this._private.id2index,n=0;n<e.length;n++){var i=e[n],a=i._private.data.id,o=r[a],s=void 0!==o;if(s){this._private.id2index[a]=void 0;t.splice(o,1);for(var l=o;l<t.length;l++){var u=t[l]._private.data.id;r[u]--;t[l]._private.index--}}}},container:function(){return this._private.container},options:function(){return e.util.copy(this._private.options)},json:function(e){var t={},r=this;t.elements={};r.elements().each(function(e,r){var n=r.group();t.elements[n]||(t.elements[n]=[]);t.elements[n].push(r.json())});this._private.styleEnabled&&(t.style=r.style().json());t.zoomingEnabled=r._private.zoomingEnabled;t.userZoomingEnabled=r._private.userZoomingEnabled;t.zoom=r._private.zoom;t.minZoom=r._private.minZoom;t.maxZoom=r._private.maxZoom;t.panningEnabled=r._private.panningEnabled;t.userPanningEnabled=r._private.userPanningEnabled;t.pan=r._private.pan;t.boxSelectionEnabled=r._private.boxSelectionEnabled;t.layout=r._private.options.layout;t.renderer=r._private.options.renderer;t.hideEdgesOnViewport=r._private.options.hideEdgesOnViewport;t.hideLabelsOnViewport=r._private.options.hideLabelsOnViewport;t.textureOnViewport=r._private.options.textureOnViewport;t.wheelSensitivity=r._private.options.wheelSensitivity;t.motionBlur=r._private.options.motionBlur;return t},defer:function(e){var t=this,r=t._private,n=r.deferredExecQueue;n.push(e);r.deferredTimeout||(r.deferredTimeout=setTimeout(function(){for(;n.length>0;)n.shift()();r.deferredTimeout=null},0))}})})(cytoscape,"undefined"==typeof window?null:window);(function(e,t){"use strict";function r(e){var t=!document||"interactive"!==document.readyState&&"complete"!==document.readyState?r:e;setTimeout(t,9,e)}e.fn.core({add:function(t){var r,n=this;if(e.is.elementOrCollection(t)){var i=t;if(i._private.cy===n)r=i.restore();else{for(var a=[],o=0;o<i.length;o++){var s=i[o];a.push(s.json())}r=new e.Collection(n,a)}}else if(e.is.array(t)){var a=t;r=new e.Collection(n,a)}else if(e.is.plainObject(t)&&(e.is.array(t.nodes)||e.is.array(t.edges))){for(var l=t,a=[],u=["nodes","edges"],o=0,c=u.length;c>o;o++){var d=u[o],f=l[d];if(e.is.array(f))for(var p=0,h=f.length;h>p;p++){var v=f[p];v.group=d;a.push(v)}}r=new e.Collection(n,a)}else{var v=t;r=new e.Element(n,v).collection()}return r},remove:function(t){if(e.is.elementOrCollection(t))t=t;else if(e.is.string(t)){var r=t;t=this.$(r)}return t.remove()},load:function(n,i,a){function o(){s.one("layoutready",function(e){s.notifications(!0);s.trigger(e);s.notify({type:"load",collection:s.elements()});s.one("load",i);s.trigger("load")}).one("layoutstop",function(){s.one("done",a);s.trigger("done")});var t=e.util.extend({},s._private.options.layout);t.eles=s.$();s.layout(t)}var s=this;s.notifications(!1);var l=s.elements();l.length>0&&l.remove();null!=n&&(e.is.plainObject(n)||e.is.array(n))&&s.add(n);t?r(o):o();return this}})})(cytoscape,"undefined"==typeof window?null:window);(function(e,t){"use strict";e.fn.core({animated:e.define.animated(),clearQueue:e.define.clearQueue(),delay:e.define.delay(),animate:e.define.animate(),stop:e.define.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},startAnimationLoop:function(){function r(){e.util.requestAnimationFrame(function(e){n(e);r()})}function n(t){function r(r,n){var s=r._private.animation.current,l=r._private.animation.queue,u=!1;if(0===s.length){var c=l.length>0?l.shift():null;if(c){c.callTime=t;s.push(c)}}for(var d=[],f=s.length-1;f>=0;f--){var p=s[f];p.started||i(r,p);a(r,p,t,n);if(p.done){d.push(p);s.splice(f,1)}u=!0}for(var f=0;f<d.length;f++){var p=d[f],h=p.params.complete;e.is.fn(h)&&h.apply(r,[t])}n||0!==s.length||0!==l.length||o.push(r);return u}t=+new Date;for(var n=l._private.aniEles,o=[],s=0;s<n.length;s++){var u=n[s];r(u)}var c=r(l,!0);if(n.length>0||c){var d;if(n.length>0){var f=n.updateCompoundBounds();d=f.length>0?n.add(f):n}l.notify({type:"draw",collection:d})}n.unmerge(o)}function i(t,r){var n=e.is.core(t),i=!n,a=t,o=l._private.style;if(i)var s=a._private.position,u={x:s.x,y:s.y},c=o.getValueStyle(a);if(n)var d=l._private.pan,f={x:d.x,y:d.y},p=l._private.zoom;r.started=!0;r.startTime=Date.now();r.startPosition=u;r.startStyle=c;r.startPan=f;r.startZoom=p}function a(t,r,n,i){var a,u=l._private.style,c=r.properties,d=r.params,f=r.startTime,p=!i;a=0===r.duration?1:Math.min(1,(n-f)/r.duration);0>a?a=0:a>1&&(a=1);if(null==c.delay){var h=r.startPosition,v=c.position,g=t._private.position;if(v&&p){o(h.x,v.x)&&(g.x=s(h.x,v.x,a));o(h.y,v.y)&&(g.y=s(h.y,v.y,a))}var y=r.startPan,m=c.pan,b=t._private.pan,x=null!=m&&i;if(x){o(y.x,m.x)&&(b.x=s(y.x,m.x,a));o(y.y,m.y)&&(b.y=s(y.y,m.y,a));t.trigger("pan")}var w=r.startZoom,_=c.zoom,k=null!=_&&i;if(k){o(w,_)&&(t._private.zoom=s(w,_,a));t.trigger("zoom")}(x||k)&&t.trigger("viewport");var E=c.style||c.css;if(E&&p)for(var C=0;C<E.length;C++){var S=E[C].name,T=E[C],D=T,P=r.startStyle[S],M=s(P,D,a);u.overrideBypass(t,S,M)}}e.is.fn(d.step)&&d.step.apply(t,[n]);a>=1&&(r.done=!0);return a}function o(t,r){return null==t||null==r?!1:e.is.number(t)&&e.is.number(r)?!0:t&&r?!0:!1}function s(t,r,n){0>n?n=0:n>1&&(n=1);var i,a;i=null!=t.pxValue||null!=t.value?null!=t.pxValue?t.pxValue:t.value:t;a=null!=r.pxValue||null!=r.value?null!=r.pxValue?r.pxValue:r.value:r;if(e.is.number(i)&&e.is.number(a))return i+(a-i)*n;if(e.is.number(i[0])&&e.is.number(a[0])){var o=i,s=a,l=function(e,t){var r=t-e,i=e;return Math.round(n*r+i)},u=l(o[0],s[0]),c=l(o[1],s[1]),d=l(o[2],s[2]);return[u,c,d]}return void 0}var l=this;l.styleEnabled()&&t&&r()}})})(cytoscape,"undefined"==typeof window?null:window);(function(e){"use strict";e.fn.core({data:e.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:e.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),scratch:e.define.data({field:"scratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeScratch:e.define.removeData({field:"scratch",triggerEvent:!1})})})(cytoscape);(function(e){"use strict";e.fn.core({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),once:e.define.on({unbindAllBindersOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger()});e.define.eventAliasesOn(e.corefn)})(cytoscape);(function(e){"use strict";e.fn.core({png:function(e){var t=this._private.renderer;e=e||{};return t.png(e)},jpg:function(e){var t=this._private.renderer;e=e||{};e.bg=e.bg||"#fff";return t.jpg(e)}});e.corefn.jpeg=e.corefn.jpg})(cytoscape);(function(e){"use strict";e.fn.core({layout:function(t){var r;if(null==t){t=e.util.extend({},this._private.options.layout);t.eles=this.$()}r=this.initLayout(t);r.run();return this},makeLayout:function(e){return this.initLayout(e)},initLayout:function(t){if(null!=t)if(null!=t.name){var r=t.name,n=e.extension("layout",r);if(null!=n){t.eles=null!=t.eles?t.eles:this.$();e.is.string(t.eles)&&(t.eles=this.$(t.eles));var i=new n(e.util.extend({},t,{cy:this}));e.is.plainObject(i._private)||(i._private={});i._private.cy=this;i._private.listeners=[];return i}e.util.error("Can not apply layout: No such layout `"+r+"` found; did you include its JS file?")}else e.util.error("A `name` must be specified to make a layout");else e.util.error("Layout options must be specified to make a layout")}});e.corefn.createLayout=e.corefn.makeLayout})(cytoscape);(function(e){"use strict";e.fn.core({notify:function(e){if(this._private.batchingNotify){var t=this._private.batchNotifyEles,r=this._private.batchNotifyTypes;if(e.collection)for(var n=0;n<e.collection.length;n++){var i=e.collection[n];t.ids[i._private.id]||t.push(i)}r.ids[e.type]||r.push(e.type)}else if(this._private.notificationsEnabled){var a=this.renderer();a.notify(e)}},notifications:function(e){var t=this._private;if(void 0===e)return t.notificationsEnabled;t.notificationsEnabled=e?!0:!1;return void 0},noNotifications:function(e){this.notifications(!1);e();this.notifications(!0)},startBatch:function(){var e=this._private;e.batchingStyle=e.batchingNotify=!0;e.batchStyleEles=[];e.batchNotifyEles=[];e.batchNotifyTypes=[];e.batchStyleEles.ids={};e.batchNotifyEles.ids={};e.batchNotifyTypes.ids={};return this},endBatch:function(){var t=this._private;t.batchingStyle=!1;new e.Collection(this,t.batchStyleEles).updateStyle();t.batchingNotify=!1;this.notify({type:t.batchNotifyTypes,collection:t.batchNotifyEles});return this},batch:function(e){this.startBatch();e();this.endBatch();return this},batchData:function(e){var t=this;return this.batch(function(){for(var r in e){var n=e[r],i=t.getElementById(r);i.data(n)}})}})})(cytoscape);(function(e){"use strict";e.fn.core({renderTo:function(e,t,r,n){var i=this._private.renderer;i.renderTo(e,t,r,n);return this},renderer:function(){return this._private.renderer},forceRender:function(){this.notify({type:"draw"});return this},resize:function(){this.notify({type:"resize"});this.trigger("resize");return this},initRenderer:function(t){var r=this,n=e.extension("renderer",t.name);null!=n?this._private.renderer=new n(e.util.extend({},t,{cy:r,style:r._private.style})):e.util.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",t.name)},triggerOnRender:function(){for(var e=this._private.onRenders,t=0;t<e.length;t++){var r=e[t];r()}return this},onRender:function(e){this._private.onRenders.push(e);return this},offRender:function(e){var t=this._private.onRenders;if(null==e){this._private.onRenders=[];return this}for(var r=0;r<t.length;r++){var n=t[r];if(e===n){t.splice(r,1);break}}return this}})})(cytoscape);(function(e){"use strict";e.fn.core({collection:function(t){return e.is.string(t)?this.$(t):e.is.elementOrCollection(t)?t.collection():e.is.array(t)?new e.Collection(this,t):new e.Collection(this)},nodes:function(e){var t=this.$(function(){return this.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(){return this.isEdge()});return e?t.filter(e):t},$:function(t){var r=new e.Collection(this,this._private.elements);return t?r.filter(t):r}});e.corefn.elements=e.corefn.filter=e.corefn.$})(cytoscape);(function(e){"use strict";e.fn.core({style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(t){var r=this._private;r.style=e.is.stylesheet(t)?t.generateStyle(this):e.is.array(t)?e.style.fromJson(this,t):e.is.string(t)?e.style.fromString(this,t):new e.Style(this);return r.style}})})(cytoscape);(function(e){"use strict";e.fn.core({autolock:function(e){if(void 0===e)return this._private.autolock;this._private.autolock=e?!0:!1;return this},autoungrabify:function(e){if(void 0===e)return this._private.autoungrabify;this._private.autoungrabify=e?!0:!1;return this},autounselectify:function(e){if(void 0===e)return this._private.autounselectify;this._private.autounselectify=e?!0:!1;return this},panningEnabled:function(e){if(void 0===e)return this._private.panningEnabled;this._private.panningEnabled=e?!0:!1;return this},userPanningEnabled:function(e){if(void 0===e)return this._private.userPanningEnabled;this._private.userPanningEnabled=e?!0:!1;return this},zoomingEnabled:function(e){if(void 0===e)return this._private.zoomingEnabled;this._private.zoomingEnabled=e?!0:!1;return this},userZoomingEnabled:function(e){if(void 0===e)return this._private.userZoomingEnabled;this._private.userZoomingEnabled=e?!0:!1;return this},boxSelectionEnabled:function(e){if(void 0===e)return this._private.boxSelectionEnabled;this._private.boxSelectionEnabled=e?!0:!1;return this},pan:function(){var t,r,n,i,a,o=arguments,s=this._private.pan;switch(o.length){case 0:return s;case 1:if(e.is.string(o[0])){t=o[0];return s[t]}if(e.is.plainObject(o[0])){if(!this._private.panningEnabled)return this;n=o[0];i=n.x;a=n.y;e.is.number(i)&&(s.x=i);e.is.number(a)&&(s.y=a);this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=o[0];r=o[1];"x"!==t&&"y"!==t||!e.is.number(r)||(s[t]=r);this.trigger("pan viewport")}this.notify({type:"viewport"});return this},panBy:function(t){var r,n,i,a,o,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:if(e.is.plainObject(s[0])){i=s[0];a=i.x;o=i.y;e.is.number(a)&&(l.x+=a);e.is.number(o)&&(l.y+=o);this.trigger("pan viewport")}break;case 2:r=s[0];n=s[1];"x"!==r&&"y"!==r||!e.is.number(n)||(l[r]+=n);this.trigger("pan viewport")}this.notify({type:"viewport"});return this},fit:function(e,t){var r=this.getFitViewport(e,t);if(r){var n=this._private;n.zoom=r.zoom;n.pan=r.pan;this.trigger("pan zoom viewport");this.notify({type:"viewport"})}return this},getFitViewport:function(t,r){if(e.is.number(t)&&void 0===r){r=t;t=void 0}if(this._private.panningEnabled&&this._private.zoomingEnabled){var n;if(e.is.string(t)){var i=t;t=this.$(i)}else if(e.is.boundingBox(t)){var a=t;n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2};n.w=n.x2-n.x1;n.h=n.y2-n.y1}else e.is.elementOrCollection(t)||(t=this.elements());n=n||t.boundingBox();var o,s=this.width(),l=this.height();r=e.is.number(r)?r:0;if(!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){o=Math.min((s-2*r)/n.w,(l-2*r)/n.h);o=o>this._private.maxZoom?this._private.maxZoom:o;o=o<this._private.minZoom?this._private.minZoom:o;var u={x:(s-o*(n.x1+n.x2))/2,y:(l-o*(n.y1+n.y2))/2};return{zoom:o,pan:u}}}},minZoom:function(t){if(void 0===t)return this._private.minZoom;e.is.number(t)&&(this._private.minZoom=t);return this},maxZoom:function(t){if(void 0===t)return this._private.maxZoom;e.is.number(t)&&(this._private.maxZoom=t);return this},zoom:function(t){var r,n;if(void 0===t)return this._private.zoom;if(e.is.number(t))n=t;else if(e.is.plainObject(t)){n=t.level;if(t.position){var i=t.position,a=this._private.pan,o=this._private.zoom;r={x:i.x*o+a.x,y:i.y*o+a.y}}else t.renderedPosition&&(r=t.renderedPosition);if(r&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!e.is.number(n)||r&&(!e.is.number(r.x)||!e.is.number(r.y)))return this;n=n>this._private.maxZoom?this._private.maxZoom:n;n=n<this._private.minZoom?this._private.minZoom:n;if(r){var s=this._private.pan,l=this._private.zoom,u=n,c={x:-u/l*(r.x-s.x)+r.x,y:-u/l*(r.y-s.y)+r.y};this._private.zoom=n;this._private.pan=c;var d=s.x!==c.x||s.y!==c.y;this.trigger(" zoom "+(d?" pan ":"")+" viewport ")}else{this._private.zoom=n;this.trigger("zoom viewport")}this.notify({type:"viewport"});return this},viewport:function(t){var r=this._private,n=!0,i=!0,a=[],o=!1,s=!1;if(!t)return this;e.is.number(t.zoom)||(n=!1);e.is.plainObject(t.pan)||(i=!1);if(!n&&!i)return this;if(n){var l=t.zoom;if(l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled)o=!0;else{r.zoom=l;a.push("zoom")}}if(i&&(!o||!t.cancelOnFailedZoom)&&r.panningEnabled){var u=t.pan;if(e.is.number(u.x)){r.pan.x=u.x;s=!1}if(e.is.number(u.y)){r.pan.y=u.y;s=!1}s||a.push("pan")}if(a.length>0){a.push("viewport");this.trigger(a.join(" "));this.notify({type:"viewport"})}return this},center:function(e){var t=this.getCenterPan(e);if(t){this._private.pan=t;this.trigger("pan viewport");this.notify({type:"viewport"})}return this},getCenterPan:function(t,r){if(this._private.panningEnabled){if(e.is.string(t)){var n=t;t=this.elements(n)}else e.is.elementOrCollection(t)||(t=this.elements());var i=t.boundingBox(),a=this.width(),o=this.height();r=void 0===r?this._private.zoom:r;var s={x:(a-r*(i.x1+i.x2))/2,y:(o-r*(i.y1+i.y2))/2};return s}},reset:function(){if(!this._private.panningEnabled||!this._private.zoomingEnabled)return this;this.viewport({pan:{x:0,y:0},zoom:1});return this},width:function(){var e=this._private.container;return e?e.clientWidth:1},height:function(){var e=this._private.container;return e?e.clientHeight:1},extent:function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),n={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};n.w=n.x2-n.x1;n.h=n.y2-n.y1;return n},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}});e.corefn.centre=e.corefn.center;e.corefn.autolockNodes=e.corefn.autolock;e.corefn.autoungrabifyNodes=e.corefn.autoungrabify})(cytoscape);(function(e){"use strict";e.fn.collection=e.fn.eles=function(t,r){for(var n in t){var i=t[n];e.Collection.prototype[n]=i}};var t={prefix:{nodes:"n",edges:"e"},id:{nodes:0,edges:0},generate:function(t,r,n){var i=e.is.element(r)?r._private:r,a=i.group,o=null!=n?n:this.prefix[a]+this.id[a];if(t.getElementById(o).empty())this.id[a]++;else for(;!t.getElementById(o).empty();)o=this.prefix[a]+ ++this.id[a];return o}};e.Element=function(t,r,n){if(!(this instanceof e.Element))return new e.Element(t,r,n);var i=this;n=void 0===n||n?!0:!1;if(void 0!==t&&void 0!==r&&e.is.core(t))if("nodes"===r.group||"edges"===r.group){this.length=1;this[0]=this;this._private={cy:t,single:!0,data:r.data||{},position:r.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:r.group,style:{},rstyle:{},styleCxts:[],removed:!0,selected:r.selected?!0:!1,selectable:void 0===r.selectable?!0:r.selectable?!0:!1,locked:r.locked?!0:!1,grabbed:!1,grabbable:void 0===r.grabbable?!0:r.grabbable?!0:!1,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[]};if(r.renderedPosition){var a=r.renderedPosition,o=t.pan(),s=t.zoom();this._private.position={x:(a.x-o.x)/s,y:(a.y-o.y)/s}}if(e.is.string(r.classes))for(var l=r.classes.split(/\s+/),u=0,c=l.length;c>u;u++){var d=l[u];d&&""!==d&&(i._private.classes[d]=!0)}r.css&&t.style().applyBypass(this,r.css);(void 0===n||n)&&this.restore()}else e.util.error("An element must be of type `nodes` or `edges`; you specified `"+r.group+"`");else e.util.error("An element must have a core reference and parameters set")};e.Collection=function(r,n,i){if(!(this instanceof e.Collection))return new e.Collection(r,n);if(void 0!==r&&e.is.core(r)){var a={},o={},s=!1;if(n){if(n.length>0&&e.is.plainObject(n[0])&&!e.is.element(n[0])){s=!0;for(var l=[],u={},c=0,d=n.length;d>c;c++){var f=n[c];null==f.data&&(f.data={});var p=f.data;if(null==p.id)p.id=t.generate(r,f);else if(0!==r.getElementById(p.id).length||u[p.id])continue;var h=new e.Element(r,f,!1);l.push(h);u[p.id]=!0}n=l}}else n=[];this.length=0;for(var c=0,d=n.length;d>c;c++){var v=n[c];if(v){var g=v._private.data.id;if(!i||i.unique&&!a[g]){a[g]=v;o[g]=this.length;this[this.length]=v;this.length++}}}this._private={cy:r,ids:a,indexes:o};s&&this.restore()}else e.util.error("A collection must have a reference to the core")};e.elefn=e.elesfn=e.Element.prototype=e.Collection.prototype;e.elesfn.cy=function(){return this._private.cy};e.elesfn.element=function(){return this[0]};e.elesfn.collection=function(){return e.is.collection(this)?this:new e.Collection(this._private.cy,[this])};e.elesfn.unique=function(){return new e.Collection(this._private.cy,this,{unique:!0})};e.elesfn.getElementById=function(t){var r=this._private.cy,n=this._private.ids[t];return n?n:e.Collection(r)};e.elesfn.json=function(){var t=this.element();if(null==t)return void 0;var r=t._private,n=e.util.copy({data:r.data,position:r.position,group:r.group,bypass:r.bypass,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbed:r.grabbed,grabbable:r.grabbable,classes:""}),i=[];for(var a in r.classes)r.classes[a]&&i.push(a);for(var o=0;o<i.length;o++){var a=i[o];n.classes+=a+(o<i.length-1?" ":"")}return n};e.elesfn.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e};e.elesfn.clone=function(){for(var t=this.cy(),r=[],n=0;n<this.length;n++){var i=this[n],a=i.json(),o=new e.Element(t,a,!1);r.push(o)}return new e.Collection(t,r)};e.elesfn.copy=e.elesfn.clone;e.elesfn.restore=function(r){var n=this,i=[],a=n.cy();void 0===r&&(r=!0);for(var o=[],s=[],l=[],u=0,c=0,d=0,f=n.length;f>d;d++){var p=n[d];if(p.isNode()){s.push(p);u++}else{l.push(p);c++}}o=s.concat(l);for(var d=0,f=o.length;f>d;d++){var p=o[d];if(p.removed()){var h=p._private,v=h.data;if(void 0===v.id)v.id=t.generate(a,p);else{if(e.is.emptyString(v.id)||!e.is.string(v.id)){e.util.error("Can not create element with invalid string ID `"+v.id+"`");continue}if(0!==a.getElementById(v.id).length){e.util.error("Can not create second element with ID `"+v.id+"`");continue}}var g=v.id;if(p.isEdge()){for(var y=p,m=["source","target"],b=m.length,x=!1,w=0;b>w;w++){var _=m[w],k=v[_];if(null==k||""===k){e.util.error("Can not create edge `"+g+"` with unspecified "+_);

x=!0}else if(a.getElementById(k).empty()){e.util.error("Can not create edge `"+g+"` with nonexistant "+_+" `"+k+"`");x=!0}}if(x)continue;var E=a.getElementById(v.source),C=a.getElementById(v.target);E._private.edges.push(y);C._private.edges.push(y);y._private.source=E;y._private.target=C}h.ids={};h.ids[g]=p;h.removed=!1;a.addToPool(p);i.push(p)}}for(var d=0;u>d;d++){var S=o[d],v=S._private.data,T=S._private.data.parent,D=null!=T;if(D){var P=a.getElementById(T);if(P.empty())v.parent=void 0;else{for(var M=!1,N=P;!N.empty();){if(S.same(N)){M=!0;v.parent=void 0;break}N=N.parent()}if(!M){P[0]._private.children.push(S);S._private.parent=P[0];a._private.hasCompoundNodes=!0}}}}i=new e.Collection(a,i);if(i.length>0){var j=i.add(i.connectedNodes()).add(i.parent());j.updateStyle(r);r?i.rtrigger("add"):i.trigger("add")}return n};e.elesfn.removed=function(){var e=this[0];return e&&e._private.removed};e.elesfn.inside=function(){var e=this[0];return e&&!e._private.removed};e.elesfn.remove=function(t){function r(e){for(var t=e._private.edges,r=0;r<t.length;r++)i(t[r])}function n(e){for(var t=e._private.children,r=0;r<t.length;r++)i(t[r])}function i(e){var t=c[e.id()];if(!t){c[e.id()]=!0;if(e.isNode()){u.push(e);r(e);n(e)}else u.unshift(e)}}function a(e,t){for(var r=e._private.edges,n=0;n<r.length;n++){var i=r[n];if(t===i){r.splice(n,1);break}}}function o(e,t){t=t[0];e=e[0];for(var r=e._private.children,n=0;n<r.length;n++)if(r[n][0]===t[0]){r.splice(n,1);break}}var s=this,l=[],u=[],c={},d=s._private.cy;void 0===t&&(t=!0);for(var f=0,p=s.length;p>f;f++){var h=s[f];i(h)}for(var f=0;f<u.length;f++){var h=u[f];h._private.removed=!0;d.removeFromPool(h);l.push(h);if(h.isEdge()){var v=h.source()[0],g=h.target()[0];a(v,h);a(g,h)}else{var y=h.parent();0!==y.length&&o(y,h)}}var m=d._private.elements;d._private.hasCompoundNodes=!1;for(var f=0;f<m.length;f++){var h=m[f];if(h.isParent()){d._private.hasCompoundNodes=!0;break}}var b=new e.Collection(this.cy(),l);if(b.size()>0){t&&this.cy().notify({type:"remove",collection:b});b.trigger("remove")}for(var x={},f=0;f<u.length;f++){var h=u[f],w="nodes"===h._private.group,_=h._private.data.parent;if(w&&void 0!==_&&!x[_]){x[_]=!0;var y=d.getElementById(_);y&&0!==y.length&&!y._private.removed&&0===y.children().length&&y.updateStyle()}}return this};e.elesfn.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var r=e.source,n=e.target,i=t.getElementById(r).length>0,a=t.getElementById(n).length>0;if(i||a){var o=this.jsons();this.remove();for(var s=0;s<o.length;s++){var l=o[s];if("edges"===l.group){i&&(l.data.source=r);a&&(l.data.target=n)}}return t.add(o)}}else if(void 0!==e.parent){var u=e.parent,c=null===u||t.getElementById(u).length>0;if(c){var o=this.jsons(),d=this.descendants(),f=d.merge(d.add(this).connectedEdges());this.remove();for(var s=0;s<this.length;s++){var l=o[s];"nodes"===l.group&&(l.data.parent=null===u?void 0:u)}}return t.add(o).merge(f.restore())}return this}})(cytoscape);(function(e){"use strict";e.fn.eles({stdBreadthFirstSearch:function(t){t=e.util.extend({},t,{std:!0});return this.breadthFirstSearch(t)},breadthFirstSearch:function(t,r,n){var i,a,o;if(e.is.plainObject(t)&&!e.is.elementOrCollection(t)){i=t;t=i.roots;r=i.visit;n=i.directed;a=i.std;o=i.thisArg}n=2!==arguments.length||e.is.fn(r)?n:r;r=e.is.fn(r)?r:function(){};for(var s,l=this._private.cy,u=e.is.string(t)?this.filter(t):t,c=[],d=[],f={},p={},h={},v=0,g=this.nodes(),y=this.edges(),m=0;m<u.length;m++)if(u[m].isNode()){c.unshift(u[m]);h[u[m].id()]=!0;d.push(u[m]);p[u[m].id()]=0}for(;0!==c.length;){var b,u=c.shift(),x=p[u.id()],w=f[u.id()],_=null==w?void 0:w.connectedNodes().not(u)[0];b=a?r.call(o,u,w,_,v++,x):r.call(u,v++,x,u,w,_);if(b===!0){s=u;break}if(b===!1)break;for(var k=u.connectedEdges(n?function(){return this.data("source")===u.id()}:void 0).intersect(y),m=0;m<k.length;m++){var E=k[m],C=E.connectedNodes(function(){return this.id()!==u.id()}).intersect(g);if(0!==C.length&&!h[C.id()]){C=C[0];c.push(C);h[C.id()]=!0;p[C.id()]=p[u.id()]+1;d.push(C);f[C.id()]=E}}}for(var S=[],m=0;m<d.length;m++){var T=d[m],D=f[T.id()];D&&S.push(D);S.push(T)}return{path:new e.Collection(l,S,{unique:!0}),found:new e.Collection(l,s,{unique:!0})}},stdDepthFirstSearch:function(t){t=e.util.extend({},t,{std:!0});return this.depthFirstSearch(t)},depthFirstSearch:function(t,r,n){var i,a,o;if(e.is.plainObject(t)&&!e.is.elementOrCollection(t)){i=t;t=i.roots;r=i.visit;n=i.directed;a=i.std;o=i.thisArg}n=2!==arguments.length||e.is.fn(r)?n:r;r=e.is.fn(r)?r:function(){};for(var s,l=this._private.cy,u=e.is.string(t)?this.filter(t):t,c=[],d=[],f={},p={},h={},v=0,g=this.edges(),y=this.nodes(),m=0;m<u.length;m++)if(u[m].isNode()){c.push(u[m]);d.push(u[m]);p[u[m].id()]=0}for(;0!==c.length;){var u=c.pop();if(!h[u.id()]){h[u.id()]=!0;var b,x=p[u.id()],w=f[u.id()],_=null==w?void 0:w.connectedNodes().not(u)[0];b=a?r.call(o,u,w,_,v++,x):r.call(u,v++,x,u,w,_);if(b===!0){s=u;break}if(b===!1)break;for(var k=u.connectedEdges(n?function(){return this.data("source")===u.id()}:void 0).intersect(g),m=0;m<k.length;m++){var E=k[m],C=E.connectedNodes(function(){return this.id()!==u.id()}).intersect(y);if(0!==C.length&&!h[C.id()]){C=C[0];c.push(C);p[C.id()]=p[u.id()]+1;d.push(C);f[C.id()]=E}}}}for(var S=[],m=0;m<d.length;m++){var T=d[m],D=f[T.id()];D&&S.push(D);S.push(T)}return{path:new e.Collection(l,S,{unique:!0}),found:new e.Collection(l,s,{unique:!0})}},kruskal:function(t){function r(e){for(var t=0;t<i.length;t++){var r=i[t];if(r.anySame(e))return{eles:r,index:t}}}t=e.is.fn(t)?t:function(){return 1};for(var n=new e.Collection(this._private.cy,[]),i=[],a=this.nodes(),o=0;o<a.length;o++)i.push(a[o].collection());for(var s=this.edges(),l=s.toArray().sort(function(e,r){var n=t.call(e,e),i=t.call(r,r);return n-i}),o=0;o<l.length;o++){var u=l[o],c=u.source()[0],d=u.target()[0],f=r(c),p=r(d);if(f.index!==p.index){n=n.add(u);i[f.index]=f.eles.add(p.eles);i.splice(p.index,1)}}return a.add(n)},dijkstra:function(t,r,n){var i;if(e.is.plainObject(t)&&!e.is.elementOrCollection(t)){i=t;t=i.root;r=i.weight;n=i.directed}var a=this._private.cy;n=e.is.fn(r)?n:r;r=e.is.fn(r)?r:function(){return 1};for(var o=e.is.string(t)?this.filter(t).eq(0):t.eq(0),s={},l={},u={},c=this.edges().filter(function(){return!this.isLoop()}),d=this.nodes(),f=[],p=0;p<d.length;p++){s[d[p].id()]=d[p].same(o)?0:1/0;f.push(d[p])}var h=function(e){return s[e.id()]};f=new e.Collection(a,f);for(var v=e.Minheap(a,f,h),g=function(e,t){for(var i,a=(n?e.edgesTo(t):e.edgesWith(t)).intersect(c),o=1/0,s=0;s<a.length;s++){var l=a[s],u=r.apply(l,[l]);if(o>u||!i){o=u;i=l}}return{edge:i,dist:o}};v.size()>0;){var y=v.pop(),m=y.value,b=y.id,x=a.getElementById(b);u[b]=m;if(m===Math.Infinite)break;for(var w=x.neighborhood().intersect(d),p=0;p<w.length;p++){var _=w[p],k=_.id(),E=g(x,_),C=m+E.dist;if(C<v.getValueById(k)){v.edit(k,C);l[k]={node:x,edge:E.edge}}}}return{distanceTo:function(t){var r=e.is.string(t)?d.filter(t).eq(0):t.eq(0);return u[r.id()]},pathTo:function(t){var r=e.is.string(t)?d.filter(t).eq(0):t.eq(0),n=[],i=r;if(r.length>0){n.unshift(r);for(;l[i.id()];){var o=l[i.id()];n.unshift(o.edge);n.unshift(o.node);i=o.node}}return new e.Collection(a,n)}}}});e.elesfn.bfs=e.elesfn.breadthFirstSearch;e.elesfn.dfs=e.elesfn.depthFirstSearch;e.elesfn.stdBfs=e.elesfn.stdBreadthFirstSearch;e.elesfn.stdDfs=e.elesfn.stdDepthFirstSearch})(cytoscape);(function(e){"use strict";e.fn.eles({aStar:function(t){t=t||{};var r=function(e,t,n,a){if(e==t){a.push(i.getElementById(t));return a}if(t in n){var o=n[t],s=p[t];a.push(i.getElementById(t));a.push(i.getElementById(s));return r(e,o,n,a)}return void 0},n=function(e,t){if(0===e.length)return void 0;for(var r=0,n=t[e[0]],i=1;i<e.length;i++){var a=t[e[i]];if(n>a){n=a;r=i}}return r},i=this._private.cy;if(null==t||null==t.root)return void 0;var a=e.is.string(t.root)?this.filter(t.root)[0]:t.root[0];if(null==t.goal)return void 0;var o=e.is.string(t.goal)?this.filter(t.goal)[0]:t.goal[0];if(null!=t.heuristic&&e.is.fn(t.heuristic))var s=t.heuristic;else var s=function(){return 0};if(null!=t.weight&&e.is.fn(t.weight))var l=t.weight;else var l=function(e){return 1};if(null!=t.directed)var u=t.directed;else var u=!1;var c=[],d=[a.id()],f={},p={},h={},v={};h[a.id()]=0;v[a.id()]=s(a);for(var g=this.edges().stdFilter(function(e){return!e.isLoop()}),y=this.nodes(),m=0;d.length>0;){var b=n(d,v),x=i.getElementById(d[b]);m++;if(x.id()==o.id()){var w=r(a.id(),o.id(),f,[]);w.reverse();return{found:!0,distance:h[x.id()],path:new e.Collection(i,w),steps:m}}c.push(x.id());d.splice(b,1);var _=x.connectedEdges();u&&(_=_.stdFilter(function(e){return e.data("source")===x.id()}));_=_.intersect(g);for(var k=0;k<_.length;k++){var E=_[k],C=E.connectedNodes().stdFilter(function(e){return e.id()!==x.id()}).intersect(y);if(-1==c.indexOf(C.id())){var S=h[x.id()]+l.apply(E,[E]);if(-1!=d.indexOf(C.id())){if(S<h[C.id()]){h[C.id()]=S;v[C.id()]=S+s(C);f[C.id()]=x.id()}}else{h[C.id()]=S;v[C.id()]=S+s(C);d.push(C.id());f[C.id()]=x.id();p[C.id()]=E.id()}}}}return{found:!1,distance:void 0,path:void 0,steps:m}},floydWarshall:function(t){t=t||{};var r=this._private.cy;if(null!=t.weight&&e.is.fn(t.weight))var n=t.weight;else var n=function(e){return 1};if(null!=t.directed)var i=t.directed;else var i=!1;for(var a=this.edges().stdFilter(function(e){return!e.isLoop()}),o=this.nodes(),s=o.length,l={},u=0;s>u;u++)l[o[u].id()]=u;for(var c=[],u=0;s>u;u++){for(var d=new Array(s),f=0;s>f;f++)d[f]=u==f?0:1/0;c.push(d)}var p=[],h=[],v=function(e){for(var t=0;s>t;t++){for(var r=new Array(s),n=0;s>n;n++)r[n]=void 0;e.push(r)}};v(p);v(h);for(var u=0;u<a.length;u++){var g=l[a[u].source().id()],y=l[a[u].target().id()],m=n.apply(a[u],[a[u]]);if(c[g][y]>m){c[g][y]=m;p[g][y]=y;h[g][y]=a[u]}}if(!i)for(var u=0;u<a.length;u++){var g=l[a[u].target().id()],y=l[a[u].source().id()],m=n.apply(a[u],[a[u]]);if(c[g][y]>m){c[g][y]=m;p[g][y]=y;h[g][y]=a[u]}}for(var b=0;s>b;b++)for(var u=0;s>u;u++)for(var f=0;s>f;f++)if(c[u][b]+c[b][f]<c[u][f]){c[u][f]=c[u][b]+c[b][f];p[u][f]=p[u][b]}for(var x=[],u=0;s>u;u++)x.push(o[u].id());var w={distance:function(t,n){if(e.is.string(t))var i=r.filter(t)[0].id();else var i=t.id();if(e.is.string(n))var a=r.filter(n)[0].id();else var a=n.id();return c[l[i]][l[a]]},path:function(t,n){var i=function(e,t,n,i,a){if(e===t)return r.getElementById(i[e]);if(void 0===n[e][t])return void 0;for(var o=[r.getElementById(i[e])],s=e;e!==t;){s=e;e=n[e][t];var l=a[s][e];o.push(l);o.push(r.getElementById(i[e]))}return o};if(e.is.string(t))var a=r.filter(t)[0].id();else var a=t.id();if(e.is.string(n))var o=r.filter(n)[0].id();else var o=n.id();var s=i(l[a],l[o],p,x,h);return new e.Collection(r,s)}};return w},bellmanFord:function(t){t=t||{};if(null!=t.weight&&e.is.fn(t.weight))var r=t.weight;else var r=function(e){return 1};if(null!=t.directed)var n=t.directed;else var n=!1;if(null==t.root){e.util.error("options.root required");return void 0}if(e.is.string(t.root))var i=this.filter(t.root)[0];else var i=t.root[0];for(var a=this._private.cy,o=this.edges().stdFilter(function(e){return!e.isLoop()}),s=this.nodes(),l=s.length,u={},c=0;l>c;c++)u[s[c].id()]=c;for(var d=[],f=[],p=[],c=0;l>c;c++){d[c]=s[c].id()===i.id()?0:1/0;f[c]=void 0}for(var h=!1,c=1;l>c;c++){h=!1;for(var v=0;v<o.length;v++){var g=u[o[v].source().id()],y=u[o[v].target().id()],m=r.apply(o[v],[o[v]]),b=d[g]+m;if(b<d[y]){d[y]=b;f[y]=g;p[y]=o[v];h=!0}if(!n){var b=d[y]+m;if(b<d[g]){d[g]=b;f[g]=y;p[g]=o[v];h=!0}}}if(!h)break}if(h)for(var v=0;v<o.length;v++){var g=u[o[v].source().id()],y=u[o[v].target().id()],m=r.apply(o[v],[o[v]]);if(d[g]+m<d[y]){e.util.error("Error: graph contains a negative weigth cycle!");return{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}}for(var x=[],c=0;l>c;c++)x.push(s[c].id());var w={distanceTo:function(t){if(e.is.string(t))var r=a.filter(t)[0].id();else var r=t.id();return d[u[r]]},pathTo:function(t){var r=function(e,t,r,n,i,o){for(;;){i.push(a.getElementById(n[r]));i.push(o[r]);if(t===r)return i;var s=e[r];if("undefined"==typeof s)return void 0;r=s}};if(e.is.string(t))var n=a.filter(t)[0].id();else var n=t.id();var o=[],s=r(f,u[i.id()],u[n],x,o,p);null!=s&&s.reverse();return new e.Collection(a,s)},hasNegativeWeightCycle:!1};return w},kargerStein:function(t){t=t||{};var r=function(e,t,r){for(var n=r[e],i=n[1],a=n[2],o=t[i],s=t[a],l=r.filter(function(e){return t[e[1]]===o&&t[e[2]]===s?!1:t[e[1]]===s&&t[e[2]]===o?!1:!0}),u=0;u<l.length;u++){var c=l[u];if(c[1]===s){l[u]=c.slice(0);l[u][1]=o}else if(c[2]===s){l[u]=c.slice(0);l[u][2]=o}}for(var u=0;u<t.length;u++)t[u]===s&&(t[u]=o);return l},n=function(e,t,i,a){if(a>=i)return t;var o=Math.floor(Math.random()*t.length),s=r(o,e,t);return n(e,s,i-1,a)},i=this._private.cy,a=this.edges().stdFilter(function(e){return!e.isLoop()}),o=this.nodes(),s=o.length,l=a.length,u=Math.ceil(Math.pow(Math.log(s)/Math.LN2,2)),c=Math.floor(s/Math.sqrt(2));if(2>s){e.util.error("At least 2 nodes are required for KargerSteing algorithm!");return void 0}for(var d={},f=0;s>f;f++)d[o[f].id()]=f;for(var p=[],f=0;l>f;f++){var h=a[f];p.push([f,d[h.source().id()],d[h.target().id()]])}for(var v,g=1/0,y=[],f=0;s>f;f++)y.push(f);for(var m=0;u>=m;m++){var b=y.slice(0),x=n(b,p,s,c),w=b.slice(0),_=n(b,x,c,2),k=n(w,x,c,2);if(_.length<=k.length&&_.length<g){g=_.length;v=[_,b]}else if(k.length<=_.length&&k.length<g){g=k.length;v=[k,w]}}for(var E=v[0].map(function(e){return a[e[0]]}),C=[],S=[],T=v[1][0],f=0;f<v[1].length;f++){var D=v[1][f];D===T?C.push(o[f]):S.push(o[f])}var P={cut:new e.Collection(i,E),partition1:new e.Collection(i,C),partition2:new e.Collection(i,S)};return P},pageRank:function(t){t=t||{};var r=function(e){for(var t=e.length,r=0,n=0;t>n;n++)r+=e[n];for(var n=0;t>n;n++)e[n]=e[n]/r};if(null!=t&&null!=t.dampingfactor)var n=t.dampingFactor;else var n=.8;if(null!=t&&null!=t.precision)var i=t.precision;else var i=1e-6;if(null!=t&&null!=t.iterations)var a=t.iterations;else var a=200;if(null!=t&&null!=t.weight&&e.is.fn(t.weight))var o=t.weight;else var o=function(e){return 1};for(var s=this._private.cy,l=this.edges().stdFilter(function(e){return!e.isLoop()}),u=this.nodes(),c=u.length,d=l.length,f={},p=0;c>p;p++)f[u[p].id()]=p;for(var h=[],v=[],g=(1-n)/c,p=0;c>p;p++){for(var y=[],m=0;c>m;m++)y.push(0);h.push(y);v.push(0)}for(var p=0;d>p;p++){var b=l[p],x=f[b.source().id()],w=f[b.target().id()],_=o.apply(b,[b]);h[w][x]+=_;v[x]+=_}for(var k=1/c+g,m=0;c>m;m++)if(0===v[m])for(var p=0;c>p;p++)h[p][m]=k;else for(var p=0;c>p;p++)h[p][m]=h[p][m]/v[m]+g;for(var E,C=[],S=[],p=0;c>p;p++){C.push(1);S.push(0)}for(var T=0;a>T;T++){for(var D=S.slice(0),p=0;c>p;p++)for(var m=0;c>m;m++)D[p]+=h[p][m]*C[m];r(D);E=C;C=D;for(var P=0,p=0;c>p;p++)P+=Math.pow(E[p]-C[p],2);if(i>P)break}var M={rank:function(t){if(e.is.string(t))var r=s.filter(t)[0].id();else var r=t.id();return C[f[r]]}};return M},degreeCentralityNormalized:function(t){t=t||{};if(null!=t.directed)var r=t.directed;else var r=!1;var n=this.nodes(),i=n.length;if(r){for(var a={},o={},s=0,l=0,u=0;i>u;u++){var c=n[u],d=this.degreeCentrality(e.util.extend({},t,{root:c}));s<d.indegree&&(s=d.indegree);l<d.outdegree&&(l=d.outdegree);a[c.id()]=d.indegree;o[c.id()]=d.outdegree}return{indegree:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return a[t]/s},outdegree:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return o[t]/l}}}for(var f={},p=0,u=0;i>u;u++){var c=n[u],d=this.degreeCentrality(e.util.extend({},t,{root:c}));p<d.degree&&(p=d.degree);f[c.id()]=d.degree}return{degree:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return f[t]/p}}},degreeCentrality:function(t){t=t||{};var r=this;if(null==t||null==t.root)return void 0;var n=e.is.string(t.root)?this.filter(t.root)[0]:t.root[0];if(null!=t.weight&&e.is.fn(t.weight))var i=t.weight;else var i=function(e){return 1};if(null!=t.directed)var a=t.directed;else var a=!1;if(null!=t.alpha&&e.is.number(t.alpha))var o=t.alpha;else o=0;if(a){for(var s=n.connectedEdges('edge[target = "'+n.id()+'"]').intersection(r),l=n.connectedEdges('edge[source = "'+n.id()+'"]').intersection(r),u=s.length,c=l.length,d=0,f=0,p=0;p<s.length;p++){var h=s[p];d+=i.apply(h,[h])}for(var p=0;p<l.length;p++){var h=l[p];f+=i.apply(h,[h])}return{indegree:Math.pow(u,1-o)*Math.pow(d,o),outdegree:Math.pow(c,1-o)*Math.pow(f,o)}}for(var v=n.connectedEdges().intersection(r),g=v.length,y=0,p=0;p<v.length;p++){var h=v[p];y+=i.apply(h,[h])}return{degree:Math.pow(g,1-o)*Math.pow(y,o)}},closenessCentralityNormalized:function(t){t=t||{};for(var r={},n=0,i=this.nodes(),a=this.floydWarshall({weight:t.weight,directed:t.directed}),o=0;o<i.length;o++){for(var s=0,l=0;l<i.length;l++)o!=l&&(s+=1/a.distance(i[o],i[l]));s>n&&(n=s);r[i[o].id()]=s}return{closeness:function(t){if(e.is.string(t))var t=cy.filter(t)[0].id();else var t=t.id();return r[t]/n}}},closenessCentrality:function(t){t=t||{};if(null==t.root){e.util.error("options.root required");return void 0}if(e.is.string(t.root))var r=this.filter(t.root)[0];else var r=t.root[0];if(null!=t.weight&&e.is.fn(t.weight))var n=t.weight;else var n=function(){return 1};if(null!=t.directed&&e.is.bool(t.directed))var i=t.directed;else var i=!1;for(var a=this.dijkstra({root:r,weight:n,directed:i}),o=0,s=this.nodes(),l=0;l<s.length;l++)s[l].id()!=r.id()&&(o+=1/a.distanceTo(s[l]));return o},betweennessCentrality:function(t){t=t||{};if(null!=t.weight&&e.is.fn(t.weight))var r=t.weight,n=!0;else var n=!1;if(null!=t.directed&&e.is.bool(t.directed))var i=t.directed;else var i=!1;for(var a=function(e,t){e.unshift(t);for(var r=0;v[e[r]]<v[e[r+1]]&&r<e.length-1;r++){var n=e[r];e[r]=e[r+1];e[r+1]=n}},o=this._private.cy,s=this.nodes(),l={},u={},c=0;c<s.length;c++)l[s[c].id()]=i?s[c].outgoers("node"):s[c].openNeighborhood("node");for(var c=0;c<s.length;c++)u[s[c].id()]=0;for(var d=0;d<s.length;d++){for(var f=[],p={},h={},v={},g=[],c=0;c<s.length;c++){p[s[c].id()]=[];h[s[c].id()]=0;v[s[c].id()]=Number.POSITIVE_INFINITY}h[s[d].id()]=1;v[s[d].id()]=0;g.unshift(s[d].id());for(;g.length>0;){var y=g.pop();f.push(y);l[y].forEach(n?function(e){if(o.$("#"+y).edgesTo(e).length>0)var t=o.$("#"+y).edgesTo(e)[0];else var t=e.edgesTo("#"+y)[0];var n=r.apply(t,[t]);if(v[e.id()]>v[y]+n){v[e.id()]=v[y]+n;if(g.indexOf(e.id())<0)a(g,e.id());else{g.splice(g.indexOf(e.id()),1);a(g,e.id())}h[e.id()]=0;p[e.id()]=[]}if(v[e.id()]==v[y]+n){h[e.id()]=h[e.id()]+h[y];p[e.id()].push(y)}}:function(e){if(v[e.id()]==Number.POSITIVE_INFINITY){g.unshift(e.id());v[e.id()]=v[y]+1}if(v[e.id()]==v[y]+1){h[e.id()]=h[e.id()]+h[y];p[e.id()].push(y)}})}for(var m={},c=0;c<s.length;c++)m[s[c].id()]=0;for(;f.length>0;){var b=f.pop();p[b].forEach(function(e){m[e]=m[e]+h[e]/h[b]*(1+m[b]);b!=s[d].id()&&(u[b]=u[b]+m[b])})}}var x=0;for(var w in u)x<u[w]&&(x=u[w]);var _={betweenness:function(t){if(e.is.string(t))var t=o.filter(t)[0].id();else var t=t.id();return u[t]},betweennessNormalized:function(t){if(e.is.string(t))var t=o.filter(t)[0].id();else var t=t.id();return u[t]/x}};_.betweennessNormalised=_.betweennessNormalized;return _}});e.elesfn.dc=e.elesfn.degreeCentrality;e.elesfn.dcn=e.elesfn.degreeCentralityNormalised=e.elesfn.degreeCentralityNormalized;e.elesfn.cc=e.elesfn.closenessCentrality;e.elesfn.ccn=e.elesfn.closenessCentralityNormalised=e.elesfn.closenessCentralityNormalized;e.elesfn.bc=e.elesfn.betweennessCentrality})(cytoscape);(function(e){"use strict";e.fn.eles({animated:e.define.animated(),clearQueue:e.define.clearQueue(),delay:e.define.delay(),animate:e.define.animate(),stop:e.define.stop()})})(cytoscape);(function(e){"use strict";e.fn.eles({addClass:function(t){t=t.split(/\s+/);for(var r=this,n=[],i=0;i<t.length;i++){var a=t[i];if(!e.is.emptyString(a))for(var o=0;o<r.length;o++){var s=r[o],l=s._private.classes[a];s._private.classes[a]=!0;l||n.push(s)}}n.length>0&&new e.Collection(this._private.cy,n).updateStyle().trigger("class");return r},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes[e]?!0:!1},toggleClass:function(t,r){for(var n=t.split(/\s+/),i=this,a=[],o=0,s=i.length;s>o;o++)for(var l=i[o],u=0;u<n.length;u++){var c=n[u];if(!e.is.emptyString(c)){var d=l._private.classes[c],f=r||void 0===r&&!d;if(f){l._private.classes[c]=!0;d||a.push(l)}else{l._private.classes[c]=!1;d&&a.push(l)}}}a.length>0&&new e.Collection(this._private.cy,a).updateStyle().trigger("class");return i},removeClass:function(t){t=t.split(/\s+/);for(var r=this,n=[],i=0;i<r.length;i++)for(var a=r[i],o=0;o<t.length;o++){var s=t[o];if(s&&""!==s){var l=a._private.classes[s];a._private.classes[s]=void 0;l&&n.push(a)}}n.length>0&&new e.Collection(r._private.cy,n).updateStyle();r.trigger("class");return r},flashClass:function(e,t){var r=this;if(null==t)t=250;else if(0===t)return r;r.addClass(e);setTimeout(function(){r.removeClass(e)},t);return r}})})(cytoscape);(function(e){"use strict";e.fn.eles({allAre:function(e){return this.filter(e).length===this.length},is:function(e){return this.filter(e).length>0},some:function(e,t){for(var r=0;r<this.length;r++){var n=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(n)return!0}return!1},every:function(e,t){for(var r=0;r<this.length;r++){var n=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(!n)return!1}return!0},same:function(e){e=this.cy().collection(e);return this.length!==e.length?!1:this.intersect(e).length===this.length},anySame:function(e){e=this.cy().collection(e);return this.intersect(e).length>0},allAreNeighbors:function(e){e=this.cy().collection(e);return this.neighborhood().intersect(e).length===e.length}});e.elesfn.allAreNeighbours=e.elesfn.allAreNeighbors})(cytoscape);(function(e){"use strict";e.fn.eles({parent:function(t){for(var r=[],n=this._private.cy,i=0;i<this.length;i++){var a=this[i],o=n.getElementById(a._private.data.parent);o.size()>0&&r.push(o)}return new e.Collection(n,r,{unique:!0}).filter(t)},parents:function(t){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];r.push(a)}n=n.parent()}return new e.Collection(this.cy(),r,{unique:!0}).filter(t)},commonAncestors:function(e){for(var t,r=0;r<this.length;r++){var n=this[r],i=n.parents();t=t||i;t=t.intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().empty()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().nonempty()}).filter(e)},children:function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n];r=r.concat(i._private.children)}return new e.Collection(this.cy(),r,{unique:!0}).filter(t)},siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];return e?0!==e._private.children.length:void 0},isChild:function(){var e=this[0];return e?void 0!==e._private.data.parent&&0!==e.parent().length:void 0},descendants:function(t){function r(e){for(var t=0;t<e.length;t++){var i=e[t];n.push(i);i.children().nonempty()&&r(i.children())}}var n=[];r(this.children());return new e.Collection(this.cy(),n,{unique:!0}).filter(t)}});e.elesfn.ancestors=e.elesfn.parents})(cytoscape);(function(e){"use strict";var t=1,r=0;e.fn.eles({data:e.define.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:e.define.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:e.define.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:e.define.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:e.define.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:e.define.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];return e?e._private.data.id:void 0},position:e.define.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){var t=e.updateCompoundBounds();t.rtrigger("position")},canSet:function(e){return!e.locked()}}),silentPosition:e.define.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){e.updateCompoundBounds()},canSet:function(e){return!e.locked()}}),positions:function(t,r){if(e.is.plainObject(t))this.position(t);else if(e.is.fn(t)){for(var n=t,i=0;i<this.length;i++){var a=this[i],t=n.apply(a,[i,a]);if(t&&!a.locked()){var o=a._private.position;o.x=t.x;o.y=t.y}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;r?l.trigger("position"):l.rtrigger("position")}return this},silentPositions:function(e){return this.positions(e,!0)},updateCompoundBounds:function(){function t(e){var t=e.children(),r=e._private.style,i="include"===r["compound-sizing-wrt-labels"].value,a=t.boundingBox({includeLabels:i,includeEdges:!0}),o={top:r["padding-top"].pxValue,bottom:r["padding-bottom"].pxValue,left:r["padding-left"].pxValue,right:r["padding-right"].pxValue},s=e._private.position,l=!1;if("auto"===r.width.value){e._private.autoWidth=a.w+o.left+o.right;s.x=(a.x1+a.x2-o.left+o.right)/2;l=!0}if("auto"===r.height.value){e._private.autoHeight=a.h+o.top+o.bottom;s.y=(a.y1+a.y2-o.top+o.bottom)/2;l=!0}l&&n.push(e)}var r=this.cy();if(!r.styleEnabled()||!r.hasCompoundNodes())return r.collection();for(var n=[],i=this.parent();i.nonempty();){for(var a=0;a<i.length;a++){var o=i[a];t(o)}i=i.parent()}return new e.Collection(r,n)},renderedPosition:function(t,r){var n=this[0],i=this.cy(),a=i.zoom(),o=i.pan(),s=e.is.plainObject(t)?t:void 0,l=void 0!==s||void 0!==r&&e.is.string(t);if(n&&n.isNode()){if(!l){var u=n._private.position;s={x:u.x*a+o.x,y:u.y*a+o.y};return void 0===t?s:s[t]}for(var c=0;c<this.length;c++){var n=this[c];void 0!==r?n._private.position[t]=(r-o[t])/a:void 0!==s&&(n._private.position={x:(s.x-o.x)/a,y:(s.y-o.y)/a})}this.rtrigger("position")}else if(!l)return void 0;return this},relativePosition:function(t,r){var n=this[0],i=this.cy(),a=e.is.plainObject(t)?t:void 0,o=void 0!==a||void 0!==r&&e.is.string(t),s=i.hasCompoundNodes();if(n&&n.isNode()){if(!o){var l=n._private.position,u=s?n.parent():null,c=u&&u.length>0,d=c;c&&(u=u[0]);var f=d?u._private.position:{x:0,y:0};a={x:l.x-f.x,y:l.y-f.y};return void 0===t?a:a[t]}for(var p=0;p<this.length;p++){var n=this[p],u=s?n.parent():null,c=u&&u.length>0,d=c;c&&(u=u[0]);var f=d?u._private.position:{x:0,y:0};void 0!==r?n._private.position[t]=r+f[t]:void 0!==a&&(n._private.position={x:a.x+f.x,y:a.y+f.y})}this.rtrigger("position")}else if(!o)return void 0;return this},width:function(){var e=this[0],t=e._private.cy,r=t._private.styleEnabled;if(e){if(r){var n=e._private.style.width;return"auto"===n.strValue?e._private.autoWidth:n.pxValue}return 1}},outerWidth:function(){var e=this[0],n=e._private.cy,i=n._private.styleEnabled;if(e){if(i){var a=e._private.style,o="auto"===a.width.strValue?e._private.autoWidth:a.width.pxValue,s=a["border-width"]?a["border-width"].pxValue*t+r:0;return o+s}return 1}},renderedWidth:function(){var e=this[0];if(e){var t=e.width();return t*this.cy().zoom()}},renderedOuterWidth:function(){var e=this[0];if(e){var t=e.outerWidth();return t*this.cy().zoom()}},height:function(){var e=this[0],t=e._private.cy,r=t._private.styleEnabled;if(e&&"nodes"===e._private.group){if(r){var n=e._private.style.height;return"auto"===n.strValue?e._private.autoHeight:n.pxValue}return 1}},outerHeight:function(){var e=this[0],n=e._private.cy,i=n._private.styleEnabled;if(e&&"nodes"===e._private.group){if(!i)return 1;var a=e._private.style,o="auto"===a.height.strValue?e._private.autoHeight:a.height.pxValue,s=a["border-width"]?a["border-width"].pxValue*t+r:0;return o+s}},renderedHeight:function(){var e=this[0];if(e&&"nodes"===e._private.group){var t=e.height();return t*this.cy().zoom()}},renderedOuterHeight:function(){var e=this[0];if(e&&"nodes"===e._private.group){var t=e.outerHeight();return t*this.cy().zoom()}},renderedBoundingBox:function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),i=r.pan(),a=t.x1*n+i.x,o=t.x2*n+i.x,s=t.y1*n+i.y,l=t.y2*n+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}},boundingBox:function(e){var t=this,r=t._private.cy,n=r._private,i=n.styleEnabled;e=e||{};var a=void 0===e.includeNodes?!0:e.includeNodes,o=void 0===e.includeEdges?!0:e.includeEdges,s=void 0===e.includeLabels?!0:e.includeLabels;i&&n.renderer.recalculateRenderedStyle(this);for(var l=1/0,u=-(1/0),c=1/0,d=-(1/0),f=0;f<t.length;f++){var p,h,v,g,y,m,b=t[f],x=b._private,w=x.style,_=i?x.style.display.value:"element",k="nodes"===x.group,E=!1;if("none"!==_){if(k&&a){E=!0;var C=x.position;y=C.x;m=C.y;var S=b.outerWidth(),T=S/2,D=b.outerHeight(),P=D/2;p=y-T;h=y+T;v=m-P;g=m+P;l=l>p?p:l;u=h>u?h:u;c=c>v?v:c;d=g>d?g:d}else if(b.isEdge()&&o){E=!0;var M=x.source,N=M._private,j=N.position,L=x.target,I=L._private,B=I.position,O=x.rstyle||{};p=j.x;h=B.x;v=j.y;g=B.y;if(p>h){var R=p;p=h;h=R}if(v>g){var R=v;v=g;g=R}l=l>p?p:l;u=h>u?h:u;c=c>v?v:c;d=g>d?g:d;if(i)for(var A=O.bezierPts||[],S=w.width.pxValue,z=S/2,V=0;V<A.length;V++){var F=A[V];p=F.x-z;h=F.x+z;v=F.y-z;g=F.y+z;l=l>p?p:l;u=h>u?h:u;c=c>v?v:c;d=g>d?g:d}if(i&&"haystack"===w["curve-style"].strValue){var q=x.rscratch.haystackPts;p=q[0];v=q[1];h=q[2];g=q[3];if(p>h){var R=p;p=h;h=R}if(v>g){var R=v;v=g;g=R}l=l>p?p:l;u=h>u?h:u;c=c>v?v:c;d=g>d?g:d}}if(i){var w=b._private.style,O=b._private.rstyle,X=w.content.strValue,Y=w["font-size"],W=w["text-halign"],H=w["text-valign"],U=O.labelWidth,$=O.labelHeight,G=O.labelX,Z=O.labelY;if(E&&s&&X&&Y&&null!=$&&null!=U&&null!=G&&null!=Z&&W&&H){var Q,J,K,ee,te=$,re=U;if(b.isEdge()){Q=G-re/2;J=G+re/2;K=Z-te/2;ee=Z+te/2}else{switch(W.value){case"left":Q=G-re;J=G;break;case"center":Q=G-re/2;J=G+re/2;break;case"right":Q=G;J=G+re}switch(H.value){case"top":K=Z-te;ee=Z;break;case"center":K=Z-te/2;ee=Z+te/2;break;case"bottom":K=Z;ee=Z+te}}l=l>Q?Q:l;u=J>u?J:u;c=c>K?K:c;d=ee>d?ee:d}}}}return{x1:l,x2:u,y1:c,y2:d,w:u-l,h:d-c}}});var n=e.elesfn;n.attr=n.data;n.removeAttr=n.removeData;n.modelPosition=n.point=n.position;n.modelPositions=n.points=n.positions;n.renderedPoint=n.renderedPosition;n.relativePoint=n.relativePosition;n.boundingbox=n.boundingBox;n.renderedBoundingbox=n.renderedBoundingBox})(cytoscape);(function(e){"use strict";function t(e){return function(t){var r=this;void 0===t&&(t=!0);if(0!==r.length&&r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];(t||!s.isLoop())&&(n+=e(i,s))}return n}}}function r(e,t){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var o=i[a],s=o[e](r);void 0===s||void 0!==n&&!t(s,n)||(n=s)}return n}}e.fn.eles({degree:t(function(e,t){return t.source().same(t.target())?2:1}),indegree:t(function(e,t){return t.target().same(e)?1:0}),outdegree:t(function(e,t){return t.source().same(e)?1:0})});e.fn.eles({minDegree:r("degree",function(e,t){return t>e}),maxDegree:r("degree",function(e,t){return e>t}),minIndegree:r("indegree",function(e,t){return t>e}),maxIndegree:r("indegree",function(e,t){return e>t}),minOutdegree:r("outdegree",function(e,t){return t>e}),maxOutdegree:r("outdegree",function(e,t){return e>t})});e.fn.eles({totalDegree:function(e){for(var t=0,r=this.nodes(),n=0;n<r.length;n++)t+=r[n].degree(e);return t}})})(cytoscape);(function(e){"use strict";e.fn.eles({on:e.define.on(),one:e.define.on({unbindSelfOnTrigger:!0}),once:e.define.on({unbindAllBindersOnTrigger:!0}),off:e.define.off(),trigger:e.define.trigger(),rtrigger:function(e,t){if(0!==this.length){this.cy().notify({type:e,collection:this});this.trigger(e,t);return this}}});e.define.eventAliasesOn(e.elesfn);

})(cytoscape);(function(e){"use strict";e.fn.eles({nodes:function(e){return this.filter(function(e,t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(e,t){return t.isEdge()}).filter(e)},filter:function(t){var r=this._private.cy;if(e.is.fn(t)){for(var n=[],i=0;i<this.length;i++){var a=this[i];t.apply(a,[i,a])&&n.push(a)}return new e.Collection(r,n)}return e.is.string(t)||e.is.elementOrCollection(t)?new e.Selector(t).filter(this):void 0===t?this:new e.Collection(r)},not:function(t){var r=this._private.cy;if(t){e.is.string(t)&&(t=this.filter(t));for(var n=[],i=0;i<this.length;i++){var a=this[i],o=t._private.ids[a.id()];o||n.push(a)}return new e.Collection(r,n)}return this},absoluteComplement:function(){var e=this._private.cy;return e.elements().not(this)},intersect:function(t){var r=this._private.cy;if(e.is.string(t)){var n=t;return this.filter(n)}for(var i=[],a=this,o=t,s=this.length<t.length,l=s?o._private.ids:a._private.ids,u=s?a:o,c=0;c<u.length;c++){var d=u[c]._private.data.id,f=l[d];f&&i.push(f)}return new e.Collection(r,i)},xor:function(t){var r=this._private.cy;e.is.string(t)&&(t=r.$(t));var n=[],i=this,a=t,o=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=i._private.data.id,o=t._private.ids[a];o||n.push(i)}};o(i,a);o(a,i);return new e.Collection(r,n)},diff:function(t){var r=this._private.cy;e.is.string(t)&&(t=r.$(t));var n=[],i=[],a=[],o=this,s=t,l=function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n],o=i._private.data.id,s=t._private.ids[o];s?a.push(i):r.push(i)}};l(o,s,n);l(s,o,i);return{left:new e.Collection(r,n,{unique:!0}),right:new e.Collection(r,i,{unique:!0}),both:new e.Collection(r,a,{unique:!0})}},add:function(t){var r=this._private.cy;if(!t)return this;if(e.is.string(t)){var n=t;t=r.elements(n)}for(var i=[],a=0;a<this.length;a++)i.push(this[a]);for(var a=0;a<t.length;a++){var o=!this._private.ids[t[a].id()];o&&i.push(t[a])}return new e.Collection(r,i)},merge:function(t){var r=this._private,n=r.cy;if(!t)return this;if(e.is.string(t)){var i=t;t=n.elements(i)}for(var a=0;a<t.length;a++){var o=t[a],s=o.id(),l=!r.ids[s];if(l){var u=this.length++;this[u]=o;r.ids[s]=o;r.indexes[s]=u}}return this},unmergeOne:function(e){e=e[0];var t=this._private,r=e.id(),n=t.indexes[r];if(null==n)return this;this[n]=void 0;t.ids[r]=void 0;t.indexes[r]=void 0;var i=n===this.length-1;if(this.length>1&&!i){var a=this.length-1,o=this[a];this[a]=void 0;this[n]=o;t.indexes[o.id()]=n}this.length--;return this},unmerge:function(t){var r=this._private.cy;if(!t)return this;if(e.is.string(t)){var n=t;t=r.elements(n)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},map:function(e,t){for(var r=[],n=this,i=0;i<n.length;i++){var a=n[i],o=t?e.apply(t,[a,i,n]):e(a,i,n);r.push(o)}return r},stdFilter:function(t,r){for(var n=[],i=this,a=this._private.cy,o=0;o<i.length;o++){var s=i[o],l=r?t.apply(r,[s,o,i]):t(s,o,i);l&&n.push(s)}return new e.Collection(a,n)},max:function(e,t){for(var r,n=-(1/0),i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);if(s>n){n=s;r=o}}return{value:n,ele:r}},min:function(e,t){for(var r,n=1/0,i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);if(n>s){n=s;r=o}}return{value:n,ele:r}}});var t=e.elesfn;t.u=t["|"]=t["+"]=t.union=t.or=t.add;t["\\"]=t["!"]=t["-"]=t.difference=t.relativeComplement=t.not;t.n=t["&"]=t["."]=t.and=t.intersection=t.intersect;t["^"]=t["(+)"]=t["(-)"]=t.symmetricDifference=t.symdiff=t.xor;t.fnFilter=t.filterFn=t.stdFilter;t.complement=t.abscomp=t.absoluteComplement})(cytoscape);(function(e){"use strict";e.fn.eles({isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var e=this[0];return e?e._private.group:void 0}})})(cytoscape);(function(e){"use strict";e.fn.eles({each:function(t){if(e.is.fn(t))for(var r=0;r<this.length;r++){var n=this[r],i=t.apply(n,[r,n]);if(i===!1)break}return this},forEach:function(t,r){if(e.is.fn(t))for(var n=0;n<this.length;n++){var i=this[n],a=r?t.apply(r,[i,n,this]):t(i,n,this);if(a===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(t,r){var n=[],i=this.length;null==r&&(r=i);null==t&&(t=0);0>t&&(t=i+t);0>r&&(r=i+r);for(var a=t;a>=0&&r>a&&i>a;a++)n.push(this[a]);return new e.Collection(this.cy(),n)},size:function(){return this.length},eq:function(t){return this[t]||new e.Collection(this.cy())},first:function(){return this[0]||new e.Collection(this.cy())},last:function(){return this[this.length-1]||new e.Collection(this.cy())},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!e.is.fn(t))return this;var r=this.cy(),n=this.toArray().sort(t);return new e.Collection(r,n)},sortByZIndex:function(){return this.sort(e.Collection.zIndexSort)},zDepth:function(){var e=this[0];if(!e)return void 0;var t=e._private,r=t.group;if("nodes"===r){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:Number.MAX_VALUE}var i=t.source,a=t.target,o=i.zDepth(),s=a.zDepth();return Math.max(o,s,0)}});e.Collection.zIndexSort=function(e,t){var r=e.cy(),n=e._private,i=t._private,a=n.style["z-index"].value-i.style["z-index"].value,o=0,s=0,l=r.hasCompoundNodes(),u="nodes"===n.group,c="edges"===n.group,d="nodes"===i.group,f="edges"===i.group;if(l){o=e.zDepth();s=t.zDepth()}var p=o-s,h=0===p;return h?u&&f?1:c&&d?-1:0===a?n.index-i.index:a:p}})(cytoscape);(function(e){"use strict";e.fn.eles({layoutPositions:function(t,r,n){var i=this.nodes(),a=this.cy();t.trigger({type:"layoutstart",layout:t});if(r.animate){for(var o=0;o<i.length;o++){var s=i[o],l=o===i.length-1,u=n.call(s,o,s),c=s.position();e.is.number(c.x)&&e.is.number(c.y)||s.silentPosition({x:0,y:0});s.animate({position:u},{duration:r.animationDuration,step:l?function(){r.fit&&a.fit(r.eles,r.padding)}:void 0,complete:l?function(){null!=r.zoom&&a.zoom(r.zoom);r.pan&&a.pan(r.pan);r.fit&&a.fit(r.eles,r.padding);t.one("layoutstop",r.stop);t.trigger({type:"layoutstop",layout:t})}:void 0})}t.one("layoutready",r.ready);t.trigger({type:"layoutready",layout:t})}else{i.positions(n);r.fit&&a.fit(r.eles,r.padding);null!=r.zoom&&a.zoom(r.zoom);r.pan&&a.pan(r.pan);t.one("layoutready",r.ready);t.trigger({type:"layoutready",layout:t});t.one("layoutstop",r.stop);t.trigger({type:"layoutstop",layout:t})}return this},layout:function(t){var r=this.cy();r.layout(e.util.extend({},t,{eles:this}));return this},makeLayout:function(t){var r=this.cy();return r.makeLayout(e.util.extend({},t,{eles:this}))}});e.elesfn.createLayout=e.elesfn.makeLayout})(cytoscape);(function(e){"use strict";e.fn.eles({updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t._private.batchingStyle){for(var r=t._private.batchStyleEles,n=0;n<this.length;n++){var i=this[n];r.ids[i._private.id]||r.push(i)}return this}var a=t.style();e=e||void 0===e?!0:!1;a.apply(this);var o=this.updateCompoundBounds(),s=o.length>0?this.add(o):this;e?s.rtrigger("style"):s.trigger("style");return this},updateMappers:function(e){var t=this._private.cy,r=t.style();e=e||void 0===e?!0:!1;if(!t.styleEnabled())return this;r.updateMappers(this);var n=this.updateCompoundBounds(),i=n.length>0?this.add(n):this;e?i.rtrigger("style"):i.trigger("style");return this},renderedCss:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];if(r){var n=r.cy().style().getRenderedStyle(r);return void 0===e?n:n[e]}},css:function(t,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,a=n.style();if(e.is.plainObject(t)){var o=t;a.applyBypass(this,o,i);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(e.is.string(t)){if(void 0===r){var u=this[0];return u?u._private.style[t].strValue:void 0}a.applyBypass(this,t,r,i);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(void 0===t){var u=this[0];return u?a.getRawStyle(u):void 0}return this},removeCss:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=!1,n=t.style(),i=this;if(void 0===e)for(var a=0;a<i.length;a++){var o=i[a];n.removeAllBypasses(o,r)}else{e=e.split(/\s+/);for(var a=0;a<i.length;a++){var o=i[a];n.removeBypasses(o,e,r)}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style");return this},show:function(){this.css("display","element");return this},hide:function(){this.css("display","none");return this},visible:function(){var e=this.cy();if(!e.styleEnabled())return!0;var t=this[0],r=e.hasCompoundNodes();if(t){var n=t._private.style;if("visible"!==n.visibility.value||"element"!==n.display.value)return!1;if("nodes"===t._private.group){if(!r)return!0;var i=t._private.data.parent?t.parents():null;if(i)for(var a=0;a<i.length;a++){var o=i[a],s=o._private.style,l=s.visibility.value,u=s.display.value;if("visible"!==l||"element"!==u)return!1}return!0}var c=t._private.source,d=t._private.target;return c.visible()&&d.visible()}},hidden:function(){var e=this[0];return e?!e.visible():void 0},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var n=r._private,i=n.style.opacity.value;if(!t)return i;var a=n.data.parent?r.parents():null;if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s._private.style.opacity.value;i=l*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],r=t.cy().hasCompoundNodes();return t?r?0===t.effectiveOpacity():0===t._private.style.opacity.value:void 0},isFullAutoParent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];if(t){var r="auto"===t._private.style.width.value,n="auto"===t._private.style.height.value;return t.isParent()&&r&&n}},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return t._private.backgrounding?!0:!1}});e.elesfn.bypass=e.elesfn.style=e.elesfn.css;e.elesfn.renderedStyle=e.elesfn.renderedCss;e.elesfn.removeBypass=e.elesfn.removeStyle=e.elesfn.removeCss})(cytoscape);(function(e){"use strict";function t(t){return function(){var r=arguments,n=[];if(2===r.length){var i=r[0],a=r[1];this.bind(t.event,i,a)}else if(1===r.length){var a=r[0];this.bind(t.event,a)}else if(0===r.length){for(var o=0;o<this.length;o++){var s=this[o],l=!t.ableField||s._private[t.ableField],u=s._private[t.field]!=t.value;if(t.overrideAble){var c=t.overrideAble(s);if(void 0!==c){l=c;if(!c)return this}}if(l){s._private[t.field]=t.value;u&&n.push(s)}}var d=e.Collection(this.cy(),n);d.updateStyle();d.trigger(t.event)}return this}}function r(r){e.elesfn[r.field]=function(){var e=this[0];if(e){if(r.overrideField){var t=r.overrideField(e);if(void 0!==t)return t}return e._private[r.field]}};e.elesfn[r.on]=t({event:r.on,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!0});e.elesfn[r.off]=t({event:r.off,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!1})}r({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});r({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()?!1:void 0},on:"grabify",off:"ungrabify"});r({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});r({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});e.elesfn.deselect=e.elesfn.unselect;e.elesfn.grabbed=function(){var e=this[0];return e?e._private.grabbed:void 0};r({field:"active",on:"activate",off:"unactivate"});e.elesfn.inactive=function(){var e=this[0];return e?!e._private.active:void 0}})(cytoscape);(function(e){"use strict";function t(t){return function(r){for(var n=[],i=this._private.cy,a=0;a<this.length;a++){var o=this[a],s=o._private[t.attr];s&&n.push(s)}return new e.Collection(i,n,{unique:!0}).filter(r)}}function r(t){return function(r){var n=[],i=this._private.cy,a=t||{};e.is.string(r)&&(r=i.$(r));for(var o=this._private.ids,s=r._private.ids,l=0;l<r.length;l++)for(var u=r[l]._private.edges,c=0;c<u.length;c++){var d=u[c],f=d._private.data,p=o[f.source]&&s[f.target],h=s[f.source]&&o[f.target],v=p||h;if(v){if(a.thisIs){if("source"===a.thisIs&&!p)continue;if("target"===a.thisIs&&!h)continue}n.push(d)}}return new e.Collection(i,n,{unique:!0})}}function n(t){var r={codirected:!1};t=e.util.extend({},r,t);return function(r){for(var n=this._private.cy,i=[],a=this.edges(),o=t,s=0;s<a.length;s++)for(var l=a[s],u=l.source()[0],c=u.id(),d=l.target()[0],f=d.id(),p=u._private.edges,h=0;h<p.length;h++){var v=p[h],g=v._private.data,y=g.target,m=g.source,b=y===f&&m===c,x=c===y&&f===m;(o.codirected&&b||!o.codirected&&(b||x))&&i.push(v)}return new e.Collection(n,i,{unique:!0}).filter(r)}}e.fn.eles({roots:function(t){for(var r=this,n=[],i=0;i<r.length;i++){var a=r[i];if(a.isNode()){var o=a.connectedEdges(function(){return this.data("target")===a.id()&&this.data("source")!==a.id()}).length>0;o||n.push(a)}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},leaves:function(t){for(var r=this,n=[],i=0;i<r.length;i++){var a=r[i];if(a.isNode()){var o=a.connectedEdges(function(){return this.data("source")===a.id()&&this.data("target")!==a.id()}).length>0;o||n.push(a)}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},outgoers:function(t){for(var r=this,n=[],i=0;i<r.length;i++){var a=r[i],o=a.id();if(a.isNode())for(var s=a._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data.source,d=u._private.data.target;if(c===o&&d!==o){n.push(u);n.push(u.target()[0])}}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},successors:function(t){for(var r=this,n=[],i={};;){var a=r.outgoers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var l=a[s],u=l.id();if(!i[u]){i[u]=!0;n.push(l);o=!0}}if(!o)break;r=a}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},incomers:function(t){for(var r=this,n=[],i=0;i<r.length;i++){var a=r[i],o=a.id();if(a.isNode())for(var s=a._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data.source,d=u._private.data.target;if(d===o&&c!==o){n.push(u);n.push(u.source()[0])}}}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)},predecessors:function(t){for(var r=this,n=[],i={};;){var a=r.incomers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var l=a[s],u=l.id();if(!i[u]){i[u]=!0;n.push(l);o=!0}}if(!o)break;r=a}return new e.Collection(this._private.cy,n,{unique:!0}).filter(t)}});e.fn.eles({neighborhood:function(t){for(var r=[],n=this._private.cy,i=this.nodes(),a=0;a<i.length;a++)for(var o=i[a],s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.connectedNodes().not(o);c.length>0&&r.push(c[0]);r.push(u[0])}return new e.Collection(n,r,{unique:!0}).filter(t)},closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});e.elesfn.neighbourhood=e.elesfn.neighborhood;e.elesfn.closedNeighbourhood=e.elesfn.closedNeighborhood;e.elesfn.openNeighbourhood=e.elesfn.openNeighborhood;e.fn.eles({source:function(e){var t,r=this[0];r&&(t=r._private.source);return t&&e?t.filter(e):t},target:function(e){var t,r=this[0];r&&(t=r._private.target);return t&&e?t.filter(e):t},sources:t({attr:"source"}),targets:t({attr:"target"})});e.fn.eles({edgesWith:r(),edgesTo:r({thisIs:"source"})});e.fn.eles({connectedEdges:function(t){for(var r=[],n=this._private.cy,i=this,a=0;a<i.length;a++){var o=i[a];if(o.isNode())for(var s=o._private.edges,l=0;l<s.length;l++){var u=s[l];r.push(u)}}return new e.Collection(n,r,{unique:!0}).filter(t)},connectedNodes:function(t){for(var r=[],n=this._private.cy,i=this,a=0;a<i.length;a++){var o=i[a];if(o.isEdge()){r.push(o.source()[0]);r.push(o.target()[0])}}return new e.Collection(n,r,{unique:!0}).filter(t)},parallelEdges:n(),codirectedEdges:n({codirected:!0})})})(cytoscape);(function(e){"use strict";e.fn.eles({fit:function(){},center:function(){}})})(cytoscape);(function(e){"use strict";e.Minheap=function(t,r,n){return new e.Heap(t,r,e.Heap.minHeapComparator,n)};e.Maxheap=function(t,r,n){return new e.Heap(t,r,e.Heap.maxHeapComparator,n)};e.Heap=function(t,r,n,i){if("undefined"!=typeof n&&"undefined"!=typeof r){"undefined"==typeof i&&(i=e.Heap.idFn);var a,o,s,l=[],u={},c=[],d=0;r=this.getArgumentAsCollection(r,t);s=r.length;for(d=0;s>d;d+=1){l.push(i.call(t,r[d],d,r));a=r[d].id();if(u.hasOwnProperty(a))throw"ERROR: Multiple items with the same id found: "+a;u[a]=d;c.push(a)}this._private={cy:t,heap:l,pointers:u,elements:c,comparator:n,extractor:i,length:s};for(d=Math.floor(s/2);d>=0;d-=1)o=this.heapify(d);return o}};e.Heap.idFn=function(e){return e.id()};e.Heap.minHeapComparator=function(e,t){return e>=t};e.Heap.maxHeapComparator=function(e,t){return t>=e};e.fn.heap=function(t,r){for(var n in t){var i=t[n];e.Heap.prototype[n]=i}};e.heapfn=e.Heap.prototype;e.heapfn.size=function(){return this._private.length};e.heapfn.getArgumentAsCollection=function(t,r){var n;"undefined"==typeof r&&(r=this._private.cy);if(e.is.elementOrCollection(t))n=t;else{for(var i=[],a=[].concat.apply([],[t]),o=0;o<a.length;o++){var s=a[o],l=r.getElementById(s);l.length>0&&i.push(l)}n=new e.Collection(r,i)}return n};e.heapfn.isHeap=function(){var e,t,r,n,i,a=this._private.heap,o=a.length,s=this._private.comparator;for(e=0;o>e;e+=1){t=2*e+1;r=t+1;n=o>t?s(a[t],a[e]):!0;i=o>r?s(a[r],a[e]):!0;if(!n||!i)return!1}return!0};e.heapfn.heapSwap=function(e,t){var r=this._private.heap,n=this._private.pointers,i=this._private.elements,a=r[e],o=i[e],s=i[e],l=i[t];r[e]=r[t];i[e]=i[t];n[s]=t;n[l]=e;r[t]=a;i[t]=o};e.heapfn.heapify=function(e,t){var r,n,i,a,o,s,l,u=0,c=!1;"undefined"==typeof t&&(t=!0);r=this._private.heap;u=r.length;s=this._private.comparator;n=e;for(;!c;)if(t){i=2*n+1;a=i+1;o=n;u>i&&!s(r[i],r[o])&&(o=i);u>a&&!s(r[a],r[o])&&(o=a);c=o===n;if(!c){this.heapSwap(o,n);n=o}}else{l=Math.floor((n-1)/2);o=n;c=0>l||s(r[o],r[l]);if(!c){this.heapSwap(o,l);n=l}}};e.heapfn.insert=function(e){var t,r,n,i,a,o=this.getArgumentAsCollection(e),s=o.length;for(a=0;s>a;a+=1){t=o[a];r=this._private.heap.length;n=this._private.extractor(t);i=t.id();if(this._private.pointers.hasOwnProperty(i))throw"ERROR: Multiple items with the same id found: "+i;this._private.heap.push(n);this._private.elements.push(i);this._private.pointers[i]=r;this.heapify(r,!1)}this._private.length=this._private.heap.length};e.heapfn.getValueById=function(e){if(this._private.pointers.hasOwnProperty(e)){var t=this._private.pointers[e];return this._private.heap[t]}};e.heapfn.contains=function(e){for(var t=this.getArgumentAsCollection(e),r=0;r<t.length;r+=1){var n=t[r].id();if(!this._private.pointers.hasOwnProperty(n))return!1}return!0};e.heapfn.top=function(){return this._private.length>0?{value:this._private.heap[0],id:this._private.elements[0]}:void 0};e.heapfn.pop=function(){if(this._private.length>0){var e,t,r,n=this.top(),i=this._private.length-1;this.heapSwap(0,i);e=this._private.elements[i];t=this._private.heap[i];r=e;this._private.heap.pop();this._private.elements.pop();this._private.length=this._private.heap.length;this._private.pointers[r]=void 0;this.heapify(0);return n}};e.heapfn.findDirectionHeapify=function(e){var t=Math.floor((e-1)/2),r=this._private.heap,n=0>t||this._private.comparator(r[e],r[t]);this.heapify(e,n)};e.heapfn.edit=function(t,r){for(var n=this.getArgumentAsCollection(t),i=0;i<n.length;i+=1){var a=n[i].id(),o=this._private.pointers[a],s=this._private.heap[o];e.is.number(r)?this._private.heap[o]=r:e.is.fn(r)&&(this._private.heap[o]=r.call(this._private.cy,s,o));this.findDirectionHeapify(o)}};e.heapfn.remove=function(e){for(var t=this.getArgumentAsCollection(e),r=0;r<t.length;r+=1){var n,i,a,o=t[r].id(),s=this._private.pointers[o],l=this._private.length-1;s!==l&&this.heapSwap(s,l);n=this._private.elements[l];i=this._private.heap[l];a=n;this._private.heap.pop();this._private.elements.pop();this._private.length=this._private.heap.length;this._private.pointers[a]=void 0;this.findDirectionHeapify(s)}return i}})(cytoscape);(function(e){"use strict";function t(e){this.options=e;this.data={select:[void 0,void 0,void 0,void 0,0],renderer:this,cy:e.cy,container:e.cy.container(),canvases:new Array(t.CANVAS_LAYERS),contexts:new Array(t.CANVAS_LAYERS),canvasNeedsRedraw:new Array(t.CANVAS_LAYERS),bufferCanvases:new Array(t.BUFFER_COUNT),bufferContexts:new Array(t.CANVAS_LAYERS)};this.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1};this.timeoutData={panTimeout:null};this.dragData={possibleDragElements:[]};this.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]};this.zoomData={freeToZoom:!1,lastPointerX:null};this.redraws=0;this.showFps=e.showFps;this.bindings=[];this.data.canvasContainer=document.createElement("div");var r=this.data.canvasContainer.style;r.position="absolute";r.zIndex="0";r.overflow="hidden";this.data.container.appendChild(this.data.canvasContainer);for(var n=0;n<t.CANVAS_LAYERS;n++){this.data.canvases[n]=document.createElement("canvas");this.data.contexts[n]=this.data.canvases[n].getContext("2d");this.data.canvases[n].style.position="absolute";this.data.canvases[n].setAttribute("data-id","layer"+n);this.data.canvases[n].style.zIndex=String(t.CANVAS_LAYERS-n);this.data.canvasContainer.appendChild(this.data.canvases[n]);this.data.canvasNeedsRedraw[n]=!1}this.data.topCanvas=this.data.canvases[0];this.data.canvases[t.NODE].setAttribute("data-id","layer"+t.NODE+"-node");this.data.canvases[t.SELECT_BOX].setAttribute("data-id","layer"+t.SELECT_BOX+"-selectbox");this.data.canvases[t.DRAG].setAttribute("data-id","layer"+t.DRAG+"-drag");for(var n=0;n<t.BUFFER_COUNT;n++){this.data.bufferCanvases[n]=document.createElement("canvas");this.data.bufferContexts[n]=this.data.bufferCanvases[n].getContext("2d");this.data.bufferCanvases[n].style.position="absolute";this.data.bufferCanvases[n].setAttribute("data-id","buffer"+n);this.data.bufferCanvases[n].style.zIndex=String(-n-1);this.data.bufferCanvases[n].style.visibility="hidden"}this.hideEdgesOnViewport=e.hideEdgesOnViewport;this.hideLabelsOnViewport=e.hideLabelsOnViewport;this.textureOnViewport=e.textureOnViewport;this.wheelSensitivity=e.wheelSensitivity;this.motionBlurEnabled=e.motionBlur;this.forcedPixelRatio=e.pixelRatio;this.motionBlur=!0;this.motionBlurOpacity=e.motionBlurOpacity;this.motionBlurTransparency=1-this.motionBlurOpacity;this.motionBlurPxRatio=1;this.mbPxRBlurry=1;this.minMbLowQualFrames=4;this.fullQualityMb=!1;this.clearedForMotionBlur=[];this.tapThreshold=e.tapThreshold;this.tapThreshold2=e.tapThreshold*e.tapThreshold;this.tapholdDuration=500;this.load()}t.CANVAS_LAYERS=3;t.SELECT_BOX=0;t.DRAG=1;t.NODE=2;t.BUFFER_COUNT=3;t.TEXTURE_BUFFER=0;t.MOTIONBLUR_BUFFER_NODE=1;t.MOTIONBLUR_BUFFER_DRAG=2;t.panOrBoxSelectDelay=400;t.isTouch=e.is.touch();var r="undefined"!=typeof Path2D;t.usePaths=function(){return r};t.prototype.notify=function(r){var n;n=e.is.array(r.type)?r.type:[r.type];for(var i=0;i<n.length;i++){var a=n[i];switch(a){case"destroy":this.destroy();return;case"add":case"remove":case"load":this.updateNodesCache();this.updateEdgesCache();break;case"viewport":this.data.canvasNeedsRedraw[t.SELECT_BOX]=!0;break;case"style":this.updateCachedZSortedEles()}if("load"===a||"resize"===a){this.invalidateContainerClientCoordsCache();this.matchCanvasSize(this.data.container)}}this.data.canvasNeedsRedraw[t.NODE]=!0;this.data.canvasNeedsRedraw[t.DRAG]=!0;this.redraw()};t.prototype.destroy=function(){this.destroyed=!0;for(var e=0;e<this.bindings.length;e++){var t=this.bindings[e],r=t;r.target.removeEventListener(r.event,r.handler,r.useCapture)}this.removeObserver&&this.removeObserver.disconnect();this.labelCalcDiv&&document.body.removeChild(this.labelCalcDiv)};for(var n in e.math)t.prototype[n]=e.math[n];e("renderer","canvas",t)})(cytoscape);(function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype,n=t.arrowShapes={};t.arrowShapeHeight=.3;var i=function(e,t,r,n,i,a,o,s){var l=r-i/2,u=r+i/2,c=n-a/2,d=n+a/2;return e>=l&&u>=e&&t>=c&&d>=t},a=function(e,t,r,n,i){n=-n;var a=e*Math.cos(n)-t*Math.sin(n),o=e*Math.sin(n)+t*Math.cos(n),s=a*r,l=o*r,u=s+i.x,c=l+i.y;return{x:u,y:c}};n.arrow={_points:[-.15,-.3,0,0,.15,-.3],collide:function(t,r,i,a,o,s,l,u){var c=n.arrow._points;return e.math.pointInsidePolygon(t,r,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,r,i){for(var o=n.arrow._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,r,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}};n.triangle=n.arrow;n["triangle-backcurve"]={_ctrlPt:[0,-.15],collide:function(t,r,i,a,o,s,l,u){var c=n.triangle._points;return e.math.pointInsidePolygon(t,r,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,r,i){for(var o,s=n.triangle._points,l=0;l<s.length/2;l++){var u=a(s[2*l],s[2*l+1],t,r,i);0===l&&(o=u);e.lineTo(u.x,u.y)}var c=this._ctrlPt,d=a(c[0],c[1],t,r,i);e.quadraticCurveTo(d.x,d.y,o.x,o.y)},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}};n["triangle-tee"]={_points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],_pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,r,i,a,o,s,l,u){var c=n["triangle-tee"]._points,d=n["triangle-tee"]._pointsTee,f=e.math.pointInsidePolygon(t,r,d,i,a,o,s,l,u)||e.math.pointInsidePolygon(t,r,c,i,a,o,s,l,u);return f},roughCollide:i,draw:function(e,t,r,i){for(var o=n["triangle-tee"]._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,r,i);e.lineTo(l.x,l.y)}var u=n["triangle-tee"]._pointsTee,c=a(u[0],u[1],t,r,i);e.moveTo(c.x,c.y);for(var s=0;s<u.length/2;s++){var l=a(u[2*s],u[2*s+1],t,r,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}};n["half-triangle-overshot"]={_points:[0,-.25,-.5,-.25,.5,.25],leavePathOpen:!0,matchEdgeWidth:!0,collide:function(t,r,n,i,a,o,s,l){var u=this._points;return e.math.pointInsidePolygon(t,r,u,n,i,a,o,s,l)},roughCollide:i,draw:function(e,t,r,n){for(var i=this._points,o=0;o<i.length/2;o++){var s=a(i[2*o],i[2*o+1],t,r,n);e.lineTo(s.x,s.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}};n.none={collide:function(e,t,r,n,i,a,o,s){return!1},roughCollide:function(e,t,r,n,i,a,o,s){return!1},draw:function(e){},spacing:function(e){return 0},gap:function(e){return 0}};n.circle={_baseRadius:.15,collide:function(e,t,r,i,a,o,s,l){if(a!=o){var u=(o+l)/(a+l);t/=u;i/=u;return Math.pow(r-e,2)+Math.pow(i-t,2)<=Math.pow((a+l)*n.circle._baseRadius,2)}return Math.pow(r-e,2)+Math.pow(i-t,2)<=Math.pow((a+l)*n.circle._baseRadius,2)},roughCollide:i,draw:function(e,t,r,i){e.arc(i.x,i.y,n.circle._baseRadius*t,0,2*Math.PI,!1)},spacing:function(e){return r.getArrowWidth(e._private.style.width.pxValue)*n.circle._baseRadius},gap:function(e){return 2*e._private.style.width.pxValue}};n.inhibitor={_points:[-.25,0,-.25,-.1,.25,-.1,.25,0],collide:function(t,r,i,a,o,s,l,u){var c=n.inhibitor._points;return e.math.pointInsidePolygon(t,r,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,r,i){for(var o=n.inhibitor._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,r,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 1},gap:function(e){return 1}};n.tee=n.inhibitor;n.square={_points:[-.15,0,.15,0,.15,-.3,-.15,-.3],collide:function(t,r,i,a,o,s,l,u){var c=n.square._points;return e.math.pointInsidePolygon(t,r,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,r,i){for(var o=n.square._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,r,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pxValue}};n.diamond={_points:[-.15,-.15,0,-.3,.15,-.15,0,0],collide:function(t,r,i,a,o,s,l,u){var c=n.diamond._points;return e.math.pointInsidePolygon(t,r,c,i,a,o,s,l,u)},roughCollide:i,draw:function(e,t,r,i){for(var o=n.diamond._points,s=0;s<o.length/2;s++){var l=a(o[2*s],o[2*s+1],t,r,i);e.lineTo(l.x,l.y)}},spacing:function(e){return 0},gap:function(e){return e._private.style.width.pxValue}}})(cytoscape);(function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.getCachedNodes=function(){var e=this.data,t=this.data.cy;null==e.cache&&(e.cache={});null==e.cache.cachedNodes&&(e.cache.cachedNodes=t.nodes());return e.cache.cachedNodes};r.updateNodesCache=function(){var e=this.data,t=this.data.cy;null==e.cache&&(e.cache={});e.cache.cachedNodes=t.nodes()};r.getCachedEdges=function(){var e=this.data,t=this.data.cy;null==e.cache&&(e.cache={});null==e.cache.cachedEdges&&(e.cache.cachedEdges=t.edges());return e.cache.cachedEdges};r.updateEdgesCache=function(){var e=this.data,t=this.data.cy;null==e.cache&&(e.cache={});e.cache.cachedEdges=t.edges()}})(cytoscape);(function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.projectIntoViewport=function(e,t){var r=this.findContainerClientCoords(),n=r[0],i=r[1],a=e-n,o=t-i;a-=this.data.cy.pan().x;o-=this.data.cy.pan().y;a/=this.data.cy.zoom();o/=this.data.cy.zoom();return[a,o]};r.findContainerClientCoords=function(){var e=this.data.container,t=this.containerBB=this.containerBB||e.getBoundingClientRect();return[t.left,t.top,t.right-t.left,t.bottom-t.top]};r.invalidateContainerClientCoordsCache=function(){this.containerBB=null};r.findNearestElement=function(r,n,i){function a(e){var a=e.outerWidth(),o=e.outerHeight(),l=a/2,c=o/2,d=e._private.position;if(d.x-l<=r&&r<=d.x+l&&d.y-c<=n&&n<=d.y+c){var f=!i||e.visible()&&!e.transparent();if(i&&!f)return;var p=t.nodeShapes[s.getNodeShape(e)],v=e._private.style["border-width"].pxValue/2;p.checkPoint(r,n,v,a+h,o+h,d.x,d.y)&&u.push(e)}}function o(o){var l,c=o._private.rscratch,d=o._private.style,h=d.width.pxValue,v=h*h,g=2*h,y=o._private.source,m=o._private.target,b=!1,x=function(){if(void 0!==l)return l;if(!i){l=!0;return!0}var e=o.visible()&&!o.transparent();if(e){l=!0;return!0}l=!1;return!1};if("self"===c.edgeType||"compound"===c.edgeType)((b=e.math.inBezierVicinity(r,n,c.startX,c.startY,c.cp2ax,c.cp2ay,c.selfEdgeMidX,c.selfEdgeMidY,v))&&x()&&v+p>e.math.sqDistanceToQuadraticBezier(r,n,c.startX,c.startY,c.cp2ax,c.cp2ay,c.selfEdgeMidX,c.selfEdgeMidY)||(b=e.math.inBezierVicinity(r,n,c.selfEdgeMidX,c.selfEdgeMidY,c.cp2cx,c.cp2cy,c.endX,c.endY,v))&&x()&&v+p>e.math.sqDistanceToQuadraticBezier(r,n,c.selfEdgeMidX,c.selfEdgeMidY,c.cp2cx,c.cp2cy,c.endX,c.endY))&&u.push(o);else if("haystack"===c.edgeType){var w=d["haystack-radius"].value,_=w/2,k=m._private.position,E=m.width(),C=m.height(),S=y._private.position,T=y.width(),D=y.height(),P=S.x+c.source.x*T*_,M=S.y+c.source.y*D*_,N=k.x+c.target.x*E*_,j=k.y+c.target.y*C*_;(b=e.math.inLineVicinity(r,n,P,M,N,j,g))&&x()&&v+p>e.math.sqDistanceToFiniteLine(r,n,P,M,N,j)&&u.push(o)}else"straight"===c.edgeType?(b=e.math.inLineVicinity(r,n,c.startX,c.startY,c.endX,c.endY,g))&&x()&&v+p>e.math.sqDistanceToFiniteLine(r,n,c.startX,c.startY,c.endX,c.endY)&&u.push(o):"bezier"===c.edgeType&&(b=e.math.inBezierVicinity(r,n,c.startX,c.startY,c.cp2x,c.cp2y,c.endX,c.endY,v))&&x()&&v+p>e.math.sqDistanceToQuadraticBezier(r,n,c.startX,c.startY,c.cp2x,c.cp2y,c.endX,c.endY)&&u.push(o);if(b&&x()&&0===u.length||u[u.length-1]!==o){var L=t.arrowShapes[d["source-arrow-shape"].value],I=t.arrowShapes[d["target-arrow-shape"].value],y=y||o._private.source,m=m||o._private.target,k=m._private.position,S=y._private.position,B=s.getArrowWidth(d.width.pxValue),O=s.getArrowHeight(d.width.pxValue),R=B,A=O;(L.roughCollide(r,n,c.arrowStartX,c.arrowStartY,B,O,[c.arrowStartX-S.x,c.arrowStartY-S.y],0)&&L.collide(r,n,c.arrowStartX,c.arrowStartY,B,O,[c.arrowStartX-S.x,c.arrowStartY-S.y],0)||I.roughCollide(r,n,c.arrowEndX,c.arrowEndY,R,A,[c.arrowEndX-k.x,c.arrowEndY-k.y],0)&&I.collide(r,n,c.arrowEndX,c.arrowEndY,R,A,[c.arrowEndX-k.x,c.arrowEndY-k.y],0))&&u.push(o);

}if(f&&u.length>0&&u[u.length-1]===o){a(y);a(m)}}for(var s=this,l=this.getCachedZSortedEles(),u=[],c=t.isTouch,d=this.data.cy.zoom(),f=this.data.cy.hasCompoundNodes(),p=(c?256:32)/d,h=(c?16:0)/d,v=l.length-1;v>=0;v--){var g=l[v];if(u.length>0)break;"nodes"===g._private.group?a(l[v]):o(l[v])}return u.length>0?u[u.length-1]:null};r.getAllInBox=function(r,n,i,a){var o=this.getCachedNodes(),s=this.getCachedEdges(),l=[],u=Math.min(r,i),c=Math.max(r,i),d=Math.min(n,a),f=Math.max(n,a);r=u;i=c;n=d;a=f;for(var p,h=0;h<o.length;h++){var v=o[h]._private.position,g=this.getNodeShape(o[h]),y=this.getNodeWidth(o[h]),m=this.getNodeHeight(o[h]),b=o[h]._private.style["border-width"].pxValue/2,x=t.nodeShapes[g];x.intersectBox(r,n,i,a,y,m,v.x,v.y,b)&&l.push(o[h])}for(var h=0;h<s.length;h++){var w=s[h]._private.rscratch;"self"==s[h]._private.rscratch.edgeType&&((p=e.math.boxInBezierVicinity(r,n,i,a,w.startX,w.startY,w.cp2ax,w.cp2ay,w.endX,w.endY,s[h]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkBezierInBox(r,n,i,a,w.startX,w.startY,w.cp2ax,w.cp2ay,w.endX,w.endY,s[h]._private.style.width.pxValue))||(p=e.math.boxInBezierVicinity(r,n,i,a,w.startX,w.startY,w.cp2cx,w.cp2cy,w.endX,w.endY,s[h]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkBezierInBox(r,n,i,a,w.startX,w.startY,w.cp2cx,w.cp2cy,w.endX,w.endY,s[h]._private.style.width.pxValue)))&&l.push(s[h]);"bezier"==w.edgeType&&(p=e.math.boxInBezierVicinity(r,n,i,a,w.startX,w.startY,w.cp2x,w.cp2y,w.endX,w.endY,s[h]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkBezierInBox(r,n,i,a,w.startX,w.startY,w.cp2x,w.cp2y,w.endX,w.endY,s[h]._private.style.width.pxValue))&&l.push(s[h]);"straight"==w.edgeType&&(p=e.math.boxInBezierVicinity(r,n,i,a,w.startX,w.startY,.5*w.startX+.5*w.endX,.5*w.startY+.5*w.endY,w.endX,w.endY,s[h]._private.style.width.pxValue))&&(2==p||1==p&&e.math.checkStraightEdgeInBox(r,n,i,a,w.startX,w.startY,w.endX,w.endY,s[h]._private.style.width.pxValue))&&l.push(s[h]);if("haystack"==w.edgeType){var _=s[h].target()[0],k=_.position(),E=s[h].source()[0],C=E.position(),S=C.x+w.source.x,T=C.y+w.source.y,D=k.x+w.target.x,P=k.y+w.target.y,M=S>=r&&i>=S&&T>=n&&a>=T,N=D>=r&&i>=D&&P>=n&&a>=P;M&&N&&l.push(s[h])}}return l};r.getNodeWidth=function(e){return e.width()};r.getNodeHeight=function(e){return e.height()};r.getNodeShape=function(e){var t=e._private.style.shape.value;return e.isParent()?"rectangle"===t||"roundrectangle"===t?t:"rectangle":t};r.getNodePadding=function(e){var t=e._private.style["padding-left"].pxValue,r=e._private.style["padding-right"].pxValue,n=e._private.style["padding-top"].pxValue,i=e._private.style["padding-bottom"].pxValue;isNaN(t)&&(t=0);isNaN(r)&&(r=0);isNaN(n)&&(n=0);isNaN(i)&&(i=0);return{left:t,right:r,top:n,bottom:i}};r.zOrderSort=e.Collection.zIndexSort;r.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)};r.getCachedZSortedEles=function(e){var t=this.lastZOrderCachedNodes,r=this.lastZOrderCachedEdges,n=this.getCachedNodes(),i=this.getCachedEdges(),a=[];if(!e&&t&&r&&t===n&&r===i)a=this.cachedZSortedEles;else{for(var o=0;o<n.length;o++)n[o].visible()&&!n[o].transparent()&&a.push(n[o]);for(var o=0;o<i.length;o++)i[o].visible()&&!i[o].transparent()&&a.push(i[o]);a.sort(this.zOrderSort);this.cachedZSortedEles=a}this.lastZOrderCachedNodes=n;this.lastZOrderCachedEdges=i;return a};r.projectBezier=function(t){function r(e){a.push({x:n(e[0],e[2],e[4],.05),y:n(e[1],e[3],e[5],.05)});a.push({x:n(e[0],e[2],e[4],.25),y:n(e[1],e[3],e[5],.25)});a.push({x:n(e[0],e[2],e[4],.4),y:n(e[1],e[3],e[5],.4)});var t={x:n(e[0],e[2],e[4],.5),y:n(e[1],e[3],e[5],.5)};a.push(t);if("self"===i.edgeType||"compound"===i.edgeType){i.midX=i.selfEdgeMidX;i.midY=i.selfEdgeMidY}else{i.midX=t.x;i.midY=t.y}a.push({x:n(e[0],e[2],e[4],.6),y:n(e[1],e[3],e[5],.6)});a.push({x:n(e[0],e[2],e[4],.75),y:n(e[1],e[3],e[5],.75)});a.push({x:n(e[0],e[2],e[4],.95),y:n(e[1],e[3],e[5],.95)})}var n=e.math.qbezierAt,i=t._private.rscratch,a=t._private.rstyle.bezierPts=[];if("self"===i.edgeType){r([i.startX,i.startY,i.cp2ax,i.cp2ay,i.selfEdgeMidX,i.selfEdgeMidY]);r([i.selfEdgeMidX,i.selfEdgeMidY,i.cp2cx,i.cp2cy,i.endX,i.endY])}else"bezier"===i.edgeType&&r([i.startX,i.startY,i.cp2x,i.cp2y,i.endX,i.endY])};r.recalculateNodeLabelProjection=function(e){var t=e._private.style.content.strValue;if(t&&!t.match(/^\s+$/)){var r,n,i=e.outerWidth(),a=e.outerHeight(),o=e._private.position,s=e._private.style["text-halign"].strValue,l=e._private.style["text-valign"].strValue,u=e._private.rscratch,c=e._private.rstyle;switch(s){case"left":r=o.x-i/2;break;case"right":r=o.x+i/2;break;default:r=o.x}switch(l){case"top":n=o.y-a/2;break;case"bottom":n=o.y+a/2;break;default:n=o.y}u.labelX=r;u.labelY=n;c.labelX=r;c.labelY=n;this.applyLabelDimensions(e)}};r.recalculateEdgeLabelProjection=function(t){var r=t._private.style.content.strValue;if(r&&!r.match(/^\s+$/)){var n,i,a,o,s=t._private,l=s.rscratch,u=s.rstyle;if("self"==l.edgeType){a=l.selfEdgeMidX;o=l.selfEdgeMidY}else if("straight"==l.edgeType){a=(l.startX+l.endX)/2;o=(l.startY+l.endY)/2}else if("bezier"==l.edgeType){a=e.math.qbezierAt(l.startX,l.cp2x,l.endX,.5);o=e.math.qbezierAt(l.startY,l.cp2y,l.endY,.5)}else if("haystack"==l.edgeType){var c=l.haystackPts;a=(c[0]+c[2])/2;o=(c[1]+c[3])/2}n=a;i=o;l.labelX=n;l.labelY=i;u.labelX=n;u.labelY=i;this.applyLabelDimensions(t)}};r.applyLabelDimensions=function(e){var t=e._private.rscratch,r=e._private.rstyle,n=this.getLabelText(e),i=this.calculateLabelDimensions(e,n);r.labelWidth=i.width;t.labelWidth=i.width;r.labelHeight=i.height;t.labelHeight=i.height};r.getLabelText=function(e){var t=e._private.style,r=e._private.style.content.strValue,n=t["text-transform"].value,i=e._private.rscratch;"none"==n||("uppercase"==n?r=r.toUpperCase():"lowercase"==n&&(r=r.toLowerCase()));if("wrap"===t["text-wrap"].value){if(i.labelWrapKey===i.labelKey)return i.labelWrapCachedText;for(var a=r.split("\n"),o=t["text-max-width"].pxValue,s=[],l=0;l<a.length;l++){var u=a[l],c=this.calculateLabelDimensions(e,u,"line="+u),d=c.width;if(d>o){for(var f=u.split(/\s+/),p="",h=0;h<f.length;h++){var v=f[h],g=0===p.length?v:p+" "+v,y=this.calculateLabelDimensions(e,g,"testLine="+g),m=y.width;if(o>=m)p+=v+" ";else{s.push(p);p=v+" "}}p.match(/^\s+$/)||s.push(p)}else s.push(u)}i.labelWrapCachedLines=s;i.labelWrapCachedText=r=s.join("\n");i.labelWrapKey=i.labelKey}return r};r.calculateLabelDimensions=function(e,t,r){var n=this,i=e._private.style,a=i["font-style"].strValue,o=i["font-size"].pxValue+"px",s=i["font-family"].strValue,l=i["font-weight"].strValue,u=e._private.labelKey;r&&(u+="$@$"+r);var c=n.labelDimCache||(n.labelDimCache={});if(c[u])return c[u];var d=this.labelCalcDiv;if(!d){d=this.labelCalcDiv=document.createElement("div");document.body.appendChild(d)}var f=d.style;f.fontFamily=s;f.fontStyle=a;f.fontSize=o;f.fontWeight=l;f.position="absolute";f.left="-9999px";f.top="-9999px";f.zIndex="-1";f.visibility="hidden";f.pointerEvents="none";f.padding="0";f.lineHeight="1";f.whiteSpace="wrap"===i["text-wrap"].value?"pre":"normal";d.textContent=t;c[u]={width:d.clientWidth,height:d.clientHeight};return c[u]};r.recalculateRenderedStyle=function(e){for(var t=[],r=[],n={},i=0;i<e.length;i++){var a=e[i],o=a._private,s=o.style,l=o.rscratch,u=o.rstyle,c=o.data.id,d=null!=l.boundingBoxKey&&o.boundingBoxKey===l.boundingBoxKey,f=null!=l.labelKey&&o.labelKey===l.labelKey,p=d&&f;if("nodes"===a._private.group){var h=o.position,v=null!=u.nodeX&&null!=u.nodeY&&h.x===u.nodeX&&h.y===u.nodeY,g=null!=u.nodeW&&u.nodeW===s.width.pxValue,y=null!=u.nodeH&&u.nodeH===s.height.pxValue;v&&p&&g&&y||r.push(a);u.nodeX=h.x;u.nodeY=h.y;u.nodeW=s.width.pxValue;u.nodeH=s.height.pxValue}else{var m=a._private.source._private.position,b=a._private.target._private.position,x=null!=u.srcX&&null!=u.srcY&&m.x===u.srcX&&m.y===u.srcY,w=null!=u.tgtX&&null!=u.tgtY&&b.x===u.tgtX&&b.y===u.tgtY,_=x&&w;if(!_||!p){var k=o.style["curve-style"].value;if("bezier"===k){if(!n[c]){t.push(a);n[c]=!0;for(var E=a.parallelEdges(),i=0;i<E.length;i++){var C=E[i],S=C._private.data.id;if(!n[S]){t.push(C);n[S]=!0}}}}else t.push(a)}u.srcX=m.x;u.srcY=m.y;u.tgtX=b.x;u.tgtY=b.y}l.boundingBoxKey=o.boundingBoxKey;l.labelKey=o.labelKey}this.recalculateEdgeProjections(t);this.recalculateLabelProjections(r,t)};r.recalculateLabelProjections=function(e,t){for(var r=0;r<e.length;r++)this.recalculateNodeLabelProjection(e[r]);for(var r=0;r<t.length;r++)this.recalculateEdgeLabelProjection(t[r])};r.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};r.findEdgeControlPoints=function(r){if(r&&0!==r.length){for(var n,i=this.data.cy,a=i.hasCompoundNodes(),o={},s=[],l=[],u=0;u<r.length;u++){var c=r[u],d=c._private.style,f="unbundled-bezier"===d["curve-style"].value;if("none"!==d.display.value)if("haystack"!==d["curve-style"].value){var p=c._private.data.source,h=c._private.data.target;n=p>h?h+"-"+p:p+"-"+h;f&&(n="unbundled"+c._private.data.id);if(null==o[n]){o[n]=[];s.push(n)}o[n].push(c);f&&(o[n].hasUnbundled=!0)}else l.push(c)}for(var v,g,y,m,b,x,w,_,k,E,C,S,T,D,P=0;P<s.length;P++){n=s[P];var M=o[n];M.sort(function(e,t){return e._private.index-t._private.index});v=M[0]._private.source;g=M[0]._private.target;if(v._private.data.id>g._private.data.id){var N=v;v=g;g=N}y=v._private.position;m=g._private.position;b=this.getNodeWidth(v);x=this.getNodeHeight(v);w=this.getNodeWidth(g);_=this.getNodeHeight(g);k=t.nodeShapes[this.getNodeShape(v)];E=t.nodeShapes[this.getNodeShape(g)];C=v._private.style["border-width"].pxValue;S=g._private.style["border-width"].pxValue;D=!1;if(M.length>1&&v!==g||M.hasUnbundled){var j=k.intersectLine(y.x,y.y,b,x,m.x,m.y,C/2),L=E.intersectLine(m.x,m.y,w,_,y.x,y.y,S/2),I={x1:j[0],x2:L[0],y1:j[1],y2:L[1]},B=L[1]-j[1],O=L[0]-j[0],R=Math.sqrt(O*O+B*B),A={x:O,y:B},z={x:A.x/R,y:A.y/R};T={x:-z.y,y:z.x};if(E.checkPoint(j[0],j[1],S/2,w,_,m.x,m.y)||k.checkPoint(L[0],L[1],C/2,b,x,y.x,y.y)){T={};D=!0}}for(var c,V,u=0;u<M.length;u++){c=M[u];V=c._private.rscratch;var F=V.lastEdgeIndex,q=u,X=V.lastNumEdges,Y=M.length,W=c._private.style,H=W["control-point-step-size"].pxValue,U=void 0!==W["control-point-distance"]?W["control-point-distance"].pxValue:void 0,$=W["control-point-weight"].value,f="unbundled-bezier"===W["curve-style"].value,G=V.lastSrcCtlPtX,Z=y.x,Q=V.lastSrcCtlPtY,J=y.y,K=V.lastSrcCtlPtW,ee=v.outerWidth(),te=V.lastSrcCtlPtH,re=v.outerHeight(),ne=V.lastTgtCtlPtX,ie=m.x,ae=V.lastTgtCtlPtY,oe=m.y,se=V.lastTgtCtlPtW,le=g.outerWidth(),ue=V.lastTgtCtlPtH,ce=g.outerHeight(),de=V.lastW,fe=W["control-point-step-size"].pxValue;V.badBezier=D?!0:!1;if(G!==Z||Q!==J||K!==ee||te!==re||ne!==ie||ae!==oe||se!==le||ue!==ce||de!==fe||!(F===q&&X===Y||f)){V.lastSrcCtlPtX=Z;V.lastSrcCtlPtY=J;V.lastSrcCtlPtW=ee;V.lastSrcCtlPtH=re;V.lastTgtCtlPtX=ie;V.lastTgtCtlPtY=oe;V.lastTgtCtlPtW=le;V.lastTgtCtlPtH=ce;V.lastEdgeIndex=q;V.lastNumEdges=Y;V.lastWidth=fe;if(v===g){V.edgeType="self";var pe=u,he=H;if(f){pe=0;he=U}V.cp2ax=y.x;V.cp2ay=y.y-(1+Math.pow(x,1.12)/100)*he*(pe/3+1);V.cp2cx=y.x-(1+Math.pow(b,1.12)/100)*he*(pe/3+1);V.cp2cy=y.y;V.selfEdgeMidX=(V.cp2ax+V.cp2cx)/2;V.selfEdgeMidY=(V.cp2ay+V.cp2cy)/2}else if(a&&(v.isParent()||v.isChild()||g.isParent()||g.isChild())&&(v.parents().anySame(g)||g.parents().anySame(v))){V.edgeType="compound";V.badBezier=!1;var pe=u,he=H;if(f){pe=0;he=U}var ve=50,ge={x:y.x-b/2,y:y.y-x/2},ye={x:m.x-w/2,y:m.y-_/2},me=1;V.cp2ax=ge.x;V.compoundStretchA=Math.max(me,Math.log(.01*b));V.cp2ay=ge.y-(1+Math.pow(ve,1.12)/100)*he*(pe/3+1)*V.compoundStretchA;V.compoundStretchB=Math.max(me,Math.log(.01*w));V.cp2cx=ye.x-(1+Math.pow(ve,1.12)/100)*he*(pe/3+1)*V.compoundStretchB;V.cp2cy=ye.y;V.selfEdgeMidX=(V.cp2ax+V.cp2cx)/2;V.selfEdgeMidY=(V.cp2ay+V.cp2cy)/2}else if(M.length%2!==1||u!==Math.floor(M.length/2)||f){var be,xe=(.5-M.length/2+u)*H,we=e.math.signum(xe);be=f?U:void 0!==U?we*U:void 0;var _e=void 0!==be?be:xe,ke=1-$,Ee=$,Ce=c._private.source!==v;if(Ce){ke=$;Ee=1-$}var Se={x:I.x1*ke+I.x2*Ee,y:I.y1*ke+I.y2*Ee};V.edgeType="bezier";V.cp2x=Se.x+T.x*_e;V.cp2y=Se.y+T.y*_e}else V.edgeType="straight";this.findEndpoints(c);var Te=!e.is.number(V.startX)||!e.is.number(V.startY),De=!e.is.number(V.arrowStartX)||!e.is.number(V.arrowStartY),Pe=!e.is.number(V.endX)||!e.is.number(V.endY),Me=!e.is.number(V.arrowEndX)||!e.is.number(V.arrowEndY),Ne=3,je=this.getArrowWidth(c._private.style.width.pxValue)*t.arrowShapeHeight,Le=Ne*je,Ie=e.math.distance({x:V.cp2x,y:V.cp2y},{x:V.startX,y:V.startY}),Be=Le>Ie,Oe=e.math.distance({x:V.cp2x,y:V.cp2y},{x:V.endX,y:V.endY}),Re=Le>Oe;if("bezier"===V.edgeType){var Ae=!1;if(Te||De||Be){Ae=!0;var ze={x:V.cp2x-y.x,y:V.cp2y-y.y},Ve=Math.sqrt(ze.x*ze.x+ze.y*ze.y),Fe={x:ze.x/Ve,y:ze.y/Ve},qe=Math.max(b,x),Xe={x:V.cp2x+2*Fe.x*qe,y:V.cp2y+2*Fe.y*qe},Ye=k.intersectLine(y.x,y.y,b,x,Xe.x,Xe.y,C/2);if(Be){V.cp2x=V.cp2x+Fe.x*(Le-Ie);V.cp2y=V.cp2y+Fe.y*(Le-Ie)}else{V.cp2x=Ye[0]+Fe.x*Le;V.cp2y=Ye[1]+Fe.y*Le}}if(Pe||Me||Re){Ae=!0;var ze={x:V.cp2x-m.x,y:V.cp2y-m.y},Ve=Math.sqrt(ze.x*ze.x+ze.y*ze.y),Fe={x:ze.x/Ve,y:ze.y/Ve},qe=Math.max(b,x),Xe={x:V.cp2x+2*Fe.x*qe,y:V.cp2y+2*Fe.y*qe},We=E.intersectLine(m.x,m.y,w,_,Xe.x,Xe.y,S/2);if(Re){V.cp2x=V.cp2x+Fe.x*(Le-Oe);V.cp2y=V.cp2y+Fe.y*(Le-Oe)}else{V.cp2x=We[0]+Fe.x*Le;V.cp2y=We[1]+Fe.y*Le}}Ae&&this.findEndpoints(c)}else if("straight"===V.edgeType){V.midX=(Z+ie)/2;V.midY=(J+oe)/2}this.projectBezier(c);this.recalculateEdgeLabelProjection(c)}}}for(var u=0;u<l.length;u++){var c=l[u],He=c._private,Ue=He.rscratch,V=Ue;if(!Ue.haystack){var $e=2*Math.random()*Math.PI;Ue.source={x:Math.cos($e),y:Math.sin($e)};var $e=2*Math.random()*Math.PI;Ue.target={x:Math.cos($e),y:Math.sin($e)}}var v=He.source,g=He.target,y=v._private.position,m=g._private.position,b=v.width(),w=g.width(),x=v.height(),_=g.height(),qe=d["haystack-radius"].value,Ge=qe/2;V.haystackPts=[V.source.x*b*Ge+y.x,V.source.y*x*Ge+y.y,V.target.x*w*Ge+m.x,V.target.y*_*Ge+m.y];Ue.edgeType="haystack";Ue.haystack=!0;this.recalculateEdgeLabelProjection(c)}return o}};r.findEndpoints=function(r){var n,i=r.source()[0],a=r.target()[0],o=r._private.style["target-arrow-shape"].value,s=r._private.style["source-arrow-shape"].value,l=a._private.style["border-width"].pxValue,u=i._private.style["border-width"].pxValue,c=r._private.rscratch;if("self"==c.edgeType||"compound"==c.edgeType){var d=[c.cp2cx,c.cp2cy];n=t.nodeShapes[this.getNodeShape(a)].intersectLine(a._private.position.x,a._private.position.y,this.getNodeWidth(a),this.getNodeHeight(a),d[0],d[1],l/2);var f=e.math.shortenIntersection(n,d,t.arrowShapes[o].spacing(r)),p=e.math.shortenIntersection(n,d,t.arrowShapes[o].gap(r));c.endX=p[0];c.endY=p[1];c.arrowEndX=f[0];c.arrowEndY=f[1];var d=[c.cp2ax,c.cp2ay];n=t.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),d[0],d[1],u/2);var h=e.math.shortenIntersection(n,d,t.arrowShapes[s].spacing(r)),v=e.math.shortenIntersection(n,d,t.arrowShapes[s].gap(r));c.startX=v[0];c.startY=v[1];c.arrowStartX=h[0];c.arrowStartY=h[1]}else if("straight"==c.edgeType){n=t.nodeShapes[this.getNodeShape(a)].intersectLine(a._private.position.x,a._private.position.y,this.getNodeWidth(a),this.getNodeHeight(a),i.position().x,i.position().y,l/2);c.noArrowPlacement=0===n.length?!0:!1;var f=e.math.shortenIntersection(n,[i.position().x,i.position().y],t.arrowShapes[o].spacing(r)),p=e.math.shortenIntersection(n,[i.position().x,i.position().y],t.arrowShapes[o].gap(r));c.endX=p[0];c.endY=p[1];c.arrowEndX=f[0];c.arrowEndY=f[1];n=t.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),a.position().x,a.position().y,u/2);c.noArrowPlacement=0===n.length?!0:!1;var h=e.math.shortenIntersection(n,[a.position().x,a.position().y],t.arrowShapes[s].spacing(r)),v=e.math.shortenIntersection(n,[a.position().x,a.position().y],t.arrowShapes[s].gap(r));c.startX=v[0];c.startY=v[1];c.arrowStartX=h[0];c.arrowStartY=h[1];c.badLine=e.is.number(c.startX)&&e.is.number(c.startY)&&e.is.number(c.endX)&&e.is.number(c.endY)?!1:!0}else if("bezier"==c.edgeType){var d=[c.cp2x,c.cp2y];n=t.nodeShapes[this.getNodeShape(a)].intersectLine(a._private.position.x,a._private.position.y,this.getNodeWidth(a),this.getNodeHeight(a),d[0],d[1],l/2);var f=e.math.shortenIntersection(n,d,t.arrowShapes[o].spacing(r)),p=e.math.shortenIntersection(n,d,t.arrowShapes[o].gap(r));c.endX=p[0];c.endY=p[1];c.arrowEndX=f[0];c.arrowEndY=f[1];n=t.nodeShapes[this.getNodeShape(i)].intersectLine(i._private.position.x,i._private.position.y,this.getNodeWidth(i),this.getNodeHeight(i),d[0],d[1],u/2);var h=e.math.shortenIntersection(n,d,t.arrowShapes[s].spacing(r)),v=e.math.shortenIntersection(n,d,t.arrowShapes[s].gap(r));c.startX=v[0];c.startY=v[1];c.arrowStartX=h[0];c.arrowStartY=h[1]}else if(c.isArcEdge)return};r.findEdges=function(e){for(var t=this.getCachedEdges(),r={},n=[],i=0;i<e.length;i++)r[e[i]._private.data.id]=e[i];for(var i=0;i<t.length;i++)(r[t[i]._private.data.source]||r[t[i]._private.data.target])&&n.push(t[i]);return n};r.getArrowWidth=r.getArrowHeight=function(e){var t=this.arrowWidthCache=this.arrowWidthCache||{},r=t[e];if(r)return r;r=Math.max(Math.pow(13.37*e,.9),29);t[e]=r;return r}})(cytoscape);(function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.drawEdge=function(e,r,n){var i=r._private.rscratch,a=t.usePaths();if(!i.badBezier&&("bezier"!==i.edgeType&&"straight"!==i.edgeType||!isNaN(i.startX))){var o=r._private.style;if(!(o.width.pxValue<=0)){var s=o["overlay-padding"].pxValue,l=o["overlay-opacity"].value,u=o["overlay-color"].value;if(n){if(0===l)return;this.strokeStyle(e,u[0],u[1],u[2],l);e.lineCap="round";"self"!=r._private.rscratch.edgeType||a||(e.lineCap="butt")}else{var c=o["line-color"].value;this.strokeStyle(e,c[0],c[1],c[2],o.opacity.value);e.lineCap="butt"}var d,f,p,h;p=d=r._private.source;h=f=r._private.target;var v=o.width.pxValue+(n?2*s:0),g=n?"solid":o["line-style"].value;e.lineWidth=v;var y=o["shadow-blur"].pxValue,m=o["shadow-opacity"].value,b=o["shadow-color"].value,x=o["shadow-offset-x"].pxValue,w=o["shadow-offset-y"].pxValue;this.shadowStyle(e,b,n?0:m,y,x,w);if("haystack"===i.edgeType)this.drawStyledEdge(r,e,i.haystackPts,g,v);else if("self"===i.edgeType||"compound"===i.edgeType){var _=r._private.rscratch,k=[_.startX,_.startY,_.cp2ax,_.cp2ay,_.selfEdgeMidX,_.selfEdgeMidY,_.selfEdgeMidX,_.selfEdgeMidY,_.cp2cx,_.cp2cy,_.endX,_.endY];this.drawStyledEdge(r,e,k,g,v)}else if("straight"===i.edgeType){var E=f._private.position.x-d._private.position.x,C=f._private.position.y-d._private.position.y,S=i.endX-i.startX,T=i.endY-i.startY;if(0>E*S+C*T)i.straightEdgeTooShort=!0;else{var _=i;this.drawStyledEdge(r,e,[_.startX,_.startY,_.endX,_.endY],g,v);i.straightEdgeTooShort=!1}}else{var _=i;this.drawStyledEdge(r,e,[_.startX,_.startY,_.cp2x,_.cp2y,_.endX,_.endY],g,v)}"haystack"===i.edgeType?this.drawArrowheads(e,r,n):i.noArrowPlacement!==!0&&void 0!==i.startX&&this.drawArrowheads(e,r,n);this.shadowStyle(e,"transparent",0)}}};r.drawStyledEdge=function(e,r,n,i,a){var o,s=e._private.rscratch,l=r,u=!1,c=t.usePaths();if(c){for(var d=n,f=s.pathCacheKey&&d.length===s.pathCacheKey.length,p=f,h=0;p&&h<d.length;h++)s.pathCacheKey[h]!==d[h]&&(p=!1);if(p){o=r=s.pathCache;u=!0}else{o=r=new Path2D;s.pathCacheKey=d;s.pathCache=o}}if(l.setLineDash)switch(i){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash([6,3]);break;case"solid":l.setLineDash([])}if(!u){r.beginPath&&r.beginPath();r.moveTo(n[0],n[1]);if(6!==n.length||s.badBezier)if(12!==n.length||s.badBezier)4!==n.length||s.badLine||r.lineTo(n[2],n[3]);else{r.quadraticCurveTo(n[2],n[3],n[4],n[5]);r.quadraticCurveTo(n[8],n[9],n[10],n[11])}else r.quadraticCurveTo(n[2],n[3],n[4],n[5])}r=l;c?r.stroke(o):r.stroke();r.setLineDash&&r.setLineDash([])};r.drawArrowheads=function(e,t,r){function n(r,n,i,a,o){var s=v[r+"-arrow-shape"].value;if("none"!==s){var l=e.globalCompositeOperation,u="hollow"===v[r+"-arrow-fill"].value?"both":"filled",c=v[r+"-arrow-fill"].value;if("half-triangle-overshot"===s){c="hollow";u="hollow"}if(1!==v.opacity.value||"hollow"===c){e.globalCompositeOperation="destination-out";d.fillStyle(e,255,255,255,1);d.strokeStyle(e,255,255,255,1);d.drawArrowShape(t,r,e,u,v.width.pxValue,v[r+"-arrow-shape"].value,n,i,a,o);e.globalCompositeOperation=l}var f=v[r+"-arrow-color"].value;d.fillStyle(e,f[0],f[1],f[2],v.opacity.value);d.strokeStyle(e,f[0],f[1],f[2],v.opacity.value);d.drawArrowShape(t,r,e,c,v.width.pxValue,v[r+"-arrow-shape"].value,n,i,a,o)}}if(!r){var i,a,o,s,l,u,c=t._private.rscratch,d=this,f="haystack"===c.edgeType,p=t.source().position(),h=t.target().position();if(f){o=c.haystackPts[0];s=c.haystackPts[1];l=c.haystackPts[2];u=c.haystackPts[3]}else{o=c.arrowStartX;s=c.arrowStartY;l=c.arrowEndX;u=c.arrowEndY}var v=t._private.style;i=o-p.x;a=s-p.y;f||isNaN(o)||isNaN(s)||isNaN(i)||isNaN(a)||n("source",o,s,i,a);var g=c.midX,y=c.midY;if(f){g=(o+l)/2;y=(s+u)/2}i=o-l;a=s-u;if("self"===c.edgeType){i=1;a=-1}isNaN(g)||isNaN(y)||n("mid-target",g,y,i,a);i*=-1;a*=-1;isNaN(g)||isNaN(y)||n("mid-source",g,y,i,a);i=l-h.x;a=u-h.y;f||isNaN(l)||isNaN(u)||isNaN(i)||isNaN(a)||n("target",l,u,i,a)}};r.drawArrowShape=function(e,r,n,i,a,o,s,l,u,c){var d,f=t.usePaths(),p=e._private.rscratch,h=!1,v=n,g={x:s,y:l},y=Math.asin(c/Math.sqrt(u*u+c*c));0>u?y+=Math.PI/2:y=-(Math.PI/2+y);var m=this.getArrowWidth(a),b=t.arrowShapes[o];if(f){var x=m+"$"+o+"$"+y+"$"+s+"$"+l;p.arrowPathCacheKey=p.arrowPathCacheKey||{};p.arrowPathCache=p.arrowPathCache||{};var w=p.arrowPathCacheKey[r]===x;if(w){d=n=p.arrowPathCache[r];h=!0}else{d=n=new Path2D;p.arrowPathCacheKey[r]=x;p.arrowPathCache[r]=d}}n.beginPath&&n.beginPath();h||b.draw(n,m,y,g);!b.leavePathOpen&&n.closePath&&n.closePath();n=v;("filled"===i||"both"===i)&&(f?n.fill(d):n.fill());if("hollow"===i||"both"===i){n.lineWidth=b.matchEdgeWidth?a:1;n.lineJoin="miter";f?n.stroke(d):n.stroke()}}})(cytoscape);(function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.getCachedImage=function(e,t){var r=this,n=r.imageCache=r.imageCache||{};if(n[e]&&n[e].image)return n[e].image;var i=n[e]=n[e]||{},a=i.image=new Image;a.addEventListener("load",t);a.src=e;return a};r.drawInscribedImage=function(e,r,n){var i=this,a=n._private.position.x,o=n._private.position.y,s=n._private.style,l=s["background-fit"].value,u=s["background-position-x"],c=s["background-position-y"],d=s["background-repeat"].value,f=n.width(),p=n.height(),h=n._private.rscratch,v=s["background-clip"].value,g="node"===v,y=s["background-image-opacity"].value,m=r.width,b=r.height;if(0!==m&&0!==b){var x=s["background-width"];"auto"!==x.value&&(m="%"===x.units?x.value/100*f:x.pxValue);var w=s["background-height"];"auto"!==w.value&&(b="%"===w.units?w.value/100*p:w.pxValue);if(0!==m&&0!==b){if("contain"===l){var _=Math.min(f/m,p/b);m*=_;b*=_}else if("cover"===l){var _=Math.max(f/m,p/b);m*=_;b*=_}var k=a-f/2;k+="%"===u.units?(f-m)*u.value/100:u.pxValue;var E=o-p/2;E+="%"===c.units?(p-b)*c.value/100:c.pxValue;if(h.pathCache){k-=a;E-=o;a=0;o=0}var C=e.globalAlpha;e.globalAlpha=y;if("no-repeat"===d){if(g){e.save();if(h.pathCache)e.clip(h.pathCache);else{t.nodeShapes[i.getNodeShape(n)].drawPath(e,a,o,f,p);e.clip()}}e.drawImage(r,0,0,r.width,r.height,k,E,m,b);g&&e.restore()}else{var S=e.createPattern(r,d);e.fillStyle=S;t.nodeShapes[i.getNodeShape(n)].drawPath(e,a,o,f,p);e.translate(k,E);e.fill();e.translate(-k,-E)}e.globalAlpha=C}}}})(cytoscape);(function(e){"use strict";function t(e,t,r,n,i,a){var a=a||5;e.beginPath();e.moveTo(t+a,r);e.lineTo(t+n-a,r);e.quadraticCurveTo(t+n,r,t+n,r+a);e.lineTo(t+n,r+i-a);e.quadraticCurveTo(t+n,r+i,t+n-a,r+i);e.lineTo(t+a,r+i);e.quadraticCurveTo(t,r+i,t,r+i-a);e.lineTo(t,r+a);e.quadraticCurveTo(t,r,t+a,r);e.closePath();e.fill()}var r=e("renderer","canvas"),n=r.prototype;n.drawEdgeText=function(t,r){var n=r._private.style.content.strValue;if(!(!n||n.match(/^\s+$/)||this.hideEdgesOnViewport&&(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning))){var i=r._private.style["font-size"].pxValue*r.cy().zoom(),a=r._private.style["min-zoomed-font-size"].pxValue;if(!(a>i)){t.textAlign="center";t.textBaseline="middle";var o=r._private.rscratch;if(e.is.number(o.labelX)&&e.is.number(o.labelY)){var s,l,u,c=r._private.style,d="autorotate"===c["edge-text-rotation"].strValue;if(d){switch(o.edgeType){case"haystack":l=o.haystackPts[2]-o.haystackPts[0];u=o.haystackPts[3]-o.haystackPts[1];break;default:l=o.endX-o.startX;u=o.endY-o.startY}s=Math.atan(u/l);t.translate(o.labelX,o.labelY);t.rotate(s);this.drawText(t,r,0,0);t.rotate(-s);t.translate(-o.labelX,-o.labelY)}else this.drawText(t,r,o.labelX,o.labelY)}}}};n.drawNodeText=function(t,r){var n=r._private.style.content.strValue;if(n&&!n.match(/^\s+$/)){var i=r._private.style["font-size"].pxValue*r.cy().zoom(),a=r._private.style["min-zoomed-font-size"].pxValue;if(!(a>i)){var o=r._private.style["text-halign"].strValue,s=r._private.style["text-valign"].strValue,l=r._private.rscratch;if(e.is.number(l.labelX)&&e.is.number(l.labelY)){switch(o){case"left":t.textAlign="right";break;case"right":t.textAlign="left";break;default:t.textAlign="center"}switch(s){case"top":t.textBaseline="bottom";break;case"bottom":t.textBaseline="top";break;default:t.textBaseline="middle"}this.drawText(t,r,l.labelX,l.labelY)}}}};n.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++){t=this.fontCaches[r];if(t.context===e)return t}t={context:e};this.fontCaches.push(t);return t};n.setupTextStyle=function(e,t){var r=t.effectiveOpacity(),n=t._private.style,i=n["font-style"].strValue,a=n["font-size"].pxValue+"px",o=n["font-family"].strValue,s=n["font-weight"].strValue,l=n["text-opacity"].value*n.opacity.value*r,u=n["text-outline-opacity"].value*l,c=n.color.value,d=n["text-outline-color"].value,f=n["text-shadow-blur"].pxValue,p=n["text-shadow-opacity"].value,h=n["text-shadow-color"].value,v=n["text-shadow-offset-x"].pxValue,g=n["text-shadow-offset-y"].pxValue,y=t._private.fontKey,m=this.getFontCache(e);if(m.key!==y){e.font=i+" "+s+" "+a+" "+o;m.key=y}var b=this.getLabelText(t);e.lineJoin="round";this.fillStyle(e,c[0],c[1],c[2],l);this.strokeStyle(e,d[0],d[1],d[2],u);this.shadowStyle(e,h,p,f,v,g);return b};n.drawText=function(e,r,n,i){var a=r._private,o=a.style,s=a.rstyle,l=a.rscratch,u=r.effectiveOpacity();if(0!==u&&0!==o["text-opacity"].value){var c=this.setupTextStyle(e,r),d=o["text-halign"].value,f=o["text-valign"].value;if(r.isEdge()){d="center";f="center"}if(null!=c&&!isNaN(n)&&!isNaN(i)){var p=o["text-background-opacity"].value;if((o["text-background-color"]||o["text-border-width"].pxValue>0)&&p>0){var h=o["text-border-width"].pxValue,v=4+h/2;if(r.isNode()){"top"==f?i-=v:"bottom"==f&&(i+=v);"left"==d?n-=v:"right"==d&&(n+=v)}var g=s.labelWidth,y=s.labelHeight,m=n;d&&("center"==d?m-=g/2:"left"==d&&(m-=g));var b=i;r.isNode()?"top"==f?b-=y:"center"==f&&(b-=y/2):b-=y/2;if("autorotate"===o["edge-text-rotation"].strValue){i=0;g+=4;m=n-g/2;b=i-y/2}else{m-=v;b-=v;y+=2*v;g+=2*v}if(o["text-background-color"]){var x=e.fillStyle,w=o["text-background-color"].value;e.fillStyle="rgba("+w[0]+","+w[1]+","+w[2]+","+p*u+")";var _=o["text-background-shape"].strValue;"roundrectangle"==_?t(e,m,b,g,y,2):e.fillRect(m,b,g,y);e.fillStyle=x}if(h>0){var k=e.strokeStyle,E=e.lineWidth,C=o["text-border-color"].value,S=o["text-border-style"].value;e.strokeStyle="rgba("+C[0]+","+C[1]+","+C[2]+","+p*u+")";e.lineWidth=h;if(e.setLineDash)switch(S){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=h/4;e.setLineDash([]);break;case"solid":e.setLineDash([])}e.strokeRect(m,b,g,y);if("double"===S){var T=h/2;e.strokeRect(m+T,b+T,g-2*T,y-2*T)}e.setLineDash&&e.setLineDash([]);e.lineWidth=E;e.strokeStyle=k}}var D=2*o["text-outline-width"].pxValue;D>0&&(e.lineWidth=D);if("wrap"===o["text-wrap"].value){var P=l.labelWrapCachedLines,M=s.labelHeight/P.length;switch(f){case"top":i-=(P.length-1)*M;break;case"bottom":break;default:case"center":i-=(P.length-1)*M/2}for(var N=0;N<P.length;N++){D>0&&e.strokeText(P[N],n,i);e.fillText(P[N],n,i);i+=M}}else{D>0&&e.strokeText(c,n,i);e.fillText(c,n,i)}this.shadowStyle(e,"transparent",0)}}}})(cytoscape);(function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.drawNode=function(e,r,n){var i,a,o,s=this,l=r._private.style,u=r._private.rscratch,c=r._private,d=t.usePaths(),f=e,p=!1,h=l["overlay-padding"].pxValue,v=l["overlay-opacity"].value,g=l["overlay-color"].value;if(!n||0!==v){var y=r.effectiveOpacity();if(0!==y){i=this.getNodeWidth(r);a=this.getNodeHeight(r);e.lineWidth=l["border-width"].pxValue;if(void 0!==n&&n){if(v>0){this.fillStyle(e,g[0],g[1],g[2],v);t.nodeShapes.roundrectangle.drawPath(e,r._private.position.x,r._private.position.y,i+2*h,a+2*h);e.fill()}}else{var m,b=l["background-image"].value[2]||l["background-image"].value[1];if(void 0!==b){m=this.getCachedImage(b,function(){s.data.canvasNeedsRedraw[t.NODE]=!0;s.data.canvasNeedsRedraw[t.DRAG]=!0;s.drawingImage=!0;s.redraw()});var x=c.backgrounding;c.backgrounding=!m.complete;x!==c.backgrounding&&r.updateStyle(!1)}var w=l["background-color"].value,_=l["border-color"].value,k=l["border-style"].value;this.fillStyle(e,w[0],w[1],w[2],l["background-opacity"].value*l.opacity.value*y);this.strokeStyle(e,_[0],_[1],_[2],l["border-opacity"].value*l.opacity.value*y);var E=l["shadow-blur"].pxValue,C=l["shadow-opacity"].value,S=l["shadow-color"].value,T=l["shadow-offset-x"].pxValue,D=l["shadow-offset-y"].pxValue;this.shadowStyle(e,S,C,E,T,D);e.lineJoin="miter";if(e.setLineDash)switch(k){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var P=l.shape.strValue,M=r._private.position;if(d){var N=P+"$"+i+"$"+a;e.translate(M.x,M.y);if(u.pathCacheKey===N){o=e=u.pathCache;p=!0}else{o=e=new Path2D;u.pathCacheKey=N;u.pathCache=o}}if(!p){var j=M;d&&(j={x:0,y:0});t.nodeShapes[this.getNodeShape(r)].drawPath(e,j.x,j.y,i,a)}e=f;d?e.fill(o):e.fill();this.shadowStyle(e,"transparent",0);void 0!==b&&m.complete&&this.drawInscribedImage(e,m,r);var L=l["background-blacken"].value,I=l["border-width"].pxValue;if(this.hasPie(r)){this.drawPie(e,r);(0!==L||0!==I)&&(d||t.nodeShapes[this.getNodeShape(r)].drawPath(e,M.x,M.y,i,a))}if(L>0){this.fillStyle(e,0,0,0,L);d?e.fill(o):e.fill()}else if(0>L){this.fillStyle(e,255,255,255,-L);d?e.fill(o):e.fill()}if(I>0){d?e.stroke(o):e.stroke();if("double"===k){e.lineWidth=l["border-width"].pxValue/3;var B=e.globalCompositeOperation;e.globalCompositeOperation="destination-out";d?e.stroke(o):e.stroke();e.globalCompositeOperation=B}}d&&e.translate(-M.x,-M.y);e.setLineDash&&e.setLineDash([])}}}};r.hasPie=function(e){e=e[0];return e._private.hasPie};r.drawPie=function(r,n){n=n[0];var i=n._private.style["pie-size"],a=this.getNodeWidth(n),o=this.getNodeHeight(n),s=n._private.position.x,l=n._private.position.y,u=Math.min(a,o)/2,c=0,d=t.usePaths();if(d){s=0;l=0}"%"===i.units?u=u*i.value/100:void 0!==i.pxValue&&(u=i.pxValue/2);for(var f=1;f<=e.style.pieBackgroundN;f++){var p=n._private.style["pie-"+f+"-background-size"].value,h=n._private.style["pie-"+f+"-background-color"].value,v=n._private.style["pie-"+f+"-background-opacity"].value,g=p/100,y=1.5*Math.PI+2*Math.PI*c,m=2*Math.PI*g,b=y+m;if(!(0===p||c>=1||c+g>1)){r.beginPath();r.moveTo(s,l);r.arc(s,l,u,y,b);r.closePath();this.fillStyle(r,h[0],h[1],h[2],v);r.fill();c+=g}}}})(cytoscape);(function(e){"use strict";var t=e("renderer","canvas"),r=t,n=t.prototype;n.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t};n.paintCache=function(e){for(var t,r=this.paintCaches=this.paintCaches||[],n=!0,i=0;i<r.length;i++){t=r[i];if(t.context===e){n=!1;break}}if(n){t={context:e
};r.push(t)}return t};n.fillStyle=function(e,t,r,n,i){e.fillStyle="rgba("+t+","+r+","+n+","+i+")"};n.strokeStyle=function(e,t,r,n,i){e.strokeStyle="rgba("+t+","+r+","+n+","+i+")"};n.shadowStyle=function(e,t,r,n,i,a){var o=this.data.cy.zoom();if(r>0){e.shadowBlur=n*o;e.shadowColor="rgba("+t[0]+","+t[1]+","+t[2]+","+r+")";e.shadowOffsetX=i*o;e.shadowOffsetY=a*o}else{e.shadowBlur=0;e.shadowColor="transparent"}};n.matchCanvasSize=function(e){var n=this.data,i=e.clientWidth,a=e.clientHeight,o=this.getPixelRatio(),s=this.motionBlurPxRatio;(e===this.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE]||e===this.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l,u=i*o,c=a*o;if(u!==this.canvasWidth||c!==this.canvasHeight){this.fontCaches=null;var d=n.canvasContainer;d.style.width=i+"px";d.style.height=a+"px";for(var f=0;f<t.CANVAS_LAYERS;f++){l=n.canvases[f];if(l.width!==u||l.height!==c){l.width=u;l.height=c;l.style.width=i+"px";l.style.height=a+"px"}}for(var f=0;f<t.BUFFER_COUNT;f++){l=n.bufferCanvases[f];if(l.width!==u||l.height!==c){l.width=u;l.height=c;l.style.width=i+"px";l.style.height=a+"px"}}this.textureMult=1;if(1>=o){l=n.bufferCanvases[t.TEXTURE_BUFFER];this.textureMult=2;l.width=u*this.textureMult;l.height=c*this.textureMult}this.canvasWidth=u;this.canvasHeight=c}};n.renderTo=function(e,t,r,n){this.redraw({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};n.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};t.minRedrawLimit=1e3/60;t.maxRedrawLimit=1e3;t.motionBlurDelay=100;n.redraw=function(n){function i(){function n(e,t,r,n,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out";c.fillStyle(e,255,255,255,c.motionBlurTransparency);e.fillRect(t,r,n,i);e.globalCompositeOperation=a}function i(e,t){var i,s,d,f;if(c.clearingMotionBlur||e!==p.bufferContexts[r.MOTIONBLUR_BUFFER_NODE]&&e!==p.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG]){i=T;s=C;d=c.canvasWidth;f=c.canvasHeight}else{i={x:S.x*y,y:S.y*y};s=E*y;d=c.canvasWidth*y;f=c.canvasHeight*y}e.setTransform(1,0,0,1,0,0);"motionBlur"===t?n(e,0,0,d,f):a||void 0!==t&&!t||e.clearRect(0,0,d,f);if(!o){e.translate(i.x,i.y);e.scale(s,s)}u&&e.translate(u.x,u.y);l&&e.scale(l,l)}function x(e,t){for(var r=e.eles,n=0;n<r.length;n++){var i=r[n];if(i.isNode()){c.drawNode(t,i);F||c.drawNodeText(t,i);c.drawNode(t,i,!0)}else if(!V){c.drawEdge(t,i);F||c.drawEdgeText(t,i);c.drawEdge(t,i,!0)}}}if(c.textureDrawLastFrame&&!v){h[r.NODE]=!0;h[r.SELECT_BOX]=!0}var _=c.getCachedEdges(),k=f.style()._private.coreStyle,E=f.zoom(),C=void 0!==l?l:E,S=f.pan(),T={x:S.x,y:S.y},P={zoom:E,pan:{x:S.x,y:S.y}},M=c.prevViewport,N=void 0===M||P.zoom!==M.zoom||P.pan.x!==M.pan.x||P.pan.y!==M.pan.y;N||b&&!m||(c.motionBlurPxRatio=1);u&&(T=u);C*=d;T.x*=d;T.y*=d;var j={drag:{nodes:[],edges:[],eles:[]},nondrag:{nodes:[],edges:[],eles:[]}};v||(c.textureDrawLastFrame=!1);if(v){c.textureDrawLastFrame=!0;var L;if(!c.textureCache){c.textureCache={};L=c.textureCache.bb=f.elements().boundingBox();c.textureCache.texture=c.data.bufferCanvases[t.TEXTURE_BUFFER];var I=c.data.bufferContexts[t.TEXTURE_BUFFER];I.setTransform(1,0,0,1,0,0);I.clearRect(0,0,c.canvasWidth*c.textureMult,c.canvasHeight*c.textureMult);c.redraw({forcedContext:I,drawOnlyNodeLayer:!0,forcedPxRatio:d*c.textureMult});var P=c.textureCache.viewport={zoom:f.zoom(),pan:f.pan(),width:c.canvasWidth,height:c.canvasHeight};P.mpan={x:(0-P.pan.x)/P.zoom,y:(0-P.pan.y)/P.zoom}}h[r.DRAG]=!1;h[r.NODE]=!1;var B=p.contexts[r.NODE],O=c.textureCache.texture,P=c.textureCache.viewport;L=c.textureCache.bb;B.setTransform(1,0,0,1,0,0);g?n(B,0,0,P.width,P.height):B.clearRect(0,0,P.width,P.height);var R=k["outside-texture-bg-color"].value,A=k["outside-texture-bg-opacity"].value;c.fillStyle(B,R[0],R[1],R[2],A);B.fillRect(0,0,P.width,P.height);var E=f.zoom();i(B,!1);B.clearRect(P.mpan.x,P.mpan.y,P.width/P.zoom/d,P.height/P.zoom/d);B.drawImage(O,P.mpan.x,P.mpan.y,P.width/P.zoom/d,P.height/P.zoom/d)}else c.textureOnViewport&&!a&&(c.textureCache=null);var z=c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming||c.hoverData.draggingEles,V=c.hideEdgesOnViewport&&z,F=c.hideLabelsOnViewport&&z;if(h[r.DRAG]||h[r.NODE]||o||s){V||c.findEdgeControlPoints(_);for(var q=c.getCachedZSortedEles(),X=f.extent(),Y=0;Y<q.length;Y++){var W,H=q[Y],L=a?null:H.boundingBox(),U=a?!0:e.math.boundingBoxesIntersect(X,L);if(U){W=H._private.rscratch.inDragLayer?j.drag:j.nondrag;W.eles.push(H)}}}var $=[];$[r.NODE]=!h[r.NODE]&&g&&!c.clearedForMotionBlur[r.NODE]||c.clearingMotionBlur;$[r.NODE]&&(c.clearedForMotionBlur[r.NODE]=!0);$[r.DRAG]=!h[r.DRAG]&&g&&!c.clearedForMotionBlur[r.DRAG]||c.clearingMotionBlur;$[r.DRAG]&&(c.clearedForMotionBlur[r.DRAG]=!0);if(h[r.NODE]||o||s||$[r.NODE]){var G=g&&!$[r.NODE]&&1!==y,B=a||(G?c.data.bufferContexts[r.MOTIONBLUR_BUFFER_NODE]:p.contexts[r.NODE]),Z=g&&!G?"motionBlur":void 0;h[r.DRAG]&&h[r.NODE]&&(Z=!0);i(B,Z);x(j.nondrag,B);o||g||(h[r.NODE]=!1)}if(!s&&(h[r.DRAG]||o||$[r.DRAG])){var G=g&&!$[r.DRAG]&&1!==y,B=a||(G?c.data.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG]:p.contexts[r.DRAG]);i(B,g&&!G?"motionBlur":void 0);x(j.drag,B);o||g||(h[r.DRAG]=!1)}if(c.showFps||!s&&h[r.SELECT_BOX]&&!o){var B=a||p.contexts[r.SELECT_BOX];i(B);if(1==p.select[4]&&(c.hoverData.selecting||c.touchData.selecting)){var E=p.cy.zoom(),Q=k["selection-box-border-width"].value/E;B.lineWidth=Q;B.fillStyle="rgba("+k["selection-box-color"].value[0]+","+k["selection-box-color"].value[1]+","+k["selection-box-color"].value[2]+","+k["selection-box-opacity"].value+")";B.fillRect(p.select[0],p.select[1],p.select[2]-p.select[0],p.select[3]-p.select[1]);if(Q>0){B.strokeStyle="rgba("+k["selection-box-border-color"].value[0]+","+k["selection-box-border-color"].value[1]+","+k["selection-box-border-color"].value[2]+","+k["selection-box-opacity"].value+")";B.strokeRect(p.select[0],p.select[1],p.select[2]-p.select[0],p.select[3]-p.select[1])}}if(p.bgActivePosistion&&!c.hoverData.selecting){var E=p.cy.zoom(),J=p.bgActivePosistion;B.fillStyle="rgba("+k["active-bg-color"].value[0]+","+k["active-bg-color"].value[1]+","+k["active-bg-color"].value[2]+","+k["active-bg-opacity"].value+")";B.beginPath();B.arc(J.x,J.y,k["active-bg-size"].pxValue/E,0,2*Math.PI);B.fill()}var K=c.averageRedrawTime;if(c.showFps&&K){K=Math.round(K);var ee=Math.round(1e3/K);B.setTransform(1,0,0,1,0,0);B.fillStyle="rgba(255, 0, 0, 0.75)";B.strokeStyle="rgba(255, 0, 0, 0.75)";B.lineWidth=1;B.fillText("1 frame = "+K+" ms = "+ee+" fps",0,20);var te=60;B.strokeRect(0,30,250,20);B.fillRect(0,30,250*Math.min(ee/te,1),20)}o||(h[r.SELECT_BOX]=!1)}if(g&&1!==y){var re=p.contexts[r.NODE],ne=c.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE],ie=p.contexts[r.DRAG],ae=c.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG],oe=function(e,t,r){e.setTransform(1,0,0,1,0,0);r||!w?e.clearRect(0,0,c.canvasWidth,c.canvasHeight):n(e,0,0,c.canvasWidth,c.canvasHeight);var i=y;e.drawImage(t,0,0,c.canvasWidth*i,c.canvasHeight*i,0,0,c.canvasWidth,c.canvasHeight)};if(h[r.NODE]||$[r.NODE]){oe(re,ne,$[r.NODE]);h[r.NODE]=!1}if(h[r.DRAG]||$[r.DRAG]){oe(ie,ae,$[r.DRAG]);h[r.DRAG]=!1}}var se=Date.now();void 0===c.averageRedrawTime&&(c.averageRedrawTime=se-D);void 0===c.redrawCount&&(c.redrawCount=0);c.redrawCount++;void 0===c.redrawTotalTime&&(c.redrawTotalTime=0);c.redrawTotalTime+=se-D;c.lastRedrawTime=se-D;c.averageRedrawTime=c.averageRedrawTime/2+(se-D)/2;c.currentlyDrawing=!1;c.prevViewport=P;if(c.clearingMotionBlur){c.clearingMotionBlur=!1;c.motionBlurCleared=!0;c.motionBlur=!0}g&&(c.motionBlurTimeout=setTimeout(function(){c.motionBlurTimeout=null;c.clearedForMotionBlur[r.NODE]=!1;c.clearedForMotionBlur[r.DRAG]=!1;c.motionBlur=!1;c.clearingMotionBlur=!v;c.mbFrames=0;h[r.NODE]=!0;h[r.DRAG]=!0;c.redraw()},t.motionBlurDelay));c.drawingImage=!1}n=n||{};var a=n.forcedContext,o=n.drawAllLayers,s=n.drawOnlyNodeLayer,l=n.forcedZoom,u=n.forcedPan,c=this,d=void 0===n.forcedPxRatio?this.getPixelRatio():n.forcedPxRatio,f=c.data.cy,p=c.data,h=p.canvasNeedsRedraw,v=c.textureOnViewport&&!a&&(c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming),g=void 0!==n.motionBlur?n.motionBlur:c.motionBlur,y=c.motionBlurPxRatio,m=f.hasCompoundNodes(),b=c.hoverData.draggingEles,x=c.hoverData.selecting||c.touchData.selecting?!0:!1;g=g&&!a&&c.motionBlurEnabled&&!x;var w=g;!a&&c.motionBlurTimeout&&clearTimeout(c.motionBlurTimeout);!a&&this.redrawTimeout&&clearTimeout(this.redrawTimeout);this.redrawTimeout=null;void 0===this.averageRedrawTime&&(this.averageRedrawTime=0);var _=t.minRedrawLimit,k=t.maxRedrawLimit,E=this.averageRedrawTime;E=_>E?_:E;E=k>E?E:k;void 0===this.lastDrawTime&&(this.lastDrawTime=0);var C=Date.now(),S=C-this.lastDrawTime,T=S>=E;if(!a&&!c.clearingMotionBlur){if(!T||this.currentlyDrawing){this.redrawTimeout=setTimeout(function(){c.redraw()},E);return}this.lastDrawTime=C;this.currentlyDrawing=!0}if(g){null==c.mbFrames&&(c.mbFrames=0);c.drawingImage||c.mbFrames++;c.mbFrames<3&&(w=!1);c.mbFrames>c.minMbLowQualFrames&&(c.motionBlurPxRatio=c.mbPxRBlurry)}c.clearingMotionBlur&&(c.motionBlurPxRatio=1);var D=Date.now();a?i():e.util.requestAnimationFrame(i);if(!a&&!c.initrender){c.initrender=!0;f.trigger("initrender")}a||f.triggerOnRender()}})(cytoscape);(function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.drawPolygonPath=function(e,t,r,n,i,a){var o=n/2,s=i/2;e.beginPath&&e.beginPath();e.moveTo(t+o*a[0],r+s*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+o*a[2*l],r+s*a[2*l+1]);e.closePath()};r.drawPolygon=function(e,t,r,n,i,a){this.drawPolygonPath(e,t,r,n,i,a);e.fill()};r.drawRoundRectanglePath=function(t,r,n,i,a,o){var s=i/2,l=a/2,u=e.math.getRoundRectangleRadius(i,a);t.beginPath&&t.beginPath();t.moveTo(r,n-l);t.arcTo(r+s,n-l,r+s,n,u);t.arcTo(r+s,n+l,r,n+l,u);t.arcTo(r-s,n+l,r-s,n,u);t.arcTo(r-s,n-l,r,n-l,u);t.lineTo(r,n-l);t.closePath()};r.drawRoundRectangle=function(e,t,r,n,i,a){this.drawRoundRectanglePath(e,t,r,n,i,a);e.fill()}})(cytoscape);(function(e){"use strict";var t=e("renderer","canvas"),r=t.prototype;r.createBuffer=function(e,t){var r=document.createElement("canvas");r.width=e;r.height=t;return[r,r.getContext("2d")]};r.bufferCanvasImage=function(t){var r=this.data,n=r.cy,i=n.elements().boundingBox(),a=t.full?Math.ceil(i.w):this.data.container.clientWidth,o=t.full?Math.ceil(i.h):this.data.container.clientHeight,s=1;if(void 0!==t.scale){a*=t.scale;o*=t.scale;s=t.scale}else if(e.is.number(t.maxWidth)||e.is.number(t.maxHeight)){var l=1/0,u=1/0;e.is.number(t.maxWidth)&&(l=s*t.maxWidth/a);e.is.number(t.maxHeight)&&(u=s*t.maxHeight/o);s=Math.min(l,u);a*=s;o*=s}var c=document.createElement("canvas");c.width=a;c.height=o;c.style.width=a+"px";c.style.height=o+"px";var d=c.getContext("2d");if(a>0&&o>0){d.clearRect(0,0,a,o);if(t.bg){d.fillStyle=t.bg;d.rect(0,0,a,o);d.fill()}d.globalCompositeOperation="source-over";if(t.full)this.redraw({forcedContext:d,drawAllLayers:!0,forcedZoom:s,forcedPan:{x:-i.x1*s,y:-i.y1*s},forcedPxRatio:1});else{var f=n.pan(),p={x:f.x*s,y:f.y*s},h=n.zoom()*s;this.redraw({forcedContext:d,drawAllLayers:!0,forcedZoom:h,forcedPan:p,forcedPxRatio:1})}}return c};r.png=function(e){return this.bufferCanvasImage(e).toDataURL("image/png")};r.jpg=function(e){return this.bufferCanvasImage(e).toDataURL("image/jpeg")}})(cytoscape);(function(e){"use strict";var t=e("renderer","canvas"),r=t,n=r.prototype;n.registerBinding=function(e,t,r,n){this.bindings.push({target:e,event:t,handler:r,useCapture:n});e.addEventListener(t,r,n)};n.nodeIsDraggable=function(e){return 0!==e._private.style.opacity.value&&"visible"==e._private.style.visibility.value&&"element"==e._private.style.display.value&&!e.locked()&&e.grabbable()?!0:!1};n.load=function(){var t=this,n=function(e){var r;if(e.addToList&&t.data.cy.hasCompoundNodes()){if(!e.addToList.hasId){e.addToList.hasId={};for(var n=0;n<e.addToList.length;n++){var i=e.addToList[n];e.addToList.hasId[i.id()]=!0}}r=e.addToList.hasId}return r||{}},i=function(e,t){if(e._private.cy.hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList))for(var r=n(t),i=e.descendants(),a=0;a<i.size();a++){var o=i[a],s=o._private;t.inDragLayer&&(s.rscratch.inDragLayer=!0);if(t.addToList&&!r[o.id()]){t.addToList.push(o);r[o.id()]=!0;s.grabbed=!0}for(var l=s.edges,u=0;t.inDragLayer&&u<l.length;u++)l[u]._private.rscratch.inDragLayer=!0}},a=function(e,t){var r=e._private,a=n(t);t.inDragLayer&&(r.rscratch.inDragLayer=!0);if(t.addToList&&!a[e.id()]){t.addToList.push(e);a[e.id()]=!0;r.grabbed=!0}for(var o=r.edges,l=0;t.inDragLayer&&l<o.length;l++)o[l]._private.rscratch.inDragLayer=!0;i(e,t);s(e,{inDragLayer:t.inDragLayer})},o=function(e){if(e)for(var t=0;t<e.length;t++){var r=e[t]._private;if("nodes"===r.group){r.rscratch.inDragLayer=!1;r.grabbed=!1;for(var n=r.edges,i=0;i<n.length;i++)n[i]._private.rscratch.inDragLayer=!1;s(e[t],{inDragLayer:!1})}else"edges"===r.group&&(r.rscratch.inDragLayer=!1)}},s=function(e,t){if(null!=t.inDragLayer||null!=t.addToList){var r=e;if(e._private.cy.hasCompoundNodes()){for(;r.parent().nonempty();)r=r.parent()[0];if(r!=e){for(var i=r.descendants().merge(r).unmerge(e).unmerge(e.descendants()),a=i.connectedEdges(),o=n(t),s=0;s<i.size();s++){void 0!==t.inDragLayer&&(i[s]._private.rscratch.inDragLayer=t.inDragLayer);if(t.addToList&&!o[i[s].id()]){t.addToList.push(i[s]);o[i[s].id()]=!0;i[s]._private.grabbed=!0}}for(var l=0;void 0!==t.inDragLayer&&l<a.length;l++)a[l]._private.rscratch.inDragLayer=t.inDragLayer}}}};if("undefined"!=typeof MutationObserver){t.removeObserver=new MutationObserver(function(e){for(var r=0;r<e.length;r++){var n=e[r],i=n.removedNodes;if(i)for(var a=0;a<i.length;a++){var o=i[a];if(o===t.data.container){t.destroy();break}}}});t.removeObserver.observe(t.data.container.parentNode,{childList:!0})}else t.registerBinding(t.data.container,"DOMNodeRemoved",function(e){t.destroy()});t.registerBinding(window,"resize",e.util.debounce(function(e){t.invalidateContainerClientCoordsCache();t.matchCanvasSize(t.data.container);t.data.canvasNeedsRedraw[r.NODE]=!0;t.redraw()},100));for(var l=function(e){t.registerBinding(e,"scroll",function(e){t.invalidateContainerClientCoordsCache()})},u=t.data.cy.container();;){l(u);if(!u.parentNode)break;u=u.parentNode}t.registerBinding(t.data.container,"contextmenu",function(e){e.preventDefault()});var c=function(){return 0!==t.data.select[4]};t.registerBinding(t.data.container,"mousedown",function(n){n.preventDefault();t.hoverData.capture=!0;t.hoverData.which=n.which;var i=t.data.cy,o=t.projectIntoViewport(n.clientX,n.clientY),s=t.data.select,l=t.findNearestElement(o[0],o[1],!0),u=t.dragData.possibleDragElements;t.hoverData.mdownPos=o;var c=t.data.canvasNeedsRedraw,d=function(){t.hoverData.tapholdCancelled=!1;clearTimeout(t.hoverData.tapholdTimeout);t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var r=t.hoverData.down;r?r.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:o[0],y:o[1]}})):i.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:o[0],y:o[1]}}))}},t.tapholdDuration)};if(3==n.which){t.hoverData.cxtStarted=!0;var f=new e.Event(n,{type:"cxttapstart",cyPosition:{x:o[0],y:o[1]}});if(l){l.activate();l.trigger(f);t.hoverData.down=l}else i.trigger(f);t.hoverData.downTime=(new Date).getTime();t.hoverData.cxtDragged=!1}else if(1==n.which){l&&l.activate();if(null!=l){if(t.nodeIsDraggable(l)){var p=new e.Event(n,{type:"grab",cyPosition:{x:o[0],y:o[1]}});if(l.isNode()&&!l.selected()){u=t.dragData.possibleDragElements=[];a(l,{addToList:u});l.trigger(p)}else if(l.isNode()&&l.selected()){u=t.dragData.possibleDragElements=[];for(var h=i.$(function(){return this.isNode()&&this.selected()}),v=0;v<h.length;v++)t.nodeIsDraggable(h[v])&&a(h[v],{addToList:u});l.trigger(p)}c[r.NODE]=!0;c[r.DRAG]=!0}l.trigger(new e.Event(n,{type:"mousedown",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(n,{type:"vmousedown",cyPosition:{x:o[0],y:o[1]}}))}else null==l&&i.trigger(new e.Event(n,{type:"mousedown",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:o[0],y:o[1]}})).trigger(new e.Event(n,{type:"vmousedown",cyPosition:{x:o[0],y:o[1]}}));t.hoverData.down=l;t.hoverData.downTime=(new Date).getTime();if(null==l||l.isEdge()){s[4]=1;var g=Math.max(0,r.panOrBoxSelectDelay-(+new Date-t.hoverData.downTime));clearTimeout(t.bgActiveTimeout);if(i.boxSelectionEnabled()||l&&l.isEdge())t.bgActiveTimeout=setTimeout(function(){l&&l.unactivate();t.data.bgActivePosistion={x:o[0],y:o[1]};t.hoverData.dragging=!0;c[r.SELECT_BOX]=!0;t.redraw()},g);else{t.data.bgActivePosistion={x:o[0],y:o[1]};c[r.SELECT_BOX]=!0;t.redraw()}}d()}s[0]=s[2]=o[0];s[1]=s[3]=o[1]},!1);t.registerBinding(window,"mousemove",e.util.throttle(function(n){var i=!1,o=t.hoverData.capture;if(!o){var s=t.findContainerClientCoords();if(!(n.clientX>s[0]&&n.clientX<s[0]+t.canvasWidth&&n.clientY>s[1]&&n.clientY<s[1]+t.canvasHeight))return;for(var l=t.data.container,u=n.target,c=u.parentNode,d=!1;c;){if(c===l){d=!0;break}c=c.parentNode}if(!d)return}var f=t.data.cy,p=f.zoom(),h=t.projectIntoViewport(n.clientX,n.clientY),v=t.data.select,g=t.data.canvasNeedsRedraw,y=null;t.hoverData.draggingEles||(y=t.findNearestElement(h[0],h[1],!0));var m=t.hoverData.last,b=t.hoverData.down,x=[h[0]-v[2],h[1]-v[3]],w=t.dragData.possibleDragElements,_=v[2]-v[0],k=_*_,E=v[3]-v[1],C=E*E,S=k+C,T=S*p*p;t.hoverData.tapholdCancelled=!0;var D=function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];if(0===e.length){e.push(x[0]);e.push(x[1])}else{e[0]+=x[0];e[1]+=x[1]}};i=!0;null!=y?y.trigger(new e.Event(n,{type:"mousemove",cyPosition:{x:h[0],y:h[1]}})).trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:h[0],y:h[1]}})).trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:h[0],y:h[1]}})):null==y&&f.trigger(new e.Event(n,{type:"mousemove",cyPosition:{x:h[0],y:h[1]}})).trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:h[0],y:h[1]}})).trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:h[0],y:h[1]}}));if(3===t.hoverData.which){var P=new e.Event(n,{type:"cxtdrag",cyPosition:{x:h[0],y:h[1]}});b?b.trigger(P):f.trigger(P);t.hoverData.cxtDragged=!0;if(!t.hoverData.cxtOver||y!==t.hoverData.cxtOver){t.hoverData.cxtOver&&t.hoverData.cxtOver.trigger(new e.Event(n,{type:"cxtdragout",cyPosition:{x:h[0],y:h[1]}}));t.hoverData.cxtOver=y;y&&y.trigger(new e.Event(n,{type:"cxtdragover",cyPosition:{x:h[0],y:h[1]}}))}}else if(t.hoverData.dragging){i=!0;if(f.panningEnabled()&&f.userPanningEnabled()){var M;if(t.hoverData.justStartedPan){var N=t.hoverData.mdownPos;M={x:(h[0]-N[0])*p,y:(h[1]-N[1])*p};t.hoverData.justStartedPan=!1}else M={x:x[0]*p,y:x[1]*p};f.panBy(M);t.hoverData.dragged=!0}h=t.projectIntoViewport(n.clientX,n.clientY)}else if(1==v[4]&&(null==b||b.isEdge())&&(!f.boxSelectionEnabled()||+new Date-t.hoverData.downTime>=r.panOrBoxSelectDelay)&&!t.hoverData.selecting&&T>=t.tapThreshold2&&f.panningEnabled()&&f.userPanningEnabled()){t.hoverData.dragging=!0;t.hoverData.selecting=!1;t.hoverData.justStartedPan=!0;v[4]=0}else{if(f.boxSelectionEnabled()&&!t.hoverData.dragging&&Math.pow(v[2]-v[0],2)+Math.pow(v[3]-v[1],2)>7&&v[4]){clearTimeout(t.bgActiveTimeout);t.data.bgActivePosistion=void 0;t.hoverData.selecting=!0;g[r.SELECT_BOX]=!0;t.redraw()}b&&b.isEdge()&&b.active()&&b.unactivate();if(y!=m){if(m){m.trigger(new e.Event(n,{type:"mouseout",cyPosition:{x:h[0],y:h[1]}}));m.trigger(new e.Event(n,{type:"tapdragout",cyPosition:{x:h[0],y:h[1]}}))}if(y){y.trigger(new e.Event(n,{type:"mouseover",cyPosition:{x:h[0],y:h[1]}}));y.trigger(new e.Event(n,{type:"tapdragover",cyPosition:{x:h[0],y:h[1]}}))}t.hoverData.last=y}if(b&&b.isNode()&&t.nodeIsDraggable(b))if(T>=t.tapThreshold2){var j=!t.dragData.didDrag;j&&(g[r.NODE]=!0);t.dragData.didDrag=!0;for(var L=[],I=0;I<w.length;I++){var B=w[I];t.hoverData.draggingEles||a(B,{inDragLayer:!0});if(B.isNode()&&t.nodeIsDraggable(B)&&B.grabbed()){var O=B._private.position;L.push(B);if(e.is.number(x[0])&&e.is.number(x[1])){O.x+=x[0];O.y+=x[1];if(j){var R=t.hoverData.dragDelta;if(e.is.number(R[0])&&e.is.number(R[1])){O.x+=R[0];O.y+=R[1]}}}}}t.hoverData.draggingEles=!0;var A=new e.Collection(f,L);A.updateCompoundBounds();A.trigger("position drag");g[r.DRAG]=!0;t.redraw()}else D();i=!0}v[2]=h[0];v[3]=h[1];if(i){n.stopPropagation&&n.stopPropagation();n.preventDefault&&n.preventDefault();return!1}},1e3/30,{trailing:!0}),!1);t.registerBinding(window,"mouseup",function(n){var i=t.hoverData.capture;if(i){t.hoverData.capture=!1;var a=t.data.cy,s=t.projectIntoViewport(n.clientX,n.clientY),l=t.data.select,u=t.findNearestElement(s[0],s[1],!0),c=t.dragData.possibleDragElements,d=t.hoverData.down,f=n.shiftKey,p=t.data.canvasNeedsRedraw;if(t.data.bgActivePosistion){p[r.SELECT_BOX]=!0;t.redraw()}t.data.bgActivePosistion=void 0;clearTimeout(t.bgActiveTimeout);d&&d.unactivate();if(3===t.hoverData.which){var h=new e.Event(n,{type:"cxttapend",cyPosition:{x:s[0],y:s[1]}});d?d.trigger(h):a.trigger(h);if(!t.hoverData.cxtDragged){var v=new e.Event(n,{type:"cxttap",cyPosition:{x:s[0],y:s[1]}});d?d.trigger(v):a.trigger(v)}t.hoverData.cxtDragged=!1;t.hoverData.which=null}else{if(null==d&&!t.dragData.didDrag&&!t.hoverData.dragged){a.$(function(){return this.selected()}).unselect();c.length>0&&(p[r.NODE]=!0);t.dragData.possibleDragElements=c=[]}null!=u?u.trigger(new e.Event(n,{type:"mouseup",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:s[0],y:s[1]}})):null==u&&a.trigger(new e.Event(n,{type:"mouseup",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:s[0],y:s[1]}}));t.dragData.didDrag||t.hoverData.dragged||(null!=u?u.trigger(new e.Event(n,{type:"click",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tap",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:s[0],y:s[1]}})):null==u&&a.trigger(new e.Event(n,{type:"click",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"tap",cyPosition:{x:s[0],y:s[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:s[0],y:s[1]}})));if(u==d&&!t.dragData.didDrag&&null!=u&&u._private.selectable){if(t.hoverData.dragging);else if("additive"===a.selectionType()||f)u.selected()?u.unselect():u.select();else if(!f){a.$(":selected").unmerge(u).unselect();u.select()}p[r.NODE]=!0}if(t.hoverData.selecting&&a.boxSelectionEnabled()&&Math.pow(l[2]-l[0],2)+Math.pow(l[3]-l[1],2)>7&&l[4]){var g=[],y=t.getAllInBox(l[0],l[1],l[2],l[3]);p[r.SELECT_BOX]=!0;y.length>0&&(p[r.NODE]=!0);for(var m=0;m<y.length;m++)y[m]._private.selectable&&g.push(y[m]);var b=new e.Collection(a,g);if("additive"===a.selectionType())b.select();else{f||a.$(":selected").unmerge(b).unselect();b.select()}t.redraw()}if(t.hoverData.dragging){t.hoverData.dragging=!1;p[r.SELECT_BOX]=!0;p[r.NODE]=!0;t.redraw()}if(!l[4]){p[r.DRAG]=!0;p[r.NODE]=!0;o(c);d&&d.trigger("free")}}l[4]=0;t.hoverData.down=null;t.hoverData.cxtStarted=!1;t.hoverData.draggingEles=!1;t.hoverData.selecting=!1;t.dragData.didDrag=!1;t.hoverData.dragged=!1;t.hoverData.dragDelta=[]}},!1);var d=function(e){if(!t.scrollingPage){var n=t.data.cy,i=t.projectIntoViewport(e.clientX,e.clientY),a=[i[0]*n.zoom()+n.pan().x,i[1]*n.zoom()+n.pan().y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||c())e.preventDefault();else if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){e.preventDefault();t.data.wheelZooming=!0;clearTimeout(t.data.wheelTimeout);t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1;t.data.canvasNeedsRedraw[r.NODE]=!0;t.redraw()},150);var o=e.deltaY/-250||e.wheelDeltaY/1e3||e.wheelDelta/1e3;o*=t.wheelSensitivity;var s=1===e.deltaMode;s&&(o*=33);n.zoom({level:n.zoom()*Math.pow(10,o),renderedPosition:{x:a[0],y:a[1]}})}}};t.registerBinding(t.data.container,"wheel",d,!0);t.registerBinding(window,"scroll",function(e){t.scrollingPage=!0;clearTimeout(t.scrollingPageTimeout);t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0);t.registerBinding(t.data.container,"mouseout",function(r){var n=t.projectIntoViewport(r.clientX,r.clientY);t.data.cy.trigger(new e.Event(r,{type:"mouseout",cyPosition:{x:n[0],y:n[1]}}))},!1);t.registerBinding(t.data.container,"mouseover",function(r){var n=t.projectIntoViewport(r.clientX,r.clientY);t.data.cy.trigger(new e.Event(r,{type:"mouseover",cyPosition:{x:n[0],y:n[1]}}))},!1);var f,p,h,v,g,y,m,b,x,w,_,k,E,C=function(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))},S=function(e,t,r,n){return(r-e)*(r-e)+(n-t)*(n-t)};t.registerBinding(t.data.container,"touchstart",function(n){clearTimeout(this.threeFingerSelectTimeout);n.target!==t.data.link&&n.preventDefault();t.touchData.capture=!0;t.data.bgActivePosistion=void 0;var i=t.data.cy,o=t.getCachedNodes(),s=t.getCachedEdges(),l=t.touchData.now,u=t.touchData.earlier,c=t.data.canvasNeedsRedraw;if(n.touches[0]){var d=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=d[0];l[1]=d[1]}if(n.touches[1]){var d=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);l[2]=d[0];l[3]=d[1]}if(n.touches[2]){var d=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);l[4]=d[0];l[5]=d[1]}if(n.touches[1]){var T=function(e){for(var t=0;t<e.length;t++){e[t]._private.grabbed=!1;e[t]._private.rscratch.inDragLayer=!1;e[t].active()&&e[t].unactivate()}};T(o);T(s);var D=t.findContainerClientCoords();x=D[0];w=D[1];_=D[2];k=D[3];f=n.touches[0].clientX-x;p=n.touches[0].clientY-w;h=n.touches[1].clientX-x;v=n.touches[1].clientY-w;E=f>=0&&_>=f&&h>=0&&_>=h&&p>=0&&k>=p&&v>=0&&k>=v;var P=i.pan(),M=i.zoom();g=C(f,p,h,v);y=S(f,p,h,v);m=[(f+h)/2,(p+v)/2];b=[(m[0]-P.x)/M,(m[1]-P.y)/M];var N=200,j=N*N;if(j>y&&!n.touches[2]){var L=t.findNearestElement(l[0],l[1],!0),I=t.findNearestElement(l[2],l[3],!0);if(L&&L.isNode()){L.activate().trigger(new e.Event(n,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}}));t.touchData.start=L}else if(I&&I.isNode()){I.activate().trigger(new e.Event(n,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}}));t.touchData.start=I}else{i.trigger(new e.Event(n,{type:"cxttapstart",cyPosition:{x:l[0],y:l[1]}}));t.touchData.start=null}t.touchData.start&&(t.touchData.start._private.grabbed=!1);t.touchData.cxt=!0;t.touchData.cxtDragged=!1;t.data.bgActivePosistion=void 0;t.redraw();return}}if(n.touches[2]);else if(n.touches[1]);else if(n.touches[0]){var B=t.findNearestElement(l[0],l[1],!0);if(null!=B){B.activate();t.touchData.start=B;if(B.isNode()&&t.nodeIsDraggable(B)){var O=t.dragData.touchDragEles=[];c[r.NODE]=!0;c[r.DRAG]=!0;if(B.selected())for(var R=i.$(function(){return this.isNode()&&this.selected()}),A=0;A<R.length;A++){var z=R[A];t.nodeIsDraggable(z)&&a(z,{addToList:O})}else a(B,{addToList:O});B.trigger(new e.Event(n,{type:"grab",cyPosition:{x:l[0],y:l[1]}}))}B.trigger(new e.Event(n,{type:"touchstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(n,{type:"vmousdown",cyPosition:{x:l[0],y:l[1]}}))}if(null==B){i.trigger(new e.Event(n,{type:"touchstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(n,{type:"tapstart",cyPosition:{x:l[0],y:l[1]}})).trigger(new e.Event(n,{type:"vmousedown",cyPosition:{x:l[0],y:l[1]}}));t.data.bgActivePosistion={x:d[0],y:d[1]};c[r.SELECT_BOX]=!0;t.redraw()}for(var V=0;V<l.length;V++){u[V]=l[V];t.touchData.startPosition[V]=l[V]}t.touchData.singleTouchMoved=!1;t.touchData.singleTouchStartTime=+new Date;clearTimeout(t.touchData.tapholdTimeout);t.touchData.tapholdTimeout=setTimeout(function(){if(t.touchData.singleTouchMoved===!1&&!t.pinching)if(t.touchData.start)t.touchData.start.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:l[0],y:l[1]}}));else{t.data.cy.trigger(new e.Event(n,{type:"taphold",cyPosition:{x:l[0],y:l[1]}}));i.$(":selected").unselect()}},t.tapholdDuration)}},!1);t.registerBinding(window,"touchmove",e.util.throttle(function(n){var i=t.data.select,o=t.touchData.capture;o&&n.preventDefault();var s=t.data.cy,l=t.touchData.now,u=t.touchData.earlier,c=s.zoom(),d=t.data.canvasNeedsRedraw;if(n.touches[0]){var m=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=m[0];l[1]=m[1]}if(n.touches[1]){var m=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);l[2]=m[0];l[3]=m[1]}if(n.touches[2]){var m=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);l[4]=m[0];l[5]=m[1]}for(var _=[],k=0;k<l.length;k++)_[k]=l[k]-u[k];var T=t.touchData.startPosition,D=l[0]-T[0],P=D*D,M=l[1]-T[1],N=M*M,j=P+N,L=j*c*c;if(o&&t.touchData.cxt){var I=n.touches[0].clientX-x,B=n.touches[0].clientY-w,O=n.touches[1].clientX-x,R=n.touches[1].clientY-w,A=S(I,B,O,R),z=A/y,V=150,F=V*V,q=1.5,X=q*q;if(z>=X||A>=F){t.touchData.cxt=!1;if(t.touchData.start){t.touchData.start.unactivate();t.touchData.start=null}t.data.bgActivePosistion=void 0;d[r.SELECT_BOX]=!0;var Y=new e.Event(n,{type:"cxttapend",cyPosition:{x:l[0],y:l[1]}});t.touchData.start?t.touchData.start.trigger(Y):s.trigger(Y)}}if(o&&t.touchData.cxt){var Y=new e.Event(n,{type:"cxtdrag",cyPosition:{x:l[0],y:l[1]}});t.data.bgActivePosistion=void 0;d[r.SELECT_BOX]=!0;t.touchData.start?t.touchData.start.trigger(Y):s.trigger(Y);t.touchData.start&&(t.touchData.start._private.grabbed=!1);t.touchData.cxtDragged=!0;var W=t.findNearestElement(l[0],l[1],!0);if(!t.touchData.cxtOver||W!==t.touchData.cxtOver){t.touchData.cxtOver&&t.touchData.cxtOver.trigger(new e.Event(n,{type:"cxtdragout",cyPosition:{x:l[0],y:l[1]}}));t.touchData.cxtOver=W;W&&W.trigger(new e.Event(n,{type:"cxtdragover",cyPosition:{x:l[0],y:l[1]}}))}}else if(o&&n.touches[2]&&s.boxSelectionEnabled()){t.data.bgActivePosistion=void 0;clearTimeout(this.threeFingerSelectTimeout);this.lastThreeTouch=+new Date;t.touchData.selecting=!0;d[r.SELECT_BOX]=!0;if(i&&0!==i.length&&void 0!==i[0]){i[2]=(l[0]+l[2]+l[4])/3;i[3]=(l[1]+l[3]+l[5])/3}else{i[0]=(l[0]+l[2]+l[4])/3;i[1]=(l[1]+l[3]+l[5])/3;i[2]=(l[0]+l[2]+l[4])/3+1;i[3]=(l[1]+l[3]+l[5])/3+1}i[4]=1;t.touchData.selecting=!0;t.redraw()}else if(o&&n.touches[1]&&s.zoomingEnabled()&&s.panningEnabled()&&s.userZoomingEnabled()&&s.userPanningEnabled()){t.data.bgActivePosistion=void 0;d[r.SELECT_BOX]=!0;var H=t.dragData.touchDragEles;if(H){d[r.DRAG]=!0;for(var U=0;U<H.length;U++){H[U]._private.grabbed=!1;H[U]._private.rscratch.inDragLayer=!1}}var I=n.touches[0].clientX-x,B=n.touches[0].clientY-w,O=n.touches[1].clientX-x,R=n.touches[1].clientY-w,$=C(I,B,O,R),G=$/g;if(1!=G&&E){var Z=I-f,Q=B-p,J=O-h,K=R-v,ee=(Z+J)/2,te=(Q+K)/2,re=s.zoom(),ne=re*G,ie=s.pan(),ae=b[0]*re+ie.x,oe=b[1]*re+ie.y,se={x:-ne/re*(ae-ie.x-ee)+ae,y:-ne/re*(oe-ie.y-te)+oe};if(t.touchData.start){var H=t.dragData.touchDragEles;if(H)for(var U=0;U<H.length;U++){var le=H[U]._private;le.grabbed=!1;le.rscratch.inDragLayer=!1}var ue=t.touchData.start._private;ue.active=!1;ue.grabbed=!1;ue.rscratch.inDragLayer=!1;d[r.DRAG]=!0;t.touchData.start.trigger("free").trigger("unactivate")}s.viewport({zoom:ne,pan:se,cancelOnFailedZoom:!0});g=$;f=I;p=B;h=O;v=R;t.pinching=!0}if(n.touches[0]){var m=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=m[0];l[1]=m[1]}if(n.touches[1]){var m=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);l[2]=m[0];l[3]=m[1]}if(n.touches[2]){var m=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);l[4]=m[0];l[5]=m[1]}}else if(n.touches[0]){var ce=t.touchData.start,de=t.touchData.last,W=W||t.findNearestElement(l[0],l[1],!0);if(null!=ce&&"nodes"==ce._private.group&&t.nodeIsDraggable(ce))if(L>=t.tapThreshold2){for(var H=t.dragData.touchDragEles,fe=0;fe<H.length;fe++){var pe=H[fe];if(t.nodeIsDraggable(pe)&&pe.isNode()&&pe.grabbed()){t.dragData.didDrag=!0;var he=pe._private.position,ve=!t.hoverData.draggingEles;if(e.is.number(_[0])&&e.is.number(_[1])){he.x+=_[0];he.y+=_[1]}if(ve){a(pe,{inDragLayer:!0});d[r.NODE]=!0;var ge=t.touchData.dragDelta;if(e.is.number(ge[0])&&e.is.number(ge[1])){he.x+=ge[0];he.y+=ge[1]}}}}var ye=new e.Collection(s,pe);

ye.updateCompoundBounds();ye.trigger("position drag");t.hoverData.draggingEles=!0;d[r.DRAG]=!0;t.touchData.startPosition[0]==u[0]&&t.touchData.startPosition[1]==u[1]&&(d[r.NODE]=!0);t.redraw()}else{var ge=t.touchData.dragDelta=t.touchData.dragDelta||[];if(0===ge.length){ge.push(_[0]);ge.push(_[1])}else{ge[0]+=_[0];ge[1]+=_[1]}}if(null!=ce){ce.trigger(new e.Event(n,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}}));ce.trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}}));ce.trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))}if(null==ce){if(null!=W){W.trigger(new e.Event(n,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}}));W.trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}}));W.trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))}if(null==W){s.trigger(new e.Event(n,{type:"touchmove",cyPosition:{x:l[0],y:l[1]}}));s.trigger(new e.Event(n,{type:"tapdrag",cyPosition:{x:l[0],y:l[1]}}));s.trigger(new e.Event(n,{type:"vmousemove",cyPosition:{x:l[0],y:l[1]}}))}}if(W!=de){de&&de.trigger(new e.Event(n,{type:"tapdragout",cyPosition:{x:l[0],y:l[1]}}));W&&W.trigger(new e.Event(n,{type:"tapdragover",cyPosition:{x:l[0],y:l[1]}}))}t.touchData.last=W;for(var U=0;U<l.length;U++)l[U]&&t.touchData.startPosition[U]&&Math.abs(l[U]-t.touchData.startPosition[U])>4&&(t.touchData.singleTouchMoved=!0);if(o&&(null==ce||ce.isEdge())&&s.panningEnabled()&&s.userPanningEnabled()){if(t.swipePanning)s.panBy({x:_[0]*c,y:_[1]*c});else if(L>=t.tapThreshold2){t.swipePanning=!0;s.panBy({x:D*c,y:M*c})}if(ce){ce.unactivate();t.data.bgActivePosistion||(t.data.bgActivePosistion={x:l[0],y:l[1]});d[r.SELECT_BOX]=!0;t.touchData.start=null}var m=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);l[0]=m[0];l[1]=m[1]}}for(var k=0;k<l.length;k++)u[k]=l[k]},1e3/30,{trailing:!0}),!1);t.registerBinding(window,"touchcancel",function(e){var r=t.touchData.start;t.touchData.capture=!1;r&&r.unactivate()});t.registerBinding(window,"touchend",function(n){var i=t.touchData.start,a=t.touchData.capture;if(a){t.touchData.capture=!1;n.preventDefault();var s=t.data.select;t.swipePanning=!1;t.hoverData.draggingEles=!1;var l=t.data.cy,u=l.zoom(),c=t.touchData.now,d=t.touchData.earlier,f=t.data.canvasNeedsRedraw;if(n.touches[0]){var p=t.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);c[0]=p[0];c[1]=p[1]}if(n.touches[1]){var p=t.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);c[2]=p[0];c[3]=p[1]}if(n.touches[2]){var p=t.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);c[4]=p[0];c[5]=p[1]}i&&i.unactivate();var h;if(t.touchData.cxt){h=new e.Event(n,{type:"cxttapend",cyPosition:{x:c[0],y:c[1]}});i?i.trigger(h):l.trigger(h);if(!t.touchData.cxtDragged){var v=new e.Event(n,{type:"cxttap",cyPosition:{x:c[0],y:c[1]}});i?i.trigger(v):l.trigger(v)}t.touchData.start&&(t.touchData.start._private.grabbed=!1);t.touchData.cxt=!1;t.touchData.start=null;t.redraw()}else{if(!n.touches[2]&&l.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;clearTimeout(this.threeFingerSelectTimeout);var g=[],y=t.getAllInBox(s[0],s[1],s[2],s[3]);s[0]=void 0;s[1]=void 0;s[2]=void 0;s[3]=void 0;s[4]=0;f[r.SELECT_BOX]=!0;for(var m=0;m<y.length;m++)y[m]._private.selectable&&g.push(y[m]);var b=new e.Collection(l,g);"single"===l.selectionType()&&l.$(":selected").unmerge(b).unselect();b.select();b.length>0?f[r.NODE]=!0:t.redraw()}var x=!1;if(null!=i){i._private.active=!1;x=!0;i.unactivate()}if(n.touches[2]){t.data.bgActivePosistion=void 0;f[r.SELECT_BOX]=!0}else if(n.touches[1]);else if(n.touches[0]);else if(!n.touches[0]){t.data.bgActivePosistion=void 0;f[r.SELECT_BOX]=!0;var w=t.dragData.touchDragEles;if(null!=i){var _=i._private.grabbed;o(w);f[r.DRAG]=!0;f[r.NODE]=!0;_&&i.trigger("free");i.trigger(new e.Event(n,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}}));i.unactivate();t.touchData.start=null}else{var k=t.findNearestElement(c[0],c[1],!0);null!=k&&k.trigger(new e.Event(n,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}}));null==k&&l.trigger(new e.Event(n,{type:"touchend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"tapend",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vmouseup",cyPosition:{x:c[0],y:c[1]}}))}var E=t.touchData.startPosition[0]-c[0],C=E*E,S=t.touchData.startPosition[1]-c[1],T=S*S,D=C+T,P=D*u*u;if(null!=i&&!t.dragData.didDrag&&i._private.selectable&&P<t.tapThreshold2&&!t.pinching){if("single"===l.selectionType()){l.$(":selected").unmerge(i).unselect();i.select()}else i.selected()?i.unselect():i.select();x=!0;f[r.NODE]=!0}t.touchData.singleTouchMoved===!1&&(i?i.trigger(new e.Event(n,{type:"tap",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:c[0],y:c[1]}})):l.trigger(new e.Event(n,{type:"tap",cyPosition:{x:c[0],y:c[1]}})).trigger(new e.Event(n,{type:"vclick",cyPosition:{x:c[0],y:c[1]}})));t.touchData.singleTouchMoved=!0}for(var M=0;M<c.length;M++)d[M]=c[M];t.dragData.didDrag=!1;0===n.touches.length&&(t.touchData.dragDelta=[]);x&&i&&i.updateStyle(!1);if(n.touches.length<2){t.pinching=!1;f[r.NODE]=!0;t.redraw()}}}},!1)}})(cytoscape);(function(e){"use strict";function t(t,r){a[t]={points:r,draw:function(e,r,i,o,s){n.drawPolygon(e,r,i,o,s,a[t].points)},drawPath:function(e,r,i,o,s){n.drawPolygonPath(e,r,i,o,s,a[t].points)},intersectLine:function(r,n,i,o,s,l,u){return e.math.polygonIntersectLine(s,l,a[t].points,r,n,i/2,o/2,u)},intersectBox:function(r,n,i,o,s,l,u,c,d){var f=a[t].points;return e.math.boxIntersectPolygon(r,n,i,o,f,s,l,u,c,[0,-1],d)},checkPoint:function(r,n,i,o,s,l,u){return e.math.pointInsidePolygon(r,n,a[t].points,l,u,o,s,[0,-1],i)}}}for(var r=e("renderer","canvas"),n=r.prototype,i=r.usePaths(),a=r.nodeShapes={},o=Math.sin(0),s=Math.cos(0),l={},u={},c=.1,d=0*Math.PI;d<2*Math.PI;d+=c){l[d]=Math.sin(d);u[d]=Math.cos(d)}a.ellipse={draw:function(e,t,r,n,i){a.ellipse.drawPath(e,t,r,n,i);e.fill()},drawPath:function(e,t,r,n,a){if(i){e.beginPath&&e.beginPath();for(var d,f,p=n/2,h=a/2,v=0*Math.PI;v<2*Math.PI;v+=c){d=t-p*l[v]*o+p*u[v]*s;f=r+h*u[v]*o+h*l[v]*s;0===v?e.moveTo(d,f):e.lineTo(d,f)}e.closePath()}else{e.beginPath&&e.beginPath();e.translate(t,r);e.scale(n/2,a/2);e.arc(0,0,1,0,2*Math.PI*.999,!1);e.closePath();e.scale(2/n,2/a);e.translate(-t,-r)}},intersectLine:function(t,r,n,i,a,o,s){var l=e.math.intersectLineEllipse(a,o,t,r,n/2+s,i/2+s);return l},intersectBox:function(t,r,n,i,a,o,s,l,u){return e.math.boxIntersectEllipse(t,r,n,i,u,a,o,s,l)},checkPoint:function(e,t,r,n,i,a,o){e-=a;t-=o;e/=n/2+r;t/=i/2+r;return Math.pow(e,2)+Math.pow(t,2)<=1}};t("triangle",e.math.generateUnitNgonPointsFitToSquare(3,0));t("square",e.math.generateUnitNgonPointsFitToSquare(4,0));a.rectangle=a.square;a.roundrectangle={points:e.math.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,r,i,a){n.drawRoundRectangle(e,t,r,i,a,10)},drawPath:function(e,t,r,i,a){n.drawRoundRectanglePath(e,t,r,i,a,10)},intersectLine:function(t,r,n,i,a,o,s){return e.math.roundRectangleIntersectLine(a,o,t,r,n,i,s)},intersectBox:function(t,r,n,i,a,o,s,l,u){return e.math.roundRectangleIntersectBox(t,r,n,i,a,o,s,l,u)},checkPoint:function(t,r,n,i,o,s,l){var u=e.math.getRoundRectangleRadius(i,o);if(e.math.pointInsidePolygon(t,r,a.roundrectangle.points,s,l,i,o-2*u,[0,-1],n))return!0;if(e.math.pointInsidePolygon(t,r,a.roundrectangle.points,s,l,i-2*u,o,[0,-1],n))return!0;var c=function(e,t,r,n,i,a,o){e-=r;t-=n;e/=i/2+o;t/=a/2+o;return Math.pow(e,2)+Math.pow(t,2)<=1};return c(t,r,s-i/2+u,l-o/2+u,2*u,2*u,n)?!0:c(t,r,s+i/2-u,l-o/2+u,2*u,2*u,n)?!0:c(t,r,s+i/2-u,l+o/2-u,2*u,2*u,n)?!0:c(t,r,s-i/2+u,l+o/2-u,2*u,2*u,n)?!0:!1}};t("diamond",[0,1,1,0,0,-1,-1,0]);t("pentagon",e.math.generateUnitNgonPointsFitToSquare(5,0));t("hexagon",e.math.generateUnitNgonPointsFitToSquare(6,0));t("heptagon",e.math.generateUnitNgonPointsFitToSquare(7,0));t("octagon",e.math.generateUnitNgonPointsFitToSquare(8,0));var f=new Array(20),p=e.math.generateUnitNgonPoints(5,0),h=e.math.generateUnitNgonPoints(5,Math.PI/5),v=.5*(3-Math.sqrt(5));v*=1.57;for(var d=0;d<h.length/2;d++){h[2*d]*=v;h[2*d+1]*=v}for(var d=0;5>d;d++){f[4*d]=p[2*d];f[4*d+1]=p[2*d+1];f[4*d+2]=h[2*d];f[4*d+3]=h[2*d+1]}f=e.math.fitPolygonToSquare(f);t("star",f);t("vee",[-1,-1,0,-.333,1,-1,0,1]);t("rhomboid",[-1,-1,.333,-1,1,1,-.333,1])})(cytoscape);(function(e){"use strict";function t(t){this._private={};this._private.options=e.util.extend({},r,t)}var r={animate:!0,maxSimulationTime:4e3,fit:!0,padding:30,boundingBox:void 0,ungrabifyWhileSimulating:!1,ready:void 0,stop:void 0,repulsion:void 0,stiffness:void 0,friction:void 0,gravity:!0,fps:void 0,precision:void 0,nodeMass:void 0,edgeLength:void 0,stepSize:.1,stableEnergy:function(e){var t=e;return t.max<=.5||t.mean<=.3},infinite:!1};t.prototype.run=function(){var t=this,r=this._private.options;e.util.require("arbor",function(n){function i(e,t){return null==t?void 0:"function"==typeof t?t.apply(e,[e._private.data,{nodes:u.length,edges:c.length,element:e}]):t}function a(e){if(!e.isFullAutoParent()){var t=e._private.data.id,n=i(e,r.nodeMass),a=e._private.locked,o=e.position(),s=p.fromScreen({x:o.x,y:o.y});e.scratch().arbor=p.addNode(t,{element:e,mass:n,fixed:a,x:a?s.x:void 0,y:a?s.y:void 0})}}function o(e){var t=e.source().id(),n=e.target().id(),a=i(e,r.edgeLength);e.scratch().arbor=p.addEdge(t,n,{length:a})}var s=r.cy,l=r.eles,u=l.nodes().not(":parent"),c=l.edges(),d=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:s.width(),h:s.height()}),f=!1;t.trigger({type:"layoutstart",layout:t});void 0!==r.liveUpdate&&(r.animate=r.liveUpdate);if(l.nodes().size()<=1){r.fit&&s.reset();l.nodes().position({x:Math.round((d.x1+d.x2)/2),y:Math.round((d.y1+d.y2)/2)});t.one("layoutready",r.ready);t.trigger({type:"layoutready",layout:t});t.one("layoutstop",r.stop);t.trigger({type:"layoutstop",layout:t})}else{var p=t._private.system=n.ParticleSystem();p.parameters({repulsion:r.repulsion,stiffness:r.stiffness,friction:r.friction,gravity:r.gravity,fps:r.fps,dt:r.dt,precision:r.precision});r.animate&&r.fit&&s.fit(d,r.padding);var h,v=250,g=!1,y=+new Date,m={init:function(e){},redraw:function(){var e=p.energy();if(!r.infinite&&null!=r.stableEnergy&&null!=e&&e.n>0&&r.stableEnergy(e))t.stop();else{if(!r.infinite&&v!=1/0){clearTimeout(h);h=setTimeout(C,v)}var n=s.collection();p.eachNode(function(e,t){var r=e.data,i=r.element;if(null!=i&&!i.locked()&&!i.grabbed()){i.silentPosition({x:d.x1+t.x,y:d.y1+t.y});n.merge(i)}});if(r.animate&&n.length>0){f=!0;n.rtrigger("position");r.fit&&s.fit(r.padding);y=+new Date;f=!1}if(!g){g=!0;t.one("layoutready",r.ready);t.trigger({type:"layoutready",layout:t})}}}};p.renderer=m;p.screenSize(d.w,d.h);p.screenPadding(r.padding,r.padding,r.padding,r.padding);p.screenStep(r.stepSize);var b;u.on("grab free position",b=function(e){if(!f){var t=this.position(),i=p.fromScreen(t);if(i){var a=n.Point(i.x,i.y),o=r.padding;d.x1+o<=t.x&&t.x<=d.x2-o&&d.y1+o<=t.y&&t.y<=d.y2-o&&(this.scratch().arbor.p=a);switch(e.type){case"grab":this.scratch().arbor.fixed=!0;break;case"free":this.scratch().arbor.fixed=!1}}}});var x;u.on("lock unlock",x=function(e){node.scratch().arbor.fixed=node.locked()});var w;l.on("remove",w=function(e){});var _;s.on("add","*",_=function(){});var k;s.on("resize",k=function(){if(null==r.boundingBox&&null!=t._private.system){var e=s.width(),n=s.height();p.screenSize(e,n)}});u.each(function(e,t){a(t)});c.each(function(e,t){o(t)});var E=u.filter(":grabbable");r.ungrabifyWhileSimulating&&E.ungrabify();var C=t._private.doneHandler=function(){t._private.doneHandler=null;if(!r.animate){r.fit&&s.reset();u.rtrigger("position")}u.off("grab free position",b);u.off("lock unlock",x);l.off("remove",w);s.off("add","*",_);s.off("resize",k);r.ungrabifyWhileSimulating&&E.grabify();t.one("layoutstop",r.stop);t.trigger({type:"layoutstop",layout:t})};p.start();!r.infinite&&null!=r.maxSimulationTime&&r.maxSimulationTime>0&&r.maxSimulationTime!==1/0&&setTimeout(function(){t.stop()},r.maxSimulationTime)}});return this};t.prototype.stop=function(){null!=this._private.system&&this._private.system.stop();this._private.doneHandler&&this._private.doneHandler();return this};e("layout","arbor",t)})(cytoscape);(function(e){"use strict";function t(t){this.options=e.util.extend({},r,t)}var r={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t,r=this.options,n=r,i=r.cy,a=n.eles,o=a.nodes().not(":parent"),s=a,l=e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(e.is.elementOrCollection(n.roots))t=n.roots;else if(e.is.array(n.roots)){for(var u=[],c=0;c<n.roots.length;c++){var d=n.roots[c],f=i.getElementById(d);u.push(f)}t=new e.Collection(i,u)}else if(e.is.string(n.roots))t=i.$(n.roots);else if(n.directed)t=o.roots();else{for(var p=[],h=o;h.length>0;){var v=i.collection();a.bfs({roots:h[0],visit:function(e,t,r,n,i){v=v.add(r)},directed:!1});h=h.not(v);p.push(v)}t=i.collection();for(var c=0;c<p.length;c++){var g=p[c],y=g.maxDegree(!1),m=g.filter(function(){return this.degree(!1)===y});t=t.add(m)}}var b=[],x={},w={},_={},k={},E={};s.bfs({roots:t,directed:n.directed,visit:function(e,t,r,n,i){var a=this[0],o=a.id();b[t]||(b[t]=[]);b[t].push(a);x[o]=!0;w[o]=t;_[o]=i;k[o]=n;if(i){var s=i.id(),l=E[s]=E[s]||[];l.push(r)}}});for(var C=[],c=0;c<o.length;c++){var f=o[c];x[f.id()]||C.push(f)}for(var S=3*C.length,T=0;0!==C.length&&S>T;){for(var D=C.shift(),P=D.neighborhood().nodes(),M=!1,c=0;c<P.length;c++){var N=w[P[c].id()];if(void 0!==N){b[N].push(D);M=!0;break}}M||C.push(D);T++}for(;0!==C.length;){var D=C.shift(),M=!1;if(!M){0===b.length&&b.push([]);b[0].push(D)}}var j=function(){for(var e=0;e<b.length;e++)for(var t=b[e],r=0;r<t.length;r++){var n=t[r];n._private.scratch.breadthfirst={depth:e,index:r}}};j();for(var L=function(e){for(var t,r=e.connectedEdges(function(){return this.data("target")===e.id()}),n=e._private.scratch.breadthfirst,i=0,a=0;a<r.length;a++){var o=r[a],s=o.source()[0],l=s._private.scratch.breadthfirst;if(n.depth<=l.depth&&i<l.depth){i=l.depth;t=s}}return t},I=0;I<n.maximalAdjustments;I++){for(var B=b.length,O=[],c=0;B>c;c++)for(var N=b[c],R=N.length,A=0;R>A;A++){var f=N[A],z=f._private.scratch.breadthfirst,V=L(f);if(V){z.intEle=V;O.push(f)}}for(var c=0;c<O.length;c++){var f=O[c],z=f._private.scratch.breadthfirst,V=z.intEle,F=V._private.scratch.breadthfirst;b[z.depth].splice(z.index,1);for(var q=F.depth+1;q>b.length-1;)b.push([]);b[q].push(f);z.depth=q;z.index=b[q].length-1}j()}var X=0;if(n.avoidOverlap){for(var c=0;c<o.length;c++){var Y=o[c].outerWidth(),W=o[c].outerHeight();X=Math.max(X,Y,W)}X*=n.spacingFactor}for(var H={},U=function(e){if(H[e.id()])return H[e.id()];for(var t=e._private.scratch.breadthfirst.depth,r=e.neighborhood().nodes().not(":parent"),n=0,i=0,a=0;a<r.length;a++){var o=r[a],s=o._private.scratch.breadthfirst,l=s.index,u=s.depth,c=b[u].length;if(t>u||0===t){n+=l/c;i++}}i=Math.max(1,i);n/=i;0===i&&(n=void 0);H[e.id()]=n;return n},$=function(e,t){var r=U(e),n=U(t);return r-n},G=0;3>G;G++){for(var c=0;c<b.length;c++)b[c]=b[c].sort($);j()}for(var Z=0,c=0;c<b.length;c++)Z=Math.max(b[c].length,Z);for(var Q={x:l.x1+l.w/2,y:l.x1+l.h/2},J=function(e,t){var r=e._private.scratch.breadthfirst,i=r.depth,a=r.index,o=b[i].length,s=Math.max(l.w/(o+1),X),u=Math.max(l.h/(b.length+1),X),c=Math.min(l.w/2/b.length,l.h/2/b.length);c=Math.max(c,X);if(n.circle){if(n.circle){var d=c*i+c-(b.length>0&&b[0].length<=3?c/2:0),f=2*Math.PI/b[i].length*a;0===i&&1===b[0].length&&(d=1);return{x:Q.x+d*Math.cos(f),y:Q.y+d*Math.sin(f)}}return{x:Q.x+(a+1-(o+1)/2)*s,y:(i+1)*u}}var p={x:Q.x+(a+1-(o+1)/2)*s,y:(i+1)*u};return t?p:p},K={},c=b.length-1;c>=0;c--)for(var N=b[c],A=0;A<N.length;A++){var D=N[A];K[D.id()]=J(D,c===b.length-1)}o.layoutPositions(this,n,function(){return K[this.id()]});return this};e("layout","breadthfirst",t)})(cytoscape);(function(e){"use strict";function t(t){this.options=e.util.extend({},r,t)}var r={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,counterclockwise:!1,sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t=this.options,r=t,n=t.cy,i=r.eles,a=i.nodes().not(":parent");r.sort&&(a=a.sort(r.sort));for(var o,s=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=r.startAngle,c=2*Math.PI/a.length,d=0,f=0;f<a.length;f++){var p=a[f].outerWidth(),h=a[f].outerHeight();d=Math.max(d,p,h)}o=e.is.number(r.radius)?r.radius:a.length<=1?0:Math.min(s.h,s.w)/2-d;if(a.length>1&&r.avoidOverlap){d*=1.75;var c=2*Math.PI/a.length,v=Math.cos(c)-Math.cos(0),g=Math.sin(c)-Math.sin(0),y=Math.sqrt(d*d/(v*v+g*g));o=Math.max(y,o)}var m=function(e,t){var n=o*Math.cos(u),i=o*Math.sin(u),a={x:l.x+n,y:l.y+i};u=r.counterclockwise?u-c:u+c;return a};a.layoutPositions(this,r,m);return this};e("layout","circle",t)})(cytoscape);(function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,nodeSpacing:function(e){return 10},flow:void 0,alignment:void 0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};t.prototype.run=function(){var t=this,r=this.options;t.manuallyStopped=!1;e.util.require("cola",function(n){var i=r.cy,a=r.eles,o=a.nodes(),s=a.edges(),l=!1,u=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),c=function(t,r){if(e.is.fn(t)){var n=t;return n.apply(r,[r])}return t},d=function(){for(var t={min:1/0,max:-(1/0)},n={min:1/0,max:-(1/0)},a=0;a<o.length;a++){var s=o[a],c=s._private.scratch.cola;t.min=Math.min(t.min,c.x||0);t.max=Math.max(t.max,c.x||0);n.min=Math.min(n.min,c.y||0);n.max=Math.max(n.max,c.y||0)}o.positions(function(r,i){var a,o=i._private.scratch.cola;if(!i.grabbed()&&!i.isParent()){a={x:u.x1+o.x-t.min,y:u.y1+o.y-n.min};e.is.number(a.x)&&e.is.number(a.y)||(a=void 0)}return a});o.updateCompoundBounds();if(!l){p();l=!0}r.fit&&i.fit(r.padding)},f=function(){r.ungrabifyWhileSimulating&&y.grabify();o.off("grab free position",m);o.off("lock unlock",b);t.one("layoutstop",r.stop);t.trigger({type:"layoutstop",layout:t})},p=function(){t.one("layoutready",r.ready);t.trigger({type:"layoutready",layout:t})},h=r.refresh,v=1;if(r.refresh<0){v=Math.abs(r.refresh);h=1}else h=Math.max(1,h);var g=t.adaptor=n.adaptor({trigger:function(e){switch(e.type){case"tick":r.animate&&d();break;case"end":d();r.infinite||f()}},kick:function(n){var i=function(){if(t.manuallyStopped){f();return!0}var e=n();e&&r.infinite&&g.resume();return e},a=function(){for(var e,t=0;h>t&&!e;t++)e=e||i();return e};if(r.animate){var o=function(){a()||e.util.requestAnimationFrame(o)};e.util.requestAnimationFrame(o)}else for(;!i(););},on:function(e,t){},drag:function(){}});t.adaptor=g;var y=o.filter(":grabbable");r.ungrabifyWhileSimulating&&y.ungrabify();var m;o.on("grab free position",m=function(t){var r=this,n=r._private.scratch.cola,i=r._private.position;if(r.grabbed()){n.x=i.x-u.x1;n.y=i.y-u.y1;g.dragstart(n)}else if(e.is.number(n.x)&&e.is.number(n.y)){i.x=n.x+u.x1;i.y=n.y+u.y1}switch(t.type){case"grab":g.dragstart(n);g.resume();break;case"free":g.dragend(n)}});var b;o.on("lock unlock",b=function(e){var t=this,r=t._private.scratch.cola;t.locked()?g.dragstart(r):g.dragend(r)});var x=o.stdFilter(function(e){return!e.isParent()});g.nodes(x.map(function(e,t){var n=c(r.nodeSpacing,e),i=e.position(),a=e._private.scratch.cola={x:r.randomize?Math.round(Math.random()*u.w):i.x,y:r.randomize?Math.round(Math.random()*u.h):i.y,width:e.outerWidth()+2*n,height:e.outerHeight()+2*n,index:t};return a}));if(r.alignment){var w=[],_=[];x.forEach(function(e){var t=c(r.alignment,e),n=e._private.scratch.cola,i=n.index;if(t){null!=t.x&&w.push({node:i,offset:t.x});null!=t.y&&_.push({node:i,offset:t.y})}});var k=[];w.length>0&&k.push({type:"alignment",axis:"x",offsets:w});_.length>0&&k.push({type:"alignment",axis:"y",offsets:_});g.constraints(k)}g.groups(o.stdFilter(function(e){return e.isParent()}).map(function(e,t){e._private.scratch.cola={index:t,leaves:e.descendants().stdFilter(function(e){return!e.isParent()}).map(function(e){return e[0]._private.scratch.cola.index})};return e}).map(function(e){e._private.scratch.cola.groups=e.descendants().stdFilter(function(e){return e.isParent()}).map(function(e){return e._private.scratch.cola.index});return e._private.scratch.cola}));var E,C;if(null!=r.edgeLength){E=r.edgeLength;C="linkDistance"}else if(null!=r.edgeSymDiffLength){E=r.edgeSymDiffLength;C="symmetricDiffLinkLengths"}else if(null!=r.edgeJaccardLength){E=r.edgeJaccardLength;C="jaccardLinkLengths"}else{E=100;C="linkDistance"}var S=function(e){return e.calcLength};g.links(s.stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()}).map(function(e,t){var r=e._private.scratch.cola={source:e.source()[0]._private.scratch.cola.index,target:e.target()[0]._private.scratch.cola.index};null!=E&&(r.calcLength=c(E,e));return r}));g.size([u.w,u.h]);null!=E&&g[C](S);if(r.flow){var T,D="y",P=50;if(e.is.string(r.flow))T={axis:r.flow,minSeparation:P};else if(e.is.number(r.flow))T={axis:D,minSeparation:r.flow};else if(e.is.plainObject(r.flow)){T=r.flow;T.axis=T.axis||D;T.minSeparation=null!=T.minSeparation?T.minSeparation:P}else T={axis:D,minSeparation:P};g.flowLayout(T.axis,T.minSeparation)}t.trigger({type:"layoutstart",layout:t});g.avoidOverlaps(r.avoidOverlap).handleDisconnected(r.handleDisconnected).start(r.unconstrIter,r.userConstIter,r.allConstIter);r.infinite||setTimeout(function(){t.manuallyStopped||g.stop()},r.maxSimulationTime)});return this};t.prototype.stop=function(){if(this.adaptor){this.manuallyStopped=!0;this.adaptor.stop()}return this};e("layout","cola",t)})(cytoscape);(function(e){"use strict";function t(t){this.options=e.util.extend({},r,t)}var r={fit:!0,padding:30,startAngle:1.5*Math.PI,counterclockwise:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){for(var t=this.options,r=t,n=t.cy,i=r.eles,a=i.nodes().not(":parent"),o=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],u=r.startAngle,c=0,d=0;d<a.length;d++){var f,p=a[d];f=r.concentric.apply(p,[p]);l.push({value:f,node:p});p._private.scratch.concentric=f}a.updateStyle();for(var d=0;d<a.length;d++){var p=a[d];c=Math.max(c,p.outerWidth(),p.outerHeight())}l.sort(function(e,t){return t.value-e.value});for(var h=r.levelWidth(a),v=[[]],g=v[0],d=0;d<l.length;d++){var y=l[d];if(g.length>0){var m=Math.abs(g[0].value-y.value);if(m>=h){g=[];v.push(g)}}g.push(y)}var b={},x=0,w=c+r.minNodeSpacing;if(!r.avoidOverlap){var _=v.length>0&&v[0].length>1,k=Math.min(o.w,o.h)/2-w,E=k/(v.length+_?1:0);w=Math.min(w,E)}for(var d=0;d<v.length;d++){var C=v[d],S=2*Math.PI/C.length;if(C.length>1&&r.avoidOverlap){var T=Math.cos(S)-Math.cos(0),D=Math.sin(S)-Math.sin(0),P=Math.sqrt(w*w/(T*T+D*D));x=Math.max(P,x)}for(var M=0;M<C.length;M++){var y=C[M],u=r.startAngle+(r.counterclockwise?-1:1)*S*M,N={x:s.x+x*Math.cos(u),y:s.y+x*Math.sin(u)};b[y.node.id()]=N}x+=w}a.layoutPositions(this,r,function(){var e=this.id();return b[e]});return this};e("layout","concentric",t)})(cytoscape);(function(e){"use strict";function t(t){this.options=e.util.extend({},n,t)}var r,n={ready:function(){},stop:function(){},animate:!0,refresh:4,fit:!0,padding:30,boundingBox:void 0,randomize:!0,debug:!1,nodeRepulsion:4e5,nodeOverlap:10,idealEdgeLength:10,edgeElasticity:100,nestingFactor:5,gravity:250,numIter:100,initialTemp:200,coolingFactor:.95,minTemp:1};t.prototype.run=function(){var t=this.options,n=t.cy,a=this;a.stopped=!1;a.trigger({type:"layoutstart",layout:a});r=!0===t.debug?!0:!1;var o=new Date,d=i(n,a,t);r&&s(d);!0===t.randomize&&l(d,n);m(d,n,t);var f=function(e){if(a.stopped)return!1;c(d,n,t,e);d.temperature=d.temperature*t.coolingFactor;return d.temperature<t.minTemp?!1:!0},p=function(){u(d,n,t);!0===t.fit&&n.fit(t.padding);var e=new Date;console.info("Layout took "+(e-o)+" ms");a.one("layoutstop",t.stop);a.trigger({type:"layoutstop",layout:a})};if(t.animate){var h=0,v=function(){for(var r,i=0;i<t.refresh&&h<t.numIter;){var r=f(h);if(r===!1)break;i++;h++}u(d,n,t);t.fit&&n.fit(t.padding);r!==!1&&h+1<t.numIter?e.util.requestAnimationFrame(v):p()};e.util.requestAnimationFrame(v)}else{for(var h=0;h<t.numIter&&f(h)!==!1;h++);p()}return this};t.prototype.stop=function(){this.stopped=!0;return this};var i=function(t,r,n){for(var i=n.eles.edges(),o=n.eles.nodes(),s={layout:r,layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},l=0;l<s.nodeSize;l++){var u={};u.id=o[l].data("id");u.parentId=o[l].data("parent");u.children=[];u.positionX=o[l].position("x");u.positionY=o[l].position("y");u.offsetX=0;u.offsetY=0;u.height=o[l].height();u.width=o[l].width();u.maxX=u.positionX+u.width/2;u.minX=u.positionX-u.width/2;u.maxY=u.positionY+u.height/2;u.minY=u.positionY-u.height/2;u.padLeft=o[l]._private.style["padding-left"].pxValue;u.padRight=o[l]._private.style["padding-right"].pxValue;u.padTop=o[l]._private.style["padding-top"].pxValue;u.padBottom=o[l]._private.style["padding-bottom"].pxValue;s.layoutNodes.push(u);s.idToIndex[u.id]=l}for(var c=[],d=0,f=-1,p=[],l=0;l<s.nodeSize;l++){var h=s.layoutNodes[l],v=h.parentId;if(null!=v)s.layoutNodes[s.idToIndex[v]].children.push(h.id);else{c[++f]=h.id;p.push(h.id)}}s.graphSet.push(p);for(;f>=d;){var g=c[d++],y=s.idToIndex[g],m=s.layoutNodes[y],b=m.children;if(b.length>0){s.graphSet.push(b);for(var l=0;l<b.length;l++)c[++f]=b[l]}}for(var l=0;l<s.graphSet.length;l++)for(var x=s.graphSet[l],w=0;w<x.length;w++){var _=s.idToIndex[x[w]];s.indexToGraph[_]=l}for(var l=0;l<s.edgeSize;l++){var k=i[l],E={};E.id=k.data("id");E.sourceId=k.data("source");E.targetId=k.data("target");var C=n.idealEdgeLength,S=s.idToIndex[E.sourceId],T=s.idToIndex[E.targetId],D=s.indexToGraph[S],P=s.indexToGraph[T];if(D!=P){for(var M=a(E.sourceId,E.targetId,s),N=s.graphSet[M],j=0,u=s.layoutNodes[S];-1===$.inArray(u.id,N);){u=s.layoutNodes[s.idToIndex[u.parentId]];j++}u=s.layoutNodes[T];for(;-1===$.inArray(u.id,N);){u=s.layoutNodes[s.idToIndex[u.parentId]];j++}C*=j*n.nestingFactor}E.idealLength=C;s.layoutEdges.push(E)}return s},a=function(e,t,r){var n=o(e,t,0,r);return 2>n.count?0:n.graph},o=function(e,t,r,n){var i=n.graphSet[r];if(-1<$.inArray(e,i)&&-1<$.inArray(t,i))return{count:2,graph:r};for(var a=0,s=0;s<i.length;s++){var l=i[s],u=n.idToIndex[l],c=n.layoutNodes[u].children;if(0!==c.length){var d=n.indexToGraph[n.idToIndex[c[0]]],f=o(e,t,d,n);if(0!==f.count){if(1!==f.count)return f;a++;if(2===a)break}}}return{count:a,graph:r}},s=function(e){if(r){console.debug("layoutNodes:");for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t],i="\nindex: "+t+"\nId: "+n.id+"\nChildren: "+n.children.toString()+"\nparentId: "+n.parentId+"\npositionX: "+n.positionX+"\npositionY: "+n.positionY+"\nOffsetX: "+n.offsetX+"\nOffsetY: "+n.offsetY+"\npadLeft: "+n.padLeft+"\npadRight: "+n.padRight+"\npadTop: "+n.padTop+"\npadBottom: "+n.padBottom;console.debug(i)}console.debug("idToIndex");for(var t in e.idToIndex)console.debug("Id: "+t+"\nIndex: "+e.idToIndex[t]);console.debug("Graph Set");for(var a=e.graphSet,t=0;t<a.length;t++)console.debug("Set : "+t+": "+a[t].toString());for(var i="IndexToGraph",t=0;t<e.indexToGraph.length;t++)i+="\nIndex : "+t+" Graph: "+e.indexToGraph[t];console.debug(i);i="Layout Edges";for(var t=0;t<e.layoutEdges.length;t++){var o=e.layoutEdges[t];i+="\nEdge Index: "+t+" ID: "+o.id+" SouceID: "+o.sourceId+" TargetId: "+o.targetId+" Ideal Length: "+o.idealLength}console.debug(i);i="nodeSize: "+e.nodeSize;i+="\nedgeSize: "+e.edgeSize;i+="\ntemperature: "+e.temperature;console.debug(i)}},l=function(e,t){for(var r=e.clientWidth,n=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];a.positionX=Math.random()*r;a.positionY=Math.random()*n}},u=function(e,t,r){var n=e.layout,i=r.eles.nodes(),a=e.boundingBox,o={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)};if(r.boundingBox){i.forEach(function(t){var r=e.layoutNodes[e.idToIndex[t.data("id")]];o.x1=Math.min(o.x1,r.positionX);o.x2=Math.max(o.x2,r.positionX);o.y1=Math.min(o.y1,r.positionY);o.y2=Math.max(o.y2,r.positionY)});o.w=o.x2-o.x1;o.h=o.y2-o.y1}i.positions(function(t,n){var i=e.layoutNodes[e.idToIndex[n.data("id")]];if(r.boundingBox){var s=(i.positionX-o.x1)/o.w,l=(i.positionY-o.y1)/o.h;return{x:a.x1+s*a.w,y:a.y1+l*a.h}}return{x:i.positionX,y:i.positionY}});if(!0!==e.ready){e.ready=!0;n.one("layoutready",r.ready);n.trigger({type:"layoutready",layout:this})}},c=function(e,t,r,n){d(e,t,r);v(e,t,r);g(e,t,r);y(e,t,r);m(e,t,r)},d=function(e,t,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],a=i.length,o=0;a>o;o++)for(var s=e.layoutNodes[e.idToIndex[i[o]]],l=o+1;a>l;l++){var u=e.layoutNodes[e.idToIndex[i[l]]];f(s,u,e,t,r)}},f=function(e,t,r,n,i){var a=t.positionX-e.positionX,o=t.positionY-e.positionY;if(0!==a||0!==o){var s=h(e,t,a,o);if(s>0)var l=i.nodeOverlap*s,u=Math.sqrt(a*a+o*o),c=l*a/u,d=l*o/u;else var f=p(e,a,o),v=p(t,-1*a,-1*o),g=v.x-f.x,y=v.y-f.y,m=g*g+y*y,u=Math.sqrt(m),l=i.nodeRepulsion/m,c=l*g/u,d=l*y/u;e.offsetX-=c;e.offsetY-=d;t.offsetX+=c;t.offsetY+=d}},p=function(e,t,r){var n=e.positionX,i=e.positionY,a=e.height,o=e.width,s=r/t,l=a/o,u={};do{if(0===t&&r>0){u.x=n;u.y=i+a/2;break}if(0===t&&0>r){u.x=n;u.y=i+a/2;break}if(t>0&&s>=-1*l&&l>=s){u.x=n+o/2;u.y=i+o*r/2/t;break}if(0>t&&s>=-1*l&&l>=s){u.x=n-o/2;u.y=i-o*r/2/t;break}if(r>0&&(-1*l>=s||s>=l)){u.x=n+a*t/2/r;u.y=i+a/2;break}if(0>r&&(-1*l>=s||s>=l)){u.x=n-a*t/2/r;u.y=i-a/2;break}}while(!1);return u},h=function(e,t,r,n){if(r>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(n>0)var a=e.maxY-t.minY;else var a=t.maxY-e.minY;return i>=0&&a>=0?Math.sqrt(i*i+a*a):0},v=function(e,t,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],a=e.idToIndex[i.sourceId],o=e.layoutNodes[a],s=e.idToIndex[i.targetId],l=e.layoutNodes[s],u=l.positionX-o.positionX,c=l.positionY-o.positionY;if(0===u&&0===c)return;var d=p(o,u,c),f=p(l,-1*u,-1*c),h=f.x-d.x,v=f.y-d.y,g=Math.sqrt(h*h+v*v),y=Math.pow(i.idealLength-g,2)/r.edgeElasticity;if(0!==g)var m=y*h/g,b=y*v/g;else var m=0,b=0;o.offsetX+=m;o.offsetY+=b;l.offsetX-=m;l.offsetY-=b}},g=function(e,t,r){for(var n=0;n<e.graphSet.length;n++){var i=e.graphSet[n],a=i.length;if(0===n)var o=e.clientHeight/2,s=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[i[0]]],u=e.layoutNodes[e.idToIndex[l.parentId]],o=u.positionX,s=u.positionY;for(var c=0;a>c;c++){var d=e.layoutNodes[e.idToIndex[i[c]]],f=o-d.positionX,p=s-d.positionY,h=Math.sqrt(f*f+p*p);if(h>1){var v=r.gravity*f/h,g=r.gravity*p/h;d.offsetX+=v;d.offsetY+=g}}}},y=function(e,t,r){var n=[],i=0,a=-1;n.push.apply(n,e.graphSet[0]);a+=e.graphSet[0].length;for(;a>=i;){var o=n[i++],s=e.idToIndex[o],l=e.layoutNodes[s],u=l.children;if(0<u.length){for(var c=l.offsetX,d=l.offsetY,f=0;f<u.length;f++){var p=e.layoutNodes[e.idToIndex[u[f]]];p.offsetX+=c;p.offsetY+=d;n[++a]=u[f]}l.offsetX=0;l.offsetY=0}}},m=function(e,t,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(0<i.children.length){
i.maxX=void 0;i.minX=void 0;i.maxY=void 0;i.minY=void 0}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length)){var a=b(i.offsetX,i.offsetY,e.temperature);i.positionX+=a.x;i.positionY+=a.y;i.offsetX=0;i.offsetY=0;i.minX=i.positionX-i.width;i.maxX=i.positionX+i.width;i.minY=i.positionY-i.height;i.maxY=i.positionY+i.height;x(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(0<i.children.length){i.positionX=(i.maxX+i.minX)/2;i.positionY=(i.maxY+i.minY)/2;i.width=i.maxX-i.minX;i.height=i.maxY-i.minY}}},b=function(e,t,r){var n=Math.sqrt(e*e+t*t);if(n>r)var i={x:r*e/n,y:r*t/n};else var i={x:e,y:t};return i},x=function(e,t){var r=e.parentId;if(null!=r){var n=t.layoutNodes[t.idToIndex[r]],i=!1;if(null==n.maxX||e.maxX+n.padRight>n.maxX){n.maxX=e.maxX+n.padRight;i=!0}if(null==n.minX||e.minX-n.padLeft<n.minX){n.minX=e.minX-n.padLeft;i=!0}if(null==n.maxY||e.maxY+n.padBottom>n.maxY){n.maxY=e.maxY+n.padBottom;i=!0}if(null==n.minY||e.minY-n.padTop<n.minY){n.minY=e.minY-n.padTop;i=!0}return i?x(n,t):void 0}};e("layout","cose",t)})(cytoscape);(function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:30,animate:!1,animationDuration:500,boundingBox:void 0,ready:function(){},stop:function(){}};t.prototype.run=function(){var t=this.options,r=this;e.util.require("dagre",function(n){var i=t.cy,a=t.eles,o=function(t,r){return e.is.fn(r)?r.apply(t,[t]):r},s=e.util.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),l=new n.graphlib.Graph({multigraph:!0,compound:!0}),u={},c=function(e,t){null!=t&&(u[e]=t)};c("nodesep",t.nodeSep);c("edgesep",t.edgeSep);c("ranksep",t.rankSep);c("rankdir",t.rankDir);l.setGraph(u);l.setDefaultEdgeLabel(function(){return{}});l.setDefaultNodeLabel(function(){return{}});for(var d=a.nodes(),f=0;f<d.length;f++){var p=d[f];l.setNode(p.id(),{width:p.width(),height:p.height(),name:p.id()})}for(var f=0;f<d.length;f++){var p=d[f];p.isChild()&&l.setParent(p.id(),p.parent().id())}for(var h=a.edges().stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()}),f=0;f<h.length;f++){var v=h[f];l.setEdge(v.source().id(),v.target().id(),{minlen:o(v,t.minLen),weight:o(v,t.edgeWeight),name:v.id()},v.id())}n.layout(l);for(var g=l.nodes(),f=0;f<g.length;f++){var y=g[f],m=l.node(y);i.getElementById(y).scratch().dagre=m}var b;if(t.boundingBox){b={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)};d.forEach(function(e){var t=e.scratch().dagre;b.x1=Math.min(b.x1,t.x);b.x2=Math.max(b.x2,t.x);b.y1=Math.min(b.y1,t.y);b.y2=Math.max(b.y2,t.y)});b.w=b.x2-b.x1;b.h=b.y2-b.y1}else b=s;var x=function(e){if(t.boundingBox){var r=(e.x-b.x1)/b.w,n=(e.y-b.y1)/b.h;return{x:s.x1+r*s.w,y:s.y1+n*s.h}}return e};d.layoutPositions(r,t,function(){var e=this.scratch().dagre;return x({x:e.x,y:e.y})})});return this};e("layout","dagre",t)})(cytoscape);(function(e){"use strict";function t(t){this.options=e.util.extend({},r,t)}var r={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,rows:void 0,columns:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t=this.options,r=t,n=t.cy,i=r.eles,a=i.nodes().not(":parent");r.sort&&(a=a.sort(r.sort));var o=e.util.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===o.h||0===o.w)a.layoutPositions(this,r,function(){return{x:o.x1,y:o.y1}});else{var s=a.size(),l=Math.sqrt(s*o.h/o.w),u=Math.round(l),c=Math.round(o.w/o.h*l),d=function(e){if(null==e)return Math.min(u,c);var t=Math.min(u,c);t==u?u=e:c=e},f=function(e){if(null==e)return Math.max(u,c);var t=Math.max(u,c);t==u?u=e:c=e};if(null!=r.rows&&null!=r.columns){u=r.rows;c=r.columns}else if(null!=r.rows&&null==r.columns){u=r.rows;c=Math.ceil(s/u)}else if(null==r.rows&&null!=r.columns){c=r.columns;u=Math.ceil(s/c)}else if(c*u>s){var p=d(),h=f();(p-1)*h>=s?d(p-1):(h-1)*p>=s&&f(h-1)}else for(;s>c*u;){var p=d(),h=f();(h+1)*p>=s?f(h+1):d(p+1)}var v=o.w/c,g=o.h/u;if(r.avoidOverlap)for(var y=0;y<a.length;y++){var m=a[y],b=m.outerWidth(),x=m.outerHeight();v=Math.max(v,b);g=Math.max(g,x)}for(var w={},_=function(e,t){return w["c-"+e+"-"+t]?!0:!1},k=function(e,t){w["c-"+e+"-"+t]=!0},E=0,C=0,S=function(){C++;if(C>=c){C=0;E++}},T={},y=0;y<a.length;y++){var m=a[y],D=r.position(m);if(D&&(void 0!==D.row||void 0!==D.col)){var P={row:D.row,col:D.col};if(void 0===P.col){P.col=0;for(;_(P.row,P.col);)P.col++}else if(void 0===P.row){P.row=0;for(;_(P.row,P.col);)P.row++}T[m.id()]=P;k(P.row,P.col)}}var M=function(e,t){var r,n;if(t.locked()||t.isFullAutoParent())return!1;var i=T[t.id()];if(i){r=i.col*v+v/2+o.x1;n=i.row*g+g/2+o.y1}else{for(;_(E,C);)S();r=C*v+v/2+o.x1;n=E*g+g/2+o.y1;k(E,C);S()}return{x:r,y:n}};a.layoutPositions(this,r,M)}return this};e("layout","grid",t)})(cytoscape);(function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={ready:function(){},stop:function(){}};t.prototype.run=function(){{var e=this.options,t=e.eles,r=this;e.cy}r.trigger("layoutstart");t.nodes().positions(function(){return{x:0,y:0}});r.one("layoutready",e.ready);r.trigger("layoutready");r.one("layoutstop",e.stop);r.trigger("layoutstop");return this};t.prototype.stop=function(){return this};e("layout","null",t)})(cytoscape);(function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){function t(e){if(null==r.positions)return null;if(a)return r.positions.apply(e,[e]);var t=r.positions[e._private.data.id];return null==t?null:t}var r=this.options,n=r.eles,i=n.nodes(),a=e.is.fn(r.positions);i.layoutPositions(this,r,function(e,r){var n=t(r);return r.locked()||null==n?!1:n});return this};e("layout","preset",t)})(cytoscape);(function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,ready:void 0,stop:void 0};t.prototype.run=function(){var t=this.options,r=t.cy,n=t.eles,i=n.nodes().not(":parent"),a=e.util.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o=function(e,t){return{x:a.x1+Math.round(Math.random()*a.w),y:a.y1+Math.round(Math.random()*a.h)}};i.layoutPositions(this,t,o);return this};e("layout","random",t)})(cytoscape);(function($$){"use strict";function SpreadLayout(e){this.options=$$.util.extend({},defaults,e)}function cellCentroid(e){for(var t,r,n,i=e.halfedges,a=0,o=0,s=0,l=0;l<i.length;++l){t=i[l].getEndpoint();r=i[l].getStartpoint();a+=t.x*r.y;a-=t.y*r.x;n=t.x*r.y-r.x*t.y;o+=(t.x+r.x)*n;s+=(t.y+r.y)*n}a/=2;n=6*a;return{x:o/n,y:s/n}}function sitesDistance(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)}var defaults={animate:!0,ready:void 0,stop:void 0,fit:!0,minDist:20,padding:20,expandingFactor:-1,maxFruchtermanReingoldIterations:50,maxExpandIterations:4,boundingBox:void 0};SpreadLayout.prototype.run=function(){var layout=this,options=this.options;$$.util.requires(["foograph","Voronoi"],function(foograph,Voronoi){function setPositions(e){for(var t=e.vertices,r=[],n=0;n<t.length;++n){var i=t[n];r[i.id]={x:i.x,y:i.y}}nodes.positions(function(e,t){var n=t._private.data.id,i=r[n];return{x:Math.round(simBB.x1+i.x),y:Math.round(simBB.y1+i.y)}});options.fit&&cy.fit(options.padding);cy.nodes().rtrigger("position")}var cy=options.cy,nodes=cy.nodes(),edges=cy.edges(),cWidth=cy.width(),cHeight=cy.height(),simulationBounds=options.boundingBox?$$.util.makeBoundingBox(options.boundingBox):null,padding=options.padding,simBBFactor=Math.max(1,.8*Math.log(nodes.length));nodes.length<100&&(simBBFactor/=2);layout.trigger({type:"layoutstart",layout:layout});var simBB={x1:0,y1:0,x2:cWidth*simBBFactor,y2:cHeight*simBBFactor};if(simulationBounds){simBB.x1=simulationBounds.x1;simBB.y1=simulationBounds.y1;simBB.x2=simulationBounds.x2;simBB.y2=simulationBounds.y2}simBB.x1+=padding;simBB.y1+=padding;simBB.x2-=padding;simBB.y2-=padding;var width=simBB.x2-simBB.x1,height=simBB.y2-simBB.y1,startTime=Date.now();if(nodes.size()<=1){nodes.positions({x:Math.round((simBB.x1+simBB.x2)/2),y:Math.round((simBB.y1+simBB.y2)/2)});options.fit&&cy.fit(options.padding);var endTime=Date.now();console.info("Layout on "+nodes.size()+" nodes took "+(endTime-startTime)+" ms");layout.one("layoutready",options.ready);layout.trigger("layoutready");layout.one("layoutstop",options.stop);layout.trigger("layoutstop")}else{var pData={width:width,height:height,minDist:options.minDist,expFact:options.expandingFactor,expIt:0,maxExpIt:options.maxExpandIterations,vertices:[],edges:[],startTime:startTime,maxFruchtermanReingoldIterations:options.maxFruchtermanReingoldIterations};nodes.each(function(e,t){var r=this._private.data.id;pData.vertices.push({id:r,x:0,y:0})});edges.each(function(){var e=this.source().id(),t=this.target().id();pData.edges.push({src:e,tgt:t})});var t1=$$.Thread();t1.require(foograph,"foograph");t1.require(Voronoi);t1.require(sitesDistance);t1.require(cellCentroid);var didLayoutReady=!1;t1.on("message",function(e){var t=e.message;if(options.animate){setPositions(t);if(!didLayoutReady){layout.trigger("layoutready");didLayoutReady=!0}}});layout.one("layoutready",options.ready);t1.pass(pData).run(function(pData){function checkMinDist(e){for(var t=0,r=0;r<e.length;++r){var n=e[r];null!=n.lSite&&null!=n.rSite&&sitesDistance(n.lSite,n.rSite)<lMinDist&&++t}return t}foograph=eval("foograph");Voronoi=eval("Voronoi");for(var lWidth=pData.width,lHeight=pData.height,lMinDist=pData.minDist,lExpFact=pData.expFact,lMaxExpIt=pData.maxExpIt,lMaxFruchtermanReingoldIterations=pData.maxFruchtermanReingoldIterations,savePositions=function(){pData.width=lWidth;pData.height=lHeight;pData.expIt=expandIteration;pData.expFact=lExpFact;pData.vertices=[];for(var e=0;e<fv.length;++e)pData.vertices.push({id:fv[e].label,x:fv[e].x,y:fv[e].y})},messagePositions=function(){broadcast(pData)},frg=new foograph.Graph("FRgraph",!1),frgNodes={},dataVertices=pData.vertices,ni=0;ni<dataVertices.length;++ni){var id=dataVertices[ni].id,v=new foograph.Vertex(id,Math.round(Math.random()*lHeight),Math.round(Math.random()*lHeight));frgNodes[id]=v;frg.insertVertex(v)}for(var dataEdges=pData.edges,ei=0;ei<dataEdges.length;++ei){var srcNodeId=dataEdges[ei].src,tgtNodeId=dataEdges[ei].tgt;frg.insertEdge("",1,frgNodes[srcNodeId],frgNodes[tgtNodeId])}var fv=frg.vertices,iterations=lMaxFruchtermanReingoldIterations,frLayoutManager=new foograph.ForceDirectedVertexLayout(lWidth,lHeight,iterations,!1,lMinDist);frLayoutManager.callback=function(){savePositions();messagePositions()};frLayoutManager.layout(frg);savePositions();messagePositions();for(var voronoi=new Voronoi,bbox={xl:0,xr:lWidth,yt:0,yb:lHeight},vSites=[],i=0;i<fv.length;++i)vSites[fv[i].label]=fv[i];for(var diagram=voronoi.compute(fv,bbox),cells=diagram.cells,i=0;i<cells.length;++i){var cell=cells[i],site=cell.site,centroid=cellCentroid(cell),currv=vSites[site.label];currv.x=centroid.x;currv.y=centroid.y}0>lExpFact&&(lExpFact=Math.max(.05,Math.min(.1,lMinDist/Math.sqrt(lWidth*lHeight/fv.length)*.5)));for(var prevInfractions=checkMinDist(diagram.edges),bStop=0>=prevInfractions,voronoiIteration=0,expandIteration=0;!bStop;){++voronoiIteration;for(var it=0;4>=it;++it){voronoi.recycle(diagram);diagram=voronoi.compute(fv,bbox);cells=diagram.cells;for(var i=0;i<cells.length;++i){var cell=cells[i],site=cell.site,centroid=cellCentroid(cell),currv=vSites[site.label];currv.x=centroid.x;currv.y=centroid.y}}var currInfractions=checkMinDist(diagram.edges);if(0>=currInfractions)bStop=!0;else if(currInfractions>=prevInfractions||voronoiIteration>=4)if(expandIteration>=lMaxExpIt)bStop=!0;else{lWidth+=lWidth*lExpFact;lHeight+=lHeight*lExpFact;bbox={xl:0,xr:lWidth,yt:0,yb:lHeight};++expandIteration;voronoiIteration=0}prevInfractions=currInfractions;savePositions();messagePositions()}savePositions();return pData}).then(function(e){var t=e.vertices;setPositions(e);var r=e.startTime,n=new Date;console.info("Layout on "+t.length+" nodes took "+(n-r)+" ms");layout.one("layoutstop",options.stop);options.animate||layout.trigger("layoutready");layout.trigger("layoutstop");t1.stop()})}});return this};SpreadLayout.prototype.stop=function(){};$$("layout","spread",SpreadLayout)})(cytoscape);(function(e){"use strict";function t(t){this.options=e.util.extend(!0,{},r,t)}var r={animate:!0,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,random:!1,infinite:!1,ready:void 0,stop:void 0,stiffness:400,repulsion:400,damping:.5};t.prototype.run=function(){var t=this,r=this,n=this.options;e.util.require("Springy",function(i){function a(e){var t=e.scratch("springy").model.id,r=w.layout.nodePoints[t].p,n=e.position(),i=null!=n.x&&null!=n.y?y(e.position()):{x:4*Math.random()-2,y:4*Math.random()-2};r.x=i.x;r.y=i.y}function o(){r.stopped=!1;n.ungrabifyWhileSimulating&&k.ungrabify();w.start()}var s=!1,l=n.cy;t.trigger({type:"layoutstart",layout:t});var u=n.eles,c=u.nodes().not(":parent"),d=u.edges(),f=e.util.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:l.width(),h:l.height()}),p=new i.Graph;c.each(function(e,t){t.scratch("springy",{model:p.newNode({element:t})})});d.each(function(e,t){var r=t.source().scratch("springy").model,n=t.target().scratch("springy").model;t.scratch("springy",{model:p.newEdge(r,n,{element:t})})});var h=window.sim=new i.Layout.ForceDirected(p,n.stiffness,n.repulsion,n.damping);n.infinite&&(h.minEnergyThreshold=-(1/0));var v=h.getBoundingBox(),g=function(e){v=h.getBoundingBox();var t=v.topright.subtract(v.bottomleft),r=e.subtract(v.bottomleft).divide(t.x).x*f.w+f.x1,n=e.subtract(v.bottomleft).divide(t.y).y*f.h+f.x1;return new i.Vector(r,n)},y=function(e){v=h.getBoundingBox();var t=v.topright.subtract(v.bottomleft),r=(e.x-f.x1)/f.w*t.x+v.bottomleft.x,n=(e.y-f.y1)/f.h*t.y+v.bottomleft.y;return new i.Vector(r,n)},m=l.collection(),b=l.nodes().size(),x=1,w=new i.Renderer(h,function(){if(!r.stopped&&m.length>0&&n.animate){s=!0;m.rtrigger("position");n.fit&&l.fit(n.padding);m=l.collection();s=!1}},function(e,t,r){},function(e,i){if(!r.stopped){var a=g(i),o=e.data.element;if(!o.locked()&&!o.grabbed()){o._private.position={x:a.x,y:a.y};m.merge(o)}if(x==b){t.one("layoutready",n.ready);t.trigger({type:"layoutready",layout:t})}x++}});c.each(function(e,t){n.random||a(t)});var _;c.on("position",_=function(){s||a(this)});var k=c.filter(":grabbable");r.stopSystem=function(){r.stopped=!0;p.filterNodes(function(){return!1});n.ungrabifyWhileSimulating&&k.grabify();n.fit&&l.fit(n.padding);c.off("drag position",_);t.one("layoutstop",n.stop);t.trigger({type:"layoutstop",layout:t});r.stopSystem=null};o();n.infinite||setTimeout(function(){r.stop()},n.maxSimulationTime)});return this};t.prototype.stop=function(){null!=this.stopSystem&&this.stopSystem();return this};e("layout","springy",t)})(cytoscape);(function(e){"use strict";function t(e){this.options=e}t.prototype.recalculateRenderedStyle=function(){};t.prototype.notify=function(){};e("renderer","null",t)})(cytoscape)}).call(this,require("_process"),"/node_modules\\cytoscape\\dist")},{_process:8,child_process:4,os:6,path:7}],17:[function(e,t,r){(function(e){(function(){function n(e,t){if(e!==t){var r=null===e,n=e===E,i=e===e,a=null===t,o=t===E,s=t===t;if(e>t&&!a||!i||r&&!o&&s||n&&s)return 1;if(t>e&&!r||!s||a&&!n&&i||o&&i)return-1}return 0}function i(e,t,r){for(var n=e.length,i=r?n:-1;r?i--:++i<n;)if(t(e[i],i,e))return i;return-1}function a(e,t,r){if(t!==t)return v(e,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function o(e){return"function"==typeof e||!1}function s(e){return"string"==typeof e?e:null==e?"":e+""}function l(e,t){for(var r=-1,n=e.length;++r<n&&t.indexOf(e.charAt(r))>-1;);return r}function u(e,t){for(var r=e.length;r--&&t.indexOf(e.charAt(r))>-1;);return r}function c(e,t){return n(e.criteria,t.criteria)||e.index-t.index}function d(e,t,r){for(var i=-1,a=e.criteria,o=t.criteria,s=a.length,l=r.length;++i<s;){var u=n(a[i],o[i]);if(u)return i>=l?u:u*(r[i]?1:-1)}return e.index-t.index}function f(e){return We[e]}function p(e){return He[e]}function h(e){return"\\"+Ge[e]}function v(e,t,r){for(var n=e.length,i=t+(r?0:-1);r?i--:++i<n;){var a=e[i];if(a!==a)return i}return-1}function g(e){return!!e&&"object"==typeof e}function y(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function m(e,t){for(var r=-1,n=e.length,i=-1,a=[];++r<n;)if(e[r]===t){e[r]=X;a[++i]=r}return a}function b(e,t){for(var r,n=-1,i=e.length,a=-1,o=[];++n<i;){var s=e[n],l=t?t(s,n,e):s;if(!n||r!==l){r=l;o[++a]=s}}return o}function x(e){for(var t=-1,r=e.length;++t<r&&y(e.charCodeAt(t)););return t}function w(e){for(var t=e.length;t--&&y(e.charCodeAt(t)););return t}function _(e){return Ue[e]}function k(e){function t(e){if(g(e)&&!Ts(e)&&!(e instanceof Z)){if(e instanceof y)return e;if($a.call(e,"__chain__")&&$a.call(e,"__wrapped__"))return un(e)}return new y(e)}function r(){}function y(e,t,r){this.__wrapped__=e;this.__actions__=r||[];this.__chain__=!!t}function Z(e){this.__wrapped__=e;this.__actions__=null;this.__dir__=1;this.__dropCount__=0;this.__filtered__=!1;this.__iteratees__=null;this.__takeCount__=Co;this.__views__=null}function ee(){var e=this.__actions__,t=this.__iteratees__,r=this.__views__,n=new Z(this.__wrapped__);n.__actions__=e?et(e):null;n.__dir__=this.__dir__;n.__filtered__=this.__filtered__;n.__iteratees__=t?et(t):null;n.__takeCount__=this.__takeCount__;n.__views__=r?et(r):null;return n}function re(){if(this.__filtered__){var e=new Z(this);e.__dir__=-1;e.__filtered__=!0}else{e=this.clone();e.__dir__*=-1}return e}function We(){var e=this.__wrapped__.value();if(!Ts(e))return tr(e,this.__actions__);var t=this.__dir__,r=0>t,n=Fr(0,e.length,this.__views__),i=n.start,a=n.end,o=a-i,s=r?a:i-1,l=bo(o,this.__takeCount__),u=this.__iteratees__,c=u?u.length:0,d=0,f=[];e:for(;o--&&l>d;){s+=t;for(var p=-1,h=e[s];++p<c;){var v=u[p],g=v.iteratee,y=v.type;if(y==z){if(v.done&&(r?s>v.index:s<v.index)){v.count=0;v.done=!1}v.index=s;if(!v.done){var m=v.limit;if(!(v.done=m>-1?v.count++>=m:!g(h)))continue e}}else{var b=g(h);if(y==F)h=b;else if(!b){if(y==V)continue e;break e}}}f[d++]=h}return f}function He(){this.__data__={}}function Ue(e){return this.has(e)&&delete this.__data__[e]}function $e(e){return"__proto__"==e?E:this.__data__[e]}function Ge(e){return"__proto__"!=e&&$a.call(this.__data__,e)}function Ze(e,t){"__proto__"!=e&&(this.__data__[e]=t);return this}function Qe(e){var t=e?e.length:0;this.data={hash:ho(null),set:new so};for(;t--;)this.push(e[t])}function Je(e,t){var r=e.data,n="string"==typeof t||Di(t)?r.set.has(t):r.hash[t];return n?0:-1}function Ke(e){var t=this.data;"string"==typeof e||Di(e)?t.set.add(e):t.hash[e]=!0}function et(e,t){var r=-1,n=e.length;t||(t=La(n));for(;++r<n;)t[r]=e[r];return t}function tt(e,t){for(var r=-1,n=e.length;++r<n&&t(e[r],r,e)!==!1;);return e}function it(e,t){for(var r=e.length;r--&&t(e[r],r,e)!==!1;);return e}function at(e,t){for(var r=-1,n=e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function ot(e,t,r,n){for(var i=-1,a=e.length,o=n,s=o;++i<a;){var l=e[i],u=+t(l);if(r(u,o)){o=u;s=l}}return s}function st(e,t){for(var r=-1,n=e.length,i=-1,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[++i]=o)}return a}function lt(e,t){for(var r=-1,n=e.length,i=La(n);++r<n;)i[r]=t(e[r],r,e);return i}function ut(e,t,r,n){var i=-1,a=e.length;n&&a&&(r=e[++i]);for(;++i<a;)r=t(r,e[i],i,e);return r}function ct(e,t,r,n){var i=e.length;n&&i&&(r=e[--i]);for(;i--;)r=t(r,e[i],i,e);return r}function dt(e,t){for(var r=-1,n=e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function ft(e){for(var t=e.length,r=0;t--;)r+=+e[t]||0;return r}function pt(e,t){return e===E?t:e}function ht(e,t,r,n){return e!==E&&$a.call(n,r)?e:t}function vt(e,t,r){for(var n=-1,i=zs(t),a=i.length;++n<a;){var o=i[n],s=e[o],l=r(s,t[o],o,e,t);(l===l?l===s:s!==s)&&(s!==E||o in e)||(e[o]=l)}return e}function gt(e,t){return null==t?e:mt(t,zs(t),e)}function yt(e,t){for(var r=-1,n=null==e,i=!n&&Hr(e),a=i?e.length:0,o=t.length,s=La(o);++r<o;){var l=t[r];s[r]=i?Ur(l,a)?e[l]:E:n?E:e[l]}return s}function mt(e,t,r){r||(r={});for(var n=-1,i=t.length;++n<i;){var a=t[n];r[a]=e[a]}return r}function bt(e,t,r){var n=typeof e;return"function"==n?t===E?e:ir(e,t,r):null==e?xa:"object"==n?At(e):t===E?Sa(e):zt(e,t)}function xt(e,t,r,n,i,a,o){var s;r&&(s=i?r(e,n,i):r(e));if(s!==E)return s;if(!Di(e))return e;var l=Ts(e);if(l){s=qr(e);if(!t)return et(e,s)}else{var u=Za.call(e),c=u==G;if(u!=J&&u!=Y&&(!c||i))return Xe[u]?Yr(e,u,t):i?e:{};s=Xr(c?{}:e);if(!t)return gt(s,e)}a||(a=[]);o||(o=[]);for(var d=a.length;d--;)if(a[d]==e)return o[d];a.push(e);o.push(s);(l?tt:Mt)(e,function(n,i){s[i]=xt(n,t,r,i,e,a,o)});return s}function wt(e,t,r){if("function"!=typeof e)throw new qa(q);return lo(function(){e.apply(E,r)},t)}function _t(e,t){var r=e?e.length:0,n=[];if(!r)return n;var i=-1,o=Ar(),s=o==a,l=s&&t.length>=200?Vo(t):null,u=t.length;if(l){o=Je;s=!1;t=l}e:for(;++i<r;){var c=e[i];if(s&&c===c){for(var d=u;d--;)if(t[d]===c)continue e;n.push(c)}else o(t,c,0)<0&&n.push(c)}return n}function kt(e,t){var r=!0;Bo(e,function(e,n,i){r=!!t(e,n,i);return r});return r}function Et(e,t,r,n){var i=n,a=i;Bo(e,function(e,o,s){var l=+t(e,o,s);if(r(l,i)||l===n&&l===a){i=l;a=e}});return a}function Ct(e,t,r,n){var i=e.length;r=null==r?0:+r||0;0>r&&(r=-r>i?0:i+r);n=n===E||n>i?i:+n||0;0>n&&(n+=i);i=r>n?0:n>>>0;r>>>=0;for(;i>r;)e[r++]=t;return e}function St(e,t){var r=[];Bo(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Tt(e,t,r,n){var i;r(e,function(e,r,a){if(t(e,r,a)){i=n?r:e;return!1}});return i}function Dt(e,t,r){for(var n=-1,i=e.length,a=-1,o=[];++n<i;){var s=e[n];if(g(s)&&Hr(s)&&(r||Ts(s)||wi(s))){t&&(s=Dt(s,t,r));for(var l=-1,u=s.length;++l<u;)o[++a]=s[l]}else r||(o[++a]=s)}return o}function Pt(e,t){return Ro(e,t,Ui)}function Mt(e,t){return Ro(e,t,zs)}function Nt(e,t){return Ao(e,t,zs)}function jt(e,t){for(var r=-1,n=t.length,i=-1,a=[];++r<n;){var o=t[r];Ps(e[o])&&(a[++i]=o)}return a}function Lt(e,t,r){if(null!=e){r!==E&&r in sn(e)&&(t=[r]);for(var n=0,i=t.length;null!=e&&i>n;)e=e[t[n++]];return n&&n==i?e:E}}function It(e,t,r,n,i,a){return e===t?!0:null==e||null==t||!Di(e)&&!g(t)?e!==e&&t!==t:Bt(e,t,It,r,n,i,a)}function Bt(e,t,r,n,i,a,o){var s=Ts(e),l=Ts(t),u=W,c=W;if(!s){u=Za.call(e);u==Y?u=J:u!=J&&(s=Oi(e))}if(!l){c=Za.call(t);c==Y?c=J:c!=J&&(l=Oi(t))}var d=u==J,f=c==J,p=u==c;if(p&&!s&&!d)return Ir(e,t,u);if(!i){var h=d&&$a.call(e,"__wrapped__"),v=f&&$a.call(t,"__wrapped__");if(h||v)return r(h?e.value():e,v?t.value():t,n,i,a,o)}if(!p)return!1;a||(a=[]);o||(o=[]);for(var g=a.length;g--;)if(a[g]==e)return o[g]==t;a.push(e);o.push(t);var y=(s?Lr:Br)(e,t,r,n,i,a,o);a.pop();o.pop();return y}function Ot(e,t,r){var n=t.length,i=n,a=!r;if(null==e)return!i;e=sn(e);for(;n--;){var o=t[n];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<i;){o=t[n];var s=o[0],l=e[s],u=o[1];if(a&&o[2]){if(l===E&&!(s in e))return!1}else{var c=r?r(l,u,s):E;if(!(c===E?It(u,l,r,!0):c))return!1}}return!0}function Rt(e,t){var r=-1,n=Hr(e)?La(e.length):[];Bo(e,function(e,i,a){n[++r]=t(e,i,a)});return n}function At(e){var t=zr(e);if(1==t.length&&t[0][2]){var r=t[0][0],n=t[0][1];return function(e){return null==e?!1:e[r]===n&&(n!==E||r in sn(e))}}return function(e){return Ot(e,t)}}function zt(e,t){var r=Ts(e),n=Gr(e)&&Jr(t),i=e+"";e=ln(e);return function(a){if(null==a)return!1;var o=i;a=sn(a);if(!(!r&&n||o in a)){a=1==e.length?a:Lt(a,Ut(e,0,-1));if(null==a)return!1;o=_n(e);a=sn(a)}return a[o]===t?t!==E||o in a:It(t,a[o],E,!0)}}function Vt(e,t,r,n,i){if(!Di(e))return e;var a=Hr(t)&&(Ts(t)||Oi(t)),o=a?null:zs(t);tt(o||t,function(s,l){if(o){l=s;s=t[l]}if(g(s)){n||(n=[]);i||(i=[]);Ft(e,t,l,Vt,r,n,i)}else{var u=e[l],c=r?r(u,s,l,e,t):E,d=c===E;d&&(c=s);c===E&&(!a||l in e)||!d&&(c===c?c===u:u!==u)||(e[l]=c)}});return e}function Ft(e,t,r,n,i,a,o){for(var s=a.length,l=t[r];s--;)if(a[s]==l){e[r]=o[s];return}var u=e[r],c=i?i(u,l,r,e,t):E,d=c===E;if(d){c=l;Hr(l)&&(Ts(l)||Oi(l))?c=Ts(u)?u:Hr(u)?et(u):[]:Ms(l)||wi(l)?c=wi(u)?Fi(u):Ms(u)?u:{}:d=!1}a.push(l);o.push(c);d?e[r]=n(c,l,i,a,o):(c===c?c!==u:u===u)&&(e[r]=c)}function qt(e){return function(t){return null==t?E:t[e]}}function Xt(e){var t=e+"";e=ln(e);return function(r){return Lt(r,e,t)}}function Yt(e,t){for(var r=e?t.length:0;r--;){var n=t[r];if(n!=i&&Ur(n)){var i=n;uo.call(e,n,1)}}return e}function Wt(e,t){return e+no(ko()*(t-e+1))}function Ht(e,t,r,n,i){i(e,function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)});return r}function Ut(e,t,r){var n=-1,i=e.length;t=null==t?0:+t||0;0>t&&(t=-t>i?0:i+t);r=r===E||r>i?i:+r||0;0>r&&(r+=i);i=t>r?0:r-t>>>0;t>>>=0;for(var a=La(i);++n<i;)a[n]=e[n+t];return a}function $t(e,t){var r;Bo(e,function(e,n,i){r=t(e,n,i);return!r});return!!r}function Gt(e,t){var r=e.length;e.sort(t);for(;r--;)e[r]=e[r].value;return e}function Zt(e,t,r){var n=Or(),i=-1;t=lt(t,function(e){return n(e)});var a=Rt(e,function(e){var r=lt(t,function(t){return t(e)});return{criteria:r,index:++i,value:e}});return Gt(a,function(e,t){return d(e,t,r)})}function Qt(e,t){var r=0;Bo(e,function(e,n,i){r+=+t(e,n,i)||0});return r}function Jt(e,t){var r=-1,n=Ar(),i=e.length,o=n==a,s=o&&i>=200,l=s?Vo():null,u=[];if(l){n=Je;o=!1}else{s=!1;l=t?[]:u}e:for(;++r<i;){var c=e[r],d=t?t(c,r,e):c;if(o&&c===c){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d);u.push(c)}else if(n(l,d,0)<0){(t||s)&&l.push(d);u.push(c)}}return u}function Kt(e,t){for(var r=-1,n=t.length,i=La(n);++r<n;)i[r]=e[t[r]];return i}function er(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?Ut(e,n?0:a,n?a+1:i):Ut(e,n?a+1:0,n?i:a)}function tr(e,t){var r=e;r instanceof Z&&(r=r.value());for(var n=-1,i=t.length;++n<i;){var a=[r],o=t[n];oo.apply(a,o.args);r=o.func.apply(o.thisArg,a)}return r}function rr(e,t,r){var n=0,i=e?e.length:n;if("number"==typeof t&&t===t&&Do>=i){for(;i>n;){var a=n+i>>>1,o=e[a];(r?t>=o:t>o)&&null!==o?n=a+1:i=a}return i}return nr(e,t,xa,r)}function nr(e,t,r,n){t=r(t);for(var i=0,a=e?e.length:0,o=t!==t,s=null===t,l=t===E;a>i;){var u=no((i+a)/2),c=r(e[u]),d=c!==E,f=c===c;if(o)var p=f||n;else p=s?f&&d&&(n||null!=c):l?f&&(n||d):null==c?!1:n?t>=c:t>c;p?i=u+1:a=u}return bo(a,To)}function ir(e,t,r){if("function"!=typeof e)return xa;if(t===E)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,a){return e.call(t,r,n,i,a)};case 5:return function(r,n,i,a,o){return e.call(t,r,n,i,a,o)}}return function(){return e.apply(t,arguments)}}function ar(e){return eo.call(e,0)}function or(e,t,r){for(var n=r.length,i=-1,a=mo(e.length-n,0),o=-1,s=t.length,l=La(a+s);++o<s;)l[o]=t[o];for(;++i<n;)l[r[i]]=e[i];for(;a--;)l[o++]=e[i++];return l}function sr(e,t,r){for(var n=-1,i=r.length,a=-1,o=mo(e.length-i,0),s=-1,l=t.length,u=La(o+l);++a<o;)u[a]=e[a];for(var c=a;++s<l;)u[c+s]=t[s];for(;++n<i;)u[c+r[n]]=e[a++];return u}function lr(e,t){return function(r,n,i){var a=t?t():{};n=Or(n,i,3);if(Ts(r))for(var o=-1,s=r.length;++o<s;){var l=r[o];e(a,l,n(l,o,r),r)}else Bo(r,function(t,r,i){e(a,t,n(t,r,i),i)});return a}}function ur(e){return pi(function(t,r){var n=-1,i=null==t?0:r.length,a=i>2?r[i-2]:E,o=i>2?r[2]:E,s=i>1?r[i-1]:E;if("function"==typeof a){a=ir(a,s,5);i-=2}else{a="function"==typeof s?s:E;i-=a?1:0}if(o&&$r(r[0],r[1],o)){a=3>i?E:a;i=1}for(;++n<i;){var l=r[n];l&&e(t,l,a)}return t})}function cr(e,t){return function(r,n){var i=r?qo(r):0;if(!Qr(i))return e(r,n);for(var a=t?i:-1,o=sn(r);(t?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}function dr(e){return function(t,r,n){for(var i=sn(t),a=n(t),o=a.length,s=e?o:-1;e?s--:++s<o;){var l=a[s];if(r(i[l],l,i)===!1)break}return t}}function fr(e,t){function r(){var i=this&&this!==rt&&this instanceof r?n:e;return i.apply(t,arguments)}var n=hr(e);return r}function pr(e){return function(t){for(var r=-1,n=ya(na(t)),i=n.length,a="";++r<i;)a=e(a,n[r],r);return a}}function hr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4])}var r=Io(e.prototype),n=e.apply(r,t);return Di(n)?n:r}}function vr(e){function t(r,n,i){i&&$r(r,n,i)&&(n=null);var a=jr(r,e,null,null,null,null,null,n);a.placeholder=t.placeholder;return a}return t}function gr(e,t){return function(r,n,i){i&&$r(r,n,i)&&(n=null);n=Or(n,i,3);if(1==n.length){r=on(r);var a=ot(r,n,e,t);if(!r.length||a!==t)return a}return Et(r,n,e,t)}}function yr(e,t){return function(r,n,a){n=Or(n,a,3);if(Ts(r)){var o=i(r,n,t);return o>-1?r[o]:E}return Tt(r,n,e)}}function mr(e){return function(t,r,n){if(!t||!t.length)return-1;r=Or(r,n,3);return i(t,r,e)}}function br(e){return function(t,r,n){r=Or(r,n,3);return Tt(t,r,e,!0)}}function xr(e){return function(){for(var t,r=arguments.length,n=e?r:-1,i=0,a=La(r);e?n--:++n<r;){var o=a[i++]=arguments[n];if("function"!=typeof o)throw new qa(q);!t&&y.prototype.thru&&"wrapper"==Rr(o)&&(t=new y([]))}n=t?-1:r;for(;++n<r;){o=a[n];var s=Rr(o),l="wrapper"==s?Fo(o):null;t=l&&Zr(l[0])&&l[1]==(L|P|N|I)&&!l[4].length&&1==l[9]?t[Rr(l[0])].apply(t,l[3]):1==o.length&&Zr(o)?t[s]():t.thru(o)}return function(){var e=arguments;if(t&&1==e.length&&Ts(e[0]))return t.plant(e[0]).value();for(var n=0,i=r?a[n].apply(this,e):e[0];++n<r;)i=a[n].call(this,i);return i}}}function wr(e,t){return function(r,n,i){return"function"==typeof n&&i===E&&Ts(r)?e(r,n):t(r,ir(n,i,3))}}function _r(e){return function(t,r,n){("function"!=typeof r||n!==E)&&(r=ir(r,n,3));return e(t,r,Ui)}}function kr(e){return function(t,r,n){("function"!=typeof r||n!==E)&&(r=ir(r,n,3));return e(t,r)}}function Er(e){return function(t,r,n){var i={};r=Or(r,n,3);Mt(t,function(t,n,a){var o=r(t,n,a);n=e?o:n;t=e?t:o;i[n]=t});return i}}function Cr(e){return function(t,r,n){t=s(t);return(e?t:"")+Pr(t,r,n)+(e?"":t)}}function Sr(e){var t=pi(function(r,n){var i=m(n,t.placeholder);return jr(r,e,null,n,i)});return t}function Tr(e,t){return function(r,n,i,a){var o=arguments.length<3;return"function"==typeof n&&a===E&&Ts(r)?e(r,n,i,o):Ht(r,Or(n,a,4),i,o,t)}}function Dr(e,t,r,n,i,a,o,s,l,u){function c(){for(var b=arguments.length,x=b,w=La(b);x--;)w[x]=arguments[x];n&&(w=or(w,n,i));a&&(w=sr(w,a,o));if(h||g){var _=c.placeholder,k=m(w,_);b-=k.length;if(u>b){var C=s?et(s):null,D=mo(u-b,0),P=h?k:null,M=h?null:k,L=h?w:null,I=h?null:w;t|=h?N:j;t&=~(h?j:N);v||(t&=~(S|T));var B=[e,t,r,L,P,I,M,C,l,D],O=Dr.apply(E,B);Zr(e)&&Xo(O,B);O.placeholder=_;return O}}var R=f?r:this,A=p?R[e]:e;s&&(w=rn(w,s));d&&l<w.length&&(w.length=l);this&&this!==rt&&this instanceof c&&(A=y||hr(e));return A.apply(R,w)}var d=t&L,f=t&S,p=t&T,h=t&P,v=t&D,g=t&M,y=p?null:hr(e);return c}function Pr(e,t,r){var n=e.length;t=+t;if(n>=t||!go(t))return"";var i=t-n;r=null==r?" ":r+"";return ua(r,to(i/r.length)).slice(0,i)}function Mr(e,t,r,n){function i(){for(var t=-1,s=arguments.length,l=-1,u=n.length,c=La(s+u);++l<u;)c[l]=n[l];for(;s--;)c[l++]=arguments[++t];var d=this&&this!==rt&&this instanceof i?o:e;return d.apply(a?r:this,c)}var a=t&S,o=hr(e);return i}function Nr(e){return function(t,r,n,i){var a=Or(n);return null==n&&a===bt?rr(t,r,e):nr(t,r,a(n,i,1),e)}}function jr(e,t,r,n,i,a,o,s){var l=t&T;if(!l&&"function"!=typeof e)throw new qa(q);var u=n?n.length:0;if(!u){t&=~(N|j);n=i=null}u-=i?i.length:0;if(t&j){var c=n,d=i;n=i=null}var f=l?null:Fo(e),p=[e,t,r,n,i,c,d,a,o,s];if(f){Kr(p,f);t=p[1];s=p[9]}p[9]=null==s?l?0:e.length:mo(s-u,0)||0;if(t==S)var h=fr(p[0],p[2]);else h=t!=N&&t!=(S|N)||p[4].length?Dr.apply(E,p):Mr.apply(E,p);var v=f?zo:Xo;return v(h,p)}function Lr(e,t,r,n,i,a,o){var s=-1,l=e.length,u=t.length;if(l!=u&&!(i&&u>l))return!1;for(;++s<l;){var c=e[s],d=t[s],f=n?n(i?d:c,i?c:d,s):E;if(f!==E){if(f)continue;return!1}if(i){if(!dt(t,function(e){return c===e||r(c,e,n,i,a,o);

}))return!1}else if(c!==d&&!r(c,d,n,i,a,o))return!1}return!0}function Ir(e,t,r){switch(r){case H:case U:return+e==+t;case $:return e.name==t.name&&e.message==t.message;case Q:return e!=+e?t!=+t:e==+t;case K:case te:return e==t+""}return!1}function Br(e,t,r,n,i,a,o){var s=zs(e),l=s.length,u=zs(t),c=u.length;if(l!=c&&!i)return!1;for(var d=l;d--;){var f=s[d];if(!(i?f in t:$a.call(t,f)))return!1}for(var p=i;++d<l;){f=s[d];var h=e[f],v=t[f],g=n?n(i?v:h,i?h:v,f):E;if(!(g===E?r(h,v,n,i,a,o):g))return!1;p||(p="constructor"==f)}if(!p){var y=e.constructor,m=t.constructor;if(y!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m))return!1}return!0}function Or(e,r,n){var i=t.callback||ma;i=i===ma?bt:i;return n?i(e,r,n):i}function Rr(e){for(var t=e.name,r=jo[t],n=r?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function Ar(e,r,n){var i=t.indexOf||xn;i=i===xn?a:i;return e?i(e,r,n):i}function zr(e){for(var t=$i(e),r=t.length;r--;)t[r][2]=Jr(t[r][1]);return t}function Vr(e,t){var r=null==e?E:e[t];return Ni(r)?r:E}function Fr(e,t,r){for(var n=-1,i=r?r.length:0;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=bo(t,e+o);break;case"takeRight":e=mo(e,t-o)}}return{start:e,end:t}}function qr(e){var t=e.length,r=new e.constructor(t);if(t&&"string"==typeof e[0]&&$a.call(e,"index")){r.index=e.index;r.input=e.input}return r}function Xr(e){var t=e.constructor;"function"==typeof t&&t instanceof t||(t=za);return new t}function Yr(e,t,r){var n=e.constructor;switch(t){case ne:return ar(e);case H:case U:return new n(+e);case ie:case ae:case oe:case se:case le:case ue:case ce:case de:case fe:var i=e.buffer;return new n(r?ar(i):i,e.byteOffset,e.length);case Q:case te:return new n(e);case K:var a=new n(e.source,Ne.exec(e));a.lastIndex=e.lastIndex}return a}function Wr(e,t,r){if(null!=e&&!Gr(t,e)){t=ln(t);e=1==t.length?e:Lt(e,Ut(t,0,-1));t=_n(t)}var n=null==e?e:e[t];return null==n?E:n.apply(e,r)}function Hr(e){return null!=e&&Qr(qo(e))}function Ur(e,t){e="number"==typeof e||Ie.test(e)?+e:-1;t=null==t?Mo:t;return e>-1&&e%1==0&&t>e}function $r(e,t,r){if(!Di(r))return!1;var n=typeof t;if("number"==n?Hr(r)&&Ur(t,r.length):"string"==n&&t in r){var i=r[t];return e===e?e===i:i!==i}return!1}function Gr(e,t){var r=typeof e;if("string"==r&&Ee.test(e)||"number"==r)return!0;if(Ts(e))return!1;var n=!ke.test(e);return n||null!=t&&e in sn(t)}function Zr(e){var r=Rr(e);if(!(r in Z.prototype))return!1;var n=t[r];if(e===n)return!0;var i=Fo(n);return!!i&&e===i[0]}function Qr(e){return"number"==typeof e&&e>-1&&e%1==0&&Mo>=e}function Jr(e){return e===e&&!Di(e)}function Kr(e,t){var r=e[1],n=t[1],i=r|n,a=L>i,o=n==L&&r==P||n==L&&r==I&&e[7].length<=t[8]||n==(L|I)&&r==P;if(!a&&!o)return e;if(n&S){e[2]=t[2];i|=r&S?0:D}var s=t[3];if(s){var l=e[3];e[3]=l?or(l,s,t[4]):et(s);e[4]=l?m(e[3],X):et(t[4])}s=t[5];if(s){l=e[5];e[5]=l?sr(l,s,t[6]):et(s);e[6]=l?m(e[5],X):et(t[6])}s=t[7];s&&(e[7]=et(s));n&L&&(e[8]=null==e[8]?t[8]:bo(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0];e[1]=i;return e}function en(e,t){e=sn(e);for(var r=-1,n=t.length,i={};++r<n;){var a=t[r];a in e&&(i[a]=e[a])}return i}function tn(e,t){var r={};Pt(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function rn(e,t){for(var r=e.length,n=bo(t.length,r),i=et(e);n--;){var a=t[n];e[n]=Ur(a,r)?i[a]:E}return e}function nn(e){{var r;t.support}if(!g(e)||Za.call(e)!=J||!$a.call(e,"constructor")&&(r=e.constructor,"function"==typeof r&&!(r instanceof r)))return!1;var n;Pt(e,function(e,t){n=t});return n===E||$a.call(e,n)}function an(e){for(var t=Ui(e),r=t.length,n=r&&e.length,i=!!n&&Qr(n)&&(Ts(e)||wi(e)),a=-1,o=[];++a<r;){var s=t[a];(i&&Ur(s,n)||$a.call(e,s))&&o.push(s)}return o}function on(e){return null==e?[]:Hr(e)?Di(e)?e:za(e):Ji(e)}function sn(e){return Di(e)?e:za(e)}function ln(e){if(Ts(e))return e;var t=[];s(e).replace(Ce,function(e,r,n,i){t.push(n?i.replace(Pe,"$1"):r||e)});return t}function un(e){return e instanceof Z?e.clone():new y(e.__wrapped__,e.__chain__,et(e.__actions__))}function cn(e,t,r){t=(r?$r(e,t,r):null==t)?1:mo(+t||1,1);for(var n=0,i=e?e.length:0,a=-1,o=La(to(i/t));i>n;)o[++a]=Ut(e,n,n+=t);return o}function dn(e){for(var t=-1,r=e?e.length:0,n=-1,i=[];++t<r;){var a=e[t];a&&(i[++n]=a)}return i}function fn(e,t,r){var n=e?e.length:0;if(!n)return[];(r?$r(e,t,r):null==t)&&(t=1);return Ut(e,0>t?0:t)}function pn(e,t,r){var n=e?e.length:0;if(!n)return[];(r?$r(e,t,r):null==t)&&(t=1);t=n-(+t||0);return Ut(e,0,0>t?0:t)}function hn(e,t,r){return e&&e.length?er(e,Or(t,r,3),!0,!0):[]}function vn(e,t,r){return e&&e.length?er(e,Or(t,r,3),!0):[]}function gn(e,t,r,n){var i=e?e.length:0;if(!i)return[];if(r&&"number"!=typeof r&&$r(e,t,r)){r=0;n=i}return Ct(e,t,r,n)}function yn(e){return e?e[0]:E}function mn(e,t,r){var n=e?e.length:0;r&&$r(e,t,r)&&(t=!1);return n?Dt(e,t):[]}function bn(e){var t=e?e.length:0;return t?Dt(e,!0):[]}function xn(e,t,r){var n=e?e.length:0;if(!n)return-1;if("number"==typeof r)r=0>r?mo(n+r,0):r;else if(r){var i=rr(e,t),o=e[i];return(t===t?t===o:o!==o)?i:-1}return a(e,t,r||0)}function wn(e){return pn(e,1)}function _n(e){var t=e?e.length:0;return t?e[t-1]:E}function kn(e,t,r){var n=e?e.length:0;if(!n)return-1;var i=n;if("number"==typeof r)i=(0>r?mo(n+r,0):bo(r||0,n-1))+1;else if(r){i=rr(e,t,!0)-1;var a=e[i];return(t===t?t===a:a!==a)?i:-1}if(t!==t)return v(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function En(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var r=0,n=Ar(),i=e.length;++r<i;)for(var a=0,o=e[r];(a=n(t,o,a))>-1;)uo.call(t,a,1);return t}function Cn(e,t,r){var n=[];if(!e||!e.length)return n;var i=-1,a=[],o=e.length;t=Or(t,r,3);for(;++i<o;){var s=e[i];if(t(s,i,e)){n.push(s);a.push(i)}}Yt(e,a);return n}function Sn(e){return fn(e,1)}function Tn(e,t,r){var n=e?e.length:0;if(!n)return[];if(r&&"number"!=typeof r&&$r(e,t,r)){t=0;r=n}return Ut(e,t,r)}function Dn(e,t,r){var n=e?e.length:0;if(!n)return[];(r?$r(e,t,r):null==t)&&(t=1);return Ut(e,0,0>t?0:t)}function Pn(e,t,r){var n=e?e.length:0;if(!n)return[];(r?$r(e,t,r):null==t)&&(t=1);t=n-(+t||0);return Ut(e,0>t?0:t)}function Mn(e,t,r){return e&&e.length?er(e,Or(t,r,3),!1,!0):[]}function Nn(e,t,r){return e&&e.length?er(e,Or(t,r,3)):[]}function jn(e,t,r,n){var i=e?e.length:0;if(!i)return[];if(null!=t&&"boolean"!=typeof t){n=r;r=$r(e,t,n)?null:t;t=!1}var o=Or();(null!=r||o!==bt)&&(r=o(r,n,3));return t&&Ar()==a?b(e,r):Jt(e,r)}function Ln(e){if(!e||!e.length)return[];var t=-1,r=0;e=st(e,function(e){if(Hr(e)){r=mo(e.length,r);return!0}});for(var n=La(r);++t<r;)n[t]=lt(e,qt(t));return n}function In(e,t,r){var n=e?e.length:0;if(!n)return[];var i=Ln(e);if(null==t)return i;t=ir(t,r,4);return lt(i,function(e){return ut(e,t,E,!0)})}function Bn(){for(var e=-1,t=arguments.length;++e<t;){var r=arguments[e];if(Hr(r))var n=n?_t(n,r).concat(_t(r,n)):r}return n?Jt(n):[]}function On(e,t){var r=-1,n=e?e.length:0,i={};!n||t||Ts(e[0])||(t=[]);for(;++r<n;){var a=e[r];t?i[a]=t[r]:a&&(i[a[0]]=a[1])}return i}function Rn(e){var r=t(e);r.__chain__=!0;return r}function An(e,t,r){t.call(r,e);return e}function zn(e,t,r){return t.call(r,e)}function Vn(){return Rn(this)}function Fn(){return new y(this.value(),this.__chain__)}function qn(e){for(var t,n=this;n instanceof r;){var i=un(n);t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}a.__wrapped__=e;return t}function Xn(){var e=this.__wrapped__;if(e instanceof Z){this.__actions__.length&&(e=new Z(this));return new y(e.reverse(),this.__chain__)}return this.thru(function(e){return e.reverse()})}function Yn(){return this.value()+""}function Wn(){return tr(this.__wrapped__,this.__actions__)}function Hn(e,t,r){var n=Ts(e)?at:kt;r&&$r(e,t,r)&&(t=null);("function"!=typeof t||r!==E)&&(t=Or(t,r,3));return n(e,t)}function Un(e,t,r){var n=Ts(e)?st:St;t=Or(t,r,3);return n(e,t)}function $n(e,t){return ns(e,At(t))}function Gn(e,t,r,n){var i=e?qo(e):0;if(!Qr(i)){e=Ji(e);i=e.length}if(!i)return!1;r="number"!=typeof r||n&&$r(t,r,n)?0:0>r?mo(i+r,0):r||0;return"string"==typeof e||!Ts(e)&&Bi(e)?i>r&&e.indexOf(t,r)>-1:Ar(e,t,r)>-1}function Zn(e,t,r){var n=Ts(e)?lt:Rt;t=Or(t,r,3);return n(e,t)}function Qn(e,t){return Zn(e,Sa(t))}function Jn(e,t,r){var n=Ts(e)?st:St;t=Or(t,r,3);return n(e,function(e,r,n){return!t(e,r,n)})}function Kn(e,t,r){if(r?$r(e,t,r):null==t){e=on(e);var n=e.length;return n>0?e[Wt(0,n-1)]:E}var i=-1,a=Vi(e),n=a.length,o=n-1;t=bo(0>t?0:+t||0,n);for(;++i<t;){var s=Wt(i,o),l=a[s];a[s]=a[i];a[i]=l}a.length=t;return a}function ei(e){return Kn(e,Co)}function ti(e){var t=e?qo(e):0;return Qr(t)?t:zs(e).length}function ri(e,t,r){var n=Ts(e)?dt:$t;r&&$r(e,t,r)&&(t=null);("function"!=typeof t||r!==E)&&(t=Or(t,r,3));return n(e,t)}function ni(e,t,r){if(null==e)return[];r&&$r(e,t,r)&&(t=null);var n=-1;t=Or(t,r,3);var i=Rt(e,function(e,r,i){return{criteria:t(e,r,i),index:++n,value:e}});return Gt(i,c)}function ii(e,t,r,n){if(null==e)return[];n&&$r(t,r,n)&&(r=null);Ts(t)||(t=null==t?[]:[t]);Ts(r)||(r=null==r?[]:[r]);return Zt(e,t,r)}function ai(e,t){return Un(e,At(t))}function oi(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new qa(q);var r=e;e=t;t=r}e=go(e=+e)?e:0;return function(){return--e<1?t.apply(this,arguments):void 0}}function si(e,t,r){r&&$r(e,t,r)&&(t=null);t=e&&null==t?e.length:mo(+t||0,0);return jr(e,L,null,null,null,null,t)}function li(e,t){var r;if("function"!=typeof t){if("function"!=typeof e)throw new qa(q);var n=e;e=t;t=n}return function(){--e>0&&(r=t.apply(this,arguments));1>=e&&(t=null);return r}}function ui(e,t,r){function n(){f&&ro(f);l&&ro(l);l=f=p=E}function i(){var r=t-(hs()-c);if(0>=r||r>t){l&&ro(l);var n=p;l=f=p=E;if(n){h=hs();u=e.apply(d,s);f||l||(s=d=null)}}else f=lo(i,r)}function a(){f&&ro(f);l=f=p=E;if(g||v!==t){h=hs();u=e.apply(d,s);f||l||(s=d=null)}}function o(){s=arguments;c=hs();d=this;p=g&&(f||!y);if(v===!1)var r=y&&!f;else{l||y||(h=c);var n=v-(c-h),o=0>=n||n>v;if(o){l&&(l=ro(l));h=c;u=e.apply(d,s)}else l||(l=lo(a,n))}o&&f?f=ro(f):f||t===v||(f=lo(i,t));if(r){o=!0;u=e.apply(d,s)}!o||f||l||(s=d=null);return u}var s,l,u,c,d,f,p,h=0,v=!1,g=!0;if("function"!=typeof e)throw new qa(q);t=0>t?0:+t||0;if(r===!0){var y=!0;g=!1}else if(Di(r)){y=r.leading;v="maxWait"in r&&mo(+r.maxWait||0,t);g="trailing"in r?r.trailing:g}o.cancel=n;return o}function ci(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new qa(q);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);r.cache=a.set(i,o);return o};r.cache=new ci.Cache;return r}function di(e){if("function"!=typeof e)throw new qa(q);return function(){return!e.apply(this,arguments)}}function fi(e){return li(2,e)}function pi(e,t){if("function"!=typeof e)throw new qa(q);t=mo(t===E?e.length-1:+t||0,0);return function(){for(var r=arguments,n=-1,i=mo(r.length-t,0),a=La(i);++n<i;)a[n]=r[t+n];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var o=La(t+1);n=-1;for(;++n<t;)o[n]=r[n];o[t]=a;return e.apply(this,o)}}function hi(e){if("function"!=typeof e)throw new qa(q);return function(t){return e.apply(this,t)}}function vi(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new qa(q);if(r===!1)n=!1;else if(Di(r)){n="leading"in r?!!r.leading:n;i="trailing"in r?!!r.trailing:i}Ye.leading=n;Ye.maxWait=+t;Ye.trailing=i;return ui(e,t,Ye)}function gi(e,t){t=null==t?xa:t;return jr(t,N,null,[e],[])}function yi(e,t,r,n){if(t&&"boolean"!=typeof t&&$r(e,t,r))t=!1;else if("function"==typeof t){n=r;r=t;t=!1}return"function"==typeof r?xt(e,t,ir(r,n,1)):xt(e,t)}function mi(e,t,r){return"function"==typeof t?xt(e,!0,ir(t,r,1)):xt(e,!0)}function bi(e,t){return e>t}function xi(e,t){return e>=t}function wi(e){return g(e)&&Hr(e)&&Za.call(e)==Y}function _i(e){return e===!0||e===!1||g(e)&&Za.call(e)==H}function ki(e){return g(e)&&Za.call(e)==U}function Ei(e){return!!e&&1===e.nodeType&&g(e)&&Za.call(e).indexOf("Element")>-1}function Ci(e){return null==e?!0:Hr(e)&&(Ts(e)||Bi(e)||wi(e)||g(e)&&Ps(e.splice))?!e.length:!zs(e).length}function Si(e,t,r,n){r="function"==typeof r?ir(r,n,3):E;var i=r?r(e,t):E;return i===E?It(e,t,r):!!i}function Ti(e){return g(e)&&"string"==typeof e.message&&Za.call(e)==$}function Di(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Pi(e,t,r,n){r="function"==typeof r?ir(r,n,3):E;return Ot(e,zr(t),r)}function Mi(e){return Li(e)&&e!=+e}function Ni(e){return null==e?!1:Za.call(e)==G?Ja.test(Ua.call(e)):g(e)&&Le.test(e)}function ji(e){return null===e}function Li(e){return"number"==typeof e||g(e)&&Za.call(e)==Q}function Ii(e){return g(e)&&Za.call(e)==K}function Bi(e){return"string"==typeof e||g(e)&&Za.call(e)==te}function Oi(e){return g(e)&&Qr(e.length)&&!!qe[Za.call(e)]}function Ri(e){return e===E}function Ai(e,t){return t>e}function zi(e,t){return t>=e}function Vi(e){var t=e?qo(e):0;return Qr(t)?t?et(e):[]:Ji(e)}function Fi(e){return mt(e,Ui(e))}function qi(e,t,r){var n=Io(e);r&&$r(e,t,r)&&(t=null);return t?gt(n,t):n}function Xi(e){return jt(e,Ui(e))}function Yi(e,t,r){var n=null==e?E:Lt(e,ln(t),t+"");return n===E?r:n}function Wi(e,t){if(null==e)return!1;var r=$a.call(e,t);if(!r&&!Gr(t)){t=ln(t);e=1==t.length?e:Lt(e,Ut(t,0,-1));if(null==e)return!1;t=_n(t);r=$a.call(e,t)}return r||Qr(e.length)&&Ur(t,e.length)&&(Ts(e)||wi(e))}function Hi(e,t,r){r&&$r(e,t,r)&&(t=null);for(var n=-1,i=zs(e),a=i.length,o={};++n<a;){var s=i[n],l=e[s];t?$a.call(o,l)?o[l].push(s):o[l]=[s]:o[l]=s}return o}function Ui(e){if(null==e)return[];Di(e)||(e=za(e));var t=e.length;t=t&&Qr(t)&&(Ts(e)||wi(e))&&t||0;for(var r=e.constructor,n=-1,i="function"==typeof r&&r.prototype===e,a=La(t),o=t>0;++n<t;)a[n]=n+"";for(var s in e)o&&Ur(s,t)||"constructor"==s&&(i||!$a.call(e,s))||a.push(s);return a}function $i(e){e=sn(e);for(var t=-1,r=zs(e),n=r.length,i=La(n);++t<n;){var a=r[t];i[t]=[a,e[a]]}return i}function Gi(e,t,r){var n=null==e?E:e[t];if(n===E){if(null!=e&&!Gr(t,e)){t=ln(t);e=1==t.length?e:Lt(e,Ut(t,0,-1));n=null==e?E:e[_n(t)]}n=n===E?r:n}return Ps(n)?n.call(e):n}function Zi(e,t,r){if(null==e)return e;var n=t+"";t=null!=e[n]||Gr(t,e)?[n]:ln(t);for(var i=-1,a=t.length,o=a-1,s=e;null!=s&&++i<a;){var l=t[i];Di(s)&&(i==o?s[l]=r:null==s[l]&&(s[l]=Ur(t[i+1])?[]:{}));s=s[l]}return e}function Qi(e,t,r,n){var i=Ts(e)||Oi(e);t=Or(t,n,4);if(null==r)if(i||Di(e)){var a=e.constructor;r=i?Ts(e)?new a:[]:Io(Ps(a)?a.prototype:null)}else r={};(i?tt:Mt)(e,function(e,n,i){return t(r,e,n,i)});return r}function Ji(e){return Kt(e,zs(e))}function Ki(e){return Kt(e,Ui(e))}function ea(e,t,r){t=+t||0;if("undefined"==typeof r){r=t;t=0}else r=+r||0;return e>=bo(t,r)&&e<mo(t,r)}function ta(e,t,r){r&&$r(e,t,r)&&(t=r=null);var n=null==e,i=null==t;if(null==r)if(i&&"boolean"==typeof e){r=e;e=1}else if("boolean"==typeof t){r=t;i=!0}if(n&&i){t=1;i=!1}e=+e||0;if(i){t=e;e=0}else t=+t||0;if(r||e%1||t%1){var a=ko();return bo(e+a*(t-e+ao("1e-"+((a+"").length-1))),t)}return Wt(e,t)}function ra(e){e=s(e);return e&&e.charAt(0).toUpperCase()+e.slice(1)}function na(e){e=s(e);return e&&e.replace(Be,f).replace(De,"")}function ia(e,t,r){e=s(e);t+="";var n=e.length;r=r===E?n:bo(0>r?0:+r||0,n);r-=t.length;return r>=0&&e.indexOf(t,r)==r}function aa(e){e=s(e);return e&&be.test(e)?e.replace(ye,p):e}function oa(e){e=s(e);return e&&Te.test(e)?e.replace(Se,"\\$&"):e}function sa(e,t,r){e=s(e);t=+t;var n=e.length;if(n>=t||!go(t))return e;var i=(t-n)/2,a=no(i),o=to(i);r=Pr("",o,r);return r.slice(0,a)+e+r}function la(e,t,r){r&&$r(e,t,r)&&(t=0);return _o(e,t)}function ua(e,t){var r="";e=s(e);t=+t;if(1>t||!e||!go(t))return r;do{t%2&&(r+=e);t=no(t/2);e+=e}while(t);return r}function ca(e,t,r){e=s(e);r=null==r?0:bo(0>r?0:+r||0,e.length);return e.lastIndexOf(t,r)==r}function da(e,r,n){var i=t.templateSettings;n&&$r(e,r,n)&&(r=n=null);e=s(e);r=vt(gt({},n||r),i,ht);var a,o,l=vt(gt({},r.imports),i.imports,ht),u=zs(l),c=Kt(l,u),d=0,f=r.interpolate||Oe,p="__p += '",v=Va((r.escape||Oe).source+"|"+f.source+"|"+(f===_e?Me:Oe).source+"|"+(r.evaluate||Oe).source+"|$","g"),g="//# sourceURL="+("sourceURL"in r?r.sourceURL:"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(v,function(t,r,n,i,s,l){n||(n=i);p+=e.slice(d,l).replace(Re,h);if(r){a=!0;p+="' +\n__e("+r+") +\n'"}if(s){o=!0;p+="';\n"+s+";\n__p += '"}n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'");d=l+t.length;return t});p+="';\n";var y=r.variable;y||(p="with (obj) {\n"+p+"\n}\n");p=(o?p.replace(pe,""):p).replace(he,"$1").replace(ve,"$1;");p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Qs(function(){return Oa(u,g+"return "+p).apply(E,c)});m.source=p;if(Ti(m))throw m;return m}function fa(e,t,r){var n=e;e=s(e);if(!e)return e;if(r?$r(n,t,r):null==t)return e.slice(x(e),w(e)+1);t+="";return e.slice(l(e,t),u(e,t)+1)}function pa(e,t,r){var n=e;e=s(e);return e?e.slice((r?$r(n,t,r):null==t)?x(e):l(e,t+"")):e}function ha(e,t,r){var n=e;e=s(e);return e?(r?$r(n,t,r):null==t)?e.slice(0,w(e)+1):e.slice(0,u(e,t+"")+1):e}function va(e,t,r){r&&$r(e,t,r)&&(t=null);var n=B,i=O;if(null!=t)if(Di(t)){var a="separator"in t?t.separator:a;n="length"in t?+t.length||0:n;i="omission"in t?s(t.omission):i}else n=+t||0;e=s(e);if(n>=e.length)return e;var o=n-i.length;if(1>o)return i;var l=e.slice(0,o);if(null==a)return l+i;if(Ii(a)){if(e.slice(o).search(a)){var u,c,d=e.slice(0,o);a.global||(a=Va(a.source,(Ne.exec(a)||"")+"g"));a.lastIndex=0;for(;u=a.exec(d);)c=u.index;l=l.slice(0,null==c?o:c)}}else if(e.indexOf(a,o)!=o){var f=l.lastIndexOf(a);f>-1&&(l=l.slice(0,f))}return l+i}function ga(e){e=s(e);return e&&me.test(e)?e.replace(ge,_):e}function ya(e,t,r){r&&$r(e,t,r)&&(t=null);e=s(e);return e.match(t||Ae)||[]}function ma(e,t,r){r&&$r(e,t,r)&&(t=null);return g(e)?wa(e):bt(e,t)}function ba(e){return function(){return e}}function xa(e){return e}function wa(e){return At(xt(e,!0))}function _a(e,t){return zt(e,xt(t,!0))}function ka(e,t,r){if(null==r){var n=Di(t),i=n?zs(t):null,a=i&&i.length?jt(t,i):null;if(!(a?a.length:n)){a=!1;r=t;t=e;e=this}}a||(a=jt(t,zs(t)));var o=!0,s=-1,l=Ps(e),u=a.length;r===!1?o=!1:Di(r)&&"chain"in r&&(o=r.chain);for(;++s<u;){var c=a[s],d=t[c];e[c]=d;l&&(e.prototype[c]=function(t){return function(){var r=this.__chain__;if(o||r){var n=e(this.__wrapped__),i=n.__actions__=et(this.__actions__);i.push({func:t,args:arguments,thisArg:e});n.__chain__=r;return n}var a=[this.value()];oo.apply(a,arguments);return t.apply(e,a)}}(d))}return e}function Ea(){e._=Qa;return this}function Ca(){}function Sa(e){return Gr(e)?qt(e):Xt(e)}function Ta(e){return function(t){return Lt(e,ln(t),t+"")}}function Da(e,t,r){r&&$r(e,t,r)&&(t=r=null);e=+e||0;r=null==r?1:+r||0;if(null==t){t=e;e=0}else t=+t||0;for(var n=-1,i=mo(to((t-e)/(r||1)),0),a=La(i);++n<i;){a[n]=e;e+=r}return a}function Pa(e,t,r){e=no(e);if(1>e||!go(e))return[];var n=-1,i=La(bo(e,So));t=ir(t,r,1);for(;++n<e;)So>n?i[n]=t(n):t(n);return i}function Ma(e){var t=++Ga;return s(e)+t}function Na(e,t){return(+e||0)+(+t||0)}function ja(e,t,r){r&&$r(e,t,r)&&(t=null);var n=Or(),i=null==t;if(!i||n!==bt){i=!1;t=n(t,r,3)}return i?ft(Ts(e)?e:on(e)):Qt(e,t)}e=e?nt.defaults(rt.Object(),e,nt.pick(rt,Ve)):rt;var La=e.Array,Ia=e.Date,Ba=e.Error,Oa=e.Function,Ra=e.Math,Aa=e.Number,za=e.Object,Va=e.RegExp,Fa=e.String,qa=e.TypeError,Xa=La.prototype,Ya=za.prototype,Wa=Fa.prototype,Ha=(Ha=e.window)?Ha.document:null,Ua=Oa.prototype.toString,$a=Ya.hasOwnProperty,Ga=0,Za=Ya.toString,Qa=e._,Ja=Va("^"+oa(Ua.call($a)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ka=Vr(e,"ArrayBuffer"),eo=Vr(Ka&&new Ka(0),"slice"),to=Ra.ceil,ro=e.clearTimeout,no=Ra.floor,io=Vr(za,"getPrototypeOf"),ao=e.parseFloat,oo=Xa.push,so=Vr(e,"Set"),lo=e.setTimeout,uo=Xa.splice,co=Vr(e,"Uint8Array"),fo=Vr(e,"WeakMap"),po=function(){try{var t=Vr(e,"Float64Array"),r=new t(new Ka(10),0,1)&&t}catch(n){}return r||null}(),ho=Vr(za,"create"),vo=Vr(La,"isArray"),go=e.isFinite,yo=Vr(za,"keys"),mo=Ra.max,bo=Ra.min,xo=Vr(Ia,"now"),wo=Vr(Aa,"isFinite"),_o=e.parseInt,ko=Ra.random,Eo=Aa.NEGATIVE_INFINITY,Co=Aa.POSITIVE_INFINITY,So=4294967295,To=So-1,Do=So>>>1,Po=po?po.BYTES_PER_ELEMENT:0,Mo=9007199254740991,No=fo&&new fo,jo={},Lo=t.support={};(function(e){var t=function(){this.x=e},r=[];t.prototype={valueOf:e,y:e};for(var n in new t)r.push(n);try{Lo.dom=11===Ha.createDocumentFragment().nodeType}catch(i){Lo.dom=!1}})(1,0);t.templateSettings={escape:xe,evaluate:we,interpolate:_e,variable:"",imports:{_:t}};var Io=function(){function e(){}return function(t){if(Di(t)){e.prototype=t;var r=new e;e.prototype=null}return r||{}}}(),Bo=cr(Mt),Oo=cr(Nt,!0),Ro=dr(),Ao=dr(!0),zo=No?function(e,t){No.set(e,t);return e}:xa;eo||(ar=Ka&&co?function(e){var t=e.byteLength,r=po?no(t/Po):0,n=r*Po,i=new Ka(t);if(r){var a=new po(i,0,r);a.set(new po(e,0,r))}if(t!=n){a=new co(i,n);a.set(new co(e,n))}return i}:ba(null));var Vo=ho&&so?function(e){return new Qe(e)}:ba(null),Fo=No?function(e){return No.get(e)}:Ca,qo=qt("length"),Xo=function(){var e=0,t=0;return function(r,n){var i=hs(),a=A-(i-t);t=i;if(a>0){if(++e>=R)return r}else e=0;return zo(r,n)}}(),Yo=pi(function(e,t){return Hr(e)?_t(e,Dt(t,!1,!0)):[]}),Wo=mr(),Ho=mr(!0),Uo=pi(function(e){for(var t=e.length,r=t,n=La(d),i=Ar(),o=i==a,s=[];r--;){var l=e[r]=Hr(l=e[r])?l:[];n[r]=o&&l.length>=120?Vo(r&&l):null}var u=e[0],c=-1,d=u?u.length:0,f=n[0];e:for(;++c<d;){l=u[c];if((f?Je(f,l):i(s,l,0))<0){for(var r=t;--r;){var p=n[r];if((p?Je(p,l):i(e[r],l,0))<0)continue e}f&&f.push(l);s.push(l)}}return s}),$o=pi(function(e,t){t=Dt(t);var r=yt(e,t);Yt(e,t.sort(n));return r}),Go=Nr(),Zo=Nr(!0),Qo=pi(function(e){return Jt(Dt(e,!1,!0))}),Jo=pi(function(e,t){return Hr(e)?_t(e,t):[]}),Ko=pi(Ln),es=pi(function(e){var t=e.length,r=t>2?e[t-2]:E,n=t>1?e[t-1]:E;if(t>2&&"function"==typeof r)t-=2;else{r=t>1&&"function"==typeof n?(--t,n):E;n=E}e.length=t;return In(e,r,n)}),ts=pi(function(e,t){return yt(e,Dt(t))}),rs=lr(function(e,t,r){$a.call(e,r)?++e[r]:e[r]=1}),ns=yr(Bo),is=yr(Oo,!0),as=wr(tt,Bo),os=wr(it,Oo),ss=lr(function(e,t,r){$a.call(e,r)?e[r].push(t):e[r]=[t]}),ls=lr(function(e,t,r){e[r]=t}),us=pi(function(e,t,r){var n=-1,i="function"==typeof t,a=Gr(t),o=Hr(e)?La(e.length):[];Bo(e,function(e){var s=i?t:a&&null!=e?e[t]:null;o[++n]=s?s.apply(e,r):Wr(e,t,r)});return o}),cs=lr(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),ds=Tr(ut,Bo),fs=Tr(ct,Oo),ps=pi(function(e,t){if(null==e)return[];var r=t[2];r&&$r(t[0],t[1],r)&&(t.length=1);return Zt(e,Dt(t),[])}),hs=xo||function(){return(new Ia).getTime()},vs=pi(function(e,t,r){var n=S;if(r.length){var i=m(r,vs.placeholder);n|=N}return jr(e,n,t,r,i)}),gs=pi(function(e,t){t=t.length?Dt(t):Xi(e);for(var r=-1,n=t.length;++r<n;){var i=t[r];e[i]=jr(e[i],S,e)}return e}),ys=pi(function(e,t,r){var n=S|T;if(r.length){var i=m(r,ys.placeholder);n|=N}return jr(t,n,e,r,i)}),ms=vr(P),bs=vr(M),xs=pi(function(e,t){return wt(e,1,t)}),ws=pi(function(e,t,r){return wt(e,t,r)}),_s=xr(),ks=xr(!0),Es=Sr(N),Cs=Sr(j),Ss=pi(function(e,t){return jr(e,I,null,null,null,Dt(t))}),Ts=vo||function(e){return g(e)&&Qr(e.length)&&Za.call(e)==W};Lo.dom||(Ei=function(e){return!!e&&1===e.nodeType&&g(e)&&!Ms(e)});var Ds=wo||function(e){return"number"==typeof e&&go(e)},Ps=o(/x/)||co&&!o(co)?function(e){return Za.call(e)==G}:o,Ms=io?function(e){if(!e||Za.call(e)!=J)return!1;var t=Vr(e,"valueOf"),r=t&&(r=io(t))&&io(r);return r?e==r||io(e)==r:nn(e)}:nn,Ns=ur(function(e,t,r){return r?vt(e,t,r):gt(e,t)}),js=pi(function(e){var t=e[0];if(null==t)return t;e.push(pt);return Ns.apply(E,e)}),Ls=br(Mt),Is=br(Nt),Bs=_r(Ro),Os=_r(Ao),Rs=kr(Mt),As=kr(Nt),zs=yo?function(e){var t=null==e?null:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Hr(e)?an(e):Di(e)?yo(e):[]}:an,Vs=Er(!0),Fs=Er(),qs=ur(Vt),Xs=pi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=lt(Dt(t),Fa);return en(e,_t(Ui(e),t))}var r=ir(t[0],t[1],3);return tn(e,function(e,t,n){return!r(e,t,n)})}),Ys=pi(function(e,t){return null==e?{}:"function"==typeof t[0]?tn(e,ir(t[0],t[1],3)):en(e,Dt(t))}),Ws=pr(function(e,t,r){t=t.toLowerCase();return e+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Hs=pr(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Us=Cr(),$s=Cr(!0);8!=_o(ze+"08")&&(la=function(e,t,r){(r?$r(e,t,r):null==t)?t=0:t&&(t=+t);e=fa(e);return _o(e,t||(je.test(e)?16:10))});var Gs=pr(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),Zs=pr(function(e,t,r){return e+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Qs=pi(function(e,t){try{return e.apply(E,t)}catch(r){return Ti(r)?r:new Ba(r)}}),Js=pi(function(e,t){return function(r){return Wr(r,e,t)}}),Ks=pi(function(e,t){return function(r){return Wr(e,r,t)}}),el=gr(bi,Eo),tl=gr(Ai,Co);t.prototype=r.prototype;y.prototype=Io(r.prototype);y.prototype.constructor=y;Z.prototype=Io(r.prototype);Z.prototype.constructor=Z;He.prototype["delete"]=Ue;He.prototype.get=$e;He.prototype.has=Ge;He.prototype.set=Ze;Qe.prototype.push=Ke;ci.Cache=He;t.after=oi;t.ary=si;t.assign=Ns;t.at=ts;t.before=li;t.bind=vs;t.bindAll=gs;t.bindKey=ys;t.callback=ma;t.chain=Rn;t.chunk=cn;t.compact=dn;t.constant=ba;t.countBy=rs;t.create=qi;t.curry=ms;t.curryRight=bs;t.debounce=ui;t.defaults=js;t.defer=xs;t.delay=ws;t.difference=Yo;t.drop=fn;t.dropRight=pn;t.dropRightWhile=hn;t.dropWhile=vn;t.fill=gn;t.filter=Un;t.flatten=mn;t.flattenDeep=bn;t.flow=_s;t.flowRight=ks;t.forEach=as;t.forEachRight=os;t.forIn=Bs;t.forInRight=Os;t.forOwn=Rs;t.forOwnRight=As;t.functions=Xi;t.groupBy=ss;t.indexBy=ls;t.initial=wn;t.intersection=Uo;t.invert=Hi;t.invoke=us;t.keys=zs;t.keysIn=Ui;t.map=Zn;t.mapKeys=Vs;t.mapValues=Fs;t.matches=wa;t.matchesProperty=_a;t.memoize=ci;t.merge=qs;t.method=Js;t.methodOf=Ks;t.mixin=ka;t.negate=di;t.omit=Xs;t.once=fi;t.pairs=$i;t.partial=Es;t.partialRight=Cs;t.partition=cs;t.pick=Ys;t.pluck=Qn;t.property=Sa;t.propertyOf=Ta;t.pull=En;t.pullAt=$o;t.range=Da;t.rearg=Ss;t.reject=Jn;t.remove=Cn;t.rest=Sn;t.restParam=pi;t.set=Zi;t.shuffle=ei;t.slice=Tn;t.sortBy=ni;t.sortByAll=ps;t.sortByOrder=ii;t.spread=hi;t.take=Dn;t.takeRight=Pn;t.takeRightWhile=Mn;t.takeWhile=Nn;t.tap=An;t.throttle=vi;t.thru=zn;t.times=Pa;t.toArray=Vi;t.toPlainObject=Fi;t.transform=Qi;t.union=Qo;t.uniq=jn;t.unzip=Ln;t.unzipWith=In;t.values=Ji;t.valuesIn=Ki;t.where=ai;t.without=Jo;t.wrap=gi;t.xor=Bn;t.zip=Ko;t.zipObject=On;t.zipWith=es;t.backflow=ks;t.collect=Zn;t.compose=ks;t.each=as;t.eachRight=os;t.extend=Ns;t.iteratee=ma;t.methods=Xi;t.object=On;t.select=Un;t.tail=Sn;t.unique=jn;ka(t,t);t.add=Na;t.attempt=Qs;t.camelCase=Ws;t.capitalize=ra;t.clone=yi;t.cloneDeep=mi;t.deburr=na;t.endsWith=ia;t.escape=aa;t.escapeRegExp=oa;t.every=Hn;t.find=ns;t.findIndex=Wo;t.findKey=Ls;t.findLast=is;t.findLastIndex=Ho;t.findLastKey=Is;t.findWhere=$n;t.first=yn;t.get=Yi;t.gt=bi;t.gte=xi;t.has=Wi;t.identity=xa;t.includes=Gn;t.indexOf=xn;t.inRange=ea;t.isArguments=wi;t.isArray=Ts;t.isBoolean=_i;t.isDate=ki;t.isElement=Ei;t.isEmpty=Ci;t.isEqual=Si;t.isError=Ti;t.isFinite=Ds;t.isFunction=Ps;t.isMatch=Pi;t.isNaN=Mi;t.isNative=Ni;t.isNull=ji;t.isNumber=Li;t.isObject=Di;t.isPlainObject=Ms;t.isRegExp=Ii;t.isString=Bi;t.isTypedArray=Oi;t.isUndefined=Ri;t.kebabCase=Hs;t.last=_n;t.lastIndexOf=kn;t.lt=Ai;t.lte=zi;t.max=el;t.min=tl;t.noConflict=Ea;t.noop=Ca;t.now=hs;t.pad=sa;t.padLeft=Us;t.padRight=$s;t.parseInt=la;t.random=ta;t.reduce=ds;t.reduceRight=fs;t.repeat=ua;t.result=Gi;t.runInContext=k;t.size=ti;t.snakeCase=Gs;t.some=ri;t.sortedIndex=Go;t.sortedLastIndex=Zo;t.startCase=Zs;t.startsWith=ca;t.sum=ja;t.template=da;t.trim=fa;t.trimLeft=pa;t.trimRight=ha;t.trunc=va;t.unescape=ga;t.uniqueId=Ma;t.words=ya;t.all=Hn;t.any=ri;t.contains=Gn;t.eq=Si;t.detect=ns;t.foldl=ds;t.foldr=fs;t.head=yn;t.include=Gn;t.inject=ds;ka(t,function(){var e={};Mt(t,function(r,n){t.prototype[n]||(e[n]=r)});return e}(),!1);t.sample=Kn;t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return Kn(t,e)}):Kn(this.value())};t.VERSION=C;tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t});tt(["dropWhile","filter","map","takeWhile"],function(e,t){var r=t!=F,n=t==z;Z.prototype[e]=function(e,i){var a=this.__filtered__,o=a&&n?new Z(this):this.clone(),s=o.__iteratees__||(o.__iteratees__=[]);s.push({done:!1,count:0,index:0,iteratee:Or(e,i,1),limit:-1,type:t});o.__filtered__=a||r;return o}});tt(["drop","take"],function(e,t){var r=e+"While";Z.prototype[e]=function(r){var n=this.__filtered__,i=n&&!t?this.dropWhile():this.clone();r=null==r?1:mo(no(r)||0,0);if(n)t?i.__takeCount__=bo(i.__takeCount__,r):_n(i.__iteratees__).limit=r;else{var a=i.__views__||(i.__views__=[]);a.push({size:r,type:e+(i.__dir__<0?"Right":"")})}return i};Z.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()};Z.prototype[e+"RightWhile"]=function(e,t){return this.reverse()[r](e,t).reverse()}});tt(["first","last"],function(e,t){var r="take"+(t?"Right":"");Z.prototype[e]=function(){return this[r](1).value()[0]}});tt(["initial","rest"],function(e,t){var r="drop"+(t?"":"Right");Z.prototype[e]=function(){return this[r](1)}});tt(["pluck","where"],function(e,t){var r=t?"filter":"map",n=t?At:Sa;Z.prototype[e]=function(e){return this[r](n(e))}});Z.prototype.compact=function(){return this.filter(xa)};Z.prototype.reject=function(e,t){e=Or(e,t,1);return this.filter(function(t){return!e(t)})};Z.prototype.slice=function(e,t){e=null==e?0:+e||0;var r=this;0>e?r=this.takeRight(-e):e&&(r=this.drop(e));if(t!==E){t=+t||0;r=0>t?r.dropRight(-t):r.take(t-e)}return r};Z.prototype.toArray=function(){return this.drop(0)};Mt(Z.prototype,function(e,r){var n=t[r];if(n){var i=/^(?:filter|map|reject)|While$/.test(r),a=/^(?:first|last)$/.test(r);t.prototype[r]=function(){var r=arguments,o=this.__chain__,s=this.__wrapped__,l=!!this.__actions__.length,u=s instanceof Z,c=r[0],d=u||Ts(s);d&&i&&"function"==typeof c&&1!=c.length&&(u=d=!1);var f=u&&!l;if(a&&!o)return f?e.call(s):n.call(t,this.value());var p=function(e){var i=[e];oo.apply(i,r);return n.apply(t,i)};if(d){var h=f?s:new Z(this),v=e.apply(h,r);if(!a&&(l||v.__actions__)){var g=v.__actions__||(v.__actions__=[]);g.push({func:zn,args:[p],thisArg:t})}return new y(v,o)}return this.thru(p)}}});tt(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var r=(/^(?:replace|split)$/.test(e)?Wa:Xa)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?r.apply(this.value(),e):this[n](function(t){return r.apply(t,e)})}});Mt(Z.prototype,function(e,r){var n=t[r];if(n){var i=n.name,a=jo[i]||(jo[i]=[]);a.push({name:r,func:n})}});jo[Dr(null,T).name]=[{name:"wrapper",func:null}];Z.prototype.clone=ee;Z.prototype.reverse=re;Z.prototype.value=We;t.prototype.chain=Vn;t.prototype.commit=Fn;t.prototype.plant=qn;t.prototype.reverse=Xn;t.prototype.toString=Yn;t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Wn;t.prototype.collect=t.prototype.map;t.prototype.head=t.prototype.first;t.prototype.select=t.prototype.filter;t.prototype.tail=t.prototype.rest;return t}var E,C="3.9.3",S=1,T=2,D=4,P=8,M=16,N=32,j=64,L=128,I=256,B=30,O="...",R=150,A=16,z=0,V=1,F=2,q="Expected a function",X="__lodash_placeholder__",Y="[object Arguments]",W="[object Array]",H="[object Boolean]",U="[object Date]",$="[object Error]",G="[object Function]",Z="[object Map]",Q="[object Number]",J="[object Object]",K="[object RegExp]",ee="[object Set]",te="[object String]",re="[object WeakMap]",ne="[object ArrayBuffer]",ie="[object Float32Array]",ae="[object Float64Array]",oe="[object Int8Array]",se="[object Int16Array]",le="[object Int32Array]",ue="[object Uint8Array]",ce="[object Uint8ClampedArray]",de="[object Uint16Array]",fe="[object Uint32Array]",pe=/\b__p \+= '';/g,he=/\b(__p \+=) '' \+/g,ve=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ge=/&(?:amp|lt|gt|quot|#39|#96);/g,ye=/[&<>"'`]/g,me=RegExp(ge.source),be=RegExp(ye.source),xe=/<%-([\s\S]+?)%>/g,we=/<%([\s\S]+?)%>/g,_e=/<%=([\s\S]+?)%>/g,ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ee=/^\w*$/,Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Se=/[.*+?^${}()|[\]\/\\]/g,Te=RegExp(Se.source),De=/[\u0300-\u036f\ufe20-\ufe23]/g,Pe=/\\(\\)?/g,Me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ne=/\w*$/,je=/^0[xX]/,Le=/^\[object .+?Constructor\]$/,Ie=/^\d+$/,Be=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Oe=/($^)/,Re=/['\n\r\u2028\u2029\\]/g,Ae=function(){
var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),ze=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",Ve=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],Fe=-1,qe={};qe[ie]=qe[ae]=qe[oe]=qe[se]=qe[le]=qe[ue]=qe[ce]=qe[de]=qe[fe]=!0;qe[Y]=qe[W]=qe[ne]=qe[H]=qe[U]=qe[$]=qe[G]=qe[Z]=qe[Q]=qe[J]=qe[K]=qe[ee]=qe[te]=qe[re]=!1;var Xe={};Xe[Y]=Xe[W]=Xe[ne]=Xe[H]=Xe[U]=Xe[ie]=Xe[ae]=Xe[oe]=Xe[se]=Xe[le]=Xe[Q]=Xe[J]=Xe[K]=Xe[te]=Xe[ue]=Xe[ce]=Xe[de]=Xe[fe]=!0;Xe[$]=Xe[G]=Xe[Z]=Xe[ee]=Xe[re]=!1;var Ye={leading:!1,maxWait:0,trailing:!1},We={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},He={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ue={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},$e={"function":!0,object:!0},Ge={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ze=$e[typeof r]&&r&&!r.nodeType&&r,Qe=$e[typeof t]&&t&&!t.nodeType&&t,Je=Ze&&Qe&&"object"==typeof e&&e&&e.Object&&e,Ke=$e[typeof self]&&self&&self.Object&&self,et=$e[typeof window]&&window&&window.Object&&window,tt=Qe&&Qe.exports===Ze&&Ze,rt=Je||et!==(this&&this.window)&&et||Ke||this,nt=k();if("function"==typeof define&&"object"==typeof define.amd&&define.amd){rt._=nt;define(function(){return nt})}else Ze&&Qe?tt?(Qe.exports=nt)._=nt:Ze._=nt:rt._=nt}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t,r){(function(){var n;n=function(n){return"object"==typeof r&&"object"==typeof t?n(function(){try{return e("jquery")}catch(t){return window.jQuery}}()):"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)};n(function(e){return e.pivotUtilities.d3_renderers={Treemap:function(t,r){var n,i,a,o,s,l,u,c,d,f,p,h,v;a={localeStrings:{},d3:{width:function(){return e(window).width()/1.4},height:function(){return e(window).height()/1.4}}};r=e.extend(a,r);c=e("<div>").css({width:"100%",height:"100%"});f={name:"All",children:[]};n=function(e,t,r){var i,a,o,s,l,u;if(0!==t.length){null==e.children&&(e.children=[]);u=t.shift();l=e.children;for(a=0,o=l.length;o>a;a++){i=l[a];if(i.name===u){n(i,t,r);return}}s={name:u};n(s,t,r);return e.children.push(s)}e.value=r};u=t.getRowKeys();for(s=0,l=u.length;l>s;s++){d=u[s];h=t.getAggregator(d,[]).value();null!=h&&n(f,d,h)}i=d3.scale.category10();v=r.d3.width();o=r.d3.height();p=d3.layout.treemap().size([v,o]).sticky(!0).value(function(e){return e.size});d3.select(c[0]).append("div").style("position","relative").style("width",v+"px").style("height",o+"px").datum(f).selectAll(".node").data(p.padding([15,0,0,0]).value(function(e){return e.value}).nodes).enter().append("div").attr("class","node").style("background",function(e){return null!=e.children?"lightgrey":i(e.name)}).text(function(e){return e.name}).call(function(){this.style("left",function(e){return e.x+"px"}).style("top",function(e){return e.y+"px"}).style("width",function(e){return Math.max(0,e.dx-1)+"px"}).style("height",function(e){return Math.max(0,e.dy-1)+"px"})});return c}}})}).call(this)},{jquery:void 0}],19:[function(e,t,r){(function(){var n;n=function(n){return"object"==typeof r&&"object"==typeof t?n(function(){try{return e("jquery")}catch(t){return window.jQuery}}()):"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)};n(function(e){var t;t=function(t,r){return function(n,i){var a,o,s,l,u,c,d,f,p,h,v,g,y,m,b,x,w,_,k,E,C,S,T,D,P,M,N,j,L,I,B;c={localeStrings:{vs:"vs",by:"by"},gchart:{width:function(){return window.innerWidth/1.4},height:function(){return window.innerHeight/1.4}}};i=e.extend(c,i);T=n.getRowKeys();0===T.length&&T.push([]);s=n.getColKeys();0===s.length&&s.push([]);d=n.aggregatorName;n.valAttrs.length&&(d+="("+n.valAttrs.join(", ")+")");v=function(){var e,t,r;r=[];for(e=0,t=T.length;t>e;e++){p=T[e];r.push(p.join("-"))}return r}();v.unshift("");w=0;if("ScatterChart"===t){l=[];k=n.tree;for(B in k){P=k[B];for(I in P){a=P[I];l.push([parseFloat(I),parseFloat(B),d+": \n"+a.format(a.value())])}}u=new google.visualization.DataTable;u.addColumn("number",n.colAttrs.join("-"));u.addColumn("number",n.rowAttrs.join("-"));u.addColumn({type:"string",role:"tooltip"});u.addRows(l);h=n.colAttrs.join("-");N=n.rowAttrs.join("-");D=""}else{l=[v];for(g=0,b=s.length;b>g;g++){o=s[g];C=[o.join("-")];w+=C[0].length;for(y=0,x=T.length;x>y;y++){S=T[y];a=n.getAggregator(S,o);if(null!=a.value()){j=a.value();C.push(e.isNumeric(j)?1>j?parseFloat(j.toPrecision(3)):parseFloat(j.toFixed(3)):j)}else C.push(null)}l.push(C)}u=google.visualization.arrayToDataTable(l);D=N=d;h=n.colAttrs.join("-");""!==h&&(D+=" "+i.localeStrings.vs+" "+h);f=n.rowAttrs.join("-");""!==f&&(D+=" "+i.localeStrings.by+" "+f)}_={width:i.gchart.width(),height:i.gchart.height(),title:D,hAxis:{title:h,slantedText:w>50},vAxis:{title:N},tooltip:{textStyle:{fontName:"Arial",fontSize:12}}};"ColumnChart"===t&&(_.vAxis.minValue=0);if("ScatterChart"===t){_.legend={position:"none"};_.chartArea={width:"80%",height:"80%"}}else 2===l[0].length&&""===l[0][1]&&(_.legend={position:"none"});for(m in r){M=r[m];_[m]=M}E=e("<div>").css({width:"100%",height:"100%"});L=new google.visualization.ChartWrapper({dataTable:u,chartType:t,options:_});L.draw(E[0]);E.bind("dblclick",function(){var e;e=new google.visualization.ChartEditor;google.visualization.events.addListener(e,"ok",function(){return e.getChartWrapper().draw(E[0])});return e.openDialog(L)});return E}};return e.pivotUtilities.gchart_renderers={"Line Chart":t("LineChart"),"Bar Chart":t("ColumnChart"),"Stacked Bar Chart":t("ColumnChart",{isStacked:!0}),"Area Chart":t("AreaChart",{isStacked:!0}),"Scatter Chart":t("ScatterChart")}})}).call(this)},{jquery:void 0}],20:[function(e,t,r){(function(e){function r(){try{return s in e&&e[s]}catch(t){return!1}}function n(e){return e.replace(/^d/,"___$&").replace(p,"___")}var i,a={},o=e.document,s="localStorage",l="script";a.disabled=!1;a.version="1.3.17";a.set=function(e,t){};a.get=function(e,t){};a.has=function(e){return void 0!==a.get(e)};a.remove=function(e){};a.clear=function(){};a.transact=function(e,t,r){if(null==r){r=t;t=null}null==t&&(t={});var n=a.get(e,t);r(n);a.set(e,n)};a.getAll=function(){};a.forEach=function(){};a.serialize=function(e){return JSON.stringify(e)};a.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}};if(r()){i=e[s];a.set=function(e,t){if(void 0===t)return a.remove(e);i.setItem(e,a.serialize(t));return t};a.get=function(e,t){var r=a.deserialize(i.getItem(e));return void 0===r?t:r};a.remove=function(e){i.removeItem(e)};a.clear=function(){i.clear()};a.getAll=function(){var e={};a.forEach(function(t,r){e[t]=r});return e};a.forEach=function(e){for(var t=0;t<i.length;t++){var r=i.key(t);e(r,a.get(r))}}}else if(o.documentElement.addBehavior){var u,c;try{c=new ActiveXObject("htmlfile");c.open();c.write("<"+l+">document.w=window</"+l+'><iframe src="/favicon.ico"></iframe>');c.close();u=c.w.frames[0].document;i=u.createElement("div")}catch(d){i=o.createElement("div");u=o.body}var f=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(i);u.appendChild(i);i.addBehavior("#default#userData");i.load(s);var r=e.apply(a,t);u.removeChild(i);return r}},p=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");a.set=f(function(e,t,r){t=n(t);if(void 0===r)return a.remove(t);e.setAttribute(t,a.serialize(r));e.save(s);return r});a.get=f(function(e,t,r){t=n(t);var i=a.deserialize(e.getAttribute(t));return void 0===i?r:i});a.remove=f(function(e,t){t=n(t);e.removeAttribute(t);e.save(s)});a.clear=f(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(s);for(var r,n=0;r=t[n];n++)e.removeAttribute(r.name);e.save(s)});a.getAll=function(e){var t={};a.forEach(function(e,r){t[e]=r});return t};a.forEach=f(function(e,t){for(var r,n=e.XMLDocument.documentElement.attributes,i=0;r=n[i];++i)t(r.name,a.deserialize(e.getAttribute(r.name)))})}try{var h="__storejs__";a.set(h,h);a.get(h)!=h&&(a.disabled=!0);a.remove(h)}catch(d){a.disabled=!0}a.enabled=!a.disabled;"undefined"!=typeof t&&t.exports&&this.module!==t?t.exports=a:"function"==typeof define&&define.amd?define(a):e.store=a})(Function("return this")())},{}],21:[function(e,t,r){t.exports={name:"yasgui-utils",version:"1.6.0",description:"Utils for YASGUI libs",main:"src/main.js",repository:{type:"git",url:"git://github.com/YASGUI/Utils.git"},licenses:[{type:"MIT",url:"http://yasgui.github.io/license.txt"}],author:{name:"Laurens Rietveld"},maintainers:[{name:"laurens.rietveld",email:"laurens.rietveld@gmail.com"}],bugs:{url:"https://github.com/YASGUI/Utils/issues"},homepage:"https://github.com/YASGUI/Utils",dependencies:{store:"^1.3.14"},_id:"yasgui-utils@1.6.0",dist:{shasum:"bcb9091109c233e3e82737c94c202e6512389c47",tarball:"http://registry.npmjs.org/yasgui-utils/-/yasgui-utils-1.6.0.tgz"},_from:"yasgui-utils@>=1.4.1 <2.0.0",_npmVersion:"1.4.3",_npmUser:{name:"laurens.rietveld",email:"laurens.rietveld@gmail.com"},directories:{},_shasum:"bcb9091109c233e3e82737c94c202e6512389c47",_resolved:"https://registry.npmjs.org/yasgui-utils/-/yasgui-utils-1.6.0.tgz",readme:"ERROR: No README data found!"}},{}],22:[function(e,t,r){window.console=window.console||{log:function(){}};t.exports={storage:e("./storage.js"),svg:e("./svg.js"),version:{"yasgui-utils":e("../package.json").version},nestedExists:function(e){for(var t=Array.prototype.slice.call(arguments,1),r=0;r<t.length;r++){if(!e||!e.hasOwnProperty(t[r]))return!1;e=e[t[r]]}return!0}}},{"../package.json":21,"./storage.js":23,"./svg.js":24}],23:[function(e,t,r){var n=e("store"),i={day:function(){return 864e5},month:function(){30*i.day()},year:function(){12*i.month()}},a=t.exports={set:function(e,t,r){if(n.enabled&&e&&void 0!==t){"string"==typeof r&&(r=i[r]());t.documentElement&&(t=(new XMLSerializer).serializeToString(t.documentElement));n.set(e,{val:t,exp:r,time:(new Date).getTime()})}},remove:function(e){n.enabled&&e&&n.remove(e)},removeAll:function(e){if(n.enabled&&"function"==typeof e)for(var t in n.getAll())e(t,a.get(t))&&a.remove(t)},get:function(e){if(!n.enabled)return null;if(e){var t=n.get(e);return t?t.exp&&(new Date).getTime()-t.time>t.exp?null:t.val:null}return null}}},{store:20}],24:[function(e,t,r){t.exports={draw:function(e,r){if(e){var n=t.exports.getElement(r);n&&(e.append?e.append(n):e.appendChild(n))}},getElement:function(e){if(e&&0==e.indexOf("<svg")){var t=new DOMParser,r=t.parseFromString(e,"text/xml"),n=r.documentElement,i=document.createElement("div");i.className="svgImg";i.appendChild(n);return i}return!1}}},{}],25:[function(e,t,r){t.exports={name:"yasgui-yasr",description:"Yet Another SPARQL Resultset GUI",version:"2.4.12",main:"src/main.js",licenses:[{type:"MIT",url:"http://yasr.yasgui.org/license.txt"}],author:"Laurens Rietveld",homepage:"http://yasr.yasgui.org",devDependencies:{browserify:"^6.1.0",gulp:"~3.6.0","gulp-bump":"^0.1.11","gulp-concat":"^2.4.1","gulp-connect":"^2.0.5","gulp-embedlr":"^0.5.2","gulp-filter":"^1.0.2","gulp-git":"^0.5.2","gulp-jsvalidate":"^0.2.0","gulp-livereload":"^1.3.1","gulp-minify-css":"0.3.11","gulp-notify":"^2.0.1","gulp-rename":"^1.2.0","gulp-streamify":"0.0.5","gulp-tag-version":"^1.1.0","gulp-uglify":"^1.0.1","require-dir":"^0.1.0","run-sequence":"^1.0.1","vinyl-buffer":"^1.0.0","vinyl-source-stream":"~0.1.1",watchify:"^0.6.4","gulp-sourcemaps":"^1.2.8",exorcist:"^0.1.6","vinyl-transform":"0.0.1","gulp-sass":"^1.2.2","bootstrap-sass":"^3.3.1","browserify-transform-tools":"^1.2.1","gulp-cssimport":"^1.3.1","gulp-html-replace":"^1.4.1","browserify-shim":"^3.8.1"},bugs:"https://github.com/YASGUI/YASR/issues/",keywords:["JavaScript","SPARQL","Editor","Semantic Web","Linked Data"],maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",web:"http://laurensrietveld.nl"}],repository:{type:"git",url:"https://github.com/YASGUI/YASR.git"},dependencies:{jquery:"1.11.0",codemirror:"^4.7.0","yasgui-utils":"^1.4.1",pivottable:"^1.2.2","jquery-ui":"^1.10.5",d3:"^3.4.13",cytoscape:"^2.3.11",lodash:"^3.6.0"},"browserify-shim":{google:"global:google"},browserify:{transform:["browserify-shim"]},optionalShim:{codemirror:{require:"codemirror",global:"CodeMirror"},jquery:{require:"jquery",global:"jQuery"},"../../lib/codemirror":{require:"codemirror",global:"CodeMirror"},"../lib/DataTables/media/js/jquery.dataTables.js":{require:"datatables",global:"jQuery"},datatables:{require:"datatables",global:"jQuery"},d3:{require:"d3",global:"d3"},"jquery-ui/sortable":{require:"jquery-ui/sortable",global:"jQuery"},pivottable:{require:"pivottable",global:"jQuery"}}}},{}],26:[function(e,t,r){"use strict";t.exports=function(e){var t='"',r=",",n="\n",i=e.head.vars,a=e.results.bindings,o=function(){for(var e=0;e<i.length;e++)u(i[e]);d+=n},s=function(){for(var e=0;e<a.length;e++){l(a[e]);d+=n}},l=function(e){for(var t=0;t<i.length;t++){var r=i[t];u(e.hasOwnProperty(r)?e[r].value:"")}},u=function(e){e.replace(t,t+t);c(e)&&(e=t+e+t);d+=" "+e+" "+r},c=function(e){var n=!1;e.match("[\\w|"+r+"|"+t+"]")&&(n=!0);return n},d="";o();s();return d}},{}],27:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=t.exports=function(t){var r=n("<div class='booleanResult'></div>"),i=function(){r.empty().appendTo(t.resultsContainer);var i=t.results.getBoolean(),a=null,o=null;if(i===!0){a="check";o="True"}else if(i===!1){a="cross";o="False"}else{r.width("140");o="Could not find boolean value in response"}a&&e("yasgui-utils").svg.draw(r,e("./imgs.js")[a]);n("<span></span>").text(o).appendTo(r)},a=function(){return t.results.getBoolean&&(t.results.getBoolean()===!0||0==t.results.getBoolean())};return{name:null,draw:i,hideFromSelection:!0,getPriority:1,canHandleResults:a}};i.version={"YASR-boolean":e("../package.json").version,jquery:n.fn.jquery}},{"../package.json":25,"./imgs.js":35,jquery:void 0,"yasgui-utils":22}],28:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();t.exports={output:"table",useGoogleCharts:!0,outputPlugins:["table","error","boolean","rawResponse"],drawOutputSelector:!0,drawDownloadIcon:!0,getUsedPrefixes:null,persistency:{prefix:function(e){return"yasr_"+n(e.container).closest("[id]").attr("id")+"_"},outputSelector:function(e){return"selector"},results:{id:function(e){return"results_"+n(e.container).closest("[id]").attr("id")},key:"results",maxSize:1e5}}}},{jquery:void 0}],29:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=t.exports=function(e){var t=n("<div class='errorResult'></div>"),r=n.extend(!0,{},i.defaults),a=function(){var e=null;if(r.tryQueryLink){var t=r.tryQueryLink();e=n("<button>",{"class":"yasr_btn yasr_tryQuery"}).text("Try query in new browser window").click(function(){window.open(t,"_blank");n(this).blur()})}return e},o=function(){var i=e.results.getException();t.empty().appendTo(e.resultsContainer);var o=n("<div>",{"class":"errorHeader"}).appendTo(t);if(0!==i.status){var s="Error";i.statusText&&i.statusText.length<100&&(s=i.statusText);s+=" (#"+i.status+")";o.append(n("<span>",{"class":"exception"}).text(s)).append(a());var l=null;i.responseText?l=i.responseText:"string"==typeof i&&(l=i);l&&t.append(n("<pre>").text(l))}else{o.append(a());t.append(n("<div>",{"class":"corsMessage"}).append(r.corsMessage))}},s=function(e){return e.results.getException()||!1};return{name:null,draw:o,getPriority:20,hideFromSelection:!0,canHandleResults:s}};i.defaults={corsMessage:"Unable to get response from endpoint",tryQueryLink:null}},{jquery:void 0}],30:[function(e,t,r){t.exports={GoogleTypeException:function(e,t){this.foundTypes=e;this.varName=t;this.toString=function(){var e="Conflicting data types found for variable "+this.varName+'. Assuming all values of this variable are "string".';e+=" To avoid this issue, cast the values in your SPARQL query to the intended xsd datatype";return e};this.toHtml=function(){var e="Conflicting data types found for variable <i>"+this.varName+'</i>. Assuming all values of this variable are "string".';e+=" As a result, several Google Charts will not render values of this particular variable.";e+=" To avoid this issue, cast the values in your SPARQL query to the intended xsd datatype";return e}}}},{}],31:[function(e,t,r){"use strict";t.exports={selectSaveAsDropDown:'<div class="saveAsDropDown btn-group"><button class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown" type="button">Download as &nbsp;<span class="fa fa-caret-right"></span></button><ul class="dropdown-menu" role="menu"><li><a class="format" data-accepts="application/sparql-results+json" href="javascript:;">JSON</a></li><li><a class="format" data-accepts="application/sparql-results+xml" href="javascript:;">XML</a></li><li><a class="format" data-accepts="text/csv" href="javascript:;">CSV</a></li><li><a class="format" data-accepts="text/tab-separated-values" href="javascript:;">TSV</a></li><li><a class="format" data-accepts="application/x-binary-rdf-results-table" href="javascript:;">Binary RDF Results</a></li></ul></div>',graphSaveAsDropDown:'<div class="saveAsDropDown btn-group"><button class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown" type="button">Download as &nbsp;<span class="fa fa-caret-right"></span></button><ul class="dropdown-menu" role="menu"><li><a class="format" data-accepts="application/rdf+json" href="javascript:;">JSON</a></li><li><a class="format" data-accepts="application/ld+json" href="javascript:;">JSON-LD</a></li><li><a class="format" data-accepts="application/rdf+xml" href="javascript:;">RDF-XML</a></li><li><a class="format" data-accepts="text/rdf+n3" href="javascript:;">N3</a></li><li><a class="format" data-accepts="text/plain" href="javascript:;">N-Triples</a></li><li><a class="format" data-accepts="text/x-nquads" href="javascript:;">N-Quads</a></li><li><a class="format" data-accepts="text/turtle" href="javascript:;">Turtle</a></li><li><a class="format" data-accepts="application/trix" href="javascript:;">TriX</a></li><li><a class="format" data-accepts="application/x-trig" href="javascript:;">TriG</a></li><li><a class="format" data-accepts="application/x-binary-rdf" href="javascript:;">Binary RDF</a></li></ul></div>'}},{}],32:[function(e,t,r){(function(r){var n=e("events").EventEmitter,i=(function(){try{return e("jquery")}catch(t){return window.jQuery}}(),!1),a=!1,o=function(){n.call(this);var e=this;this.init=function(){if(a||("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null)||i)("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null)?e.emit("initDone"):a&&e.emit("initError");else{i=!0;s("http://google.com/jsapi",function(){i=!1;e.emit("initDone")});var t=100,n=6e3,o=+new Date,l=function(){if(!("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null))if(+new Date-o>n){a=!0;i=!1;e.emit("initError")}else setTimeout(l,t)};l()}};this.googleLoad=function(){var t=function(){("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null).load("visualization","1",{packages:["corechart","charteditor"],callback:function(){e.emit("done")}})};if(i){e.once("initDone",t);e.once("initError",function(){e.emit("error","Could not load google loader")})}else if("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null)t();else if(a)e.emit("error","Could not load google loader");else{e.once("initDone",t);e.once("initError",function(){e.emit("error","Could not load google loader")})}}},s=function(e,t){var r=document.createElement("script");r.type="text/javascript";r.readyState?r.onreadystatechange=function(){if("loaded"==r.readyState||"complete"==r.readyState){r.onreadystatechange=null;t()}}:r.onload=function(){t()};r.src=e;document.body.appendChild(r)};o.prototype=new n;t.exports=new o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{events:5,jquery:void 0}],33:[function(e,t,r){(function(r){"use strict";function n(e,t,r){function n(e,t,a){var l,u,c,d,f,p,h,v;if(null==e||null==t)return e===t;if(e.__placeholder__||t.__placeholder__)return!0;if(e===t)return 0!==e||1/e==1/t;l=i.call(e);if(i.call(t)!=l)return!1;switch(l){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;u=a.length;for(;u--;)if(a[u]==e)return!0;a.push(e);c=0;d=!0;if("[object Array]"==l){f=e.length;p=t.length;if(s){switch(r){case"===":d=f===p;break;case"<==":d=p>=f;break;case"<<=":d=p>f}c=f;s=!1}else{d=f===p;c=f}if(d)for(;c--&&(d=c in e==c in t&&n(e[c],t[c],a)););}else{if("constructor"in e!="constructor"in t||e.constructor!=t.constructor)return!1;for(h in e)if(o(e,h)){c++;if(!(d=o(t,h)&&n(e[h],t[h],a)))break}if(d){v=0;for(h in t)o(t,h)&&++v;if(s)d="<<="===r?v>c:"<=="===r?v>=c:c===v;else{s=!1;d=c===v}}}a.pop();return d}var i={}.toString,a={}.hasOwnProperty,o=function(e,t){return a.call(e,t)},s=!0;return n(e,t,[])}var i=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),a=e("./utils.js"),o=e("yasgui-utils"),s=t.exports=function(t){var l=i.extend(!0,{},s.defaults),u=t.container.closest("[id]").attr("id");null==t.options.gchart&&(t.options.gchart={});var c=t.getPersistencyId("motionchart"),d=t.getPersistencyId("chartConfig");null==t.options.gchart.motionChartState&&(t.options.gchart.motionChartState=o.storage.get(c));null==t.options.gchart.chartConfig&&(t.options.gchart.chartConfig=o.storage.get(d));var f=null,p=function(e){var i="undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null;f=new i.visualization.ChartEditor;i.visualization.events.addListener(f,"ok",function(){var e,r;e=f.getChartWrapper();if(!n(e.getChartType,"MotionChart","===")){t.options.gchart.motionChartState=e.n;o.storage.set(c,t.options.gchart.motionChartState);e.setOption("state",t.options.gchart.motionChartState);i.visualization.events.addListener(e,"ready",function(){var r;r=e.getChart();i.visualization.events.addListener(r,"statechange",function(){t.options.gchart.motionChartState=r.getState();o.storage.set(c,t.options.gchart.motionChartState)})})}r=e.getDataTable();e.setDataTable(null);t.options.gchart.chartConfig=e.toJSON();o.storage.set(d,t.options.gchart.chartConfig);e.setDataTable(r);e.setOption("width",l.width);e.setOption("height",l.height);e.draw();t.updateHeader()});e&&e()};return{name:"Google Chart",hideFromSelection:!1,priority:7,canHandleResults:function(e){var t,r;return null!=(t=e.results)&&(r=t.getVariables())&&r.length>0},getDownloadInfo:function(){if(!t.results)return null;var e=t.resultsContainer.find("svg");if(e.length>0)return{getContent:function(){return e[0].outerHTML?e[0].outerHTML:i("<div>").append(e.clone()).html()},filename:"queryResults.svg",contentType:"image/svg+xml",buttonTitle:"Download SVG Image"};var r=t.resultsContainer.find(".google-visualization-table-table");return r.length>0?{getContent:function(){return r.tableToCsv()},filename:"queryResults.csv",contentType:"text/csv",buttonTitle:"Download as CSV"}:void 0},getEmbedHtml:function(){if(!t.results)return null;var e=t.resultsContainer.find("svg").clone().removeAttr("height").removeAttr("width").css("height","").css("width","");if(0==e.length)return null;var r=e[0].outerHTML;r||(r=i("<div>").append(e.clone()).html());return'<div style="width: 800px; height: 600px;">\n'+r+"\n</div>"},draw:function(){var n=function(){t.resultsContainer.empty();if(t.options.output==s.defaults.persistencyId){var r=u+"_gchartWrapper",n=null;t.resultsContainer.append(i("<button>",{"class":"openGchartBtn yasr_btn"}).text("Chart Config").click(function(){f.openDialog(n)})).append(i("<div>",{id:r,"class":"gchartWrapper"}));var d=new google.visualization.DataTable,p=t.results.getAsJson();p.head.vars.forEach(function(r){var n="string";try{n=a.getGoogleTypeForBindings(p.results.bindings,r)}catch(i){if(!(i instanceof e("./exceptions.js").GoogleTypeException))throw i;t.warn(i.toHtml())}d.addColumn(n,r)});var h=null;t.options.getUsedPrefixes&&(h="function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes);p.results.bindings.forEach(function(e){var t=[];p.head.vars.forEach(function(r,n){t.push(a.castGoogleType(e[r],h,d.getColumnType(n)))});d.addRow(t)});if(t.options.gchart.chartConfig){n=new google.visualization.ChartWrapper(t.options.gchart.chartConfig);if("MotionChart"===n.getChartType()&&null!=t.options.gchart.motionChartState){n.setOption("state",t.options.gchart.motionChartState);google.visualization.events.addListener(n,"ready",function(){var e;e=n.getChart();google.visualization.events.addListener(e,"statechange",function(){t.options.gchart.motionChartState=e.getState();o.storage.set(c,t.options.gchart.motionChartState)})})}n.setDataTable(d)}else n=new google.visualization.ChartWrapper({chartType:"Table",dataTable:d,containerId:r});n.setOption("width",l.width);n.setOption("height",l.height);n.draw();t.updateHeader()}};("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null)&&("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null).visualization&&f?n():e("./gChartLoader.js").on("done",function(){p();n()}).on("error",function(){console.log("errorrr")}).googleLoad()}}};s.defaults={height:"600px",width:"100%",persistencyId:"gchart"}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./exceptions.js":30,"./gChartLoader.js":32,"./utils.js":49,jquery:void 0,"yasgui-utils":22}],34:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=e("./utils.js"),a=e("lodash");e("cytoscape");(function(){try{return e("datatables")}catch(t){return window.jQuery}})();t.exports=function(t){var r={graphJson:e("./parsers/graphJson.js")},o=function(){return t.options.getUsedPrefixes?a.invert("function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes):null}(),s=function(e){if(o){var t=i.uriToPrefixWithLocalName(o,e);if(t)return t.prefix+":"+t.localName}return e},l=function(e,t){return{data:{id:t.toString(),name:s(e),uri:e,size:70}}},u=function(e){var r=n('<table cellpadding="0" cellspacing="0" border="0" class="dataPropsTable table table-striped table-bordered fixedCellWidth"></table>');t.resultsContainer.find("table").remove();t.resultsContainer.find(".graph-info").append(r);var i=a.map(e,function(e){return{property:s(e.predicate.value),value:s(e.object.value)}});r.DataTable({data:i,columns:[{data:"property"},{data:"value"}],paging:!1,ordering:!1,searching:!1,info:!1});r.find("th").hide()},c=function(e,t){var r=20,n=50,s={},c={};e=a.sortBy(e,function(e){return"uri"==e.subject.type?0:1});var f=a.uniq(a.flatten(a.map(e,function(e){return"literal"!=e.object.type?[e.subject.value,e.object.value]:[e.subject.value]}))),p=a.filter(e,function(e){return"literal"!=e.object.type}).length,h=f.length,v=a.slice(f,0,r);c.nodes=a.map(v,function(e,t){s[e]=t.toString();return l(e,t)});if(t){var g=a.filter(e,function(e){return"literal"==e.object.type});u(g)}var y=a.slice(a.filter(e,function(e){return s[e.subject.value]&&s[e.object.value]}),0,n);c.edges=a.map(y,function(e,t){var r=s[e.subject.value],n=s[e.object.value],a=i.uriToPrefixWithLocalName(o,e.predicate.value),l=a?a.prefix+":"+a.localName:e.predicate.value;return{data:{id:"e"+t.toString(),name:l,source:r,target:n}}});d(c.nodes.length,h,c.edges.length,p);return c},d=function(e,r,n,i){t.resultsInfo.find(".view-info").text("Showing "+e+" of "+r+" nodes, "+n+" of "+i+" edges.").show()},f=function(){t.resultsContainer.empty();t.resultsContainer.append('<div class="graph-info"></div><div id="cy"></div>');t.resultsInfo.find(".count-info").hide();t.resultsInfo.find(".time-took").hide();var e=c(t.results.getAsJson().results.bindings),i=cytoscape({container:document.getElementById("cy"),style:cytoscape.stylesheet().selector("node").css({content:"data(name)","text-valign":"center",color:"white","text-outline-width":2,"text-outline-color":"#888",width:"data(size)",height:"data(size)"}).selector("edge").css({"target-arrow-shape":"triangle",width:"mapData(weight, 0, 10, 3, 9)","line-color":"#ddd","target-arrow-color":"#ddd",content:"data(name)","text-opacity":1,"text-valign":"center",color:"black"}).selector(".from").css({"background-color":"#f2836b"}).selector(".to").css({"background-color":"#46A2D0"}),elements:{nodes:e.nodes,edges:e.edges},layout:{name:"circle",padding:10},boxSelectionEnabled:!0}),a=function(e,a){var o={query:"describe <"+e+"> limit 1000",infer:t.currentQuery.inference?!0:!1};t.currentQuery.sameAs&&(o["default-graph-uri"]="http://www.ontotext.com/disable-sameAs");var s="repositories/"+backendRepositoryID;n.ajax({url:s,type:"POST",data:o,headers:{Accept:"application/rdf+json"}}).done(function(e){var t=c(r.graphJson(e).results.bindings,!0);i.load(t,a)}).fail(function(t,r,n){console.log("Cannot browse entity: "+e+"; "+t.responseText)})};i.on("tap","node",function(e){var t=e.cyTarget,r=t.data().uri;a(r,function(){var e=i.nodes("[uri='"+r+"']");i.nodes().addClass("to");e.removeClass("to").addClass("from")})})},p=function(){return"CONSTRUCT"==window.editor.getQueryType()||"DESCRIBE"==window.editor.getQueryType()};return{name:"Graph(beta)",draw:f,getPriority:20,hideFromSelection:!1,canHandleResults:p}}},{"./parsers/graphJson.js":41,"./utils.js":49,cytoscape:16,datatables:void 0,jquery:void 0,lodash:17}],35:[function(e,t,r){"use strict";t.exports={cross:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="30px" height="30px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g>	<path d="M83.288,88.13c-2.114,2.112-5.575,2.112-7.689,0L53.659,66.188c-2.114-2.112-5.573-2.112-7.687,0L24.251,87.907   c-2.113,2.114-5.571,2.114-7.686,0l-4.693-4.691c-2.114-2.114-2.114-5.573,0-7.688l21.719-21.721c2.113-2.114,2.113-5.573,0-7.686   L11.872,24.4c-2.114-2.113-2.114-5.571,0-7.686l4.842-4.842c2.113-2.114,5.571-2.114,7.686,0L46.12,33.591   c2.114,2.114,5.572,2.114,7.688,0l21.721-21.719c2.114-2.114,5.573-2.114,7.687,0l4.695,4.695c2.111,2.113,2.111,5.571-0.003,7.686   L66.188,45.973c-2.112,2.114-2.112,5.573,0,7.686L88.13,75.602c2.112,2.111,2.112,5.572,0,7.687L83.288,88.13z"/></g></svg>',check:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="30px" height="30px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path fill="#000000" d="M14.301,49.982l22.606,17.047L84.361,4.903c2.614-3.733,7.76-4.64,11.493-2.026l0.627,0.462  c3.732,2.614,4.64,7.758,2.025,11.492l-51.783,79.77c-1.955,2.791-3.896,3.762-7.301,3.988c-3.405,0.225-5.464-1.039-7.508-3.084  L2.447,61.814c-3.263-3.262-3.263-8.553,0-11.814l0.041-0.019C5.75,46.718,11.039,46.718,14.301,49.982z"/></svg>',unsorted:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,-0.70898699,-0.70898699,0.70522156,97.988199,55.081205)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path7-9"     d="m 8.8748339,52.571766 16.9382111,-0.222584 4.050851,-0.06665 15.719154,-0.222166 0.27778,-0.04246 0.43276,0.0017 0.41632,-0.06121 0.37532,-0.0611 0.47132,-0.119342 0.27767,-0.08206 0.55244,-0.198047 0.19707,-0.08043 0.61095,-0.259721 0.0988,-0.05825 0.019,-0.01914 0.59303,-0.356548 0.11787,-0.0788 0.49125,-0.337892 0.17994,-0.139779 0.37317,-0.336871 0.21862,-0.219786 0.31311,-0.31479 0.21993,-0.259387 c 0.92402,-1.126057 1.55249,-2.512251 1.78961,-4.016904 l 0.0573,-0.25754 0.0195,-0.374113 0.0179,-0.454719 0.0175,-0.05874 -0.0169,-0.258049 -0.0225,-0.493503 -0.0398,-0.355569 -0.0619,-0.414201 -0.098,-0.414812 -0.083,-0.353334 L 53.23955,41.1484 53.14185,40.850967 52.93977,40.377742 52.84157,40.161628 34.38021,4.2507375 C 33.211567,1.9401875 31.035446,0.48226552 28.639484,0.11316952 l -0.01843,-0.01834 -0.671963,-0.07882 -0.236871,0.0042 L 27.335984,-4.7826577e-7 27.220736,0.00379952 l -0.398804,0.0025 -0.313848,0.04043 -0.594474,0.07724 -0.09611,0.02147 C 23.424549,0.60716252 21.216017,2.1142355 20.013025,4.4296865 L 0.93967491,40.894479 c -2.08310801,3.997178 -0.588125,8.835482 3.35080799,10.819749 1.165535,0.613495 2.43199,0.88731 3.675026,0.864202 l 0.49845,-0.02325 0.410875,0.01658 z M 9.1502369,43.934401 9.0136999,43.910011 27.164145,9.2564625 44.70942,43.42818 l -14.765289,0.214677 -4.031106,0.0468 -16.7627881,0.244744 z" /></svg>',
sortDesc:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,-0.70898699,-0.70898699,0.70522156,97.988199,55.081205)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path9"     d="m 27.813273,0.12823506 0.09753,0.02006 c 2.39093,0.458209 4.599455,1.96811104 5.80244,4.28639004 L 52.785897,40.894525 c 2.088044,4.002139 0.590949,8.836902 -3.348692,10.821875 -1.329078,0.688721 -2.766603,0.943695 -4.133174,0.841768 l -0.454018,0.02 L 27.910392,52.354171 23.855313,52.281851 8.14393,52.061827 7.862608,52.021477 7.429856,52.021738 7.014241,51.959818 6.638216,51.900838 6.164776,51.779369 5.889216,51.699439 5.338907,51.500691 5.139719,51.419551 4.545064,51.145023 4.430618,51.105123 4.410168,51.084563 3.817138,50.730843 3.693615,50.647783 3.207314,50.310611 3.028071,50.174369 2.652795,49.833957 2.433471,49.613462 2.140099,49.318523 1.901127,49.041407 C 0.97781,47.916059 0.347935,46.528448 0.11153,45.021676 L 0.05352,44.766255 0.05172,44.371683 0.01894,43.936017 0,43.877277 0.01836,43.62206 0.03666,43.122889 0.0765,42.765905 0.13912,42.352413 0.23568,41.940425 0.32288,41.588517 0.481021,41.151945 0.579391,40.853806 0.77369,40.381268 0.876097,40.162336 19.338869,4.2542801 c 1.172169,-2.308419 3.34759,-3.76846504 5.740829,-4.17716604 l 0.01975,0.01985 0.69605,-0.09573 0.218437,0.0225 0.490791,-0.02132 0.39809,0.0046 0.315972,0.03973 0.594462,0.08149 z" /></svg>',sortAsc:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,0.70898699,-0.70898699,-0.70522156,97.988199,58.704807)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path9"     d="m 27.813273,113.65778 0.09753,-0.0201 c 2.39093,-0.45821 4.599455,-1.96811 5.80244,-4.28639 L 52.785897,72.891487 c 2.088044,-4.002139 0.590949,-8.836902 -3.348692,-10.821875 -1.329078,-0.688721 -2.766603,-0.943695 -4.133174,-0.841768 l -0.454018,-0.02 -16.939621,0.223997 -4.055079,0.07232 -15.711383,0.220024 -0.281322,0.04035 -0.432752,-2.61e-4 -0.415615,0.06192 -0.376025,0.05898 -0.47344,0.121469 -0.27556,0.07993 -0.550309,0.198748 -0.199188,0.08114 -0.594655,0.274528 -0.114446,0.0399 -0.02045,0.02056 -0.59303,0.35372 -0.123523,0.08306 -0.486301,0.337172 -0.179243,0.136242 -0.375276,0.340412 -0.219324,0.220495 -0.293372,0.294939 -0.238972,0.277116 C 0.97781,65.869953 0.347935,67.257564 0.11153,68.764336 L 0.05352,69.019757 0.05172,69.414329 0.01894,69.849995 0,69.908735 l 0.01836,0.255217 0.0183,0.499171 0.03984,0.356984 0.06262,0.413492 0.09656,0.411988 0.0872,0.351908 0.158141,0.436572 0.09837,0.298139 0.194299,0.472538 0.102407,0.218932 18.462772,35.908054 c 1.172169,2.30842 3.34759,3.76847 5.740829,4.17717 l 0.01975,-0.0199 0.69605,0.0957 0.218437,-0.0225 0.490791,0.0213 0.39809,-0.005 0.315972,-0.0397 0.594462,-0.0815 z" /></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" baseProfile="tiny" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 100 100" xml:space="preserve"><g id="Captions"></g><g id="Your_Icon">	<path fill-rule="evenodd" fill="#000000" d="M88,84v-2c0-2.961-0.859-4-4-4H16c-2.961,0-4,0.98-4,4v2c0,3.102,1.039,4,4,4h68   C87.02,88,88,87.039,88,84z M58,12H42c-5,0-6,0.941-6,6v22H16l34,34l34-34H64V18C64,12.941,62.939,12,58,12z"/></g></svg>',move:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_11656_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="753"     inkscape:window-height="480"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="287"     inkscape:window-y="249"     inkscape:window-maximized="0"     inkscape:current-layer="Layer_1" /><polygon     points="33,83 50,100 67,83 54,83 54,17 67,17 50,0 33,17 46,17 46,83 "          transform="translate(-7.962963,-10)" /><polygon     points="83,67 100,50 83,33 83,46 17,46 17,33 0,50 17,67 17,54 83,54 "          transform="translate(-7.962963,-10)" /></svg>',fullscreen:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"      x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_2186_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="640"     inkscape:window-height="480"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="0"     inkscape:current-layer="Layer_1" /><path     d="m -7.962963,-10 v 38.889 l 16.667,-16.667 16.667,16.667 5.555,-5.555 -16.667,-16.667 16.667,-16.667 h -38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 92.037037,-10 v 38.889 l -16.667,-16.667 -16.666,16.667 -5.556,-5.555 16.666,-16.667 -16.666,-16.667 h 38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="M -7.962963,90 V 51.111 l 16.667,16.666 16.667,-16.666 5.555,5.556 -16.667,16.666 16.667,16.667 h -38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="M 92.037037,90 V 51.111 l -16.667,16.666 -16.666,-16.666 -5.556,5.556 16.666,16.666 -16.666,16.667 h 38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /></svg>',smallscreen:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"      x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_2186_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="1855"     inkscape:window-height="1056"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="1"     inkscape:current-layer="Layer_1" /><path     d="m 30.926037,28.889 0,-38.889 -16.667,16.667 -16.667,-16.667 -5.555,5.555 16.667,16.667 -16.667,16.667 38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 53.148037,28.889 0,-38.889 16.667,16.667 16.666,-16.667 5.556,5.555 -16.666,16.667 16.666,16.667 -38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 30.926037,51.111 0,38.889 -16.667,-16.666 -16.667,16.666 -5.555,-5.556 16.667,-16.666 -16.667,-16.667 38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 53.148037,51.111 0,38.889 16.667,-16.666 16.666,16.666 5.556,-5.556 -16.666,-16.666 16.666,-16.667 -38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /></svg>'}},{}],36:[function(e,t,r){e("./tableToCsv.js")},{"./tableToCsv.js":37}],37:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();n.fn.tableToCsv=function(e){var t="";e=n.extend({quote:'"',delimiter:",",lineBreak:"\n"},e);var r=function(t){var r=!1;t.match("[\\w|"+e.delimiter+"|"+e.quote+"]")&&(r=!0);return r},i=function(n){n.replace(e.quote,e.quote+e.quote);r(n)&&(n=e.quote+n+e.quote);t+=" "+n+" "+e.delimiter},a=function(r){r.forEach(function(e){i(e)});t+=e.lineBreak},o=n(this),s={},l=0;o.find("tr:first *").each(function(){n(this).attr("colspan")?l+=+n(this).attr("colspan"):l++});o.find("tr").each(function(e,t){for(var r=n(t),i=[],o=0,u=0;l>u+o;u++)if(s[u]){i.push(s[u].text);s[u].rowSpan--;s[u].rowSpan||delete s[u]}else{var c=r.find(":nth-child("+(u+1)+")");console.log(c);var d=c.attr("colspan"),f=c.attr("rowspan");if(d&&!isNaN(d)){for(var p=0;d>p;p++)i.push(c.text());o+=d-1}else if(f&&!isNaN(f)){s[u+o]={rowSpan:f-1,text:c.text()};i.push(c.text());o++}else i.push(c.text())}a(i)});return t}},{jquery:void 0}],38:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=e("yasgui-utils");console=console||{log:function(){}};e("./jquery/extendJquery.js");var a=t.exports=function(t,r,o){var s={};s.options=n.extend(!0,{},a.defaults,r);s.container=n("<div class='yasr'></div>").appendTo(t);s.header=n("<div class='yasr_header'></div>").appendTo(s.container);s.resultsInfo=n("<div class='alert alert-info results-info'><span class='count-info'>Showing <span class='res-count'></span><span class='all-info'> of <span class='all-count'></span></span>. </span><span class='view-info'></span><span class='time-took'></span></div>").appendTo(s.container);s.insertResultsInfo=n("<div class='alert alert-info results-info' style='display:none'></div>").appendTo(s.container);s.resultsContainer=n("<div class='yasr_results'></div>").appendTo(s.container);s.storage=i.storage;var l=null;s.getPersistencyId=function(e){null===l&&(l=s.options.persistency&&s.options.persistency.prefix?"string"==typeof s.options.persistency.prefix?s.options.persistency.prefix:s.options.persistency.prefix(s):!1);return l&&e?l+("string"==typeof e?e:e(s)):null};s.options.useGoogleCharts&&e("./gChartLoader.js").once("initError",function(){s.options.useGoogleCharts=!1}).init();s.plugins={};for(var u in a.plugins)(s.options.useGoogleCharts||"gchart"!=u)&&(s.plugins[u]=new a.plugins[u](s));s.updateHeader=function(){var e=s.header.find(".yasr_downloadIcon").removeAttr("title"),t=s.header.find(".saveAsDropDown"),r=s.header.find(".yasr_embedBtn"),n=s.plugins[s.options.output];if(n){if("Table"==n.name){e.hide();t.removeAttr("style")}else{t.hide();e.show()}var i=n.getDownloadInfo?n.getDownloadInfo():null;if(i){i.buttonTitle&&e.attr("title",i.buttonTitle);e.prop("disabled",!1);e.find("path").each(function(){this.style.fill="black"})}else{e.prop("disabled",!0).prop("title","Download not supported for this result representation");e.find("path").each(function(){this.style.fill="gray"})}var a=null;n.getEmbedHtml&&(a=n.getEmbedHtml());a&&a.length>0?r.show():r.hide()}};s.draw=function(e){s.updateHeader();s.updateResultsInfo();var t=!0;angular.isUndefined(e)&&(t=!1);if(!s.results)return!1;e||(e=s.options.output);var r=null,i=-1,a=[];for(var o in s.plugins)if(s.plugins[o].canHandleResults(s)){var l=s.plugins[o].getPriority;"function"==typeof l&&(l=l(s));if(null!=l&&void 0!=l&&l>i){i=l;r=o}}else a.push(o);c(a);if("table"==r&&s.plugins[r].canHandleResults(s)&&r!=e&&!t){n(s.resultsContainer).empty();s.plugins[r].draw();s.header.find(".yasr_btnGroup .select_"+r).click();return!0}if(e in s.plugins&&s.plugins[e].canHandleResults(s)){n(s.resultsContainer).empty();s.plugins[e].draw();return!0}if(r){n(s.resultsContainer).empty();s.plugins[r].draw();s.header.find(".yasr_btnGroup .select_"+r).click();return!0}return!1};var c=function(e){s.header.find(".yasr_btnGroup li").removeClass("disabled");e.forEach(function(e){s.header.find(".yasr_btnGroup .select_"+e).parent().addClass("disabled")})};s.somethingDrawn=function(){return!s.resultsContainer.is(":empty")};s.resetResults=function(){s.resultsInfo.hide();s.resultsInfo.find(".time-took").text("");s.insertResultsInfo.hide();s.resultsCount=void 0;s.allCount=void 0;s.resultsContainer.empty();s.header.hide();var e=(window.editor.getQueryType(),n('<div class="ot-loader" onto-loader="" size="50"><object width="50" height="50" data="js/angular/templates/loader/ot-loader.svg">Loading...</object></div>'));s.resultsContainer.append(e)};s.updateDownloadDropdown=function(){var t;if(window.editor){s.header.find(".saveAsDropDown").remove();var r=window.editor.getQueryType();"SELECT"==r&&(t=n(e("./extensions.js").selectSaveAsDropDown));("CONSTRUCT"==r||"DESCRIBE"==r)&&(t=n(e("./extensions.js").graphSaveAsDropDown));if(t){t.find(".format").click(function(){s.getQueryResultsAsFormat(n(this).data("accepts"))});s.header.append(t)}}};s.updateResultsInfo=function(e){s.resultsInfo.find(".view-info").hide();if("ASK"!=window.editor.getQueryType()){s.resultsInfo.find(".count-info").show();s.resultsInfo.find(".time-took").show();if(void 0!=s.resultsCount||void 0!=s.allCount){if(void 0==s.resultsCount)s.resultsInfo.find(".res-count").text("loading..");else{s.resultsInfo.find(".res-count").text(s.resultsCount);e&&s.resultsInfo.find(".time-took").text("Query took "+e+" seconds.")}void 0==s.allCount?s.resultsInfo.find(".all-count").text("loading.."):-1==s.allCount?s.resultsInfo.find(".all-info").hide():s.resultsInfo.find(".all-count").text(s.allCount);s.resultsInfo.show()}}else if(void 0!=e){s.resultsInfo.find(".count-info").hide();s.resultsInfo.find(".time-took").text("Query took "+e+" seconds.");s.resultsInfo.show()}};s.setResultsCount=function(e,t,r){if(e.responseJSON){s.allCount=-1;e.responseJSON["http://www.ontotext.com/"]&&(s.allCount=e.responseJSON["http://www.ontotext.com/"]["http://www.ontotext.com/"][0].value);n.isNumeric(e.responseJSON)&&(s.allCount=e.responseJSON);if(e.responseJSON.results&&e.responseJSON.results.bindings){var i=e.responseJSON.results.bindings[0],a=e.responseJSON.head.vars,o=Object.keys(i).filter(function(e){return a.indexOf(e)>-1});o.length>0&&(s.allCount=i[o[0]].value)}s.updateResultsInfo()}};s.setUpdatesCount=function(e,t){s.insertResultsInfo.text(void 0==e?"Update operation took "+t+" seconds.":0>e?"Update operation removed "+Math.abs(e)+" statements and took "+t+" seconds.":e>0?"Update operation added "+e+" statements and took "+t+" seconds.":"Update operation changed 0 statements and took "+t+" seconds.");s.resultsContainer.empty();s.insertResultsInfo.show()};s.setResponse=function(t,r,n,a){try{s.results=e("./parsers/wrapper.js")(t,r,n)}catch(o){s.results={getException:function(){return o}}}s.results.getAsJson().results&&(s.resultsCount=s.results.getAsJson().results.bindings.length);if(s.results.getAsJson()&&!s.options.hideHeader){s.header.show();s.updateDownloadDropdown()}403==t.status?s.results.getException=function(){return{status:403,statusText:"Forbidden",responseText:"You don't have permission to execute this query. Ask your admin for support."}}:s.updateResultsInfo(a);s.draw();if(s.options.persistency){var l=s.getPersistencyId(s.options.persistency.results.key);l&&(s.results.getOriginalResponseAsString&&s.results.getOriginalResponseAsString().length<s.options.persistency.results.maxSize?i.storage.set(l,s.results.getAsStoreObject(),"month"):i.storage.remove(l))}};var d=null,f=null,p=null;s.warn=function(e){if(!d){d=n("<div>",{"class":"toggableWarning"}).prependTo(s.container).hide();f=n("<span>",{"class":"toggleWarning"}).html("&times;").click(function(){d.hide(400)}).appendTo(d);p=n("<span>",{"class":"toggableMsg"}).appendTo(d)}p.empty();e instanceof n?p.append(e):p.html(e);d.show(400)};var h=null,v=function(){if(null===h){var e=window.URL||window.webkitURL||window.mozURL||window.msURL;h=e&&Blob}return h},g=function(t){var r=function(){var e=n('<ul class="yasr_btnGroup nav nav-tabs"></ul>');n.each(t.plugins,function(r,a){if(!a.hideFromSelection){{var o=a.name||r,s=n("<li></li>");n("<a></a>").text(o).addClass("select_"+r).click(function(){if(!n(this).parent().hasClass("disabled")){e.find("li.active").removeClass("active");s.addClass("active");t.options.output=r;var a=t.getPersistencyId(t.options.persistency.outputSelector);a&&i.storage.set(a,t.options.output,"month");d&&d.hide(400);t.draw(r);t.updateHeader()}}).appendTo(s)}s.appendTo(e);t.options.output==r&&s.addClass("active")}});e.children().length>1&&t.header.append(e)},a=function(){var r=function(e,t){var r=null,n=window.URL||window.webkitURL||window.mozURL||window.msURL;if(n&&Blob){var i=new Blob([e],{type:t});r=n.createObjectURL(i)}return r},i=n("<button class='btn btn-success btn-sm yasr_downloadIcon'>Save</button>").click(function(){var i=t.plugins[t.options.output];if(i&&i.getDownloadInfo){var a=i.getDownloadInfo(),o=r(a.getContent(),a.contentType?a.contentType:"text/plain"),s=n("<a></a>",{href:o,download:a.filename});e("./utils.js").fireClick(s)}});t.header.append(i)};t.options.drawOutputSelector&&r();t.options.drawDownloadIcon&&v()&&a();t.resultsInfo.hide();t.insertResultsInfo.hide()},y=s.getPersistencyId(s.options.persistency.outputSelector);if(y){var m=i.storage.get(y);m&&(s.options.output=m)}s.options.hideHeader||g(s);if(!o&&s.options.persistency&&s.options.persistency.results){var b,x=s.getPersistencyId(s.options.persistency.results.key);x&&(b=i.storage.get(x));if(!b&&s.options.persistency.results.id){var w="string"==typeof s.options.persistency.results.id?s.options.persistency.results.id:s.options.persistency.results.id(s);if(w){b=i.storage.get(w);b&&i.storage.remove(w)}}b&&(n.isArray(b)?s.setResponse.apply(this,b):s.setResponse(b))}o&&s.setResponse(o);s.updateHeader();return s};a.plugins={};a.registerOutput=function(e,t){a.plugins[e]=t};a.defaults=e("./defaults.js");a.version={YASR:e("../package.json").version,jquery:n.fn.jquery,"yasgui-utils":e("yasgui-utils").version};a.utils=e("./utils.js");a.$=n;try{a.registerOutput("boolean",e("./boolean.js"))}catch(o){}try{a.registerOutput("table",e("./table.js"))}catch(o){}try{a.registerOutput("rawResponse",e("./rawResponse.js"))}catch(o){}try{a.registerOutput("error",e("./error.js"))}catch(o){}try{a.registerOutput("pivot",e("./pivot.js"))}catch(o){}try{a.registerOutput("gchart",e("./gchart.js"))}catch(o){}try{a.registerOutput("graph",e("./graph.js"))}catch(o){}},{"../package.json":25,"./boolean.js":27,"./defaults.js":28,"./error.js":29,"./extensions.js":31,"./gChartLoader.js":32,"./gchart.js":33,"./graph.js":34,"./imgs.js":35,"./jquery/extendJquery.js":36,"./parsers/wrapper.js":44,"./pivot.js":46,"./rawResponse.js":47,"./table.js":48,"./utils.js":49,jquery:void 0,"yasgui-utils":22}],39:[function(e,t,r){"use strict";(function(){try{return e("jquery")}catch(t){return window.jQuery}})(),t.exports=function(t){return e("./dlv.js")(t,",")}},{"./dlv.js":40,jquery:void 0}],40:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();e("../../lib/jquery.csv-0.71.js");t.exports=function(e,t){var r={},i=n.csv.toArrays(e,{separator:t}),a=function(e){return 0==e.indexOf("http")?"uri":null},o=function(){if(2==i.length&&1==i[0].length&&1==i[1].length&&"boolean"==i[0][0]&&("1"==i[1][0]||"0"==i[1][0])){r["boolean"]="1"==i[1][0]?!0:!1;return!0}return!1},s=function(){if(i.length>0&&i[0].length>0){r.head={vars:i[0]};return!0}return!1},l=function(){if(i.length>1){r.results={bindings:[]};for(var e=1;e<i.length;e++){for(var t={},n=0;n<i[e].length;n++){var o=r.head.vars[n];if(o){var s=i[e][n],l=a(s);t[o]={value:s};l&&(t[o].type=l)}}r.results.bindings.push(t)}r.head={vars:i[0]};return!0}return!1},u=o();if(!u){var c=s();c&&l()}return r}},{"../../lib/jquery.csv-0.71.js":3,jquery:void 0}],41:[function(e,t,r){"use strict";{var n=(function(){try{return e("jquery")}catch(t){return window.jQuery}}(),e("lodash")),i=function(e){if("object"==typeof e){"bnode"==e.type&&(e.value=e.value.slice(2));return e}return 0==e.indexOf("_:")?{type:"bnode",value:e.slice(2)}:{type:"uri",value:e}};t.exports=function(e){if(e){var t=n.map(e,function(e,t){return n.map(e,function(e,r){return n.map(e,function(e){return[i(t),i(r),i(e)]})})}),r=n.reduce(t,function(e,t){return e.concat(t)},[]);r=n.reduce(r,function(e,t){return e.concat(t)},[]);var a=r.map(function(e){return{subject:e[0],predicate:e[1],object:e[2]}});return{head:{vars:["subject","predicate","object"]},results:{bindings:a}}}return!1}}},{jquery:void 0,lodash:17}],42:[function(e,t,r){"use strict";(function(){try{return e("jquery")}catch(t){return window.jQuery}})(),t.exports=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return!1}return"object"==typeof e&&e.constructor==={}.constructor?e:!1}},{jquery:void 0}],43:[function(e,t,r){"use strict";(function(){try{return e("jquery")}catch(t){return window.jQuery}})(),t.exports=function(t){return e("./dlv.js")(t,"	")}},{"./dlv.js":40,jquery:void 0}],44:[function(e,t,r){"use strict";{var n=(function(){try{return e("jquery")}catch(t){return window.jQuery}}(),e("lodash"));t.exports=function(t,r,i){var a={xml:e("./xml.js"),json:e("./json.js"),tsv:e("./tsv.js"),csv:e("./csv.js"),graphJson:e("./graphJson.js")},o=null,s=null,l=null,u=null,c=null,d=null,f=function(){if("object"==typeof t){if(t.exception)d=t.exception;else if(void 0!=t.status&&(t.status>=300||0===t.status)){d={status:t.status};"string"==typeof i&&(d.errorString=i);t.responseText&&(d.responseText=t.responseText);t.statusText&&(d.statusText=t.statusText)}if(t.contentType)o=t.contentType.toLowerCase();else if(t.getResponseHeader&&t.getResponseHeader("content-type")){var e=t.getResponseHeader("content-type").trim().toLowerCase();e.length>0&&(o=e)}t.response?s=t.response:r||i||(s=t)}d||s||(s=t.responseText?t.responseText:t)},p=function(){return l},h=function(){if(u)return u;if(u===!1||d)return!1;var e=function(){if(o)if(o.indexOf("json")>-1){try{u=a.json(s,window.editor.getQueryType());l=u;var e=window.editor.getQueryType();("DESCRIBE"==e||"CONSTRUCT"==e)&&(u=a.graphJson(l))}catch(t){d=t}c="json"}else if(o.indexOf("xml")>-1){try{u=a.xml(s)}catch(t){d=t}c="xml"}else if(o.indexOf("csv")>-1){try{u=a.csv(s)}catch(t){d=t}c="csv"}else if(o.indexOf("tab-separated")>-1){try{u=a.tsv(s)}catch(t){d=t}c="tsv"}},t=function(){u=a.json(s);if(u)c="json";else try{u=a.xml(s);u&&(c="xml")}catch(e){}};e();u||t();u||(u=!1);return u},v=function(){var e=h();return e&&"head"in e?e.head.vars:null},g=function(){var e=h();return e&&"results"in e?e.results.bindings:null},y=function(){var e=h();return e&&"boolean"in e?e["boolean"]:null},m=function(){return s},b=function(e){if("json"==c){var t=x(e);return JSON.stringify(t,void 0,2)}return w().slice(0,e)},x=function(e){if(l.results&&l.results.bindings&&l.results.bindings.length>e){var t=jQuery.extend(!0,{},l);t.results.bindings=l.results.bindings.slice(0,e)}else{var r=n.keys(l).slice(0,e);t=n.pick(l,function(e,t){return r.indexOf(t)>=0})}return t},w=function(){var e="";"string"==typeof s?e=s:"json"==c?e=JSON.stringify(s,void 0,2):"xml"==c&&(e=(new XMLSerializer).serializeToString(s));return e},_=function(){return d},k=function(){null==c&&h();return c},E=function(){var e={};if(t.status){e.status=t.status;e.responseText=t.responseText;e.statusText=t.statusText;e.contentType=o}else e=t;var n=r,a=void 0;"string"==typeof i&&(a=i);return[e,n,a]};f();u=h();return{getAsStoreObject:E,getRawJson:p,getAsJson:h,getOriginalResponse:m,getShortOriginalResponse:b,getShortOriginalResponseAsJSON:x,getOriginalResponseAsString:w,getOriginalContentType:function(){return o},getVariables:v,getBindings:g,getBoolean:y,getType:k,getException:_}}}},{"./csv.js":39,"./graphJson.js":41,"./json.js":42,"./tsv.js":43,"./xml.js":45,jquery:void 0,lodash:17}],45:[function(e,t,r){"use strict";{var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();t.exports=function(e){var t=function(e){o.head={};for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if("variable"==r.nodeName){o.head.vars||(o.head.vars=[]);var n=r.getAttribute("name");n&&o.head.vars.push(n)}}},r=function(e){o.results={};o.results.bindings=[];for(var t=0;t<e.childNodes.length;t++){for(var r=e.childNodes[t],n=null,i=0;i<r.childNodes.length;i++){var a=r.childNodes[i];if("binding"==a.nodeName){var s=a.getAttribute("name");if(s){n=n||{};n[s]={};for(var l=0;l<a.childNodes.length;l++){var u=a.childNodes[l],c=u.nodeName;if("#text"!=c){n[s].type=c;n[s].value=u.innerHTML;var d=u.getAttribute("datatype");d&&(n[s].datatype=d)}}}}}n&&o.results.bindings.push(n)}},i=function(e){o["boolean"]="true"==e.innerHTML?!0:!1},a=null;"string"==typeof e?a=n.parseXML(e):n.isXMLDoc(e)&&(a=e);var e=null;if(!(a.childNodes.length>0))return null;e=a.childNodes[0];for(var o={},s=0;s<e.childNodes.length;s++){var l=e.childNodes[s];"head"==l.nodeName&&t(l);"results"==l.nodeName&&r(l);"boolean"==l.nodeName&&i(l)}return o}}},{jquery:void 0}],46:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=e("./utils.js"),a=e("yasgui-utils"),o=e("./imgs.js");(function(){try{return e("jquery-ui/sortable")}catch(t){return window.jQuery}})();(function(){try{return e("pivottable")}catch(t){return window.jQuery}})();if(!n.fn.pivotUI)throw new Error("Pivot lib not loaded");var s=t.exports=function(t){var r=n.extend(!0,{},s.defaults);if(r.useD3Chart){try{var l=function(){try{return e("d3")}catch(t){return window.d3}}();l&&e("../node_modules/pivottable/dist/d3_renderers.js")}catch(u){}n.pivotUtilities.d3_renderers&&n.extend(!0,n.pivotUtilities.renderers,n.pivotUtilities.d3_renderers)}var c,d=null,f=function(){var e=t.results.getVariables();if(!r.mergeLabelsWithUris)return e;var n=[];d="string"==typeof r.mergeLabelsWithUris?r.mergeLabelsWithUris:"Label";e.forEach(function(t){-1!==t.indexOf(d,t.length-d.length)&&e.indexOf(t.substring(0,t.length-d.length))>=0||n.push(t)});return n},p=function(e){var r=f(),n=null;t.options.getUsedPrefixes&&(n="function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes);t.results.getBindings().forEach(function(t){var a={};r.forEach(function(e){if(e in t){var r=t[e].value;d&&t[e+d]?r=t[e+d].value:"uri"==t[e].type&&(r=i.uriToPrefixed(n,r));a[e]=r}else a[e]=null});e(a)})},h=t.getPersistencyId(r.persistencyId),v=function(){var e=a.storage.get(h);if(e){var r=t.results.getVariables(),i=!0;e.cols.forEach(function(e){r.indexOf(e)<0&&(i=!1)});i&&e.rows.forEach(function(e){r.indexOf(e)<0&&(i=!1)});if(!i){e.cols=[];e.rows=[]}n.pivotUtilities.renderers[e.rendererName]||delete e.rendererName}else e={};return e},g=function(){var i=function(){var e=function(e){if(h){var n={cols:e.cols,rows:e.rows,rendererName:e.rendererName,aggregatorName:e.aggregatorName,vals:e.vals};a.storage.set(h,n,"month")}e.rendererName.toLowerCase().indexOf(" chart")>=0?r.show():r.hide();t.updateHeader()},r=n("<button>",{"class":"openPivotGchart yasr_btn"}).text("Chart Config").click(function(){c.find('div[dir="ltr"]').dblclick()}).appendTo(t.resultsContainer);c=n("<div>",{"class":"pivotTable"}).appendTo(n(t.resultsContainer));var i=n.extend(!0,{},v(),s.defaults.pivotTable);i.onRefresh=function(){var t=i.onRefresh;return function(r){e(r);t&&t(r)}}();window.pivot=c.pivotUI(p,i);var l=n(a.svg.getElement(o.move));c.find(".pvtTriangle").replaceWith(l);n(".pvtCols").prepend(n("<div>",{
"class":"containerHeader"}).text("Columns"));n(".pvtRows").prepend(n("<div>",{"class":"containerHeader"}).text("Rows"));n(".pvtUnused").prepend(n("<div>",{"class":"containerHeader"}).text("Available Variables"));n(".pvtVals").prepend(n("<div>",{"class":"containerHeader"}).text("Cells"));setTimeout(t.updateHeader,400)};t.options.useGoogleCharts&&r.useGoogleCharts&&!n.pivotUtilities.gchart_renderers?e("./gChartLoader.js").on("done",function(){try{e("../node_modules/pivottable/dist/gchart_renderers.js");n.extend(!0,n.pivotUtilities.renderers,n.pivotUtilities.gchart_renderers)}catch(t){r.useGoogleCharts=!1}i()}).on("error",function(){console.log("could not load gchart");r.useGoogleCharts=!1;i()}).googleLoad():i()},y=function(){return t.results&&t.results.getVariables&&t.results.getVariables()&&t.results.getVariables().length>0},m=function(){if(!t.results)return null;var e=t.resultsContainer.find(".pvtRendererArea svg");if(e.length>0)return{getContent:function(){return e[0].outerHTML?e[0].outerHTML:n("<div>").append(e.clone()).html()},filename:"queryResults.svg",contentType:"image/svg+xml",buttonTitle:"Download SVG Image"};var r=t.resultsContainer.find(".pvtRendererArea table");return r.length>0?{getContent:function(){return r.tableToCsv()},filename:"queryResults.csv",contentType:"text/csv",buttonTitle:"Download as CSV"}:void 0},b=function(){if(!t.results)return null;var e=t.resultsContainer.find(".pvtRendererArea svg").clone().removeAttr("height").removeAttr("width").css("height","").css("width","");if(0==e.length)return null;var r=e[0].outerHTML;r||(r=n("<div>").append(e.clone()).html());return'<div style="width: 800px; height: 600px;">\n'+r+"\n</div>"};return{getDownloadInfo:m,getEmbedHtml:b,options:r,draw:g,name:"Pivot Table",canHandleResults:y,getPriority:4}};s.defaults={mergeLabelsWithUris:!1,useGoogleCharts:!0,useD3Chart:!0,persistencyId:"pivot",pivotTable:{}};s.version={"YASR-rawResponse":e("../package.json").version,jquery:n.fn.jquery}},{"../node_modules/pivottable/dist/d3_renderers.js":18,"../node_modules/pivottable/dist/gchart_renderers.js":19,"../package.json":25,"./gChartLoader.js":32,"./imgs.js":35,"./utils.js":49,d3:void 0,jquery:void 0,"jquery-ui/sortable":void 0,pivottable:void 0,"yasgui-utils":22}],47:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}();e("codemirror/addon/fold/foldcode.js");e("codemirror/addon/fold/foldgutter.js");e("codemirror/addon/fold/xml-fold.js");e("codemirror/addon/fold/brace-fold.js");e("codemirror/addon/edit/matchbrackets.js");e("codemirror/mode/xml/xml.js");e("codemirror/mode/javascript/javascript.js");var a=t.exports=function(e){var t=n.extend(!0,{},a.defaults),r=null,o=function(){var n=t.CodeMirror;n.value=e.results.getShortOriginalResponse(t.limit);e.resultsCount>t.limit&&e.resultsInfo.find(".res-count").text(t.limit);var a=e.results.getType();if(a){"json"==a&&(a={name:"javascript",json:!0});n.mode=a}r=i(e.resultsContainer.get()[0],n);r.on("fold",function(){r.refresh()});r.on("unfold",function(){r.refresh()})},s=function(){if(!e.results)return!1;if(!e.results.getOriginalResponseAsString)return!1;var t=e.results.getOriginalResponseAsString();return t&&0!=t.length||!e.results.getException()?!0:!1},l=function(){if(!e.results)return null;var t=e.results.getOriginalContentType(),r=e.results.getType();return{getContent:function(){return e.results.getOriginalResponse()},filename:"queryResults"+(r?"."+r:""),contentType:t?t:"text/plain",buttonTitle:"Download raw response"}};return{draw:o,name:"Raw Response",canHandleResults:s,getPriority:2,getDownloadInfo:l}};a.defaults={CodeMirror:{readOnly:!0,lineNumbers:!0,lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},limit:100};a.version={"YASR-rawResponse":e("../package.json").version,jquery:n.fn.jquery,CodeMirror:i.version}},{"../package.json":25,codemirror:void 0,"codemirror/addon/edit/matchbrackets.js":9,"codemirror/addon/fold/brace-fold.js":10,"codemirror/addon/fold/foldcode.js":11,"codemirror/addon/fold/foldgutter.js":12,"codemirror/addon/fold/xml-fold.js":13,"codemirror/mode/javascript/javascript.js":14,"codemirror/mode/xml/xml.js":15,jquery:void 0}],48:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=e("yasgui-utils"),a=e("./utils.js"),o=(e("./imgs.js"),e("lodash"));(function(){try{return e("datatables")}catch(t){return window.jQuery}})();e("../lib/colResizable-1.4.js");var s=t.exports=function(t){var r=null,a={name:"Table",getPriority:10},l=a.options=n.extend(!0,{},s.defaults),u=l.persistency?t.getPersistencyId(l.persistency.tableLength):null,d=function(){var e=[],r=t.results.getBindings(),n=t.results.getVariables(),i=null;t.options.getUsedPrefixes&&(i="function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes);i=o.invert(i);for(var s=0;s<r.length;s++){var u=[];u.push("");for(var c=r[s],d=0;d<n.length;d++){var f=n[d];u.push(f in c?l.getCellContent?l.getCellContent(t,a,c,f,{rowId:s,colId:d,usedPrefixes:i}):"":"")}e.push(u)}return e},f=(t.getPersistencyId("eventId")||"yasr_"+n(t.container).closest("[id]").attr("id"),function(){var e=angular.element(n("#yasr")[0]).scope();n("td div .fa-link").on("click",function(){var t=this.dataset.clipboardText;e.copyToClipboardResult(t)})}),p=function(){r.on("order.dt",function(){h()});u&&r.on("length.dt",function(e,t,r){i.storage.set(u,r,"month")});n.extend(!0,l.callbacks,l.handlers);r.delegate("td","click",function(e){if(l.callbacks&&l.callbacks.onCellClick){var t=l.callbacks.onCellClick(this,e);if(t===!1)return!1}}).delegate("td","mouseenter",function(e){l.callbacks&&l.callbacks.onCellMouseEnter&&l.callbacks.onCellMouseEnter(this,e);var t=n(this);l.fetchTitlesFromPreflabel&&void 0===t.attr("title")&&0==t.text().trim().indexOf("http")&&c(t)}).delegate("td","mouseleave",function(e){l.callbacks&&l.callbacks.onCellMouseLeave&&l.callbacks.onCellMouseLeave(this,e)});f()};a.draw=function(){r=n('<table cellpadding="0" cellspacing="0" border="0" class="resultsTable table table-striped table-bordered fixedCellWidth"></table>');n(t.resultsContainer).html(r);var e=l.datatable;e.data=d();e.columns=l.getColumns(t,a);var o=i.storage.get(u);o&&(e.pageLength=o);r.DataTable(n.extend(!0,{},e));h();p();r.colResizable();r.find("thead").outerHeight();n(t.resultsContainer).find(".JCLRgrip").height(r.find("thead").outerHeight());var s=(t.header.outerHeight(),t.resultsContainer.find(".dataTables_filter label"));s.contents().get(0).remove();s.find("input[type=search]").attr("placeholder","Filter query results").addClass("form-control")};var h=function(){var e={sorting:"unsorted",sorting_asc:"sortAsc",sorting_desc:"sortDesc"};r.find(".sortIcons").remove();for(var t in e){var i=n("<div class='sortIcons'></div>");"sorting"==t?i.append("<a class='fa fa-sort'></a>"):"sorting_asc"==t?i.append("<a class='fa fa-sort-alpha-asc'></a>"):"sorting_desc"==t&&i.append("<a class='fa fa-sort-alpha-desc'></a>");r.find("th."+t).append(i)}};a.canHandleResults=function(){return t.results&&t.results.getVariables&&t.results.getVariables()&&t.results.getVariables().length>0};a.getDownloadInfo=function(){return t.results?{getContent:function(){return e("./bindingsToCsv.js")(t.results.getAsJson())},filename:"queryResults.csv",contentType:"text/csv",buttonTitle:"Download as CSV"}:null};return a},l=function(e,t,r,n,i){var s=r[n],l=null,c="";if("uri"==s.type){var d,f=s.value,p=f;if(i.usedPrefixes){var h=a.uriToPrefixWithLocalName(i.usedPrefixes,p);if(h){p=h.prefix+":"+h.localName;""!=h.prefix&&(d="resource/"+encodeURIComponent(h.prefix)+"/"+encodeURIComponent(h.localName))}}void 0==d&&(d="resource?uri="+encodeURIComponent(f));l="<a title='"+f+"' class='uri' href='"+d+"'>"+o.escape(p)+"</a> <a class='fa fa-link share-result' data-clipboard-text='"+f+"' title='Copy to Clipboard' href='#'></a>";c=" class = 'uri-cell'"}else l="<span class='nonUri'>"+u(e,t,s)+"</span>";return"<div"+c+">"+l+"</div>"},u=function(e,t,r){var n=a.escapeHtmlEntities(r.value);if("bnode"==r.type)return"_:"+n;if(r["xml:lang"])n='"'+n+'"<sup>@'+r["xml:lang"]+"</sup>";else if(r.datatype){var i="http://www.w3.org/2001/XMLSchema#",o=r.datatype;o=0===o.indexOf(i)?"xsd:"+o.substring(i.length):"&lt;"+o+"&gt;";n='"'+n+'"<sup>^^'+o+"</sup>"}return n},c=function(e){var t=function(){e.attr("title","")};n.get("http://preflabel.org/api/v1/label/"+encodeURIComponent(e.text())+"?silent=true").success(function(r){"object"==typeof r&&r.label?e.attr("title",r.label):"string"==typeof r&&r.length>0?e.attr("title",r):t()}).fail(t)};s.defaults={getCellContent:l,persistency:{tableLength:"tableLength"},getColumns:function(e,t){var r=function(r){if(!t.options.mergeLabelsWithUris)return!0;var n="string"==typeof t.options.mergeLabelsWithUris?t.options.mergeLabelsWithUris:"Label";return-1!==r.indexOf(n,r.length-n.length)&&e.results.getVariables().indexOf(r.substring(0,r.length-n.length))>=0?!1:!0},n=[];n.push({title:""});e.results.getVariables().forEach(function(e){n.push({title:"<span>"+e+"</span>",visible:r(e)})});return n},fetchTitlesFromPreflabel:!0,mergeLabelsWithUris:!1,callbacks:{onCellMouseEnter:null,onCellMouseLeave:null,onCellClick:null},datatable:{paginate:!1,info:!1,autoWidth:!1,order:[],pageLength:50,lengthMenu:[[10,50,100,1e3,-1],[10,50,100,1e3,"All"]],lengthChange:!0,drawCallback:function(e){for(var t=0;t<e.aiDisplay.length;t++)n("td:eq(0)",e.aoData[e.aiDisplay[t]].nTr).html(t+1);var r=!1;n(e.nTableWrapper).find(".paginate_button").each(function(){-1==n(this).attr("class").indexOf("current")&&-1==n(this).attr("class").indexOf("disabled")&&(r=!0)});r?n(e.nTableWrapper).find(".dataTables_paginate").show():n(e.nTableWrapper).find(".dataTables_paginate").hide()},columnDefs:[{width:"32px",orderable:!1,targets:0}]}};s.version={"YASR-table":e("../package.json").version,jquery:n.fn.jquery,"jquery-datatables":n.fn.DataTable.version}},{"../lib/colResizable-1.4.js":2,"../package.json":25,"./bindingsToCsv.js":26,"./imgs.js":35,"./utils.js":49,datatables:void 0,jquery:void 0,lodash:17,"yasgui-utils":22}],49:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=(e("lodash"),e("./exceptions.js").GoogleTypeException);t.exports={escapeHtmlEntities:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},uriToPrefixed:function(e,t){if(e)for(var r in e)if(0==t.indexOf(e[r])){t=r+":"+t.substring(e[r].length);break}return t},uriToPrefixWithLocalName:function(e,t){var r=Object.keys(e).filter(function(e){return 0==t.indexOf(e)});if(r.length>0){var n=r[0],i=e[n],a=t.substring(n.length);return{prefix:i,localName:a}}return null},getGoogleTypeForBinding:function(e){if(null==e)return null;if(null==e.type||"typed-literal"!==e.type&&"literal"!==e.type)return"string";switch(e.datatype){case"http://www.w3.org/2001/XMLSchema#float":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":return"number";case"http://www.w3.org/2001/XMLSchema#date":return"date";case"http://www.w3.org/2001/XMLSchema#dateTime":return"datetime";case"http://www.w3.org/2001/XMLSchema#time":return"timeofday";default:return"string"}},getGoogleTypeForBindings:function(e,r){var n={},a=0;e.forEach(function(e){var i=t.exports.getGoogleTypeForBinding(e[r]);if(null!=i){if(!(i in n)){n[i]=0;a++}n[i]++}});if(0==a)return"string";if(1!=a)throw new i(n,r);for(var o in n)return o},castGoogleType:function(e,r,n){if(null==e)return null;if("string"==n||null==e.type||"typed-literal"!==e.type&&"literal"!==e.type)return(e.type="uri")?t.exports.uriToPrefixed(r,e.value):e.value;switch(e.datatype){case"http://www.w3.org/2001/XMLSchema#float":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":return Number(e.value);case"http://www.w3.org/2001/XMLSchema#date":var i=a(e.value);if(i)return i;case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#time":return new Date(e.value);default:return e.value}},fireClick:function(e){e&&e.each(function(e,t){var r=n(t);if(document.dispatchEvent){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,1,1,1,1,!1,!1,!1,!1,0,r[0]);r[0].dispatchEvent(i)}else document.fireEvent&&r[0].click()})}};var a=function(e){var t=new Date(e.replace(/(\d)([\+-]\d{2}:\d{2})/,"$1Z$2"));return isNaN(t)?null:t}},{"./exceptions.js":30,jquery:void 0,lodash:17}]},{},[1])(1)});
//# sourceMappingURL=yasr.min.js.map