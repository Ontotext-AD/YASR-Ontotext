!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.YASR=e()}}(function(){var define,module,exports;return function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){t.exports=e("./main.js")},{"./main.js":34}],2:[function(e,t,r){var n,i=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),a=i(document),o=i("head"),s=null,l=[],u=0,c="id",f="px",d="JColResizer",p=parseInt,h=Math,v=navigator.userAgent.indexOf("Trident/4.0")>0;try{n=sessionStorage}catch(g){}o.append("<style type='text/css'>  .JColResizer{table-layout:fixed;} .JColResizer td, .JColResizer th{overflow:hidden;padding-left:0!important; padding-right:0!important;}  .JCLRgrips{ height:0px; position:relative;} .JCLRgrip{margin-left:-5px; position:absolute; z-index:5; } .JCLRgrip .JColResizer{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;top:0px} .JCLRLastGrip{position:absolute; width:1px; } .JCLRgripDrag{ border-left:1px dotted black;	}</style>");var m=function(e,t){var r=i(e);if(t.disable)return y(r);var n=r.id=r.attr(c)||d+u++;r.p=t.postbackSafe;if(r.is("table")&&!l[n]){r.addClass(d).attr(c,n).before('<div class="JCLRgrips"/>');r.opt=t;r.g=[];r.c=[];r.w=r.width();r.gc=r.prev();t.marginLeft&&r.gc.css("marginLeft",t.marginLeft);t.marginRight&&r.gc.css("marginRight",t.marginRight);r.cs=p(v?e.cellSpacing||e.currentStyle.borderSpacing:r.css("border-spacing"))||2;r.b=p(v?e.border||e.currentStyle.borderLeftWidth:r.css("border-left-width"))||1;l[n]=r;b(r)}},y=function(e){var t=e.attr(c),e=l[t];if(e&&e.is("table")){e.removeClass(d).gc.remove();delete l[t]}},b=function(e){var t=e.find(">thead>tr>th,>thead>tr>td");t.length||(t=e.find(">tbody>tr:first>th,>tr:first>th,>tbody>tr:first>td, >tr:first>td"));e.cg=e.find("col");e.ln=t.length;e.p&&n&&n[e.id]&&w(e,t);t.each(function(t){var r=i(this),n=i(e.gc.append('<div class="JCLRgrip"></div>')[0].lastChild);n.t=e;n.i=t;n.c=r;r.w=r.width();e.g.push(n);e.c.push(r);r.width(r.w).removeAttr("width");t<e.ln-1?n.bind("touchstart mousedown",E).append(e.opt.gripInnerHtml).append('<div class="'+d+'" style="cursor:'+e.opt.hoverCursor+'"></div>'):n.addClass("JCLRLastGrip").removeClass("JCLRgrip");n.data(d,{i:t,t:e.attr(c)})});e.cg.removeAttr("width");x(e);e.find("td, th").not(t).not("table th, table td").each(function(){i(this).removeAttr("width")})},w=function(e,t){var r,i=0,a=0,o=[];if(t){e.cg.removeAttr("width");if(e.opt.flush){n[e.id]="";return}r=n[e.id].split(";");for(;a<e.ln;a++){o.push(100*r[a]/r[e.ln]+"%");t.eq(a).css("width",o[a])}for(a=0;a<e.ln;a++)e.cg.eq(a).css("width",o[a])}else{n[e.id]="";for(;a<e.c.length;a++){r=e.c[a].width();n[e.id]+=r+";";i+=r}n[e.id]+=i}},x=function(e){e.gc.width(e.w);for(var t=0;t<e.ln;t++){var r=e.c[t];e.g[t].css({left:r.offset().left-e.offset().left+r.outerWidth(!1)+e.cs/2+f,height:e.opt.headerOnly?e.c[0].outerHeight(!1):e.outerHeight(!1)})}},_=function(e,t,r){var n=s.x-s.l,i=e.c[t],a=e.c[t+1],o=i.w+n,l=a.w-n;i.width(o+f);a.width(l+f);e.cg.eq(t).width(o+f);e.cg.eq(t+1).width(l+f);if(r){i.w=o;a.w=l}},k=function(e){if(s){var t=s.t;if(e.originalEvent.touches)var r=e.originalEvent.touches[0].pageX-s.ox+s.l;else var r=e.pageX-s.ox+s.l;var n=t.opt.minWidth,i=s.i,a=1.5*t.cs+n+t.b,o=i==t.ln-1?t.w-a:t.g[i+1].position().left-t.cs-n,l=i?t.g[i-1].position().left+t.cs+n:a;r=h.max(l,h.min(o,r));s.x=r;s.css("left",r+f);if(t.opt.liveDrag){_(t,i);x(t);var u=t.opt.onDrag;if(u){e.currentTarget=t[0];u(e)}}return!1}},C=function(e){a.unbind("touchend."+d+" mouseup."+d).unbind("touchmove."+d+" mousemove."+d);i("head :last-child").remove();if(s){s.removeClass(s.t.opt.draggingClass);var t=s.t,r=t.opt.onResize;if(s.x){_(t,s.i,!0);x(t);if(r){e.currentTarget=t[0];r(e)}}t.p&&n&&w(t);s=null}},E=function(e){var t=i(this).data(d),r=l[t.t],n=r.g[t.i];e.originalEvent.touches?n.ox=e.originalEvent.touches[0].pageX:n.ox=e.pageX;n.l=n.position().left;a.bind("touchmove."+d+" mousemove."+d,k).bind("touchend."+d+" mouseup."+d,C);o.append("<style type='text/css'>*{cursor:"+r.opt.dragCursor+"!important}</style>");n.addClass(r.opt.draggingClass);s=n;if(r.c[t.i].l)for(var u,c=0;c<r.ln;c++){u=r.c[c];u.l=!1;u.w=u.width()}return!1},S=function(){for(t in l){var e,t=l[t],r=0;t.removeClass(d);if(t.w!=t.width()){t.w=t.width();for(e=0;e<t.ln;e++)r+=t.c[e].w;for(e=0;e<t.ln;e++)t.c[e].css("width",h.round(1e3*t.c[e].w/r)/10+"%").l=!0}x(t.addClass(d))}};i(window).bind("resize."+d,S);i.fn.extend({colResizable:function(e){var t={draggingClass:"JCLRgripDrag",gripInnerHtml:"",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:"e-resize",dragCursor:"e-resize",postbackSafe:!1,flush:!1,marginLeft:null,marginRight:null,disable:!1,onDrag:null,onResize:null},e=i.extend(t,e);return this.each(function(){m(this,e)})}})},{jquery:void 0}],3:[function(e,t,r){RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();n.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(e,t){var r=/\./;if(isNaN(e))return e;if(r.test(e))return parseFloat(e);var n=parseInt(e);return isNaN(n)?null:n}},parsers:{parse:function(e,t){function r(){l=0;u="";if(t.start&&t.state.rowNum<t.start){s=[];t.state.rowNum++;t.state.colNum=1}else{if(void 0===t.onParseEntry)o.push(s);else{var e=t.onParseEntry(s,t.state);e!==!1&&o.push(e)}s=[];t.end&&t.state.rowNum>=t.end&&(c=!0);t.state.rowNum++;t.state.colNum=1}}function n(){if(void 0===t.onParseValue)s.push(u);else{var e=t.onParseValue(u,t.state);e!==!1&&s.push(e)}u="";l=0;t.state.colNum++}var i=t.separator,a=t.delimiter;t.state.rowNum||(t.state.rowNum=1);t.state.colNum||(t.state.colNum=1);var o=[],s=[],l=0,u="",c=!1,f=RegExp.escape(i),d=RegExp.escape(a),p=/(D|S|\n|\r|[^DS\r\n]+)/,h=p.source;h=h.replace(/S/g,f);h=h.replace(/D/g,d);p=RegExp(h,"gm");e.replace(p,function(e){if(!c)switch(l){case 0:if(e===i){u+="";n();break}if(e===a){l=1;break}if("\n"===e){n();r();break}if(/^\r$/.test(e))break;u+=e;l=3;break;case 1:if(e===a){l=2;break}u+=e;l=1;break;case 2:if(e===a){u+=e;l=1;break}if(e===i){n();break}if("\n"===e){n();r();break}if(/^\r$/.test(e))break;throw new Error("CSVDataError: Illegal State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");case 3:if(e===i){n();break}if("\n"===e){n();r();break}if(/^\r$/.test(e))break;if(e===a)throw new Error("CSVDataError: Illegal Quote [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]")}});if(0!==s.length){n();r()}return o},splitLines:function(e,t){function r(){o=0;if(t.start&&t.state.rowNum<t.start){s="";t.state.rowNum++}else{if(void 0===t.onParseEntry)a.push(s);else{var e=t.onParseEntry(s,t.state);e!==!1&&a.push(e)}s="";t.end&&t.state.rowNum>=t.end&&(l=!0);t.state.rowNum++}}var n=t.separator,i=t.delimiter;t.state.rowNum||(t.state.rowNum=1);var a=[],o=0,s="",l=!1,u=RegExp.escape(n),c=RegExp.escape(i),f=/(D|S|\n|\r|[^DS\r\n]+)/,d=f.source;d=d.replace(/S/g,u);d=d.replace(/D/g,c);f=RegExp(d,"gm");e.replace(f,function(e){if(!l)switch(o){case 0:if(e===n){s+=e;o=0;break}if(e===i){s+=e;o=1;break}if("\n"===e){r();break}if(/^\r$/.test(e))break;s+=e;o=3;break;case 1:if(e===i){s+=e;o=2;break}s+=e;o=1;break;case 2:var a=s.substr(s.length-1);if(e===i&&a===i){s+=e;o=1;break}if(e===n){s+=e;o=0;break}if("\n"===e){r();break}if("\r"===e)break;throw new Error("CSVDataError: Illegal state [Row:"+t.state.rowNum+"]");case 3:if(e===n){s+=e;o=0;break}if("\n"===e){r();break}if("\r"===e)break;if(e===i)throw new Error("CSVDataError: Illegal quote [Row:"+t.state.rowNum+"]");throw new Error("CSVDataError: Illegal state [Row:"+t.state.rowNum+"]");default:throw new Error("CSVDataError: Unknown state [Row:"+t.state.rowNum+"]")}});""!==s&&r();return a},parseEntry:function(e,t){function r(){if(void 0===t.onParseValue)a.push(s);else{var e=t.onParseValue(s,t.state);e!==!1&&a.push(e)}s="";o=0;t.state.colNum++}var n=t.separator,i=t.delimiter;t.state.rowNum||(t.state.rowNum=1);t.state.colNum||(t.state.colNum=1);var a=[],o=0,s="";if(!t.match){var l=RegExp.escape(n),u=RegExp.escape(i),c=/(D|S|\n|\r|[^DS\r\n]+)/,f=c.source;f=f.replace(/S/g,l);f=f.replace(/D/g,u);t.match=RegExp(f,"gm")}e.replace(t.match,function(e){switch(o){case 0:if(e===n){s+="";r();break}if(e===i){o=1;break}if("\n"===e||"\r"===e)break;s+=e;o=3;break;case 1:if(e===i){o=2;break}s+=e;o=1;break;case 2:if(e===i){s+=e;o=1;break}if(e===n){r();break}if("\n"===e||"\r"===e)break;throw new Error("CSVDataError: Illegal State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");case 3:if(e===n){r();break}if("\n"===e||"\r"===e)break;if(e===i)throw new Error("CSVDataError: Illegal Quote [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]")}});r();return a}},toArray:function(e,t,r){var t=void 0!==t?t:{},i={};i.callback=void 0!==r&&"function"==typeof r?r:!1;i.separator="separator"in t?t.separator:n.csv.defaults.separator;i.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;var a=void 0!==t.state?t.state:{},t={delimiter:i.delimiter,separator:i.separator,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,state:a},o=n.csv.parsers.parseEntry(e,t);if(!i.callback)return o;i.callback("",o)},toArrays:function(e,t,r){var t=void 0!==t?t:{},i={};i.callback=void 0!==r&&"function"==typeof r?r:!1;i.separator="separator"in t?t.separator:n.csv.defaults.separator;i.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;var a=[],t={delimiter:i.delimiter,separator:i.separator,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,start:t.start,end:t.end,state:{rowNum:1,colNum:1}};a=n.csv.parsers.parse(e,t);if(!i.callback)return a;i.callback("",a)},toObjects:function(e,t,r){var t=void 0!==t?t:{},i={};i.callback=void 0!==r&&"function"==typeof r?r:!1;i.separator="separator"in t?t.separator:n.csv.defaults.separator;i.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;i.headers="headers"in t?t.headers:n.csv.defaults.headers;t.start="start"in t?t.start:1;i.headers&&t.start++;t.end&&i.headers&&t.end++;var a=[],o=[],t={delimiter:i.delimiter,separator:i.separator,onParseEntry:t.onParseEntry,onParseValue:t.onParseValue,start:t.start,end:t.end,state:{rowNum:1,colNum:1},match:!1},s={delimiter:i.delimiter,separator:i.separator,start:1,end:1,state:{rowNum:1,colNum:1}},l=n.csv.parsers.splitLines(e,s),u=n.csv.toArray(l[0],t),a=n.csv.parsers.splitLines(e,t);t.state.colNum=1;u?t.state.rowNum=2:t.state.rowNum=1;for(var c=0,f=a.length;f>c;c++){var d=n.csv.toArray(a[c],t),p={};for(var h in u)p[u[h]]=d[h];o.push(p);t.state.rowNum++}if(!i.callback)return o;i.callback("",o)},fromArrays:function(e,t,r){var t=void 0!==t?t:{},a={};a.callback=void 0!==r&&"function"==typeof r?r:!1;a.separator="separator"in t?t.separator:n.csv.defaults.separator;a.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;a.escaper="escaper"in t?t.escaper:n.csv.defaults.escaper;a.experimental="experimental"in t?t.experimental:!1;if(!a.experimental)throw new Error("not implemented");var o=[];for(i in e)o.push(e[i]);if(!a.callback)return o;a.callback("",o)},fromObjects2CSV:function(e,t,r){var t=void 0!==t?t:{},a={};a.callback=void 0!==r&&"function"==typeof r?r:!1;a.separator="separator"in t?t.separator:n.csv.defaults.separator;a.delimiter="delimiter"in t?t.delimiter:n.csv.defaults.delimiter;a.experimental="experimental"in t?t.experimental:!1;if(!a.experimental)throw new Error("not implemented");var o=[];for(i in e)o.push(arrays[i]);if(!a.callback)return o;a.callback("",o)}};n.csvEntry2Array=n.csv.toArray;n.csv2Array=n.csv.toArrays;n.csv2Dictionary=n.csv.toObjects},{jquery:void 0}],4:[function(e,t,r){function n(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function a(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=n;n.EventEmitter=n;n.prototype._events=void 0;n.prototype._maxListeners=void 0;n.defaultMaxListeners=10;n.prototype.setMaxListeners=function(e){if(!a(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};n.prototype.emit=function(e){var t,r,n,a,l,u;this._events||(this._events={});if("error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){t=arguments[1];if(t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}r=this._events[e];if(s(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=arguments.length;a=new Array(n-1);for(l=1;n>l;l++)a[l-1]=arguments[l];r.apply(this,a)}else if(o(r)){n=arguments.length;a=new Array(n-1);for(l=1;n>l;l++)a[l-1]=arguments[l];u=r.slice();n=u.length;for(l=0;n>l;l++)u[l].apply(this,a)}return!0};n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t);this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t;if(o(this._events[e])&&!this._events[e].warned){var r;r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners;if(r&&r>0&&this._events[e].length>r){this._events[e].warned=!0;console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length);"function"==typeof console.trace&&console.trace()}}return this};n.prototype.on=n.prototype.addListener;n.prototype.once=function(e,t){function r(){this.removeListener(e,r);if(!n){n=!0;t.apply(this,arguments)}}if(!i(t))throw TypeError("listener must be a function");var n=!1;r.listener=t;this.on(e,r);return this};n.prototype.removeListener=function(e,t){var r,n,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;r=this._events[e];a=r.length;n=-1;if(r===t||i(r.listener)&&r.listener===t){delete this._events[e];this._events.removeListener&&this.emit("removeListener",e,t)}else if(o(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(0>n)return this;if(1===r.length){r.length=0;delete this._events[e]}else r.splice(n,1);this._events.removeListener&&this.emit("removeListener",e,t)}return this};n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener){0===arguments.length?this._events={}:this._events[e]&&delete this._events[e];return this}if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);this.removeAllListeners("removeListener");this._events={};return this}r=this._events[e];if(i(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);delete this._events[e];return this};n.prototype.listeners=function(e){var t;t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[];return t};n.listenerCount=function(e,t){var r;r=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0;return r}},{}],5:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){function t(e,t,n,i){var a=e.getLineHandle(t.line),l=t.ch-1,u=l>=0&&s[a.text.charAt(l)]||s[a.text.charAt(++l)];if(!u)return null;var c=">"==u.charAt(1)?1:-1;if(n&&c>0!=(l==t.ch))return null;var f=e.getTokenTypeAt(o(t.line,l+1)),d=r(e,o(t.line,l+(c>0?1:0)),c,f||null,i);return null==d?null:{from:o(t.line,l),to:d&&d.pos,match:d&&d.ch==u.charAt(0),forward:c>0}}function r(e,t,r,n,i){for(var a=i&&i.maxScanLineLength||1e4,l=i&&i.maxScanLines||1e3,u=[],c=i&&i.bracketRegex?i.bracketRegex:/[(){}[\]]/,f=r>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),d=t.line;d!=f;d+=r){var p=e.getLine(d);if(p){var h=r>0?0:p.length-1,v=r>0?p.length:-1;if(!(p.length>a)){d==t.line&&(h=t.ch-(0>r?1:0));for(;h!=v;h+=r){var g=p.charAt(h);if(c.test(g)&&(void 0===n||e.getTokenTypeAt(o(d,h+1))==n)){var m=s[g];if(">"==m.charAt(1)==r>0)u.push(g);else{if(!u.length)return{pos:o(d,h),ch:g};u.pop()}}}}}}return d-r==(r>0?e.lastLine():e.firstLine())?!1:null}function n(e,r,n){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=e.listSelections(),u=0;u<l.length;u++){var c=l[u].empty()&&t(e,l[u].head,!1,n);if(c&&e.getLine(c.from.line).length<=i){var f=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(c.from,o(c.from.line,c.from.ch+1),{className:f}));c.to&&e.getLine(c.to.line).length<=i&&s.push(e.markText(c.to,o(c.to.line,c.to.ch+1),{className:f}))}}if(s.length){a&&e.state.focused&&e.display.input.focus();var d=function(){e.operation(function(){for(var e=0;e<s.length;e++)s[e].clear()})};if(!r)return d;setTimeout(d,800)}}function i(e){e.operation(function(){if(l){l();l=null}l=n(e,!1,e.state.matchBrackets)})}var a=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),o=e.Pos,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,r,n){n&&n!=e.Init&&t.off("cursorActivity",i);if(r){t.state.matchBrackets="object"==typeof r?r:{};t.on("cursorActivity",i)}});e.defineExtension("matchBrackets",function(){n(this,!0)});e.defineExtension("findMatchingBracket",function(e,r,n){return t(this,e,r,n)});e.defineExtension("scanForBracket",function(e,t,n,i){return r(this,e,t,n,i)})})},{codemirror:void 0}],6:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";e.registerHelper("fold","brace",function(t,r){function n(n){for(var i=r.ch,l=0;;){var u=0>=i?-1:s.lastIndexOf(n,i-1);if(-1!=u){if(1==l&&u<r.ch)break;a=t.getTokenTypeAt(e.Pos(o,u+1));if(!/^(comment|string)/.test(a))return u+1;i=u-1}else{if(1==l)break;l=1;i=s.length}}}var i,a,o=r.line,s=t.getLine(o),l="{",u="}",i=n("{");if(null==i){l="[",u="]";i=n("[")}if(null!=i){var c,f,d=1,p=t.lastLine();e:for(var h=o;p>=h;++h)for(var v=t.getLine(h),g=h==o?i:0;;){var m=v.indexOf(l,g),y=v.indexOf(u,g);0>m&&(m=v.length);0>y&&(y=v.length);g=Math.min(m,y);if(g==v.length)break;if(t.getTokenTypeAt(e.Pos(h,g+1))==a)if(g==m)++d;else if(!--d){c=h;f=g;break e}++g}if(null!=c&&(o!=c||f!=i))return{from:e.Pos(o,i),to:e.Pos(c,f)}}});e.registerHelper("fold","import",function(t,r){function n(r){if(r<t.firstLine()||r>t.lastLine())return null;var n=t.getTokenAt(e.Pos(r,1));/\S/.test(n.string)||(n=t.getTokenAt(e.Pos(r,n.end+1)));if("keyword"!=n.type||"import"!=n.string)return null;for(var i=r,a=Math.min(t.lastLine(),r+10);a>=i;++i){var o=t.getLine(i),s=o.indexOf(";");if(-1!=s)return{startCh:n.end,end:e.Pos(i,s)}}}var i,r=r.line,a=n(r);if(!a||n(r-1)||(i=n(r-2))&&i.end.line==r-1)return null;for(var o=a.end;;){var s=n(o.line+1);if(null==s)break;o=s.end}return{from:t.clipPos(e.Pos(r,a.startCh+1)),to:o}});e.registerHelper("fold","include",function(t,r){function n(r){if(r<t.firstLine()||r>t.lastLine())return null;var n=t.getTokenAt(e.Pos(r,1));/\S/.test(n.string)||(n=t.getTokenAt(e.Pos(r,n.end+1)));return"meta"==n.type&&"#include"==n.string.slice(0,8)?n.start+8:void 0}var r=r.line,i=n(r);if(null==i||null!=n(r-1))return null;for(var a=r;;){var o=n(a+1);if(null==o)break;++a}return{from:e.Pos(r,i+1),to:t.clipPos(e.Pos(a))}})})},{codemirror:void 0}],7:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";function t(t,i,a,o){function s(e){var r=l(t,i);if(!r||r.to.line-r.from.line<u)return null;for(var n=t.findMarksAt(r.from),a=0;a<n.length;++a)if(n[a].__isFold&&"fold"!==o){if(!e)return null;r.cleared=!0;n[a].clear()}return r}if(a&&a.call){var l=a;a=null}else var l=n(t,a,"rangeFinder");"number"==typeof i&&(i=e.Pos(i,0));var u=n(t,a,"minFoldSize"),c=s(!0);if(n(t,a,"scanUp"))for(;!c&&i.line>t.firstLine();){i=e.Pos(i.line-1,0);c=s(!1)}if(c&&!c.cleared&&"unfold"!==o){var f=r(t,a);e.on(f,"mousedown",function(t){d.clear();e.e_preventDefault(t)});var d=t.markText(c.from,c.to,{replacedWith:f,clearOnEnter:!0,__isFold:!0});d.on("clear",function(r,n){e.signal(t,"unfold",t,r,n)});e.signal(t,"fold",t,c.from,c.to)}}function r(e,t){var r=n(e,t,"widget");if("string"==typeof r){var i=document.createTextNode(r);r=document.createElement("span");r.appendChild(i);r.className="CodeMirror-foldmarker"}return r}function n(e,t,r){if(t&&void 0!==t[r])return t[r];var n=e.options.foldOptions;return n&&void 0!==n[r]?n[r]:i[r]}e.newFoldFunction=function(e,r){return function(n,i){t(n,i,{rangeFinder:e,widget:r})}};e.defineExtension("foldCode",function(e,r,n){t(this,e,r,n)});e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),r=0;r<t.length;++r)if(t[r].__isFold)return!0});e.commands.toggleFold=function(e){e.foldCode(e.getCursor())};e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")};e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")};e.commands.foldAll=function(t){t.operation(function(){for(var r=t.firstLine(),n=t.lastLine();n>=r;r++)t.foldCode(e.Pos(r,0),null,"fold")})};e.commands.unfoldAll=function(t){t.operation(function(){for(var r=t.firstLine(),n=t.lastLine();n>=r;r++)t.foldCode(e.Pos(r,0),null,"unfold")})};e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,r){for(var n=0;n<e.length;++n){var i=e[n](t,r);if(i)return i}}});e.registerHelper("fold","auto",function(e,t){for(var r=e.getHelpers(t,"fold"),n=0;n<r.length;n++){var i=r[n](e,t);if(i)return i}});var i={rangeFinder:e.fold.auto,widget:"â†”",minFoldSize:0,scanUp:!1};e.defineOption("foldOptions",null);e.defineExtension("foldOption",function(e,t){return n(this,e,t)})})},{codemirror:void 0}],8:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}(),e("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],n):n(CodeMirror)})(function(e){"use strict";function t(e){this.options=e;this.from=this.to=0}function r(e){e===!0&&(e={});null==e.gutter&&(e.gutter="CodeMirror-foldgutter");null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open");null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded");return e}function n(e,t){for(var r=e.findMarksAt(f(t)),n=0;n<r.length;++n)if(r[n].__isFold&&r[n].find().from.line==t)return!0}function i(e){if("string"==typeof e){var t=document.createElement("div");t.className=e+" CodeMirror-guttermarker-subtle";return t}return e.cloneNode(!0)}function a(e,t,r){var a=e.state.foldGutter.options,o=t,s=e.foldOption(a,"minFoldSize"),l=e.foldOption(a,"rangeFinder");e.eachLine(t,r,function(t){var r=null;if(n(e,o))r=i(a.indicatorFolded);else{var u=f(o,0),c=l&&l(e,u);c&&c.to.line-c.from.line>=s&&(r=i(a.indicatorOpen))}e.setGutterMarker(t,a.gutter,r);++o})}function o(e){var t=e.getViewport(),r=e.state.foldGutter;if(r){e.operation(function(){a(e,t.from,t.to)});r.from=t.from;r.to=t.to}}function s(e,t,r){var n=e.state.foldGutter;if(n){var i=n.options;r==i.gutter&&e.foldCode(f(t,0),i.rangeFinder)}}function l(e){var t=e.state.foldGutter;if(t){var r=t.options;t.from=t.to=0;clearTimeout(t.changeUpdate);t.changeUpdate=setTimeout(function(){o(e)},r.foldOnChangeTimeSpan||600)}}function u(e){var t=e.state.foldGutter;if(t){var r=t.options;clearTimeout(t.changeUpdate);t.changeUpdate=setTimeout(function(){var r=e.getViewport();t.from==t.to||r.from-t.to>20||t.from-r.to>20?o(e):e.operation(function(){if(r.from<t.from){a(e,r.from,t.from);t.from=r.from}if(r.to>t.to){a(e,t.to,r.to);t.to=r.to}})},r.updateViewportTimeSpan||400)}}function c(e,t){var r=e.state.foldGutter;if(r){var n=t.line;n>=r.from&&n<r.to&&a(e,n,n+1)}}e.defineOption("foldGutter",!1,function(n,i,a){if(a&&a!=e.Init){n.clearGutter(n.state.foldGutter.options.gutter);n.state.foldGutter=null;n.off("gutterClick",s);n.off("change",l);n.off("viewportChange",u);n.off("fold",c);n.off("unfold",c);n.off("swapDoc",o)}if(i){n.state.foldGutter=new t(r(i));o(n);n.on("gutterClick",s);n.on("change",l);n.on("viewportChange",u);n.on("fold",c);n.on("unfold",c);n.on("swapDoc",o)}});var f=e.Pos})},{"./foldcode":7,codemirror:void 0}],9:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function r(e,t,r,n){this.line=t;this.ch=r;this.cm=e;this.text=e.getLine(t);this.min=n?n.from:e.firstLine();this.max=n?n.to-1:e.lastLine()}function n(e,t){var r=e.cm.getTokenTypeAt(d(e.line,t));return r&&/\btag\b/.test(r)}function i(e){if(!(e.line>=e.max)){e.ch=0;e.text=e.cm.getLine(++e.line);return!0}}function a(e){if(!(e.line<=e.min)){e.text=e.cm.getLine(--e.line);e.ch=e.text.length;return!0}}function o(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(i(e))continue;return}if(n(e,t+1)){var r=e.text.lastIndexOf("/",t),a=r>-1&&!/\S/.test(e.text.slice(r+1,t));e.ch=t+1;return a?"selfClose":"regular"}e.ch=t+1}}function s(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(a(e))continue;return}if(n(e,t+1)){v.lastIndex=t;e.ch=t;var r=v.exec(e.text);if(r&&r.index==t)return r}else e.ch=t}}function l(e){for(;;){v.lastIndex=e.ch;var t=v.exec(e.text);if(!t){if(i(e))continue;return}if(n(e,t.index+1)){e.ch=t.index+t[0].length;return t}e.ch=t.index+1}}function u(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(a(e))continue;return}if(n(e,t+1)){var r=e.text.lastIndexOf("/",t),i=r>-1&&!/\S/.test(e.text.slice(r+1,t));e.ch=t+1;return i?"selfClose":"regular"}e.ch=t}}function c(e,t){for(var r=[];;){var n,i=l(e),a=e.line,s=e.ch-(i?i[0].length:0);if(!i||!(n=o(e)))return;if("selfClose"!=n)if(i[1]){for(var u=r.length-1;u>=0;--u)if(r[u]==i[2]){r.length=u;break}if(0>u&&(!t||t==i[2]))return{tag:i[2],from:d(a,s),to:d(e.line,e.ch)}}else r.push(i[2])}}function f(e,t){for(var r=[];;){var n=u(e);if(!n)return;if("selfClose"!=n){var i=e.line,a=e.ch,o=s(e);if(!o)return;if(o[1])r.push(o[2]);else{for(var l=r.length-1;l>=0;--l)if(r[l]==o[2]){r.length=l;break}if(0>l&&(!t||t==o[2]))return{tag:o[2],from:d(e.line,e.ch),to:d(i,a)}}}else s(e)}}var d=e.Pos,p="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",h=p+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",v=new RegExp("<(/?)(["+p+"]["+h+"]*)","g");e.registerHelper("fold","xml",function(e,t){for(var n=new r(e,t.line,0);;){var i,a=l(n);if(!a||n.line!=t.line||!(i=o(n)))return;if(!a[1]&&"selfClose"!=i){var t=d(n.line,n.ch),s=c(n,a[2]);return s&&{from:t,to:s.from}}}});e.findMatchingTag=function(e,n,i){var a=new r(e,n.line,n.ch,i);if(-1!=a.text.indexOf(">")||-1!=a.text.indexOf("<")){var l=o(a),u=l&&d(a.line,a.ch),p=l&&s(a);if(l&&p&&!(t(a,n)>0)){var h={from:d(a.line,a.ch),to:u,tag:p[2]};if("selfClose"==l)return{open:h,close:null,at:"open"};if(p[1])return{open:f(a,p[2]),close:h,at:"close"};a=new r(e,u.line,u.ch,i);return{open:h,close:c(a,p[2]),at:"open"}}}};e.findEnclosingTag=function(e,t,n){for(var i=new r(e,t.line,t.ch,n);;){var a=f(i);if(!a)break;var o=new r(e,t.line,t.ch,n),s=c(o,a.tag);if(s)return{open:a,close:s}}};e.scanForClosingTag=function(e,t,n,i){var a=new r(e,t.line,t.ch,i?{from:0,to:i}:null);return c(a,n)}})},{codemirror:void 0}],10:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";e.defineMode("javascript",function(t,r){function n(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}function i(e,t,r){ve=e;ge=r;return t}function a(e,t){var r=e.next();if('"'==r||"'"==r){t.tokenize=o(r);return t.tokenize(e,t)}if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==r&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return i(r);if("="==r&&e.eat(">"))return i("=>","operator");if("0"==r&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return i("number","number")}if(/\d/.test(r)){e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return i("number","number")}if("/"==r){if(e.eat("*")){t.tokenize=s;return s(e,t)}if(e.eat("/")){e.skipToEnd();return i("comment","comment")}if("operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)){n(e);e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return i("regexp","string-2")}e.eatWhile(Ce);return i("operator","operator",e.current())}if("`"==r){t.tokenize=l;return l(e,t)}if("#"==r){e.skipToEnd();return i("error","error")}if(Ce.test(r)){e.eatWhile(Ce);return i("operator","operator",e.current())}if(_e.test(r)){e.eatWhile(_e);var a=e.current(),u=ke.propertyIsEnumerable(a)&&ke[a];return u&&"."!=t.lastType?i(u.type,u.style,a):i("variable","variable",a)}}function o(e){return function(t,r){var n,o=!1;if(be&&"@"==t.peek()&&t.match(Ee)){r.tokenize=a;return i("jsonld-keyword","meta")}for(;null!=(n=t.next())&&(n!=e||o);)o=!o&&"\\"==n;o||(r.tokenize=a);return i("string","string")}}function s(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=a;break}n="*"==r}return i("comment","comment")}function l(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=a;break}n=!n&&"\\"==r}return i("quasi","string-2",e.current())}function u(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(0>r)){for(var n=0,i=!1,a=r-1;a>=0;--a){var o=e.string.charAt(a),s=Se.indexOf(o);if(s>=0&&3>s){if(!n){++a;break}if(0==--n)break}else if(s>=3&&6>s)++n;else if(_e.test(o))i=!0;else{if(/["'\/]/.test(o))return;if(i&&!n){++a;break}}}i&&!n&&(t.fatArrowAt=a)}}function c(e,t,r,n,i,a){this.indented=e;this.column=t;this.type=r;this.prev=i;this.info=a;null!=n&&(this.align=n)}function f(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(var r=n.vars;r;r=r.next)if(r.name==t)return!0}function d(e,t,r,n,i){var a=e.cc;De.state=e;De.stream=i;De.marked=null,De.cc=a;De.style=t;e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);for(;;){var o=a.length?a.pop():we?_:x;if(o(r,n)){for(;a.length&&a[a.length-1].lex;)a.pop()();return De.marked?De.marked:"variable"==r&&f(e,n)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)De.cc.push(arguments[e])}function h(){p.apply(null,arguments);return!0}function v(e){function t(t){for(var r=t;r;r=r.next)if(r.name==e)return!0;
return!1}var n=De.state;if(n.context){De.marked="def";if(t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;r.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function g(){De.state.context={prev:De.state.context,vars:De.state.localVars};De.state.localVars=je}function m(){De.state.localVars=De.state.context.vars;De.state.context=De.state.context.prev}function y(e,t){var r=function(){var r=De.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new c(n,De.stream.column(),e,null,r.lexical,t)};r.lex=!0;return r}function b(){var e=De.state;if(e.lexical.prev){")"==e.lexical.type&&(e.indented=e.lexical.indented);e.lexical=e.lexical.prev}}function w(e){function t(r){return r==e?h():";"==e?p():h(t)}return t}function x(e,t){if("var"==e)return h(y("vardef",t.length),X,w(";"),b);if("keyword a"==e)return h(y("form"),_,x,b);if("keyword b"==e)return h(y("form"),x,b);if("{"==e)return h(y("}"),q,b);if(";"==e)return h();if("if"==e){"else"==De.state.lexical.info&&De.state.cc[De.state.cc.length-1]==b&&De.state.cc.pop()();return h(y("form"),_,x,b,$)}return"function"==e?h(ee):"for"==e?h(y("form"),G,x,b):"variable"==e?h(y("stat"),L):"switch"==e?h(y("form"),_,y("}","switch"),w("{"),q,b,b):"case"==e?h(_,w(":")):"default"==e?h(w(":")):"catch"==e?h(y("form"),g,w("("),te,w(")"),x,b,m):"module"==e?h(y("form"),g,oe,m,b):"class"==e?h(y("form"),re,b):"export"==e?h(y("form"),se,b):"import"==e?h(y("form"),le,b):p(y("stat"),_,w(";"),b)}function _(e){return C(e,!1)}function k(e){return C(e,!0)}function C(e,t){if(De.state.fatArrowAt==De.stream.start){var r=t?M:N;if("("==e)return h(g,y(")"),I(Y,")"),b,w("=>"),r,m);if("variable"==e)return p(g,Y,w("=>"),r,m)}var n=t?D:T;return Te.hasOwnProperty(e)?h(n):"function"==e?h(ee,n):"keyword c"==e?h(t?S:E):"("==e?h(y(")"),E,pe,w(")"),b,n):"operator"==e||"spread"==e?h(t?k:_):"["==e?h(y("]"),fe,b,n):"{"==e?B(O,"}",null,n):"quasi"==e?p(j,n):h()}function E(e){return e.match(/[;\}\)\],]/)?p():p(_)}function S(e){return e.match(/[;\}\)\],]/)?p():p(k)}function T(e,t){return","==e?h(_):D(e,t,!1)}function D(e,t,r){var n=0==r?T:D,i=0==r?_:k;return"=>"==e?h(g,r?M:N,m):"operator"==e?/\+\+|--/.test(t)?h(n):"?"==t?h(_,w(":"),i):h(i):"quasi"==e?p(j,n):";"!=e?"("==e?B(k,")","call",n):"."==e?h(A,n):"["==e?h(y("]"),E,w("]"),b,n):void 0:void 0}function j(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?h(j):h(_,P)}function P(e){if("}"==e){De.marked="string-2";De.state.tokenize=l;return h(j)}}function N(e){u(De.stream,De.state);return p("{"==e?x:_)}function M(e){u(De.stream,De.state);return p("{"==e?x:k)}function L(e){return":"==e?h(b,x):p(T,w(";"),b)}function A(e){if("variable"==e){De.marked="property";return h()}}function O(e,t){if("variable"==e||"keyword"==De.style){De.marked="property";return h("get"==t||"set"==t?R:z)}if("number"==e||"string"==e){De.marked=be?"property":De.style+" property";return h(z)}return"jsonld-keyword"==e?h(z):"["==e?h(_,w("]"),z):void 0}function R(e){if("variable"!=e)return p(z);De.marked="property";return h(ee)}function z(e){return":"==e?h(k):"("==e?p(ee):void 0}function I(e,t){function r(n){if(","==n){var i=De.state.lexical;"call"==i.info&&(i.pos=(i.pos||0)+1);return h(e,r)}return n==t?h():h(w(t))}return function(n){return n==t?h():p(e,r)}}function B(e,t,r){for(var n=3;n<arguments.length;n++)De.cc.push(arguments[n]);return h(y(t,r),I(e,t),b)}function q(e){return"}"==e?h():p(x,q)}function V(e){return xe&&":"==e?h(F):void 0}function F(e){if("variable"==e){De.marked="variable-3";return h()}}function X(){return p(Y,V,H,W)}function Y(e,t){if("variable"==e){v(t);return h()}return"["==e?B(Y,"]"):"{"==e?B(U,"}"):void 0}function U(e,t){if("variable"==e&&!De.stream.match(/^\s*:/,!1)){v(t);return h(H)}"variable"==e&&(De.marked="property");return h(w(":"),Y,H)}function H(e,t){return"="==t?h(k):void 0}function W(e){return","==e?h(X):void 0}function $(e,t){return"keyword b"==e&&"else"==t?h(y("form","else"),x,b):void 0}function G(e){return"("==e?h(y(")"),Z,w(")"),b):void 0}function Z(e){return"var"==e?h(X,w(";"),Q):";"==e?h(Q):"variable"==e?h(J):p(_,w(";"),Q)}function J(e,t){if("in"==t||"of"==t){De.marked="keyword";return h(_)}return h(T,Q)}function Q(e,t){if(";"==e)return h(K);if("in"==t||"of"==t){De.marked="keyword";return h(_)}return p(_,w(";"),K)}function K(e){")"!=e&&h(_)}function ee(e,t){if("*"==t){De.marked="keyword";return h(ee)}if("variable"==e){v(t);return h(ee)}return"("==e?h(g,y(")"),I(te,")"),b,x,m):void 0}function te(e){return"spread"==e?h(te):p(Y,V)}function re(e,t){if("variable"==e){v(t);return h(ne)}}function ne(e,t){return"extends"==t?h(_,ne):"{"==e?h(y("}"),ie,b):void 0}function ie(e,t){if("variable"==e||"keyword"==De.style){De.marked="property";return"get"==t||"set"==t?h(ae,ee,ie):h(ee,ie)}if("*"==t){De.marked="keyword";return h(ie)}return";"==e?h(ie):"}"==e?h():void 0}function ae(e){if("variable"!=e)return p();De.marked="property";return h()}function oe(e,t){if("string"==e)return h(x);if("variable"==e){v(t);return h(ce)}}function se(e,t){if("*"==t){De.marked="keyword";return h(ce,w(";"))}if("default"==t){De.marked="keyword";return h(_,w(";"))}return p(x)}function le(e){return"string"==e?h():p(ue,ce)}function ue(e,t){if("{"==e)return B(ue,"}");"variable"==e&&v(t);return h()}function ce(e,t){if("from"==t){De.marked="keyword";return h(_)}}function fe(e){return"]"==e?h():p(k,de)}function de(e){return"for"==e?p(pe,w("]")):","==e?h(I(S,"]")):p(I(k,"]"))}function pe(e){return"for"==e?h(G,pe):"if"==e?h(_,pe):void 0}function he(e,t){return"operator"==e.lastType||","==e.lastType||Ce.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var ve,ge,me=t.indentUnit,ye=r.statementIndent,be=r.jsonld,we=r.json||be,xe=r.typescript,_e=r.wordCharacters||/[\w$\xa1-\uffff]/,ke=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("operator"),a={type:"atom",style:"atom"},o={"if":e("if"),"while":t,"with":t,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"debugger":n,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":a,"false":a,"null":a,undefined:a,NaN:a,Infinity:a,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":n,"export":e("export"),"import":e("import"),"extends":n};if(xe){var s={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:s,number:s,bool:s,any:s};for(var u in l)o[u]=l[u]}return o}(),Ce=/[+\-*&%=<>!?|~^]/,Ee=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Se="([{}])",Te={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},De={state:null,column:null,marked:null,cc:null},je={name:"this",next:{name:"arguments"}};b.lex=!0;return{startState:function(e){var t={tokenize:a,lastType:"sof",cc:[],lexical:new c((e||0)-me,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:0};r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars);return t},token:function(e,t){if(e.sol()){t.lexical.hasOwnProperty("align")||(t.lexical.align=!1);t.indented=e.indentation();u(e,t)}if(t.tokenize!=s&&e.eatSpace())return null;var r=t.tokenize(e,t);if("comment"==ve)return r;t.lastType="operator"!=ve||"++"!=ge&&"--"!=ge?ve:"incdec";return d(t,r,ve,ge,e)},indent:function(t,n){if(t.tokenize==s)return e.Pass;if(t.tokenize!=a)return 0;var i=n&&n.charAt(0),o=t.lexical;if(!/^\s*else\b/.test(n))for(var l=t.cc.length-1;l>=0;--l){var u=t.cc[l];if(u==b)o=o.prev;else if(u!=$)break}"stat"==o.type&&"}"==i&&(o=o.prev);ye&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var c=o.type,f=i==c;return"vardef"==c?o.indented+("operator"==t.lastType||","==t.lastType?o.info+1:0):"form"==c&&"{"==i?o.indented:"form"==c?o.indented+me:"stat"==c?o.indented+(he(t,n)?ye||me:0):"switch"!=o.info||f||0==r.doubleIndentSwitch?o.align?o.column+(f?0:1):o.indented+(f?0:me):o.indented+(/^(?:case|default)\b/.test(n)?me:2*me)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:we?null:"/*",blockCommentEnd:we?null:"*/",lineComment:we?null:"//",fold:"brace",helperType:we?"json":"javascript",jsonldMode:be,jsonMode:we}});e.registerHelper("wordChars","javascript",/[\w$]/);e.defineMIME("text/javascript","javascript");e.defineMIME("text/ecmascript","javascript");e.defineMIME("application/javascript","javascript");e.defineMIME("application/x-javascript","javascript");e.defineMIME("application/ecmascript","javascript");e.defineMIME("application/json",{name:"javascript",json:!0});e.defineMIME("application/x-json",{name:"javascript",json:!0});e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});e.defineMIME("text/typescript",{name:"javascript",typescript:!0});e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},{codemirror:void 0}],11:[function(e,t,r){(function(n){"object"==typeof r&&"object"==typeof t?n(function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}()):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(e){"use strict";e.defineMode("xml",function(t,r){function n(e,t){function r(r){t.tokenize=r;return r(e,t)}var n=e.next();if("<"==n){if(e.eat("!")){if(e.eat("["))return e.match("CDATA[")?r(o("atom","]]>")):null;if(e.match("--"))return r(o("comment","-->"));if(e.match("DOCTYPE",!0,!0)){e.eatWhile(/[\w\._\-]/);return r(s(1))}return null}if(e.eat("?")){e.eatWhile(/[\w\._\-]/);t.tokenize=o("meta","?>");return"meta"}k=e.eat("/")?"closeTag":"openTag";t.tokenize=i;return"tag bracket"}if("&"==n){var a;a=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";");return a?"atom":"error"}e.eatWhile(/[^&<]/);return null}function i(e,t){var r=e.next();if(">"==r||"/"==r&&e.eat(">")){t.tokenize=n;k=">"==r?"endTag":"selfcloseTag";return"tag bracket"}if("="==r){k="equals";return null}if("<"==r){t.tokenize=n;t.state=f;t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}if(/[\'\"]/.test(r)){t.tokenize=a(r);t.stringStartCol=e.column();return t.tokenize(e,t)}e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}function a(e){var t=function(t,r){for(;!t.eol();)if(t.next()==e){r.tokenize=i;break}return"string"};t.isInAttribute=!0;return t}function o(e,t){return function(r,i){for(;!r.eol();){if(r.match(t)){i.tokenize=n;break}r.next()}return e}}function s(e){return function(t,r){for(var i;null!=(i=t.next());){if("<"==i){r.tokenize=s(e+1);return r.tokenize(t,r)}if(">"==i){if(1==e){r.tokenize=n;break}r.tokenize=s(e-1);return r.tokenize(t,r)}}return"meta"}}function l(e,t,r){this.prev=e.context;this.tagName=t;this.indent=e.indented;this.startOfLine=r;(E.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function u(e){e.context&&(e.context=e.context.prev)}function c(e,t){for(var r;;){if(!e.context)return;r=e.context.tagName;if(!E.contextGrabbers.hasOwnProperty(r)||!E.contextGrabbers[r].hasOwnProperty(t))return;u(e)}}function f(e,t,r){if("openTag"==e){r.tagStart=t.column();return d}return"closeTag"==e?p:f}function d(e,t,r){if("word"==e){r.tagName=t.current();C="tag";return g}C="error";return d}function p(e,t,r){if("word"==e){var n=t.current();r.context&&r.context.tagName!=n&&E.implicitlyClosed.hasOwnProperty(r.context.tagName)&&u(r);if(r.context&&r.context.tagName==n){C="tag";return h}C="tag error";return v}C="error";return v}function h(e,t,r){if("endTag"!=e){C="error";return h}u(r);return f}function v(e,t,r){C="error";return h(e,t,r)}function g(e,t,r){if("word"==e){C="attribute";return m}if("endTag"==e||"selfcloseTag"==e){var n=r.tagName,i=r.tagStart;r.tagName=r.tagStart=null;if("selfcloseTag"==e||E.autoSelfClosers.hasOwnProperty(n))c(r,n);else{c(r,n);r.context=new l(r,n,i==r.indented)}return f}C="error";return g}function m(e,t,r){if("equals"==e)return y;E.allowMissing||(C="error");return g(e,t,r)}function y(e,t,r){if("string"==e)return b;if("word"==e&&E.allowUnquoted){C="string";return g}C="error";return g(e,t,r)}function b(e,t,r){return"string"==e?b:g(e,t,r)}var w=t.indentUnit,x=r.multilineTagIndentFactor||1,_=r.multilineTagIndentPastTag;null==_&&(_=!0);var k,C,E=r.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},S=r.alignCDATA;return{startState:function(){return{tokenize:n,state:f,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){!t.tagName&&e.sol()&&(t.indented=e.indentation());if(e.eatSpace())return null;k=null;var r=t.tokenize(e,t);if((r||k)&&"comment"!=r){C=null;t.state=t.state(k||r,e,t);C&&(r="error"==C?r+" error":C)}return r},indent:function(t,r,a){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+w;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=i&&t.tokenize!=n)return a?a.match(/^(\s*)/)[0].length:0;if(t.tagName)return _?t.tagStart+t.tagName.length+2:t.tagStart+w*x;if(S&&/<!\[CDATA\[/.test(r))return 0;var s=r&&/^<(\/)?([\w_:\.-]*)/.exec(r);if(s&&s[1])for(;o;){if(o.tagName==s[2]){o=o.prev;break}if(!E.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(s)for(;o;){var l=E.contextGrabbers[o.tagName];if(!l||!l.hasOwnProperty(s[2]))break;o=o.prev}for(;o&&!o.startOfLine;)o=o.prev;return o?o.indent+w:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:r.htmlMode?"html":"xml",helperType:r.htmlMode?"html":"xml"}});e.defineMIME("text/xml","xml");e.defineMIME("application/xml","xml");e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{codemirror:void 0}],12:[function(require,module,exports){(function(global,__dirname){(function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;t.cytoscape=e()}})(function(){var define,module,exports;return function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){"use strict";var n=e("./util"),i=e("./is"),a=e("./promise"),o=function(e,t,r){if(!(this instanceof o))return new o(e,t,r);var a=this._private=n.extend({duration:1e3},t,r);a.target=e;a.style=a.style||a.css;a.started=!1;a.playing=!1;a.hooked=!1;a.applying=!1;a.progress=0;a.completes=[];a.frames=[];a.complete&&i.fn(a.complete)&&a.completes.push(a.complete);this.length=1;this[0]=this},s=o.prototype;n.extend(s,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,r=e.target._private.animation;t=e.queue?r.queue:r.current;t.push(this);i.elementOrCollection(e.target)&&e.target.cy().addToAnimationPool(e.target);e.hooked=!0}return this},play:function(){var e=this._private;1===e.progress&&(e.progress=0);e.playing=!0;e.started=!1;e.stopped=!1;this.hook();return this},playing:function(){return this._private.playing},apply:function(){var e=this._private;e.applying=!0;e.started=!1;e.stopped=!1;this.hook();return this},applying:function(){return this._private.applying},pause:function(){var e=this._private;e.playing=!1;e.started=!1;return this},stop:function(){var e=this._private;e.playing=!1;e.started=!1;e.stopped=!0;return this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,r=t.playing;if(void 0===e)return t.progress;r&&this.pause();t.progress=e;t.started=!1;r&&this.play();return this},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause();e.progress=1-e.progress;e.started=!1;var r=function(t,r){var n=e[t];e[t]=e[r];e[r]=n};r("zoom","startZoom");r("pan","startPan");r("position","startPosition");for(var i=0;i<e.style.length;i++){var a=e.style[i],o=a.name,s=e.startStyle[o];e.startStyle[o]=e.startStyle[n.dash2camel(o)]=a;e.style[i]=s}t&&this.play();return this},promise:function(e){var t,r=this._private;switch(e){case"frame":t=r.frames;break;default:case"complete":case"completed":t=r.completes}return new a(function(e,r){t.push(function(){e()})})}});s.complete=s.completed;t.exports=o},{"./is":77,"./promise":80,"./util":94}],2:[function(e,t,r){"use strict";var n=e("../../is"),i={aStar:function(e){var t=this;e=e||{};var r=function(e,t,n,i){if(e==t){i.push(a.getElementById(t));return i}if(t in n){var o=n[t],s=h[t];i.push(a.getElementById(t));i.push(a.getElementById(s));return r(e,o,n,i)}},i=function(e,t){if(0!==e.length){for(var r=0,n=t[e[0]],i=1;i<e.length;i++){var a=t[e[i]];if(n>a){n=a;r=i}}return r}},a=this._private.cy;if(null!=e&&null!=e.root){var o=n.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.goal){var s=n.string(e.goal)?this.filter(e.goal)[0]:e.goal[0];if(null!=e.heuristic&&n.fn(e.heuristic))var l=e.heuristic;else var l=function(){return 0};if(null!=e.weight&&n.fn(e.weight))var u=e.weight;else var u=function(e){return 1};if(null!=e.directed)var c=e.directed;else var c=!1;var f=[],d=[o.id()],p={},h={},v={},g={};v[o.id()]=0;g[o.id()]=l(o);for(var m=this.edges().stdFilter(function(e){return!e.isLoop()}),y=this.nodes(),b=0;d.length>0;){var w=i(d,g),x=a.getElementById(d[w]);b++;if(x.id()==s.id()){var _=r(o.id(),s.id(),p,[]);_.reverse();return{found:!0,distance:v[x.id()],path:t.spawn(_),steps:b}}f.push(x.id());d.splice(w,1);var k=x.connectedEdges();c&&(k=k.stdFilter(function(e){return e.data("source")===x.id()}));k=k.intersect(m);for(var C=0;C<k.length;C++){var E=k[C],S=E.connectedNodes().stdFilter(function(e){return e.id()!==x.id()}).intersect(y);if(-1==f.indexOf(S.id())){var T=v[x.id()]+u.apply(E,[E]);if(-1!=d.indexOf(S.id())){if(T<v[S.id()]){v[S.id()]=T;g[S.id()]=T+l(S);p[S.id()]=x.id()}}else{v[S.id()]=T;g[S.id()]=T+l(S);d.push(S.id());p[S.id()]=x.id();h[S.id()]=E.id()}}}}return{found:!1,distance:void 0,path:void 0,steps:b}}}}};t.exports=i},{"../../is":77}],3:[function(e,t,r){"use strict";var n=e("../../is"),i=e("../../util"),a={bellmanFord:function(e){var t=this;e=e||{};if(null!=e.weight&&n.fn(e.weight))var r=e.weight;else var r=function(e){return 1};if(null!=e.directed)var a=e.directed;else var a=!1;if(null!=e.root){if(n.string(e.root))var o=this.filter(e.root)[0];else var o=e.root[0];for(var s=this._private.cy,l=this.edges().stdFilter(function(e){return!e.isLoop()}),u=this.nodes(),c=u.length,f={},d=0;c>d;d++)f[u[d].id()]=d;for(var p=[],h=[],v=[],d=0;c>d;d++){u[d].id()===o.id()?p[d]=0:p[d]=1/0;h[d]=void 0}for(var g=!1,d=1;c>d;d++){g=!1;for(var m=0;m<l.length;m++){var y=f[l[m].source().id()],b=f[l[m].target().id()],w=r.apply(l[m],[l[m]]),x=p[y]+w;if(x<p[b]){p[b]=x;h[b]=y;v[b]=l[m];g=!0}if(!a){var x=p[b]+w;if(x<p[y]){p[y]=x;h[y]=b;v[y]=l[m];g=!0}}}if(!g)break}if(g)for(var m=0;m<l.length;m++){var y=f[l[m].source().id()],b=f[l[m].target().id()],w=r.apply(l[m],[l[m]]);if(p[y]+w<p[b]){i.error("Graph contains a negative weight cycle for Bellman-Ford");return{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}}for(var _=[],d=0;c>d;d++)_.push(u[d].id());var k={distanceTo:function(e){if(n.string(e))var t=s.filter(e)[0].id();else var t=e.id();return p[f[t]]},pathTo:function(e){var r=function(e,t,r,n,i,a){for(;;){i.push(s.getElementById(n[r]));i.push(a[r]);if(t===r)return i;var o=e[r];if("undefined"==typeof o)return;r=o}};if(n.string(e))var i=s.filter(e)[0].id();else var i=e.id();var a=[],l=r(h,f[o.id()],f[i],_,a,v);null!=l&&l.reverse();return t.spawn(l)},hasNegativeWeightCycle:!1};return k}}};t.exports=a},{"../../is":77,"../../util":94}],4:[function(e,t,r){"use strict";var n=e("../../is"),i={betweennessCentrality:function(e){e=e||{};if(null!=e.weight&&n.fn(e.weight))var t=e.weight,r=!0;else var r=!1;if(null!=e.directed&&n.bool(e.directed))var i=e.directed;else var i=!1;for(var a=function(e,t){e.unshift(t);for(var r=0;v[e[r]]<v[e[r+1]]&&r<e.length-1;r++){var n=e[r];e[r]=e[r+1];e[r+1]=n}},o=this._private.cy,s=this.nodes(),l={},u={},c=0;c<s.length;c++)i?l[s[c].id()]=s[c].outgoers("node"):l[s[c].id()]=s[c].openNeighborhood("node");for(var c=0;c<s.length;c++)u[s[c].id()]=0;for(var f=0;f<s.length;f++){for(var d=[],p={},h={},v={},g=[],c=0;c<s.length;c++){p[s[c].id()]=[];h[s[c].id()]=0;v[s[c].id()]=Number.POSITIVE_INFINITY}h[s[f].id()]=1;v[s[f].id()]=0;g.unshift(s[f].id());for(;g.length>0;){var m=g.pop();d.push(m);r?l[m].forEach(function(e){if(o.$("#"+m).edgesTo(e).length>0)var r=o.$("#"+m).edgesTo(e)[0];else var r=e.edgesTo("#"+m)[0];var n=t.apply(r,[r]);if(v[e.id()]>v[m]+n){v[e.id()]=v[m]+n;if(g.indexOf(e.id())<0)a(g,e.id());else{g.splice(g.indexOf(e.id()),1);a(g,e.id())}h[e.id()]=0;p[e.id()]=[]}if(v[e.id()]==v[m]+n){h[e.id()]=h[e.id()]+h[m];p[e.id()].push(m)}}):l[m].forEach(function(e){if(v[e.id()]==Number.POSITIVE_INFINITY){g.unshift(e.id());v[e.id()]=v[m]+1}if(v[e.id()]==v[m]+1){h[e.id()]=h[e.id()]+h[m];p[e.id()].push(m)}})}for(var y={},c=0;c<s.length;c++)y[s[c].id()]=0;for(;d.length>0;){var b=d.pop();p[b].forEach(function(e){y[e]=y[e]+h[e]/h[b]*(1+y[b]);b!=s[f].id()&&(u[b]=u[b]+y[b])})}}var w=0;for(var x in u)w<u[x]&&(w=u[x]);var _={betweenness:function(e){if(n.string(e))var e=o.filter(e)[0].id();else var e=e.id();return u[e]},betweennessNormalized:function(e){if(n.string(e))var e=o.filter(e)[0].id();else var e=e.id();return u[e]/w}};_.betweennessNormalised=_.betweennessNormalized;return _}};i.bc=i.betweennessCentrality;t.exports=i},{"../../is":77}],5:[function(e,t,r){"use strict";var n=e("../../is"),i=e("../../heap"),a=function(e){e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs};return function(t,r,i){var a,o,s;if(n.plainObject(t)&&!n.elementOrCollection(t)){a=t;t=a.roots||a.root;r=a.visit;i=a.directed;o=a.std;s=a.thisArg}i=2!==arguments.length||n.fn(r)?i:r;r=n.fn(r)?r:function(){};for(var l,u=this._private.cy,c=t=n.string(t)?this.filter(t):t,f=[],d=[],p={},h={},v={},g=0,m=this.nodes(),y=this.edges(),b=0;b<c.length;b++)if(c[b].isNode()){f.unshift(c[b]);if(e.bfs){v[c[b].id()]=!0;d.push(c[b])}h[c[b].id()]=0}for(;0!==f.length;){var c=e.bfs?f.shift():f.pop();if(e.dfs){if(v[c.id()])continue;v[c.id()]=!0;d.push(c)}var w,x=h[c.id()],_=p[c.id()],k=null==_?void 0:_.connectedNodes().not(c)[0];w=o?r.call(s,c,_,k,g++,x):r.call(c,g++,x,c,_,k);if(w===!0){l=c;break}if(w===!1)break;for(var C=c.connectedEdges(i?function(){return this.data("source")===c.id()}:void 0).intersect(y),b=0;b<C.length;b++){var E=C[b],S=E.connectedNodes(function(){return this.id()!==c.id()}).intersect(m);if(0!==S.length&&!v[S.id()]){S=S[0];f.push(S);if(e.bfs){v[S.id()]=!0;d.push(S)}p[S.id()]=E;h[S.id()]=h[c.id()]+1}}}for(var T=[],b=0;b<d.length;b++){var D=d[b],j=p[D.id()];j&&T.push(j);T.push(D)}return{path:u.collection(T,{unique:!0}),found:u.collection(l)}}},o={breadthFirstSearch:a({bfs:!0}),depthFirstSearch:a({dfs:!0}),kruskal:function(e){function t(e){for(var t=0;t<a.length;t++){var r=a[t];if(r.anySame(e))return{eles:r,index:t}}}var r=this.cy();e=n.fn(e)?e:function(){return 1};for(var i=r.collection(r,[]),a=[],o=this.nodes(),s=0;s<o.length;s++)a.push(o[s].collection());for(var l=this.edges(),u=l.toArray().sort(function(t,r){var n=e.call(t,t),i=e.call(r,r);return n-i}),s=0;s<u.length;s++){var c=u[s],f=c.source()[0],d=c.target()[0],p=t(f),h=t(d);if(p.index!==h.index){i=i.add(c);a[p.index]=p.eles.add(h.eles);a.splice(h.index,1)}}return o.add(i)},dijkstra:function(e,t,r){var a;if(n.plainObject(e)&&!n.elementOrCollection(e)){a=e;e=a.root;t=a.weight;r=a.directed}var o=this._private.cy;t=n.fn(t)?t:function(){return 1};for(var s=n.string(e)?this.filter(e)[0]:e[0],l={},u={},c={},f=this.edges().filter(function(){return!this.isLoop()}),d=this.nodes(),p=function(e){return l[e.id()]},h=function(e,t){l[e.id()]=t;v.updateItem(e)},v=new i(function(e,t){return p(e)-p(t)}),g=0;g<d.length;g++){var m=d[g];l[m.id()]=m.same(s)?0:1/0;v.push(m)}for(var y=function(e,n){for(var i,a=(r?e.edgesTo(n):e.edgesWith(n)).intersect(f),o=1/0,s=0;s<a.length;s++){var l=a[s],u=t.apply(l,[l]);if(o>u||!i){o=u;i=l}}return{edge:i,dist:o}};v.size()>0;){var b=v.pop(),w=p(b),x=b.id();c[x]=w;if(w===Math.Infinite)break;for(var _=b.neighborhood().intersect(d),g=0;g<_.length;g++){var k=_[g],C=k.id(),E=y(b,k),S=w+E.dist;if(S<p(k)){h(k,S);u[C]={node:b,edge:E.edge}}}}return{distanceTo:function(e){var t=n.string(e)?d.filter(e)[0]:e[0];return c[t.id()]},pathTo:function(e){var t=n.string(e)?d.filter(e)[0]:e[0],r=[],i=t;if(t.length>0){r.unshift(t);for(;u[i.id()];){var a=u[i.id()];r.unshift(a.edge);r.unshift(a.node);i=a.node}}return o.collection(r)}}}};o.bfs=o.breadthFirstSearch;o.dfs=o.depthFirstSearch;t.exports=o},{"../../heap":75,"../../is":77}],6:[function(e,t,r){"use strict";var n=e("../../is"),i={closenessCentralityNormalized:function(e){e=e||{};var t=this.cy(),r=e.harmonic;void 0===r&&(r=!0);for(var i={},a=0,o=this.nodes(),s=this.floydWarshall({weight:e.weight,directed:e.directed}),l=0;l<o.length;l++){for(var u=0,c=0;c<o.length;c++)if(l!=c){var f=s.distance(o[l],o[c]);u+=r?1/f:f}r||(u=1/u);u>a&&(a=u);i[o[l].id()]=u}return{closeness:function(e){if(n.string(e))var e=t.filter(e)[0].id();else var e=e.id();return i[e]/a}}},closenessCentrality:function(e){e=e||{};if(null!=e.root){if(n.string(e.root))var t=this.filter(e.root)[0];else var t=e.root[0];if(null!=e.weight&&n.fn(e.weight))var r=e.weight;else var r=function(){return 1};if(null!=e.directed&&n.bool(e.directed))var i=e.directed;else var i=!1;var a=e.harmonic;void 0===a&&(a=!0);for(var o=this.dijkstra({root:t,weight:r,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++)if(l[u].id()!=t.id()){var c=o.distanceTo(l[u]);s+=a?1/c:c}return a?s:1/s}}};i.cc=i.closenessCentrality;i.ccn=i.closenessCentralityNormalised=i.closenessCentralityNormalized;t.exports=i},{"../../is":77}],7:[function(e,t,r){"use strict";var n=e("../../is"),i=e("../../util"),a={degreeCentralityNormalized:function(e){e=e||{};var t=this.cy();if(null!=e.directed)var r=e.directed;else var r=!1;var a=this.nodes(),o=a.length;if(r){for(var s={},l={},u=0,c=0,f=0;o>f;f++){var d=a[f],p=this.degreeCentrality(i.extend({},e,{root:d}));u<p.indegree&&(u=p.indegree);c<p.outdegree&&(c=p.outdegree);s[d.id()]=p.indegree;l[d.id()]=p.outdegree}return{indegree:function(e){if(n.string(e))var e=t.filter(e)[0].id();else var e=e.id();return s[e]/u},outdegree:function(e){if(n.string(e))var e=t.filter(e)[0].id();else var e=e.id();return l[e]/c}}}for(var h={},v=0,f=0;o>f;f++){var d=a[f],p=this.degreeCentrality(i.extend({},e,{root:d}));v<p.degree&&(v=p.degree);h[d.id()]=p.degree}return{degree:function(e){if(n.string(e))var e=t.filter(e)[0].id();else var e=e.id();return h[e]/v}}},degreeCentrality:function(e){e=e||{};var t=this;if(null!=e&&null!=e.root){var r=n.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.weight&&n.fn(e.weight))var i=e.weight;else var i=function(e){return 1};if(null!=e.directed)var a=e.directed;else var a=!1;if(null!=e.alpha&&n.number(e.alpha))var o=e.alpha;else o=0;if(a){for(var s=r.connectedEdges('edge[target = "'+r.id()+'"]').intersection(t),l=r.connectedEdges('edge[source = "'+r.id()+'"]').intersection(t),u=s.length,c=l.length,f=0,d=0,p=0;p<s.length;p++){var h=s[p];f+=i.apply(h,[h])}for(var p=0;p<l.length;p++){var h=l[p];d+=i.apply(h,[h])}return{indegree:Math.pow(u,1-o)*Math.pow(f,o),outdegree:Math.pow(c,1-o)*Math.pow(d,o)}}for(var v=r.connectedEdges().intersection(t),g=v.length,m=0,p=0;p<v.length;p++){var h=v[p];m+=i.apply(h,[h])}return{degree:Math.pow(g,1-o)*Math.pow(m,o)}}}};a.dc=a.degreeCentrality;a.dcn=a.degreeCentralityNormalised=a.degreeCentralityNormalized;t.exports=a},{"../../is":77,"../../util":94}],8:[function(e,t,r){"use strict";var n=e("../../is"),i={floydWarshall:function(e){e=e||{};var t=this.cy();if(null!=e.weight&&n.fn(e.weight))var r=e.weight;else var r=function(e){return 1};if(null!=e.directed)var i=e.directed;else var i=!1;for(var a=this.edges().stdFilter(function(e){return!e.isLoop()}),o=this.nodes(),s=o.length,l={},u=0;s>u;u++)l[o[u].id()]=u;for(var c=[],u=0;s>u;u++){for(var f=new Array(s),d=0;s>d;d++)u==d?f[d]=0:f[d]=1/0;c.push(f)}var p=[],h=[],v=function(e){for(var t=0;s>t;t++){for(var r=new Array(s),n=0;s>n;n++)r[n]=void 0;e.push(r)}};v(p);v(h);for(var u=0;u<a.length;u++){var g=l[a[u].source().id()],m=l[a[u].target().id()],y=r.apply(a[u],[a[u]]);if(c[g][m]>y){c[g][m]=y;p[g][m]=m;h[g][m]=a[u]}}if(!i)for(var u=0;u<a.length;u++){var g=l[a[u].target().id()],m=l[a[u].source().id()],y=r.apply(a[u],[a[u]]);if(c[g][m]>y){c[g][m]=y;p[g][m]=m;h[g][m]=a[u]}}for(var b=0;s>b;b++)for(var u=0;s>u;u++)for(var d=0;s>d;d++)if(c[u][b]+c[b][d]<c[u][d]){c[u][d]=c[u][b]+c[b][d];p[u][d]=p[u][b]}for(var w=[],u=0;s>u;u++)w.push(o[u].id());var x={distance:function(e,r){if(n.string(e))var i=t.filter(e)[0].id();else var i=e.id();if(n.string(r))var a=t.filter(r)[0].id();else var a=r.id();return c[l[i]][l[a]]},path:function(e,r){var i=function(e,r,n,i,a){if(e===r)return t.getElementById(i[e]);if(void 0!==n[e][r]){for(var o=[t.getElementById(i[e])],s=e;e!==r;){s=e;e=n[e][r];var l=a[s][e];o.push(l);o.push(t.getElementById(i[e]))}return o}};if(n.string(e))var a=t.filter(e)[0].id();else var a=e.id();if(n.string(r))var o=t.filter(r)[0].id();else var o=r.id();var s=i(l[a],l[o],p,w,h);return t.collection(s)}};return x}};t.exports=i},{"../../is":77}],9:[function(e,t,r){"use strict";var n=e("../../util"),i={};[e("./bfs-dfs"),e("./a-star"),e("./floyd-warshall"),e("./bellman-ford"),e("./kerger-stein"),e("./page-rank"),e("./degree-centrality"),e("./closeness-centrality"),e("./betweenness-centrality")].forEach(function(e){n.extend(i,e)});t.exports=i},{"../../util":94,"./a-star":2,"./bellman-ford":3,"./betweenness-centrality":4,"./bfs-dfs":5,"./closeness-centrality":6,"./degree-centrality":7,"./floyd-warshall":8,"./kerger-stein":10,"./page-rank":11}],10:[function(e,t,r){"use strict";var n=e("../../util"),i={kargerStein:function(e){var t=this;e=e||{};var r=function(e,t,r){for(var n=r[e],i=n[1],a=n[2],o=t[i],s=t[a],l=r.filter(function(e){return t[e[1]]===o&&t[e[2]]===s?!1:t[e[1]]!==s||t[e[2]]!==o}),u=0;u<l.length;u++){var c=l[u];if(c[1]===s){l[u]=c.slice(0);l[u][1]=o}else if(c[2]===s){l[u]=c.slice(0);l[u][2]=o}}for(var u=0;u<t.length;u++)t[u]===s&&(t[u]=o);return l},i=function(e,t,n,a){if(a>=n)return t;var o=Math.floor(Math.random()*t.length),s=r(o,e,t);return i(e,s,n-1,a)},a=this._private.cy,o=this.edges().stdFilter(function(e){return!e.isLoop()}),s=this.nodes(),l=s.length,u=o.length,c=Math.ceil(Math.pow(Math.log(l)/Math.LN2,2)),f=Math.floor(l/Math.sqrt(2));
if(!(2>l)){for(var d={},p=0;l>p;p++)d[s[p].id()]=p;for(var h=[],p=0;u>p;p++){var v=o[p];h.push([p,d[v.source().id()],d[v.target().id()]])}for(var g,m=1/0,y=[],p=0;l>p;p++)y.push(p);for(var b=0;c>=b;b++){var w=y.slice(0),x=i(w,h,l,f),_=w.slice(0),k=i(w,x,f,2),C=i(_,x,f,2);if(k.length<=C.length&&k.length<m){m=k.length;g=[k,w]}else if(C.length<=k.length&&C.length<m){m=C.length;g=[C,_]}}for(var E=g[0].map(function(e){return o[e[0]]}),S=[],T=[],D=g[1][0],p=0;p<g[1].length;p++){var j=g[1][p];j===D?S.push(s[p]):T.push(s[p])}var P={cut:t.spawn(a,E),partition1:t.spawn(S),partition2:t.spawn(T)};return P}n.error("At least 2 nodes are required for Karger-Stein algorithm")}};t.exports=i},{"../../util":94}],11:[function(e,t,r){"use strict";var n=e("../../is"),i={pageRank:function(e){e=e||{};var t=function(e){for(var t=e.length,r=0,n=0;t>n;n++)r+=e[n];for(var n=0;t>n;n++)e[n]=e[n]/r};if(null!=e&&null!=e.dampingFactor)var r=e.dampingFactor;else var r=.8;if(null!=e&&null!=e.precision)var i=e.precision;else var i=1e-6;if(null!=e&&null!=e.iterations)var a=e.iterations;else var a=200;if(null!=e&&null!=e.weight&&n.fn(e.weight))var o=e.weight;else var o=function(e){return 1};for(var s=this._private.cy,l=this.edges().stdFilter(function(e){return!e.isLoop()}),u=this.nodes(),c=u.length,f=l.length,d={},p=0;c>p;p++)d[u[p].id()]=p;for(var h=[],v=[],g=(1-r)/c,p=0;c>p;p++){for(var m=[],y=0;c>y;y++)m.push(0);h.push(m);v.push(0)}for(var p=0;f>p;p++){var b=l[p],w=d[b.source().id()],x=d[b.target().id()],_=o.apply(b,[b]);h[x][w]+=_;v[w]+=_}for(var k=1/c+g,y=0;c>y;y++)if(0===v[y])for(var p=0;c>p;p++)h[p][y]=k;else for(var p=0;c>p;p++)h[p][y]=h[p][y]/v[y]+g;for(var C,E=[],S=[],p=0;c>p;p++){E.push(1);S.push(0)}for(var T=0;a>T;T++){for(var D=S.slice(0),p=0;c>p;p++)for(var y=0;c>y;y++)D[p]+=h[p][y]*E[y];t(D);C=E;E=D;for(var j=0,p=0;c>p;p++)j+=Math.pow(C[p]-E[p],2);if(i>j)break}var P={rank:function(e){if(n.string(e))var t=s.filter(e)[0].id();else var t=e.id();return E[d[t]]}};return P}};t.exports=i},{"../../is":77}],12:[function(e,t,r){"use strict";var n=e("../define"),i={animate:n.animate(),animation:n.animation(),animated:n.animated(),clearQueue:n.clearQueue(),delay:n.delay(),delayAnimation:n.delayAnimation(),stop:n.stop()};t.exports=i},{"../define":41}],13:[function(e,t,r){"use strict";var n=e("../util"),i={classes:function(e){e=e.match(/\S+/g)||[];for(var t=this,r=[],i={},a=0;a<e.length;a++){var o=e[a];i[o]=!0}for(var s=0;s<t.length;s++){for(var l=t[s],u=l._private,c=u.classes,f=!1,a=0;a<e.length;a++){var o=e[a],d=c[o];if(!d){f=!0;break}}if(!f)for(var p in c){var d=c[p],h=i[p];if(d&&!h){f=!0;break}}if(f){u.classes=n.copy(i);r.push(l)}}r.length>0&&this.spawn(r).updateStyle().trigger("class");return t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return!(null==t||!t._private.classes[e])},toggleClass:function(e,t){for(var r=e.match(/\S+/g)||[],n=this,i=[],a=0,o=n.length;o>a;a++)for(var s=n[a],l=!1,u=0;u<r.length;u++){var c=r[u],f=s._private.classes,d=f[c],p=t||void 0===t&&!d;if(p){f[c]=!0;if(!d&&!l){i.push(s);l=!0}}else{f[c]=!1;if(d&&!l){i.push(s);l=!0}}}i.length>0&&this.spawn(i).updateStyle().trigger("class");return n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var r=this;if(null==t)t=250;else if(0===t)return r;r.addClass(e);setTimeout(function(){r.removeClass(e)},t);return r}};t.exports=i},{"../util":94}],14:[function(e,t,r){"use strict";var n={allAre:function(e){return this.filter(e).length===this.length},is:function(e){return this.filter(e).length>0},some:function(e,t){for(var r=0;r<this.length;r++){var n=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(n)return!0}return!1},every:function(e,t){for(var r=0;r<this.length;r++){var n=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(!n)return!1}return!0},same:function(e){e=this.cy().collection(e);return this.length!==e.length?!1:this.intersect(e).length===this.length},anySame:function(e){e=this.cy().collection(e);return this.intersect(e).length>0},allAreNeighbors:function(e){e=this.cy().collection(e);return this.neighborhood().intersect(e).length===e.length}};n.allAreNeighbours=n.allAreNeighbors;t.exports=n},{}],15:[function(e,t,r){"use strict";var n={parent:function(e){for(var t=[],r=this._private.cy,n=0;n<this.length;n++){var i=this[n],a=r.getElementById(i._private.data.parent);a.size()>0&&t.push(a)}return this.spawn(t,{unique:!0}).filter(e)},parents:function(e){for(var t=[],r=this.parent();r.nonempty();){for(var n=0;n<r.length;n++){var i=r[n];t.push(i)}r=r.parent()}return this.spawn(t,{unique:!0}).filter(e)},commonAncestors:function(e){for(var t,r=0;r<this.length;r++){var n=this[r],i=n.parents();t=t||i;t=t.intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().empty()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isNode()&&e.parent().nonempty()}).filter(e)},children:function(e){for(var t=[],r=0;r<this.length;r++){var n=this[r];t=t.concat(n._private.children)}return this.spawn(t,{unique:!0}).filter(e)},siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];return e?0!==e._private.children.length:void 0},isChild:function(){var e=this[0];return e?void 0!==e._private.data.parent&&0!==e.parent().length:void 0},descendants:function(e){function t(e){for(var n=0;n<e.length;n++){var i=e[n];r.push(i);i.children().nonempty()&&t(i.children())}}var r=[];t(this.children());return this.spawn(r,{unique:!0}).filter(e)}};n.ancestors=n.parents;t.exports=n},{}],16:[function(e,t,r){"use strict";var n,i,a=e("../define");n=i={data:a.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:a.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:a.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:a.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:a.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:a.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];return e?e._private.data.id:void 0}};n.attr=n.data;n.removeAttr=n.removeData;t.exports=i},{"../define":41}],17:[function(e,t,r){"use strict";function n(e){return function(t){var r=this;void 0===t&&(t=!0);if(0!==r.length&&r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];!t&&s.isLoop()||(n+=e(i,s))}return n}}}function i(e,t){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var o=i[a],s=o[e](r);void 0===s||void 0!==n&&!t(s,n)||(n=s)}return n}}var a=e("../util"),o={};a.extend(o,{degree:n(function(e,t){return t.source().same(t.target())?2:1}),indegree:n(function(e,t){return t.target().same(e)?1:0}),outdegree:n(function(e,t){return t.source().same(e)?1:0})});a.extend(o,{minDegree:i("degree",function(e,t){return t>e}),maxDegree:i("degree",function(e,t){return e>t}),minIndegree:i("indegree",function(e,t){return t>e}),maxIndegree:i("indegree",function(e,t){return e>t}),minOutdegree:i("outdegree",function(e,t){return t>e}),maxOutdegree:i("outdegree",function(e,t){return e>t})});a.extend(o,{totalDegree:function(e){for(var t=0,r=this.nodes(),n=0;n<r.length;n++)t+=r[n].degree(e);return t}});t.exports=o},{"../util":94}],18:[function(e,t,r){"use strict";var n,i,a=e("../define"),o=e("../is"),s=e("../util");n=i={position:a.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"rtrigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){var t=e.updateCompoundBounds();t.rtrigger("position")},canSet:function(e){return!e.locked()&&!e.isParent()}}),silentPosition:a.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!0,validKeys:["x","y"],onSet:function(e){e.updateCompoundBounds()},canSet:function(e){return!e.locked()&&!e.isParent()}}),positions:function(e,t){if(o.plainObject(e))this.position(e);else if(o.fn(e)){for(var r=e,n=0;n<this.length;n++){var i=this[n],e=r.apply(i,[n,i]);if(e&&!i.locked()&&!i.isParent()){var a=i._private.position;a.x=e.x;a.y=e.y}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;t?l.trigger("position"):l.rtrigger("position")}return this},silentPositions:function(e){return this.positions(e,!0)},renderedPosition:function(e,t){var r=this[0],n=this.cy(),i=n.zoom(),a=n.pan(),s=o.plainObject(e)?e:void 0,l=void 0!==s||void 0!==t&&o.string(e);if(r&&r.isNode()){if(!l){var u=r._private.position;s={x:u.x*i+a.x,y:u.y*i+a.y};return void 0===e?s:s[e]}for(var c=0;c<this.length;c++){var r=this[c];void 0!==t?r._private.position[e]=(t-a[e])/i:void 0!==s&&(r._private.position={x:(s.x-a.x)/i,y:(s.y-a.y)/i})}this.rtrigger("position")}else if(!l)return;return this},relativePosition:function(e,t){var r=this[0],n=this.cy(),i=o.plainObject(e)?e:void 0,a=void 0!==i||void 0!==t&&o.string(e),s=n.hasCompoundNodes();if(r&&r.isNode()){if(!a){var l=r._private.position,u=s?r.parent():null,c=u&&u.length>0,f=c;c&&(u=u[0]);var d=f?u._private.position:{x:0,y:0};i={x:l.x-d.x,y:l.y-d.y};return void 0===e?i:i[e]}for(var p=0;p<this.length;p++){var r=this[p],u=s?r.parent():null,c=u&&u.length>0,f=c;c&&(u=u[0]);var d=f?u._private.position:{x:0,y:0};void 0!==t?r._private.position[e]=t+d[e]:void 0!==i&&(r._private.position={x:i.x+d.x,y:i.y+d.y})}this.rtrigger("position")}else if(!a)return;return this},renderedBoundingBox:function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),i=r.pan(),a=t.x1*n+i.x,o=t.x2*n+i.x,s=t.y1*n+i.y,l=t.y2*n+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}},updateCompoundBounds:function(){function e(e){var t=e.children(),n=e._private.style,i="include"===n["compound-sizing-wrt-labels"].value,a=t.boundingBox({includeLabels:i,includeEdges:!0}),o={top:n["padding-top"].pfValue,bottom:n["padding-bottom"].pfValue,left:n["padding-left"].pfValue,right:n["padding-right"].pfValue},s=e._private.position,l=!1;if("auto"===n.width.value){e._private.autoWidth=a.w;s.x=(a.x1+a.x2-o.left+o.right)/2;l=!0}if("auto"===n.height.value){e._private.autoHeight=a.h;s.y=(a.y1+a.y2-o.top+o.bottom)/2;l=!0}l&&r.push(e)}var t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return t.collection();for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var a=n[i];e(a)}n=n.parent()}return this.spawn(r)},boundingBox:function(e){var t=this,r=t._private.cy,n=r._private,i=n.styleEnabled;e=e||s.staticEmptyObject();var a=void 0===e.includeNodes?!0:e.includeNodes,o=void 0===e.includeEdges?!0:e.includeEdges,l=void 0===e.includeLabels?!0:e.includeLabels;i&&n.renderer.recalculateRenderedStyle(this);for(var u=1/0,c=-(1/0),f=1/0,d=-(1/0),p=0;p<t.length;p++){var h,v,g,m,y,b,w=t[p],x=w._private,_=x.style,k=i?x.style.display.value:"element",C="nodes"===x.group,E=!1;if("none"!==k){if(C&&a){E=!0;var S=x.position;y=S.x;b=S.y;var T=w.outerWidth(),D=T/2,j=w.outerHeight(),P=j/2;h=y-D;v=y+D;g=b-P;m=b+P;u=u>h?h:u;c=v>c?v:c;f=f>g?g:f;d=m>d?m:d}else if(w.isEdge()&&o){E=!0;var N=x.source,M=N._private,L=M.position,A=x.target,O=A._private,R=O.position,z=x.rstyle||{},T=0,I=0;if(i){T=_.width.pfValue;I=T/2}h=L.x;v=R.x;g=L.y;m=R.y;if(h>v){var B=h;h=v;v=B}if(g>m){var B=g;g=m;m=B}h-=I;v+=I;g-=I;m+=I;u=u>h?h:u;c=v>c?v:c;f=f>g?g:f;d=m>d?m:d;if(i)for(var q=z.bezierPts||z.linePts||[],V=0;V<q.length;V++){var F=q[V];h=F.x-I;v=F.x+I;g=F.y-I;m=F.y+I;u=u>h?h:u;c=v>c?v:c;f=f>g?g:f;d=m>d?m:d}if(i&&"haystack"===_["curve-style"].strValue){var X=z.haystackPts;h=X[0].x;g=X[0].y;v=X[1].x;m=X[1].y;if(h>v){var B=h;h=v;v=B}if(g>m){var B=g;g=m;m=B}u=u>h?h:u;c=v>c?v:c;f=f>g?g:f;d=m>d?m:d}}if(i){var x=w._private,_=x.style,z=x.rstyle,Y=_.label.strValue,U=_["font-size"],H=_["text-halign"],W=_["text-valign"],$=z.labelWidth,G=z.labelHeight,Z=z.labelX,J=z.labelY,Q=w.isEdge(),K="autorotate"===_["edge-text-rotation"].strValue;if(l&&Y&&U&&null!=G&&null!=$&&null!=Z&&null!=J&&H&&W){var ee,te,re,ne,ie=G,ae=$;if(Q){ee=Z-ae/2;te=Z+ae/2;re=J-ie/2;ne=J+ie/2;if(K){var oe=x.rscratch.labelAngle,se=Math.cos(oe),le=Math.sin(oe),ue=function(e,t){e-=Z;t-=J;return{x:e*se-t*le+Z,y:e*le+t*se+J}},ce=ue(ee,re),fe=ue(ee,ne),de=ue(te,re),pe=ue(te,ne);ee=Math.min(ce.x,fe.x,de.x,pe.x);te=Math.max(ce.x,fe.x,de.x,pe.x);re=Math.min(ce.y,fe.y,de.y,pe.y);ne=Math.max(ce.y,fe.y,de.y,pe.y)}}else{switch(H.value){case"left":ee=Z-ae;te=Z;break;case"center":ee=Z-ae/2;te=Z+ae/2;break;case"right":ee=Z;te=Z+ae}switch(W.value){case"top":re=J-ie;ne=J;break;case"center":re=J-ie/2;ne=J+ie/2;break;case"bottom":re=J;ne=J+ie}}u=u>ee?ee:u;c=te>c?te:c;f=f>re?re:f;d=ne>d?ne:d}}}}var he=function(e){return e===1/0||e===-(1/0)?0:e};u=he(u);c=he(c);f=he(f);d=he(d);return{x1:u,x2:c,y1:f,y2:d,w:c-u,h:d-f}}};var l=function(e){e.uppercaseName=s.capitalize(e.name);e.autoName="auto"+e.uppercaseName;e.labelName="label"+e.uppercaseName;e.outerName="outer"+e.uppercaseName;e.uppercaseOuterName=s.capitalize(e.outerName);n[e.name]=function(){var t=this[0],r=t._private,n=r.cy,i=n._private.styleEnabled;if(t){if(!i)return 1;var a=r.style[e.name];switch(a.strValue){case"auto":return r[e.autoName]||0;case"label":return r.rstyle[e.labelName]||0;default:return a.pfValue}}};n["outer"+e.uppercaseName]=function(){var t=this[0],r=t._private,n=r.cy,i=n._private.styleEnabled;if(t){if(i){var a=r.style,o=t[e.name](),s=a["border-width"].pfValue,l=a[e.paddings[0]].pfValue+a[e.paddings[1]].pfValue;return o+s+l}return 1}};n["rendered"+e.uppercaseName]=function(){var t=this[0];if(t){var r=t[e.name]();return r*this.cy().zoom()}};n["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t){var r=t[e.outerName]();return r*this.cy().zoom()}}};l({name:"width",paddings:["padding-left","padding-right"]});l({name:"height",paddings:["padding-top","padding-bottom"]});n.modelPosition=n.point=n.position;n.modelPositions=n.points=n.positions;n.renderedPoint=n.renderedPosition;n.relativePoint=n.relativePosition;n.boundingbox=n.boundingBox;n.renderedBoundingbox=n.renderedBoundingBox;t.exports=i},{"../define":41,"../is":77,"../util":94}],19:[function(e,t,r){"use strict";var n=e("../util"),i=e("../is"),a=function(e,t,r){if(!(this instanceof a))return new a(e,t,r);var o=this;r=!(void 0!==r&&!r);if(void 0!==e&&void 0!==t&&i.core(e)){var s=t.group;null==s&&(s=null!=t.data.source&&null!=t.data.target?"edges":"nodes");if("nodes"===s||"edges"===s){this.length=1;this[0]=this;this._private={cy:e,single:!0,data:t.data||{},position:t.position||{},autoWidth:void 0,autoHeight:void 0,listeners:[],group:s,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!t.selected,selectable:void 0===t.selectable?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable?!0:!!t.grabbable,active:!1,classes:{},animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[]};if(t.renderedPosition){var l=t.renderedPosition,u=e.pan(),c=e.zoom();this._private.position={x:(l.x-u.x)/c,y:(l.y-u.y)/c}}if(i.string(t.classes))for(var f=t.classes.split(/\s+/),d=0,p=f.length;p>d;d++){var h=f[d];h&&""!==h&&(o._private.classes[h]=!0)}(t.style||t.css)&&e.style().applyBypass(this,t.style||t.css);(void 0===r||r)&&this.restore()}else n.error("An element must be of type `nodes` or `edges`; you specified `"+s+"`")}else n.error("An element must have a core reference and parameters set")};t.exports=a},{"../is":77,"../util":94}],20:[function(e,t,r){"use strict";var n=e("../define"),i={on:n.on(),one:n.on({unbindSelfOnTrigger:!0}),once:n.on({unbindAllBindersOnTrigger:!0}),off:n.off(),trigger:n.trigger(),rtrigger:function(e,t){if(0!==this.length){this.cy().notify({type:e,collection:this});this.trigger(e,t);return this}}};n.eventAliasesOn(i);t.exports=i},{"../define":41}],21:[function(e,t,r){"use strict";var n=e("../is"),i=e("../selector"),a={nodes:function(e){return this.filter(function(e,t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(e,t){return t.isEdge()}).filter(e)},filter:function(e){if(n.fn(e)){for(var t=[],r=0;r<this.length;r++){var a=this[r];e.apply(a,[r,a])&&t.push(a)}return this.spawn(t)}return n.string(e)||n.elementOrCollection(e)?i(e).filter(this):void 0===e?this:this.spawn()},not:function(e){if(e){n.string(e)&&(e=this.filter(e));for(var t=[],r=0;r<this.length;r++){var i=this[r],a=e._private.ids[i.id()];a||t.push(i)}return this.spawn(t)}return this},absoluteComplement:function(){var e=this._private.cy;return e.elements().not(this)},intersect:function(e){if(n.string(e)){var t=e;return this.filter(t)}for(var r=[],i=this,a=e,o=this.length<e.length,s=o?a._private.ids:i._private.ids,l=o?i:a,u=0;u<l.length;u++){var c=l[u]._private.data.id,f=s[c];f&&r.push(f)}return this.spawn(r)},xor:function(e){var t=this._private.cy;n.string(e)&&(e=t.$(e));var r=[],i=this,a=e,o=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=i._private.data.id,o=t._private.ids[a];o||r.push(i)}};o(i,a);o(a,i);return this.spawn(r)},diff:function(e){var t=this._private.cy;n.string(e)&&(e=t.$(e));var r=[],i=[],a=[],o=this,s=e,l=function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n],o=i._private.data.id,s=t._private.ids[o];s?a.push(i):r.push(i)}};l(o,s,r);l(s,o,i);return{left:this.spawn(r,{unique:!0}),right:this.spawn(i,{unique:!0}),both:this.spawn(a,{unique:!0})}},add:function(e){var t=this._private.cy;if(!e)return this;if(n.string(e)){var r=e;e=t.elements(r)}for(var i=[],a=0;a<this.length;a++)i.push(this[a]);for(var a=0;a<e.length;a++){var o=!this._private.ids[e[a].id()];o&&i.push(e[a])}return this.spawn(i)},merge:function(e){var t=this._private,r=t.cy;if(!e)return this;if(n.string(e)){var i=e;e=r.elements(i)}for(var a=0;a<e.length;a++){var o=e[a],s=o.id(),l=!t.ids[s];if(l){var u=this.length++;this[u]=o;t.ids[s]=o;t.indexes[s]=u}}return this},unmergeOne:function(e){e=e[0];var t=this._private,r=e.id(),n=t.indexes[r];if(null==n)return this;this[n]=void 0;t.ids[r]=void 0;t.indexes[r]=void 0;var i=n===this.length-1;if(this.length>1&&!i){var a=this.length-1,o=this[a];this[a]=void 0;this[n]=o;t.indexes[o.id()]=n}this.length--;return this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(n.string(e)){var r=e;e=t.elements(r)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},map:function(e,t){for(var r=[],n=this,i=0;i<n.length;i++){var a=n[i],o=t?e.apply(t,[a,i,n]):e(a,i,n);r.push(o)}return r},stdFilter:function(e,t){for(var r=[],n=this,i=0;i<n.length;i++){var a=n[i],o=t?e.apply(t,[a,i,n]):e(a,i,n);o&&r.push(a)}return this.spawn(r)},max:function(e,t){for(var r,n=-(1/0),i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);if(s>n){n=s;r=o}}return{value:n,ele:r}},min:function(e,t){for(var r,n=1/0,i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);if(n>s){n=s;r=o}}return{value:n,ele:r}}},o=a;o.u=o["|"]=o["+"]=o.union=o.or=o.add;o["\\"]=o["!"]=o["-"]=o.difference=o.relativeComplement=o.subtract=o.not;o.n=o["&"]=o["."]=o.and=o.intersection=o.intersect;o["^"]=o["(+)"]=o["(-)"]=o.symmetricDifference=o.symdiff=o.xor;o.fnFilter=o.filterFn=o.stdFilter;o.complement=o.abscomp=o.absoluteComplement;t.exports=a},{"../is":77,"../selector":81}],22:[function(e,t,r){"use strict";var n={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var e=this[0];return e?e._private.group:void 0}};t.exports=n},{}],23:[function(e,t,r){"use strict";var n=e("../util"),i=e("../is"),a=e("./element"),o={prefix:"ele",id:0,generate:function(e,t,r){var n=(i.element(t)?t._private:t,null!=r?r:this.prefix+this.id);if(e.getElementById(n).empty())this.id++;else for(;!e.getElementById(n).empty();)n=this.prefix+ ++this.id;return n}},s=function(e,t,r){if(!(this instanceof s))return new s(e,t,r);if(void 0!==e&&i.core(e)){var l={},u={},c=!1;if(t){if(t.length>0&&i.plainObject(t[0])&&!i.element(t[0])){c=!0;for(var f=[],d={},p=0,h=t.length;h>p;p++){var v=t[p];null==v.data&&(v.data={});var g=v.data;if(null==g.id)g.id=o.generate(e,v);else if(0!==e.getElementById(g.id).length||d[g.id])continue;var m=new a(e,v,!1);f.push(m);d[g.id]=!0}t=f}}else t=[];this.length=0;for(var p=0,h=t.length;h>p;p++){var y=t[p];if(y){var b=y._private.data.id;if(!r||r.unique&&!l[b]){l[b]=y;u[b]=this.length;this[this.length]=y;this.length++}}}this._private={cy:e,ids:l,indexes:u};c&&this.restore()}else n.error("A collection must have a reference to the core")},l=a.prototype=s.prototype;l.instanceString=function(){return"collection"};l.spawn=function(e,t,r){if(!i.core(e)){r=t;t=e;e=this.cy()}return new s(e,t,r)};l.cy=function(){return this._private.cy};l.element=function(){return this[0]};l.collection=function(){return i.collection(this)?this:new s(this._private.cy,[this])};l.unique=function(){return new s(this._private.cy,this,{unique:!0})};l.getElementById=function(e){var t=this._private.cy,r=this._private.ids[e];return r?r:new s(t)};l.json=function(e){var t=this.element(),r=this.cy();if(null==t&&e)return this;if(null!=t){var a=t._private;if(i.plainObject(e)){r.startBatch();e.data&&t.data(e.data);e.position&&t.position(e.position);var o=function(r,n,i){var o=e[r];null!=o&&o!==a[r]&&(o?t[n]():t[i]())};o("removed","remove","restore");o("selected","select","unselect");o("selectable","selectify","unselectify");o("locked","lock","unlock");o("grabbable","grabify","ungrabify");null!=e.classes&&t.classes(e.classes);r.endBatch();return this}if(void 0===e){var s={data:n.copy(a.data),position:n.copy(a.position),group:a.group,removed:a.removed,selected:a.selected,selectable:a.selectable,locked:a.locked,grabbable:a.grabbable,classes:null},l=[];for(var u in a.classes)a.classes[u]&&l.push(u);s.classes=l.join(" ");return s}}};l.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e};l.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),o=new a(e,i,!1);t.push(o)}return new s(e,t)};l.copy=l.clone;l.restore=function(e){var t=this,r=[],a=t.cy();void 0===e&&(e=!0);for(var l=[],u=[],c=[],f=0,d=0,p=0,h=t.length;h>p;p++){var v=t[p];if(v.isNode()){u.push(v);f++}else{c.push(v);d++}}l=u.concat(c);for(var p=0,h=l.length;h>p;p++){var v=l[p];if(v.removed()){var g=v._private,m=g.data;if(void 0===m.id)m.id=o.generate(a,v);else if(i.number(m.id))m.id=""+m.id;else{if(i.emptyString(m.id)||!i.string(m.id)){n.error("Can not create element with invalid string ID `"+m.id+"`");continue}if(0!==a.getElementById(m.id).length){n.error("Can not create second element with ID `"+m.id+"`");continue}}var y=m.id;if(v.isNode()){var b=v,w=g.position;null==w.x&&(w.x=0);null==w.y&&(w.y=0)}if(v.isEdge()){for(var x=v,_=["source","target"],k=_.length,C=!1,E=0;k>E;E++){var S=_[E],T=m[S];i.number(T)&&(T=m[S]=""+m[S]);if(null==T||""===T){n.error("Can not create edge `"+y+"` with unspecified "+S);C=!0}else if(a.getElementById(T).empty()){n.error("Can not create edge `"+y+"` with nonexistant "+S+" `"+T+"`");C=!0}}if(C)continue;var D=a.getElementById(m.source),j=a.getElementById(m.target);D._private.edges.push(x);j._private.edges.push(x);x._private.source=D;x._private.target=j}g.ids={};g.ids[y]=v;g.removed=!1;a.addToPool(v);r.push(v)}}for(var p=0;f>p;p++){var b=l[p],m=b._private.data;i.number(m.parent)&&(m.parent=""+m.parent);var P=m.parent,N=null!=P;if(N){var M=a.getElementById(P);if(M.empty())m.parent=void 0;else{for(var L=!1,A=M;!A.empty();){if(b.same(A)){L=!0;m.parent=void 0;break}A=A.parent()}if(!L){M[0]._private.children.push(b);b._private.parent=M[0];a._private.hasCompoundNodes=!0}}}}r=new s(a,r);if(r.length>0){var O=r.add(r.connectedNodes()).add(r.parent());O.updateStyle(e);e?r.rtrigger("add"):r.trigger("add")}return t};l.removed=function(){var e=this[0];return e&&e._private.removed};l.inside=function(){var e=this[0];return e&&!e._private.removed};l.remove=function(e){function t(e){for(var t=e._private.edges,r=0;r<t.length;r++)n(t[r])}function r(e){for(var t=e._private.children,r=0;r<t.length;r++)n(t[r])}function n(e){var n=c[e.id()];if(!n){c[e.id()]=!0;if(e.isNode()){u.push(e);t(e);r(e)}else u.unshift(e)}}function i(e,t){for(var r=e._private.edges,n=0;n<r.length;n++){var i=r[n];if(t===i){r.splice(n,1);break}}}function a(e,t){t=t[0];e=e[0];for(var r=e._private.children,n=0;n<r.length;n++)if(r[n][0]===t[0]){r.splice(n,1);break}}var o=this,l=[],u=[],c={},f=o._private.cy;void 0===e&&(e=!0);for(var d=0,p=o.length;p>d;d++){var h=o[d];n(h)}for(var d=0;d<u.length;d++){var h=u[d];h._private.removed=!0;f.removeFromPool(h);l.push(h);if(h.isEdge()){var v=h.source()[0],g=h.target()[0];i(v,h);i(g,h)}else{var m=h.parent();0!==m.length&&a(m,h)}}var y=f._private.elements;f._private.hasCompoundNodes=!1;for(var d=0;d<y.length;d++){var h=y[d];if(h.isParent()){f._private.hasCompoundNodes=!0;break}}var b=new s(this.cy(),l);if(b.size()>0){e&&this.cy().notify({type:"remove",collection:b});b.trigger("remove")}for(var w={},d=0;d<u.length;d++){var h=u[d],x="nodes"===h._private.group,_=h._private.data.parent;if(x&&void 0!==_&&!w[_]){w[_]=!0;var m=f.getElementById(_);m&&0!==m.length&&!m._private.removed&&0===m.children().length&&m.updateStyle()}}return new s(f,l)};l.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var r=e.source,n=e.target,i=t.getElementById(r).length>0,a=t.getElementById(n).length>0;if(i||a){var o=this.jsons();this.remove();for(var s=0;s<o.length;s++){var l=o[s];if("edges"===l.group){i&&(l.data.source=r);a&&(l.data.target=n)}}return t.add(o)}}else if(void 0!==e.parent){var u=e.parent,c=null===u||t.getElementById(u).length>0;if(c){var o=this.jsons(),f=this.descendants(),d=f.merge(f.add(this).connectedEdges());this.remove();for(var s=0;s<this.length;s++){var l=o[s];"nodes"===l.group&&(l.data.parent=null===u?void 0:u)}}return t.add(o).merge(d.restore())}return this};[e("./algorithms"),e("./animation"),e("./class"),e("./comparators"),e("./compounds"),e("./data"),e("./degree"),e("./dimensions"),e("./events"),e("./filter"),e("./group"),e("./index"),e("./iteration"),e("./layout"),e("./style"),e("./switch-functions"),e("./traversing")].forEach(function(e){n.extend(l,e)});t.exports=s},{"../is":77,"../util":94,"./algorithms":9,"./animation":12,"./class":13,"./comparators":14,"./compounds":15,"./data":16,"./degree":17,"./dimensions":18,"./element":19,"./events":20,"./filter":21,"./group":22,"./index":23,"./iteration":24,"./layout":25,"./style":26,"./switch-functions":27,"./traversing":28}],24:[function(e,t,r){"use strict";var n=e("../is"),i=e("./zsort"),a={each:function(e){if(n.fn(e))for(var t=0;t<this.length;t++){var r=this[t],i=e.apply(r,[t,r]);if(i===!1)break}return this},forEach:function(e,t){if(n.fn(e))for(var r=0;r<this.length;r++){var i=this[r],a=t?e.apply(t,[i,r,this]):e(i,r,this);if(a===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var r=[],n=this.length;null==t&&(t=n);null==e&&(e=0);0>e&&(e=n+e);0>t&&(t=n+t);for(var i=e;i>=0&&t>i&&n>i;i++)r.push(this[i]);return this.spawn(r)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!n.fn(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(i)},zDepth:function(){var e=this[0];if(e){var t=e._private,r=t.group;if("nodes"===r){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:Number.MAX_VALUE}var i=t.source,a=t.target,o=i.zDepth(),s=a.zDepth();return Math.max(o,s,0)}}};t.exports=a},{"../is":77,"./zsort":29}],25:[function(e,t,r){"use strict";var n=e("../is"),i=e("../util"),a={layoutPositions:function(e,t,r){var i=this.nodes(),a=this.cy();e.trigger({type:"layoutstart",layout:e});e.animations=[];if(t.animate){for(var o=0;o<i.length;o++){var s=i[o],l=o===i.length-1,u=r.call(s,o,s),c=s.position();n.number(c.x)&&n.number(c.y)||s.silentPosition({x:0,y:0});var f=s.animation({position:u,duration:t.animationDuration,easing:t.animationEasing,step:l?function(){t.fit&&a.fit(t.eles,t.padding)}:void 0,complete:l?function(){null!=t.zoom&&a.zoom(t.zoom);t.pan&&a.pan(t.pan);t.fit&&a.fit(t.eles,t.padding);e.one("layoutstop",t.stop);e.trigger({type:"layoutstop",layout:e})}:void 0});e.animations.push(f);f.play()}e.one("layoutready",t.ready);e.trigger({type:"layoutready",layout:e})}else{i.positions(r);t.fit&&a.fit(t.eles,t.padding);null!=t.zoom&&a.zoom(t.zoom);t.pan&&a.pan(t.pan);e.one("layoutready",t.ready);e.trigger({type:"layoutready",layout:e});e.one("layoutstop",t.stop);e.trigger({type:"layoutstop",layout:e})}return this},layout:function(e){var t=this.cy();t.layout(i.extend({},e,{eles:this}));return this},makeLayout:function(e){var t=this.cy();return t.makeLayout(i.extend({},e,{eles:this}))}};a.createLayout=a.makeLayout;t.exports=a},{"../is":77,"../util":94}],26:[function(e,t,r){"use strict";var n=e("../is"),i={updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t._private.batchingStyle){var r=t._private.batchStyleEles;r.merge(this);return this}var n=t.style();e=!(!e&&void 0!==e);n.apply(this);var i=this.updateCompoundBounds(),a=i.length>0?this.add(i):this;e?a.rtrigger("style"):a.trigger("style");return this},updateMappers:function(e){var t=this._private.cy,r=t.style();e=!(!e&&void 0!==e);if(!t.styleEnabled())return this;r.updateMappers(this);var n=this.updateCompoundBounds(),i=n.length>0?this.add(n):this;e?i.rtrigger("style"):i.trigger("style");return this},renderedCss:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];if(r){var n=r.cy().style().getRenderedStyle(r);return void 0===e?n:n[e]}},css:function(e,t){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,a=r.style();if(n.plainObject(e)){var o=e;a.applyBypass(this,o,i);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(n.string(e)){if(void 0===t){var u=this[0];return u?a.getStylePropertyValue(u,e):void 0}a.applyBypass(this,e,t,i);var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style")}else if(void 0===e){var u=this[0];return u?a.getRawStyle(u):void 0}return this},removeCss:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=!1,n=t.style(),i=this;if(void 0===e)for(var a=0;a<i.length;a++){var o=i[a];n.removeAllBypasses(o,r)}else{e=e.split(/\s+/);for(var a=0;a<i.length;a++){var o=i[a];n.removeBypasses(o,e,r)}}var s=this.updateCompoundBounds(),l=s.length>0?this.add(s):this;l.rtrigger("style");return this},show:function(){this.css("display","element");return this},hide:function(){this.css("display","none");return this},visible:function(){var e=this.cy();if(!e.styleEnabled())return!0;var t=this[0],r=e.hasCompoundNodes();if(t){var n=t._private.style;if("visible"!==n.visibility.value||"element"!==n.display.value)return!1;if("nodes"===t._private.group){if(!r)return!0;var i=t._private.data.parent?t.parents():null;if(i)for(var a=0;a<i.length;a++){var o=i[a],s=o._private.style,l=s.visibility.value,u=s.display.value;if("visible"!==l||"element"!==u)return!1}return!0}var c=t._private.source,f=t._private.target;return c.visible()&&f.visible()}},hidden:function(){var e=this[0];return e?!e.visible():void 0},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var n=r._private,i=n.style.opacity.value;if(!t)return i;
var a=n.data.parent?r.parents():null;if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s._private.style.opacity.value;i=l*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],r=t.cy().hasCompoundNodes();return t?r?0===t.effectiveOpacity():0===t._private.style.opacity.value:void 0},isFullAutoParent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];if(t){var r="auto"===t._private.style.width.value,n="auto"===t._private.style.height.value;return t.isParent()&&r&&n}},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};i.bypass=i.style=i.css;i.renderedStyle=i.renderedCss;i.removeBypass=i.removeStyle=i.removeCss;t.exports=i},{"../is":77}],27:[function(e,t,r){"use strict";function n(e){return function(){var t=arguments,r=[];if(2===t.length){var n=t[0],i=t[1];this.bind(e.event,n,i)}else if(1===t.length){var i=t[0];this.bind(e.event,i)}else if(0===t.length){for(var a=0;a<this.length;a++){var o=this[a],s=!e.ableField||o._private[e.ableField],l=o._private[e.field]!=e.value;if(e.overrideAble){var u=e.overrideAble(o);if(void 0!==u){s=u;if(!u)return this}}if(s){o._private[e.field]=e.value;l&&r.push(o)}}var c=this.spawn(r);c.updateStyle();c.trigger(e.event)}return this}}function i(e){a[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(void 0!==r)return r}return t._private[e.field]}};a[e.on]=n({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0});a[e.off]=n({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}var a={};i({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});i({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()?!1:void 0},on:"grabify",off:"ungrabify"});i({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});i({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});a.deselect=a.unselect;a.grabbed=function(){var e=this[0];return e?e._private.grabbed:void 0};i({field:"active",on:"activate",off:"unactivate"});a.inactive=function(){var e=this[0];return e?!e._private.active:void 0};t.exports=a},{}],28:[function(e,t,r){"use strict";function n(e){return function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n],a=i._private[e.attr];a&&r.push(a)}return this.spawn(r,{unique:!0}).filter(t)}}function i(e){return function(t){var r=[],n=this._private.cy,i=e||{};s.string(t)&&(t=n.$(t));for(var a=this._private.ids,o=t._private.ids,l=0;l<t.length;l++)for(var u=t[l]._private.edges,c=0;c<u.length;c++){var f=u[c],d=f._private.data,p=a[d.source]&&o[d.target],h=o[d.source]&&a[d.target],v=p||h;if(v){if(i.thisIs){if("source"===i.thisIs&&!p)continue;if("target"===i.thisIs&&!h)continue}r.push(f)}}return this.spawn(r,{unique:!0})}}function a(e){var t={codirected:!1};e=o.extend({},t,e);return function(t){for(var r=[],n=this.edges(),i=e,a=0;a<n.length;a++)for(var o=n[a],s=o.source()[0],l=s.id(),u=o.target()[0],c=u.id(),f=s._private.edges,d=0;d<f.length;d++){var p=f[d],h=p._private.data,v=h.target,g=h.source,m=v===c&&g===l,y=l===v&&c===g;(i.codirected&&m||!i.codirected&&(m||y))&&r.push(p)}return this.spawn(r,{unique:!0}).filter(t)}}var o=e("../util"),s=e("../is"),l={};o.extend(l,{roots:function(e){for(var t=this,r=[],n=0;n<t.length;n++){var i=t[n];if(i.isNode()){var a=i.connectedEdges(function(){return this.data("target")===i.id()&&this.data("source")!==i.id()}).length>0;a||r.push(i)}}return this.spawn(r,{unique:!0}).filter(e)},leaves:function(e){for(var t=this,r=[],n=0;n<t.length;n++){var i=t[n];if(i.isNode()){var a=i.connectedEdges(function(){return this.data("source")===i.id()&&this.data("target")!==i.id()}).length>0;a||r.push(i)}}return this.spawn(r,{unique:!0}).filter(e)},outgoers:function(e){for(var t=this,r=[],n=0;n<t.length;n++){var i=t[n],a=i.id();if(i.isNode())for(var o=i._private.edges,s=0;s<o.length;s++){var l=o[s],u=l._private.data.source,c=l._private.data.target;if(u===a&&c!==a){r.push(l);r.push(l.target()[0])}}}return this.spawn(r,{unique:!0}).filter(e)},successors:function(e){for(var t=this,r=[],n={};;){var i=t.outgoers();if(0===i.length)break;for(var a=!1,o=0;o<i.length;o++){var s=i[o],l=s.id();if(!n[l]){n[l]=!0;r.push(s);a=!0}}if(!a)break;t=i}return this.spawn(r,{unique:!0}).filter(e)},incomers:function(e){for(var t=this,r=[],n=0;n<t.length;n++){var i=t[n],a=i.id();if(i.isNode())for(var o=i._private.edges,s=0;s<o.length;s++){var l=o[s],u=l._private.data.source,c=l._private.data.target;if(c===a&&u!==a){r.push(l);r.push(l.source()[0])}}}return this.spawn(r,{unique:!0}).filter(e)},predecessors:function(e){for(var t=this,r=[],n={};;){var i=t.incomers();if(0===i.length)break;for(var a=!1,o=0;o<i.length;o++){var s=i[o],l=s.id();if(!n[l]){n[l]=!0;r.push(s);a=!0}}if(!a)break;t=i}return this.spawn(r,{unique:!0}).filter(e)}});o.extend(l,{neighborhood:function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s._private.source,u=s._private.target,c=i===l?u:l;c.length>0&&t.push(c[0]);t.push(s[0])}return this.spawn(t,{unique:!0}).filter(e)},closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});l.neighbourhood=l.neighborhood;l.closedNeighbourhood=l.closedNeighborhood;l.openNeighbourhood=l.openNeighborhood;o.extend(l,{source:function(e){var t,r=this[0];r&&(t=r._private.source);return t&&e?t.filter(e):t},target:function(e){var t,r=this[0];r&&(t=r._private.target);return t&&e?t.filter(e):t},sources:n({attr:"source"}),targets:n({attr:"target"})});o.extend(l,{edgesWith:i(),edgesTo:i({thisIs:"source"})});o.extend(l,{connectedEdges:function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,o=0;o<a.length;o++){var s=a[o];t.push(s)}}return this.spawn(t,{unique:!0}).filter(e)},connectedNodes:function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isEdge()){t.push(i.source()[0]);t.push(i.target()[0])}}return this.spawn(t,{unique:!0}).filter(e)},parallelEdges:a(),codirectedEdges:a({codirected:!0})});o.extend(l,{components:function(){var e=this.cy(),t=e.collection(),r=this.nodes(),n=[],i=function(e,n){t.merge(e);r.unmerge(e);n.merge(e)};do{var a=e.collection();n.push(a);var o=r[0];i(o,a);this.bfs({directed:!1,roots:o,visit:function(e,t,r,n,o){i(r,a)}})}while(r.length>0);return n.map(function(e){var t=e.connectedEdges().stdFilter(function(t){return e.anySame(t.source())&&e.anySame(t.target())});return e.union(t)})}});t.exports=l},{"../is":77,"../util":94}],29:[function(e,t,r){"use strict";var n=function(e,t){var r=e.cy(),n=e._private,i=t._private,a=n.style["z-index"].value-i.style["z-index"].value,o=0,s=0,l=r.hasCompoundNodes(),u="nodes"===n.group,c="edges"===n.group,f="nodes"===i.group,d="edges"===i.group;if(l){o=e.zDepth();s=t.zDepth()}var p=o-s,h=0===p;return h?u&&d?1:c&&f?-1:0===a?n.index-i.index:a:p};t.exports=n},{}],30:[function(e,t,r){"use strict";var n=e("../is"),i=e("../util"),a=e("../collection"),o=e("../collection/element"),s=e("../window"),l=(s?s.document:null,e("../extensions/renderer/null"),{add:function(e){var t,r=this;if(n.elementOrCollection(e)){var s=e;if(s._private.cy===r)t=s.restore();else{for(var l=[],u=0;u<s.length;u++){var c=s[u];l.push(c.json())}t=new a(r,l)}}else if(n.array(e)){var l=e;t=new a(r,l)}else if(n.plainObject(e)&&(n.array(e.nodes)||n.array(e.edges))){for(var f=e,l=[],d=["nodes","edges"],u=0,p=d.length;p>u;u++){var h=d[u],v=f[h];if(n.array(v))for(var g=0,m=v.length;m>g;g++){var y=i.extend({group:h},v[g]);l.push(y)}}t=new a(r,l)}else{var y=e;t=new o(r,y).collection()}return t},remove:function(e){if(n.elementOrCollection(e))e=e;else if(n.string(e)){var t=e;e=this.$(t)}return e.remove()},load:function(e,t,r){var a=this;a.notifications(!1);var o=a.elements();o.length>0&&o.remove();null!=e&&(n.plainObject(e)||n.array(e))&&a.add(e);a.one("layoutready",function(e){a.notifications(!0);a.trigger(e);a.notify({type:"load",collection:a.elements()});a.one("load",t);a.trigger("load")}).one("layoutstop",function(){a.one("done",r);a.trigger("done")});var s=i.extend({},a._private.options.layout);s.eles=a.$();a.layout(s);return this}});t.exports=l},{"../collection":23,"../collection/element":19,"../extensions/renderer/null":73,"../is":77,"../util":94,"../window":100}],31:[function(e,t,r){"use strict";var n=e("../define"),i=e("../util"),a=e("../is"),o={animate:n.animate(),animation:n.animation(),animated:n.animated(),clearQueue:n.clearQueue(),delay:n.delay(),delayAnimation:n.delayAnimation(),stop:n.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){function e(){c._private.animationsRunning&&i.requestAnimationFrame(function(r){t(r);e()})}function t(e){function t(t,i){var o=t._private,s=o.animation.current,l=o.animation.queue,u=!1;if(0===s.length){var c=l.shift();c&&s.push(c)}for(var f=function(e){for(var t=e.length-1;t>=0;t--){var r=e[t];r()}e.splice(0,e.length)},d=s.length-1;d>=0;d--){var p=s[d],h=p._private;if(h.stopped){s.splice(d,1);h.hooked=!1;h.playing=!1;h.started=!1;f(h.frames)}else if(h.playing||h.applying){h.playing&&h.applying&&(h.applying=!1);h.started||r(t,p,e);n(t,p,e,i);h.applying&&(h.applying=!1);f(h.frames);if(p.completed()){s.splice(d,1);h.hooked=!1;h.playing=!1;h.started=!1;f(h.completes)}u=!0}}i||0!==s.length||0!==l.length||a.push(t);return u}for(var i=c._private.aniEles,a=[],o=!1,s=0;s<i.length;s++){var l=i[s],u=t(l);o=o||u}var f=t(c,!0);if(o||f){var d;if(i.length>0){var p=i.updateCompoundBounds();d=p.length>0?i.add(p):i}c.notify({type:"draw",collection:d})}i.unmerge(a)}function r(e,t,r){var n=a.core(e),i=!n,o=e,s=c._private.style,l=t._private;if(i){var u=o._private.position;l.startPosition=l.startPosition||{x:u.x,y:u.y};l.startStyle=l.startStyle||s.getValueStyle(o)}if(n){var f=c._private.pan;l.startPan=l.startPan||{x:f.x,y:f.y};l.startZoom=null!=l.startZoom?l.startZoom:c._private.zoom}l.started=!0;l.startTime=r-l.progress*l.duration}function n(e,t,r,n){var i=c._private.style,s=!n,l=e._private,f=t._private,p=f.easing,h=f.startTime;if(!f.easingImpl)if(null==p)f.easingImpl=d.linear;else{var v;if(a.string(p)){var g=i.parse("transition-timing-function",p);v=g.value}else v=p;var m,y;if(a.string(v)){m=v;y=[]}else{m=v[1];y=v.slice(2).map(function(e){return+e})}if(y.length>0){"spring"===m&&y.push(f.duration);f.easingImpl=d[m].apply(null,y)}else f.easingImpl=d[m]}var b,w=f.easingImpl;b=0===f.duration?1:(r-h)/f.duration;f.applying&&(b=f.progress);0>b?b=0:b>1&&(b=1);if(null==f.delay){var x=f.startPosition,_=f.position,k=l.position;if(_&&s){o(x.x,_.x)&&(k.x=u(x.x,_.x,b,w));o(x.y,_.y)&&(k.y=u(x.y,_.y,b,w))}var C=f.startPan,E=f.pan,S=l.pan,T=null!=E&&n;if(T){o(C.x,E.x)&&(S.x=u(C.x,E.x,b,w));o(C.y,E.y)&&(S.y=u(C.y,E.y,b,w));e.trigger("pan")}var D=f.startZoom,j=f.zoom,P=null!=j&&n;if(P){o(D,j)&&(l.zoom=u(D,j,b,w));e.trigger("zoom")}(T||P)&&e.trigger("viewport");var N=f.style;if(N&&s)for(var M=0;M<N.length;M++){var L=N[M],m=L.name,A=L,O=f.startStyle[m],R=u(O,A,b,w);i.overrideBypass(e,m,R)}}a.fn(f.step)&&f.step.apply(e,[r]);f.progress=b;return b}function o(e,t){return null==e||null==t?!1:a.number(e)&&a.number(t)?!0:!(!e||!t)}function s(e,t,r){var n=1-r,i=r*r;return 3*n*n*r*e+3*n*i*t+i*r}function l(e,t){return function(r,n,i){return r+(n-r)*s(e,t,i)}}function u(e,t,r,n){0>r?r=0:r>1&&(r=1);var i,o;i=null!=e.pfValue||null!=e.value?null!=e.pfValue?e.pfValue:e.value:e;o=null!=t.pfValue||null!=t.value?null!=t.pfValue?t.pfValue:t.value:t;if(a.number(i)&&a.number(o))return n(i,o,r);if(a.array(i)&&a.array(o)){for(var s=[],l=0;l<o.length;l++){var u=i[l],c=o[l];if(null!=u&&null!=c){var f=n(u,c,r);e.roundValue&&(f=Math.round(f));s.push(f)}else s.push(c)}return s}}var c=this;c._private.animationsRunning=!0;if(c.styleEnabled()){e();var f=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,n){var i={x:t.x+n.dx*r,v:t.v+n.dv*r,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function r(r,n){var i={dx:r.v,dv:e(r)},a=t(r,.5*n,i),o=t(r,.5*n,a),s=t(r,n,o),l=1/6*(i.dx+2*(a.dx+o.dx)+s.dx),u=1/6*(i.dv+2*(a.dv+o.dv)+s.dv);r.x=r.x+l*n;r.v=r.v+u*n;return r}return function n(e,t,i){var a,o,s,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,f=1e-4,d=.016;e=parseFloat(e)||500;t=parseFloat(t)||20;i=i||null;l.tension=e;l.friction=t;a=null!==i;if(a){c=n(e,t);o=c/i*d}else o=d;for(;;){s=r(s||l,o);u.push(1+s.x);c+=16;if(!(Math.abs(s.x)>f&&Math.abs(s.v)>f))break}return a?function(e){return u[e*(u.length-1)|0]}:c}}(),d={linear:function(e,t,r){return e+(t-e)*r},ease:l(.25,.1,.25,1),"ease-in":l(.42,0,1,1),"ease-out":l(0,0,.58,1),"ease-in-out":l(.42,0,.58,1),"ease-in-sine":l(.47,0,.745,.715),"ease-out-sine":l(.39,.575,.565,1),"ease-in-out-sine":l(.445,.05,.55,.95),"ease-in-quad":l(.55,.085,.68,.53),"ease-out-quad":l(.25,.46,.45,.94),"ease-in-out-quad":l(.455,.03,.515,.955),"ease-in-cubic":l(.55,.055,.675,.19),"ease-out-cubic":l(.215,.61,.355,1),"ease-in-out-cubic":l(.645,.045,.355,1),"ease-in-quart":l(.895,.03,.685,.22),"ease-out-quart":l(.165,.84,.44,1),"ease-in-out-quart":l(.77,0,.175,1),"ease-in-quint":l(.755,.05,.855,.06),"ease-out-quint":l(.23,1,.32,1),"ease-in-out-quint":l(.86,0,.07,1),"ease-in-expo":l(.95,.05,.795,.035),"ease-out-expo":l(.19,1,.22,1),"ease-in-out-expo":l(1,0,0,1),"ease-in-circ":l(.6,.04,.98,.335),"ease-out-circ":l(.075,.82,.165,1),"ease-in-out-circ":l(.785,.135,.15,.86),spring:function(e,t,r){var n=f(e,t,r);return function(e,t,r){return e+(t-e)*n(r)}},"cubic-bezier":function(e,t,r,n){return l(e,t,r,n)}}}}};t.exports=o},{"../define":41,"../is":77,"../util":94}],32:[function(e,t,r){"use strict";var n=e("../define"),i={on:n.on(),one:n.on({unbindSelfOnTrigger:!0}),once:n.on({unbindAllBindersOnTrigger:!0}),off:n.off(),trigger:n.trigger()};n.eventAliasesOn(i);t.exports=i},{"../define":41}],33:[function(e,t,r){"use strict";var n={png:function(e){var t=this._private.renderer;e=e||{};return t.png(e)},jpg:function(e){var t=this._private.renderer;e=e||{};e.bg=e.bg||"#fff";return t.jpg(e)}};n.jpeg=n.jpg;t.exports=n},{}],34:[function(e,t,r){"use strict";var n=e("../window"),i=e("../util"),a=e("../collection"),o=e("../is"),s=e("../promise"),l=e("../define"),u=function(e){if(!(this instanceof u))return new u(e);var t=this;e=i.extend({},e);var r=e.container;r&&!o.htmlElement(r)&&o.htmlElement(r[0])&&(r=r[0]);var l=r?r._cyreg:null;l=l||{};if(l&&l.cy){l.cy.destroy();l={}}var c=l.readies=l.readies||[];r&&(r._cyreg=l);l.cy=t;var f=void 0!==n&&void 0!==r&&!e.headless,d=e;d.layout=i.extend({name:f?"grid":"null"},d.layout);d.renderer=i.extend({name:f?"canvas":"null"},d.renderer);var p=function(e,t,r){return void 0!==t?t:void 0!==r?r:e},h=this._private={container:r,ready:!1,initrender:!1,options:d,elements:[],id2index:{},listeners:[],onRenders:[],aniEles:a(this),scratch:{},layout:null,renderer:null,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:p(!0,d.zoomingEnabled),userZoomingEnabled:p(!0,d.userZoomingEnabled),panningEnabled:p(!0,d.panningEnabled),userPanningEnabled:p(!0,d.userPanningEnabled),boxSelectionEnabled:p(!0,d.boxSelectionEnabled),autolock:p(!1,d.autolock,d.autolockNodes),autoungrabify:p(!1,d.autoungrabify,d.autoungrabifyNodes),autounselectify:p(!1,d.autounselectify),styleEnabled:void 0===d.styleEnabled?f:d.styleEnabled,zoom:o.number(d.zoom)?d.zoom:1,pan:{x:o.plainObject(d.pan)&&o.number(d.pan.x)?d.pan.x:0,y:o.plainObject(d.pan)&&o.number(d.pan.y)?d.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,deferredExecQueue:[]},v=d.selectionType;void 0===v||"additive"!==v&&"single"!==v?h.selectionType="single":h.selectionType=v;if(o.number(d.minZoom)&&o.number(d.maxZoom)&&d.minZoom<d.maxZoom){h.minZoom=d.minZoom;h.maxZoom=d.maxZoom}else o.number(d.minZoom)&&void 0===d.maxZoom?h.minZoom=d.minZoom:o.number(d.maxZoom)&&void 0===d.minZoom&&(h.maxZoom=d.maxZoom);var g=function(e){for(var t=!1,r=0;r<m.length;r++){var n=m[r];if(o.promise(n)){t=!0;break}}if(t)return s.all(m).then(e);e(m)};t.initRenderer(i.extend({hideEdgesOnViewport:d.hideEdgesOnViewport,hideLabelsOnViewport:d.hideLabelsOnViewport,textureOnViewport:d.textureOnViewport,wheelSensitivity:o.number(d.wheelSensitivity)&&d.wheelSensitivity>0?d.wheelSensitivity:1,motionBlur:void 0===d.motionBlur?!0:d.motionBlur,motionBlurOpacity:void 0===d.motionBlurOpacity?.05:d.motionBlurOpacity,pixelRatio:o.number(d.pixelRatio)&&d.pixelRatio>0?d.pixelRatio:void 0,desktopTapThreshold:void 0===d.desktopTapThreshold?4:d.desktopTapThreshold,touchTapThreshold:void 0===d.touchTapThreshold?8:d.touchTapThreshold},d.renderer));var m=[d.style,d.elements];g(function(e){var r=e[0],n=e[1];h.styleEnabled&&t.setStyle(r);if(d.initrender){t.on("initrender",d.initrender);t.on("initrender",function(){h.initrender=!0})}t.load(n,function(){t.startAnimationLoop();h.ready=!0;o.fn(d.ready)&&t.on("ready",d.ready);for(var e=0;e<c.length;e++){var r=c[e];t.on("ready",r)}l&&(l.readies=[]);t.trigger("ready")},d.done)})},c=u.prototype;i.extend(c,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},ready:function(e){this.isReady()?this.trigger("ready",[],e):this.on("ready",e);return this},initrender:function(){return this._private.initrender},destroy:function(){var e=this;e.stopAnimationLoop();e.notify({type:"destroy"});var t=e.container();if(t){t._cyreg=null;for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}return e},getElementById:function(e){var t=this._private.id2index[e];return void 0!==t?this._private.elements[t]:a(this)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){for(var t=this._private.elements,r=this._private.id2index,n=0;n<e.length;n++){var i=e[n],a=i._private.data.id,o=r[a],s=void 0!==o;if(!s){o=t.length;t.push(i);r[a]=o;i._private.index=o}}return this},removeFromPool:function(e){for(var t=this._private.elements,r=this._private.id2index,n=0;n<e.length;n++){var i=e[n],a=i._private.data.id,o=r[a],s=void 0!==o;if(s){this._private.id2index[a]=void 0;t.splice(o,1);for(var l=o;l<t.length;l++){var u=t[l]._private.data.id;r[u]--;t[l]._private.index--}}}},container:function(){return this._private.container},options:function(){return i.copy(this._private.options)},json:function(e){var t=this,r=t._private;if(o.plainObject(e)){t.startBatch();if(e.elements){var n={},a=function(e,r){for(var a=0;a<e.length;a++){var o=e[a],s=o.data.id,l=t.getElementById(s);n[s]=!0;0!==l.length?l.json(o):r?t.add(i.extend({group:r},o)):t.add(o)}};if(o.array(e.elements))a(e.elements);else for(var s=["nodes","edges"],l=0;l<s.length;l++){var u=s[l],c=e.elements[u];o.array(c)&&a(c,u)}t.elements().stdFilter(function(e){return!n[e.id()]}).remove()}e.style&&t.style(e.style);null!=e.zoom&&e.zoom!==r.zoom&&t.zoom(e.zoom);e.pan&&(e.pan.x===r.pan.x&&e.pan.y===r.pan.y||t.pan(e.pan));for(var f=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],l=0;l<f.length;l++){var d=f[l];null!=e[d]&&t[d](e[d])}t.endBatch();return this}if(void 0===e){var p={};p.elements={};t.elements().each(function(e,t){var r=t.group();p.elements[r]||(p.elements[r]=[]);p.elements[r].push(t.json())});this._private.styleEnabled&&(p.style=t.style().json());p.zoomingEnabled=t._private.zoomingEnabled;p.userZoomingEnabled=t._private.userZoomingEnabled;p.zoom=t._private.zoom;p.minZoom=t._private.minZoom;p.maxZoom=t._private.maxZoom;p.panningEnabled=t._private.panningEnabled;p.userPanningEnabled=t._private.userPanningEnabled;p.pan=i.copy(t._private.pan);p.boxSelectionEnabled=t._private.boxSelectionEnabled;p.renderer=i.copy(t._private.options.renderer);p.hideEdgesOnViewport=t._private.options.hideEdgesOnViewport;p.hideLabelsOnViewport=t._private.options.hideLabelsOnViewport;p.textureOnViewport=t._private.options.textureOnViewport;p.wheelSensitivity=t._private.options.wheelSensitivity;p.motionBlur=t._private.options.motionBlur;return p}},scratch:l.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:l.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})});[e("./add-remove"),e("./animation"),e("./events"),e("./export"),e("./layout"),e("./notification"),e("./renderer"),e("./search"),e("./style"),e("./viewport")].forEach(function(e){i.extend(c,e)});t.exports=u},{"../collection":23,"../define":41,"../is":77,"../promise":80,"../util":94,"../window":100,"./add-remove":30,"./animation":31,"./events":32,"./export":33,"./layout":35,"./notification":36,"./renderer":37,"./search":38,"./style":39,"./viewport":40}],35:[function(e,t,r){"use strict";var n=e("../util"),i=e("../is"),a={layout:function(e){var t=this._private.prevLayout=null==e?this._private.prevLayout:this.makeLayout(e);t.run();return this},makeLayout:function(e){var t=this;if(null!=e)if(null!=e.name){var r=e.name,a=t.extension("layout",r);if(null!=a){var o;o=i.string(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$();var s=new a(n.extend({},e,{cy:t,eles:o}));return s}n.error("Can not apply layout: No such layout `"+r+"` found; did you include its JS file?")}else n.error("A `name` must be specified to make a layout");else n.error("Layout options must be specified to make a layout")}};a.createLayout=a.makeLayout;t.exports=a},{"../is":77,"../util":94}],36:[function(e,t,r){"use strict";var n={notify:function(e){var t=this._private;if(t.batchingNotify){var r=t.batchNotifyEles,n=t.batchNotifyTypes;e.collection&&r.merge(e.collection);n.ids[e.type]||n.push(e.type)}else if(t.notificationsEnabled){var i=this.renderer();i.notify(e)}},notifications:function(e){var t=this._private;if(void 0===e)return t.notificationsEnabled;t.notificationsEnabled=!!e},noNotifications:function(e){this.notifications(!1);e();this.notifications(!0)},startBatch:function(){var e=this._private;null==e.batchCount&&(e.batchCount=0);if(0===e.batchCount){e.batchingStyle=e.batchingNotify=!0;e.batchStyleEles=this.collection();e.batchNotifyEles=this.collection();e.batchNotifyTypes=[];e.batchNotifyTypes.ids={}}e.batchCount++;return this},endBatch:function(){var e=this._private;e.batchCount--;if(0===e.batchCount){e.batchingStyle=!1;e.batchStyleEles.updateStyle();e.batchingNotify=!1;this.notify({type:e.batchNotifyTypes,collection:e.batchNotifyEles})}return this},batch:function(e){this.startBatch();e();this.endBatch();return this},batchData:function(e){var t=this;return this.batch(function(){for(var r in e){var n=e[r],i=t.getElementById(r);i.data(n)}})}};t.exports=n},{}],37:[function(e,t,r){"use strict";var n=e("../util"),i={renderTo:function(e,t,r,n){var i=this._private.renderer;i.renderTo(e,t,r,n);return this},renderer:function(){return this._private.renderer},forceRender:function(){this.notify({type:"draw"});return this},resize:function(){this.notify({type:"resize"});this.trigger("resize");return this},initRenderer:function(e){var t=this,r=t.extension("renderer",e.name);if(null!=r){var i=n.extend({},e,{cy:t}),a=t._private.renderer=new r(i);a.init(i)}else n.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",e.name)},triggerOnRender:function(){for(var e=this._private.onRenders,t=0;t<e.length;t++){var r=e[t];r()}return this},onRender:function(e){this._private.onRenders.push(e);return this},offRender:function(e){var t=this._private.onRenders;if(null==e){this._private.onRenders=[];return this}for(var r=0;r<t.length;r++){var n=t[r];if(e===n){t.splice(r,1);break}}return this}};i.invalidateDimensions=i.resize;t.exports=i},{"../util":94}],38:[function(e,t,r){"use strict";var n=e("../is"),i=e("../collection"),a={collection:function(e,t){return n.string(e)?this.$(e):n.elementOrCollection(e)?e.collection():n.array(e)?i(this,e,t):i(this)},nodes:function(e){var t=this.$(function(){return this.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(){return this.isEdge()});return e?t.filter(e):t},$:function(e){var t=new i(this,this._private.elements);return e?t.filter(e):t}};a.elements=a.filter=a.$;t.exports=a},{"../collection":23,"../is":77}],39:[function(e,t,r){"use strict";var n=e("../is"),i=e("../style"),a={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;n.stylesheet(e)?t.style=e.generateStyle(this):n.array(e)?t.style=i.fromJson(this,e):n.string(e)?t.style=i.fromString(this,e):t.style=i(this);return t.style}};t.exports=a},{"../is":77,"../style":86}],40:[function(e,t,r){"use strict";var n=e("../is"),i={autolock:function(e){if(void 0===e)return this._private.autolock;this._private.autolock=!!e;return this},autoungrabify:function(e){if(void 0===e)return this._private.autoungrabify;this._private.autoungrabify=!!e;return this},autounselectify:function(e){if(void 0===e)return this._private.autounselectify;this._private.autounselectify=!!e;return this},panningEnabled:function(e){if(void 0===e)return this._private.panningEnabled;this._private.panningEnabled=!!e;return this},userPanningEnabled:function(e){if(void 0===e)return this._private.userPanningEnabled;this._private.userPanningEnabled=!!e;return this},zoomingEnabled:function(e){if(void 0===e)return this._private.zoomingEnabled;this._private.zoomingEnabled=!!e;return this},userZoomingEnabled:function(e){if(void 0===e)return this._private.userZoomingEnabled;this._private.userZoomingEnabled=!!e;return this},boxSelectionEnabled:function(e){if(void 0===e)return this._private.boxSelectionEnabled;this._private.boxSelectionEnabled=!!e;return this},pan:function(){var e,t,r,i,a,o=arguments,s=this._private.pan;switch(o.length){case 0:return s;case 1:if(n.string(o[0])){e=o[0];return s[e]}if(n.plainObject(o[0])){if(!this._private.panningEnabled)return this;r=o[0];i=r.x;a=r.y;n.number(i)&&(s.x=i);n.number(a)&&(s.y=a);this.trigger("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=o[0];t=o[1];"x"!==e&&"y"!==e||!n.number(t)||(s[e]=t);this.trigger("pan viewport")}this.notify({type:"viewport"});return this},panBy:function(e){var t,r,i,a,o,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:if(n.plainObject(s[0])){i=s[0];a=i.x;o=i.y;n.number(a)&&(l.x+=a);n.number(o)&&(l.y+=o);this.trigger("pan viewport")}break;case 2:t=s[0];r=s[1];"x"!==t&&"y"!==t||!n.number(r)||(l[t]+=r);this.trigger("pan viewport")}this.notify({type:"viewport"});return this},fit:function(e,t){var r=this.getFitViewport(e,t);if(r){var n=this._private;n.zoom=r.zoom;n.pan=r.pan;this.trigger("pan zoom viewport");this.notify({type:"viewport"})}return this},getFitViewport:function(e,t){if(n.number(e)&&void 0===t){t=e;e=void 0}if(this._private.panningEnabled&&this._private.zoomingEnabled){var r;if(n.string(e)){var i=e;e=this.$(i)}else if(n.boundingBox(e)){var a=e;r={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2};r.w=r.x2-r.x1;r.h=r.y2-r.y1}else n.elementOrCollection(e)||(e=this.elements());r=r||e.boundingBox();var o,s=this.width(),l=this.height();t=n.number(t)?t:0;if(!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){o=Math.min((s-2*t)/r.w,(l-2*t)/r.h);o=o>this._private.maxZoom?this._private.maxZoom:o;o=o<this._private.minZoom?this._private.minZoom:o;var u={x:(s-o*(r.x1+r.x2))/2,y:(l-o*(r.y1+r.y2))/2};return{zoom:o,pan:u}}}},minZoom:function(e){if(void 0===e)return this._private.minZoom;n.number(e)&&(this._private.minZoom=e);return this},maxZoom:function(e){if(void 0===e)return this._private.maxZoom;n.number(e)&&(this._private.maxZoom=e);return this},zoom:function(e){var t,r;if(void 0===e)return this._private.zoom;if(n.number(e))r=e;else if(n.plainObject(e)){r=e.level;if(e.position){var i=e.position,a=this._private.pan,o=this._private.zoom;t={x:i.x*o+a.x,y:i.y*o+a.y}}else e.renderedPosition&&(t=e.renderedPosition);if(t&&!this._private.panningEnabled)return this}if(!this._private.zoomingEnabled)return this;if(!n.number(r)||t&&(!n.number(t.x)||!n.number(t.y)))return this;r=r>this._private.maxZoom?this._private.maxZoom:r;r=r<this._private.minZoom?this._private.minZoom:r;if(t){var s=this._private.pan,l=this._private.zoom,u=r,c={x:-u/l*(t.x-s.x)+t.x,y:-u/l*(t.y-s.y)+t.y};this._private.zoom=r;this._private.pan=c;var f=s.x!==c.x||s.y!==c.y;this.trigger(" zoom "+(f?" pan ":"")+" viewport ")}else{this._private.zoom=r;this.trigger("zoom viewport")}this.notify({type:"viewport"});return this},viewport:function(e){var t=this._private,r=!0,i=!0,a=[],o=!1,s=!1;if(!e)return this;n.number(e.zoom)||(r=!1);n.plainObject(e.pan)||(i=!1);if(!r&&!i)return this;if(r){var l=e.zoom;if(l<t.minZoom||l>t.maxZoom||!t.zoomingEnabled)o=!0;else{t.zoom=l;a.push("zoom")}}if(i&&(!o||!e.cancelOnFailedZoom)&&t.panningEnabled){var u=e.pan;if(n.number(u.x)){t.pan.x=u.x;s=!1}if(n.number(u.y)){t.pan.y=u.y;s=!1}s||a.push("pan")}if(a.length>0){a.push("viewport");this.trigger(a.join(" "));this.notify({type:"viewport"})}return this},center:function(e){var t=this.getCenterPan(e);if(t){this._private.pan=t;this.trigger("pan viewport");this.notify({type:"viewport"})}return this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(n.string(e)){var r=e;e=this.elements(r)}else n.elementOrCollection(e)||(e=this.elements());var i=e.boundingBox(),a=this.width(),o=this.height();t=void 0===t?this._private.zoom:t;var s={x:(a-t*(i.x1+i.x2))/2,y:(o-t*(i.y1+i.y2))/2};return s}},reset:function(){if(!this._private.panningEnabled||!this._private.zoomingEnabled)return this;this.viewport({pan:{x:0,y:0},zoom:1});return this},width:function(){var e=this._private.container;return e?e.clientWidth:1},height:function(){var e=this._private.container;return e?e.clientHeight:1},extent:function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),n={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};n.w=n.x2-n.x1;n.h=n.y2-n.y1;return n},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};i.centre=i.center;i.autolockNodes=i.autolock;i.autoungrabifyNodes=i.autoungrabify;t.exports=i},{"../is":77}],41:[function(e,t,r){"use strict";var n=e("./util"),i=e("./is"),a=e("./selector"),o=e("./promise"),s=e("./event"),l=e("./animation"),u={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,onSet:function(e){},canSet:function(e){return!0}};e=n.extend({},t,e);return function(t,r){var n=e,a=this,o=void 0!==a.length,s=o?a:[a],l=o?a[0]:a;if(i.string(t)){if(n.allowGetting&&void 0===r){var u;l&&(u=l._private[n.field][t]);return u}if(n.allowSetting&&void 0!==r){var c=!n.immutableKeys[t];if(c){for(var f=0,d=s.length;d>f;f++)n.canSet(s[f])&&(s[f]._private[n.field][t]=r);n.updateStyle&&a.updateStyle();n.onSet(a);n.settingTriggersEvent&&a[n.triggerFnName](n.settingEvent)}}}else if(n.allowSetting&&i.plainObject(t)){var p,h,v=t;for(p in v){h=v[p];var c=!n.immutableKeys[p];if(c)for(var f=0,d=s.length;d>f;f++)n.canSet(s[f])&&(s[f]._private[n.field][p]=h)}n.updateStyle&&a.updateStyle();n.onSet(a);n.settingTriggersEvent&&a[n.triggerFnName](n.settingEvent)}else if(n.allowBinding&&i.fn(t)){var g=t;a.bind(n.bindingEvent,g)}else if(n.allowGetting&&void 0===t){var u;l&&(u=l._private[n.field]);return u}return a}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};e=n.extend({},t,e);return function(t){var r=e,n=this,a=void 0!==n.length,o=a?n:[n];if(i.string(t)){for(var s=t.split(/\s+/),l=s.length,u=0;l>u;u++){
var c=s[u];if(!i.emptyString(c)){var f=!r.immutableKeys[c];if(f)for(var d=0,p=o.length;p>d;d++)o[d]._private[r.field][c]=void 0}}r.triggerEvent&&n[r.triggerFnName](r.event)}else if(void 0===t){for(var d=0,p=o.length;p>d;d++){var h=o[d]._private[r.field];for(var c in h){var v=!r.immutableKeys[c];v&&(h[c]=void 0)}}r.triggerEvent&&n[r.triggerFnName](r.event)}return n}},event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(e){var t={unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1};e=n.extend({},t,e);return function(t,r,n,o){var s=this,l=void 0!==s.length,c=l?s:[s],f=i.string(t),d=e;if(i.plainObject(r)){o=n;n=r;r=void 0}else if(i.fn(r)||r===!1){o=r;n=void 0;r=void 0}if(i.fn(n)||n===!1){o=n;n=void 0}if(!i.fn(o)&&o!==!1&&f)return s;if(f){var p={};p[t]=o;t=p}for(var h in t){o=t[h];o===!1&&(o=u.event.falseCallback);if(i.fn(o)){h=h.split(/\s+/);for(var v=0;v<h.length;v++){var g=h[v];if(!i.emptyString(g)){var m=g.match(u.event.regex);if(m)for(var y=m[1],b=m[2]?m[2]:void 0,w={callback:o,data:n,delegated:!!r,selector:r,selObj:new a(r),type:y,namespace:b,unbindSelfOnTrigger:d.unbindSelfOnTrigger,unbindAllBindersOnTrigger:d.unbindAllBindersOnTrigger,binders:c},x=0;x<c.length;x++){var _=c[x]._private;_.listeners=_.listeners||[];_.listeners.push(w)}}}}}return s}},eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on;t.removeListener=t.unlisten=t.unbind=t.off;t.emit=t.trigger;t.pon=t.promiseOn=function(e,t){var r=this,n=Array.prototype.slice.call(arguments,0);return new o(function(e,t){var i=function(t){r.off.apply(r,o);e(t)},a=n.concat([i]),o=a.concat([]);r.on.apply(r,a)})}},off:function(e){var t={};e=n.extend({},t,e);return function(e,t,r){var n=this,a=void 0!==n.length,o=a?n:[n],s=i.string(e);if(0===arguments.length){for(var l=0;l<o.length;l++)o[l]._private.listeners=[];return n}if(i.fn(t)||t===!1){r=t;t=void 0}if(s){var c={};c[e]=r;e=c}for(var f in e){r=e[f];r===!1&&(r=u.event.falseCallback);f=f.split(/\s+/);for(var d=0;d<f.length;d++){var p=f[d];if(!i.emptyString(p)){var h=p.match(u.event.optionalTypeRegex);if(h)for(var v=h[1]?h[1]:void 0,g=h[2]?h[2]:void 0,l=0;l<o.length;l++)for(var m=o[l]._private.listeners=o[l]._private.listeners||[],y=0;y<m.length;y++){var b=m[y],w=!g||g===b.namespace,x=!v||b.type===v,_=!r||r===b.callback,k=w&&x&&_;if(k){m.splice(y,1);y--}}}}}return n}},trigger:function(e){var t={};e=n.extend({},t,e);return function(t,r,n){var a=this,o=void 0!==a.length,l=o?a:[a],c=i.string(t),f=i.plainObject(t),d=i.event(t),p=this._private.cy||(i.core(this)?this:null),h=p?p.hasCompoundNodes():!1;if(c){var v=t.split(/\s+/);t=[];for(var g=0;g<v.length;g++){var m=v[g];if(!i.emptyString(m)){var y=m.match(u.event.regex),b=y[1],w=y[2]?y[2]:void 0;t.push({type:b,namespace:w})}}}else if(f){var x=t;t=[x]}r?i.array(r)||(r=[r]):r=[];for(var g=0;g<t.length;g++)for(var _=t[g],k=0;k<l.length;k++){var m,C=l[k],E=C._private.listeners=C._private.listeners||[],S=i.element(C),T=S||e.layout;if(d){m=_;m.cyTarget=m.cyTarget||C;m.cy=m.cy||p}else m=new s(_,{cyTarget:C,cy:p,namespace:_.namespace});_.layout&&(m.layout=_.layout);e.layout&&(m.layout=C);if(m.cyPosition){var D=m.cyPosition,j=p.zoom(),P=p.pan();m.cyRenderedPosition={x:D.x*j+P.x,y:D.y*j+P.y}}n&&(E=[{namespace:m.namespace,type:m.type,callback:n}]);for(var N=0;N<E.length;N++){var M=E[N],L=!M.namespace||M.namespace===m.namespace,A=M.type===m.type,O=M.delegated?C!==m.cyTarget&&i.element(m.cyTarget)&&M.selObj.matches(m.cyTarget):!0,R=L&&A&&O;if(R){var z=[m];z=z.concat(r);M.data?m.data=M.data:m.data=void 0;if(M.unbindSelfOnTrigger||M.unbindAllBindersOnTrigger){E.splice(N,1);N--}if(M.unbindAllBindersOnTrigger)for(var I=M.binders,B=0;B<I.length;B++){var q=I[B];if(q&&q!==C)for(var V=q._private.listeners,F=0;F<V.length;F++){var X=V[F];if(X===M){V.splice(F,1);F--}}}var Y=M.delegated?m.cyTarget:C,U=M.callback.apply(Y,z);if(U===!1||m.isPropagationStopped()){T=!1;if(U===!1){m.stopPropagation();m.preventDefault()}}}}if(T){var H=h?C._private.parent:null,W=null!=H&&0!==H.length;if(W){H=H[0];H.trigger(m)}else p.trigger(m)}}return a}},animated:function(e){var t={};e=n.extend({},t,e);return function(){var e=this,t=void 0!==e.length,r=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return!1;var i=r[0];return i?i._private.animation.current.length>0:void 0}},clearQueue:function(e){var t={};e=n.extend({},t,e);return function(){var e=this,t=void 0!==e.length,r=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return this;for(var i=0;i<r.length;i++){var a=r[i];a._private.animation.queue=[]}return this}},delay:function(e){var t={};e=n.extend({},t,e);return function(e,t){var r=this._private.cy||this;return r.styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(e){var t={};e=n.extend({},t,e);return function(e,t){var r=this._private.cy||this;return r.styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(e){var t={};e=n.extend({},t,e);return function(e,t){var r=this,i=void 0!==r.length,a=i?r:[r],o=this._private.cy||this,s=!i,u=!s;if(!o.styleEnabled())return this;var c=o.style();e=n.extend({},e,t);void 0===e.duration&&(e.duration=400);switch(e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}var f=!0;if(e)for(var d in e){f=!1;break}if(f)return new l(a[0],e);if(u){e.style=c.getPropsList(e.style||e.css);e.css=void 0}if(e.renderedPosition&&u){var p=e.renderedPosition,h=o.pan(),v=o.zoom();e.position={x:(p.x-h.x)/v,y:(p.y-h.y)/v}}if(e.panBy&&s){var g=e.panBy,m=o.pan();e.pan={x:m.x+g.x,y:m.y+g.y}}var y=e.center||e.centre;if(y&&s){var b=o.getCenterPan(y.eles,e.zoom);b&&(e.pan=b)}if(e.fit&&s){var w=e.fit,x=o.getFitViewport(w.eles||w.boundingBox,w.padding);if(x){e.pan=x.pan;e.zoom=x.zoom}}return new l(a[0],e)}},animate:function(e){var t={};e=n.extend({},t,e);return function(e,t){var r=this,i=void 0!==r.length,a=i?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return this;t&&(e=n.extend({},e,t));for(var s=0;s<a.length;s++){var l=a[s],u=l.animated()&&(void 0===e.queue||e.queue),c=l.animation(e,u?{queue:!0}:void 0);c.play()}return this}},stop:function(e){var t={};e=n.extend({},t,e);return function(e,t){var r=this,n=void 0!==r.length,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<i.length;o++){for(var s=i[o],l=s._private,u=l.animation.current,c=0;c<u.length;c++){var f=u[c],d=f._private;t&&(d.duration=0)}e&&(l.animation.queue=[]);t||(l.animation.current=[])}a.notify({collection:this,type:"draw"});return this}}};t.exports=u},{"./animation":1,"./event":42,"./is":77,"./promise":80,"./selector":81,"./util":94}],42:[function(e,t,r){"use strict";function n(){return!1}function i(){return!0}var a=function(e,t){if(!(this instanceof a))return new a(e,t);if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented?i:n}else this.type=e;if(t){this.type=void 0!==t.type?t.type:this.type;this.cy=t.cy;this.cyTarget=t.cyTarget;this.cyPosition=t.cyPosition;this.cyRenderedPosition=t.cyRenderedPosition;this.namespace=t.namespace;this.layout=t.layout;this.data=t.data;this.message=t.message}this.timeStamp=e&&e.timeStamp||Date.now()};a.prototype={instanceString:function(){return"event"},preventDefault:function(){this.isDefaultPrevented=i;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=i;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i;this.stopPropagation()},isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n};t.exports=a},{}],43:[function(e,t,r){"use strict";function n(e,t,r){var n=r;if("core"===e)c.prototype[t]=r;else if("collection"===e)u.prototype[t]=r;else if("layout"===e){for(var a=function(e){this.options=e;r.call(this,e);d.plainObject(this._private)||(this._private={});this._private.cy=e.cy;this._private.listeners=[]},o=a.prototype=Object.create(r.prototype),f=[],h=0;h<f.length;h++){var v=f[h];o[v]=o[v]||function(){return this}}o.start&&!o.run?o.run=function(){this.start();return this}:!o.start&&o.run&&(o.start=function(){this.run();return this});o.stop||(o.stop=function(){var e=this.options;if(e&&e.animate)for(var t=this.animations,r=0;r<t.length;r++)t[r].stop();this.trigger("layoutstop");return this});o.destroy||(o.destroy=function(){return this});o.on=l.on({layout:!0});o.one=l.on({layout:!0,unbindSelfOnTrigger:!0});o.once=l.on({layout:!0,unbindAllBindersOnTrigger:!0});o.off=l.off({layout:!0});o.trigger=l.trigger({layout:!0});l.eventAliasesOn(o);n=a}else if("renderer"===e&&"null"!==t&&"base"!==t){var g=i("renderer","base").prototype,m=r.prototype;for(var y in g){var b=g[y],w=null!=m[y];if(w){s.error("Can not register renderer `"+t+"` since it overrides `"+y+"` in its prototype");return}m[y]=b}g.clientFunctions.forEach(function(e){m[e]=m[e]||function(){s.error("Renderer does not implement `renderer."+e+"()` on its prototype")}})}return s.setMap({map:p,keys:[e,t],value:n})}function i(e,t){return s.getMap({map:p,keys:[e,t]})}function a(e,t,r,n,i){return s.setMap({map:h,keys:[e,t,r,n],value:i})}function o(e,t,r,n){return s.getMap({map:h,keys:[e,t,r,n]})}var s=e("./util"),l=e("./define"),u=e("./collection"),c=e("./core"),f=e("./extensions"),d=e("./is"),p={},h={},v=function(){if(2===arguments.length)return i.apply(null,arguments);if(3===arguments.length)return n.apply(null,arguments);if(4===arguments.length)return o.apply(null,arguments);if(5===arguments.length)return a.apply(null,arguments);s.error("Invalid extension access syntax")};c.prototype.extension=v;f.forEach(function(e){e.extensions.forEach(function(t){n(e.type,t.name,t.impl)})});t.exports=v},{"./collection":23,"./core":34,"./define":41,"./extensions":44,"./is":77,"./util":94}],44:[function(e,t,r){"use strict";t.exports=[{type:"layout",extensions:e("./layout")},{type:"renderer",extensions:e("./renderer")}]},{"./layout":50,"./renderer":72}],45:[function(e,t,r){"use strict";function n(e){this.options=i.extend({},s,e)}var i=e("../../util"),a=e("../../math"),o=e("../../is"),s={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){var e,t=this.options,r=t,n=t.cy,i=r.eles,s=i.nodes().not(":parent"),l=i,u=a.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(o.elementOrCollection(r.roots))e=r.roots;else if(o.array(r.roots)){for(var c=[],f=0;f<r.roots.length;f++){var d=r.roots[f],p=n.getElementById(d);c.push(p)}e=n.collection(c)}else if(o.string(r.roots))e=n.$(r.roots);else if(r.directed)e=s.roots();else{for(var h=[],v=s;v.length>0;){var g=n.collection();i.bfs({roots:v[0],visit:function(e,t,r,n,i){g=g.add(r)},directed:!1});v=v.not(g);h.push(g)}e=n.collection();for(var f=0;f<h.length;f++){var m=h[f],y=m.maxDegree(!1),b=m.filter(function(){return this.degree(!1)===y});e=e.add(b)}}var w=[],x={},_={},k={},C={},E={};l.bfs({roots:e,directed:r.directed,visit:function(e,t,r,n,i){var a=this[0],o=a.id();w[t]||(w[t]=[]);w[t].push(a);x[o]=!0;_[o]=t;k[o]=i;C[o]=n;if(i){var s=i.id(),l=E[s]=E[s]||[];l.push(r)}}});for(var S=[],f=0;f<s.length;f++){var p=s[f];x[p.id()]||S.push(p)}for(var T=3*S.length,D=0;0!==S.length&&T>D;){for(var j=S.shift(),P=j.neighborhood().nodes(),N=!1,f=0;f<P.length;f++){var M=_[P[f].id()];if(void 0!==M){w[M].push(j);N=!0;break}}N||S.push(j);D++}for(;0!==S.length;){var j=S.shift(),N=!1;if(!N){0===w.length&&w.push([]);w[0].push(j)}}var L=function(){for(var e=0;e<w.length;e++)for(var t=w[e],r=0;r<t.length;r++){var n=t[r];n._private.scratch.breadthfirst={depth:e,index:r}}};L();for(var A=function(e){for(var t,r=e.connectedEdges(function(){return this.data("target")===e.id()}),n=e._private.scratch.breadthfirst,i=0,a=0;a<r.length;a++){var o=r[a],s=o.source()[0],l=s._private.scratch.breadthfirst;if(n.depth<=l.depth&&i<l.depth){i=l.depth;t=s}}return t},O=0;O<r.maximalAdjustments;O++){for(var R=w.length,z=[],f=0;R>f;f++)for(var M=w[f],I=M.length,B=0;I>B;B++){var p=M[B],q=p._private.scratch.breadthfirst,V=A(p);if(V){q.intEle=V;z.push(p)}}for(var f=0;f<z.length;f++){var p=z[f],q=p._private.scratch.breadthfirst,V=q.intEle,F=V._private.scratch.breadthfirst;w[q.depth].splice(q.index,1);for(var X=F.depth+1;X>w.length-1;)w.push([]);w[X].push(p);q.depth=X;q.index=w[X].length-1}L()}var Y=0;if(r.avoidOverlap){for(var f=0;f<s.length;f++){var U=s[f],H=U.boundingBox(),W=H.w,$=H.h;Y=Math.max(Y,W,$)}Y*=r.spacingFactor}for(var G={},Z=function(e){if(G[e.id()])return G[e.id()];for(var t=e._private.scratch.breadthfirst.depth,r=e.neighborhood().nodes().not(":parent"),n=0,i=0,a=0;a<r.length;a++){var o=r[a],s=o._private.scratch.breadthfirst,l=s.index,u=s.depth,c=w[u].length;if(t>u||0===t){n+=l/c;i++}}i=Math.max(1,i);n/=i;0===i&&(n=void 0);G[e.id()]=n;return n},J=function(e,t){var r=Z(e),n=Z(t);return r-n},Q=0;3>Q;Q++){for(var f=0;f<w.length;f++)w[f]=w[f].sort(J);L()}for(var K=0,f=0;f<w.length;f++)K=Math.max(w[f].length,K);for(var ee={x:u.x1+u.w/2,y:u.x1+u.h/2},te=function(e,t){var n=e._private.scratch.breadthfirst,i=n.depth,a=n.index,o=w[i].length,s=Math.max(u.w/(o+1),Y),l=Math.max(u.h/(w.length+1),Y),c=Math.min(u.w/2/w.length,u.h/2/w.length);c=Math.max(c,Y);if(r.circle){if(r.circle){var f=c*i+c-(w.length>0&&w[0].length<=3?c/2:0),d=2*Math.PI/w[i].length*a;0===i&&1===w[0].length&&(f=1);return{x:ee.x+f*Math.cos(d),y:ee.y+f*Math.sin(d)}}return{x:ee.x+(a+1-(o+1)/2)*s,y:(i+1)*l}}var p={x:ee.x+(a+1-(o+1)/2)*s,y:(i+1)*l};return t?p:p},re={},f=w.length-1;f>=0;f--)for(var M=w[f],B=0;B<M.length;B++){var j=M[B];re[j.id()]=te(j,f===w.length-1)}s.layoutPositions(this,r,function(){return re[this.id()]});return this};t.exports=n},{"../../is":77,"../../math":79,"../../util":94}],46:[function(e,t,r){"use strict";function n(e){this.options=i.extend({},s,e)}var i=e("../../util"),a=e("../../math"),o=e("../../is"),s={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,s=n.nodes().not(":parent");t.sort&&(s=s.sort(t.sort));for(var l,u=a.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),c={x:u.x1+u.w/2,y:u.y1+u.h/2},f=void 0===t.sweep?2*Math.PI-2*Math.PI/s.length:t.sweep,d=f/Math.max(1,s.length-1),p=0,h=0;h<s.length;h++){var v=s[h],g=v.boundingBox(),m=g.w,y=g.h;p=Math.max(p,m,y)}l=o.number(t.radius)?t.radius:s.length<=1?0:Math.min(u.h,u.w)/2-p;if(s.length>1&&t.avoidOverlap){p*=1.75;var b=Math.cos(d)-Math.cos(0),w=Math.sin(d)-Math.sin(0),x=Math.sqrt(p*p/(b*b+w*w));l=Math.max(x,l)}var _=function(e,r){var n=t.startAngle+e*d*(i?1:-1),a=l*Math.cos(n),o=l*Math.sin(n),s={x:c.x+a,y:c.y+o};return s};s.layoutPositions(this,t,_);return this};t.exports=n},{"../../is":77,"../../math":79,"../../util":94}],47:[function(e,t,r){"use strict";function n(e){this.options=i.extend({},o,e)}var i=e("../../util"),a=e("../../math"),o={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){for(var e=this.options,t=e,r=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,n=e.cy,i=t.eles,o=i.nodes().not(":parent"),s=a.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=[],c=t.startAngle,f=0,d=0;d<o.length;d++){var p,h=o[d];p=t.concentric.apply(h,[h]);u.push({value:p,node:h});h._private.scratch.concentric=p}o.updateStyle();for(var d=0;d<o.length;d++){var h=o[d],v=h.boundingBox();f=Math.max(f,v.w,v.h)}u.sort(function(e,t){return t.value-e.value});for(var g=t.levelWidth(o),m=[[]],y=m[0],d=0;d<u.length;d++){var b=u[d];if(y.length>0){var w=Math.abs(y[0].value-b.value);if(w>=g){y=[];m.push(y)}}y.push(b)}var x=f+t.minNodeSpacing;if(!t.avoidOverlap){var _=m.length>0&&m[0].length>1,k=Math.min(s.w,s.h)/2-x,C=k/(m.length+_?1:0);x=Math.min(x,C)}for(var E=0,d=0;d<m.length;d++){var S=m[d],T=void 0===t.sweep?2*Math.PI-2*Math.PI/S.length:t.sweep,D=S.dTheta=T/Math.max(1,S.length-1);if(S.length>1&&t.avoidOverlap){var j=Math.cos(D)-Math.cos(0),P=Math.sin(D)-Math.sin(0),N=Math.sqrt(x*x/(j*j+P*P));E=Math.max(N,E)}S.r=E;E+=x}if(t.equidistant){for(var M=0,E=0,d=0;d<m.length;d++){var S=m[d],L=S.r-E;M=Math.max(M,L)}E=0;for(var d=0;d<m.length;d++){var S=m[d];0===d&&(E=S.r);S.r=E;E+=M}}for(var A={},d=0;d<m.length;d++)for(var S=m[d],D=S.dTheta,E=S.r,O=0;O<S.length;O++){var b=S[O],c=t.startAngle+(r?1:-1)*D*O,R={x:l.x+E*Math.cos(c),y:l.y+E*Math.sin(c)};A[b.node.id()]=R}o.layoutPositions(this,t,function(){var e=this.id();return A[e]});return this};t.exports=n},{"../../math":79,"../../util":94}],48:[function(e,t,r){"use strict";function n(e){this.options=a.extend({},u,e);this.options.layout=this}var i,a=e("../../util"),o=e("../../math"),s=e("../../thread"),l=e("../../is"),u={ready:function(){},stop:function(){},animate:!0,animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,componentSpacing:100,nodeRepulsion:function(e){return 4e5},nodeOverlap:10,idealEdgeLength:function(e){return 10},edgeElasticity:function(e){return 100},nestingFactor:5,gravity:80,numIter:1e3,initialTemp:200,coolingFactor:.95,minTemp:1,useMultitasking:!0};n.prototype.run=function(){var e=this.options,t=e.cy,r=this,n=this.thread;n&&!n.stopped()||(n=this.thread=s({disabled:!e.useMultitasking}));r.stopped=!1;r.trigger({type:"layoutstart",layout:r});i=!0===e.debug;var o=c(t,r,e);i&&p(o);h(o,t);var l=Date.now(),u=!1,f=function(r){r=r||{};if(!u&&(r.force||!(Date.now()-l<e.animationThreshold))){u=!0;a.requestAnimationFrame(function(){v(o,t,e);!0===e.fit&&t.fit(e.padding);u=!1;r.next&&r.next()})}};n.on("message",function(e){var t=e.message;o.layoutNodes=t;f()});n.pass({layoutInfo:o,options:{animate:e.animate,refresh:e.refresh,componentSpacing:e.componentSpacing,nodeOverlap:e.nodeOverlap,nestingFactor:e.nestingFactor,gravity:e.gravity,numIter:e.numIter,initialTemp:e.initialTemp,coolingFactor:e.coolingFactor,minTemp:e.minTemp}}).run(function(e){var t,r=e.layoutInfo,n=e.options,i=!1,a=function(e,t,r){o(e,t);c(e,t);f(e,t);d(e,t);p(e,t)},o=function(e,t){for(var r=0;r<e.graphSet.length;r++)for(var n=e.graphSet[r],i=n.length,a=0;i>a;a++)for(var o=e.layoutNodes[e.idToIndex[n[a]]],l=a+1;i>l;l++){var u=e.layoutNodes[e.idToIndex[n[l]]];s(o,u,e,t)}},s=function(e,t,r,n){var i=e.cmptId,a=t.cmptId;if(i===a||r.isCompound){var o=t.positionX-e.positionX,s=t.positionY-e.positionY;if(0!==o||0!==s){var c=l(e,t,o,s);if(c>0)var f=n.nodeOverlap*c,d=Math.sqrt(o*o+s*s),p=f*o/d,h=f*s/d;else var v=u(e,o,s),g=u(t,-1*o,-1*s),m=g.x-v.x,y=g.y-v.y,b=m*m+y*y,d=Math.sqrt(b),f=(e.nodeRepulsion+t.nodeRepulsion)/b,p=f*m/d,h=f*y/d;if(!e.isLocked){e.offsetX-=p;e.offsetY-=h}if(!t.isLocked){t.offsetX+=p;t.offsetY+=h}}}},l=function(e,t,r,n){if(r>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(n>0)var a=e.maxY-t.minY;else var a=t.maxY-e.minY;return i>=0&&a>=0?Math.sqrt(i*i+a*a):0},u=function(e,t,r){var n=e.positionX,i=e.positionY,a=e.height||1,o=e.width||1,s=r/t,l=a/o,u={};do{if(0===t&&r>0){u.x=n;u.y=i+a/2;break}if(0===t&&0>r){u.x=n;u.y=i+a/2;break}if(t>0&&s>=-1*l&&l>=s){u.x=n+o/2;u.y=i+o*r/2/t;break}if(0>t&&s>=-1*l&&l>=s){u.x=n-o/2;u.y=i-o*r/2/t;break}if(r>0&&(-1*l>=s||s>=l)){u.x=n+a*t/2/r;u.y=i+a/2;break}if(0>r&&(-1*l>=s||s>=l)){u.x=n-a*t/2/r;u.y=i-a/2;break}}while(!1);return u},c=function(e,t){for(var r=0;r<e.edgeSize;r++){var n=e.layoutEdges[r],i=e.idToIndex[n.sourceId],a=e.layoutNodes[i],o=e.idToIndex[n.targetId],s=e.layoutNodes[o],l=s.positionX-a.positionX,c=s.positionY-a.positionY;if(0===l&&0===c)return;var f=u(a,l,c),d=u(s,-1*l,-1*c),p=d.x-f.x,h=d.y-f.y,v=Math.sqrt(p*p+h*h),g=Math.pow(n.idealLength-v,2)/n.elasticity;if(0!==v)var m=g*p/v,y=g*h/v;else var m=0,y=0;if(!a.isLocked){a.offsetX+=m;a.offsetY+=y}if(!s.isLocked){s.offsetX-=m;s.offsetY-=y}}},f=function(e,t){for(var r=1,n=0;n<e.graphSet.length;n++){var i=e.graphSet[n],a=i.length;if(0===n)var o=e.clientHeight/2,s=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[i[0]]],u=e.layoutNodes[e.idToIndex[l.parentId]],o=u.positionX,s=u.positionY;for(var c=0;a>c;c++){var f=e.layoutNodes[e.idToIndex[i[c]]];if(!f.isLocked){var d=o-f.positionX,p=s-f.positionY,h=Math.sqrt(d*d+p*p);if(h>r){var v=t.gravity*d/h,g=t.gravity*p/h;f.offsetX+=v;f.offsetY+=g}}}}},d=function(e,t){var r=[],n=0,i=-1;r.push.apply(r,e.graphSet[0]);i+=e.graphSet[0].length;for(;i>=n;){var a=r[n++],o=e.idToIndex[a],s=e.layoutNodes[o],l=s.children;if(0<l.length&&!s.isLocked){for(var u=s.offsetX,c=s.offsetY,f=0;f<l.length;f++){var d=e.layoutNodes[e.idToIndex[l[f]]];d.offsetX+=u;d.offsetY+=c;r[++i]=l[f]}s.offsetX=0;s.offsetY=0}}},p=function(e,t){for(var r=0;r<e.nodeSize;r++){var n=e.layoutNodes[r];if(0<n.children.length){n.maxX=void 0;n.minX=void 0;n.maxY=void 0;n.minY=void 0}}for(var r=0;r<e.nodeSize;r++){var n=e.layoutNodes[r];if(!(0<n.children.length||n.isLocked)){var i=h(n.offsetX,n.offsetY,e.temperature);n.positionX+=i.x;n.positionY+=i.y;n.offsetX=0;n.offsetY=0;n.minX=n.positionX-n.width;n.maxX=n.positionX+n.width;n.minY=n.positionY-n.height;n.maxY=n.positionY+n.height;v(n,e)}}for(var r=0;r<e.nodeSize;r++){var n=e.layoutNodes[r];if(0<n.children.length&&!n.isLocked){n.positionX=(n.maxX+n.minX)/2;n.positionY=(n.maxY+n.minY)/2;n.width=n.maxX-n.minX;n.height=n.maxY-n.minY}}},h=function(e,t,r){var n=Math.sqrt(e*e+t*t);if(n>r)var i={x:r*e/n,y:r*t/n};else var i={x:e,y:t};return i},v=function(e,t){var r=e.parentId;if(null!=r){var n=t.layoutNodes[t.idToIndex[r]],i=!1;if(null==n.maxX||e.maxX+n.padRight>n.maxX){n.maxX=e.maxX+n.padRight;i=!0}if(null==n.minX||e.minX-n.padLeft<n.minX){n.minX=e.minX-n.padLeft;i=!0}if(null==n.maxY||e.maxY+n.padBottom>n.maxY){n.maxY=e.maxY+n.padBottom;i=!0}if(null==n.minY||e.minY-n.padTop<n.minY){n.minY=e.minY-n.padTop;i=!0}return i?v(n,t):void 0}},g=function(e,t){for(var n=r.layoutNodes,i=[],a=0;a<n.length;a++){var o=n[a],s=o.cmptId,l=i[s]=i[s]||[];l.push(o)}for(var u=0,a=0;a<i.length;a++){var c=i[a];c.x1=1/0;c.x2=-(1/0);c.y1=1/0;c.y2=-(1/0);for(var f=0;f<c.length;f++){var d=c[f];c.x1=Math.min(c.x1,d.positionX-d.width/2);c.x2=Math.max(c.x2,d.positionX+d.width/2);c.y1=Math.min(c.y1,d.positionY-d.height/2);c.y2=Math.max(c.y2,d.positionY+d.height/2)}c.w=c.x2-c.x1;c.h=c.y2-c.y1;u+=c.w*c.h}i.sort(function(e,t){return t.w*t.h-e.w*e.h});for(var p=0,h=0,v=0,g=0,m=Math.sqrt(u)*r.clientWidth/r.clientHeight,a=0;a<i.length;a++){for(var c=i[a],f=0;f<c.length;f++){var d=c[f];if(!d.isLocked){d.positionX+=p;d.positionY+=h}}p+=c.w+t.componentSpacing;v+=c.w+t.componentSpacing;g=Math.max(g,c.h);if(v>m){h+=g+t.componentSpacing;p=0;v=0;g=0}}},m=function(e){if(i)return!1;a(r,n,e);r.temperature=r.temperature*n.coolingFactor;return!(r.temperature<n.minTemp)},y=0;do{for(var b=0;b<n.refresh&&y<n.numIter;){var t=m(y);if(!t)break;b++;y++}n.animate&&broadcast(r.layoutNodes)}while(t&&y+1<n.numIter);g(r,n);return r}).then(function(e){o.layoutNodes=e.layoutNodes;n.stop();d()});var d=function(){f({force:!0,next:function(){r.one("layoutstop",e.stop);r.trigger({type:"layoutstop",layout:r})}})};return this};n.prototype.stop=function(){this.stopped=!0;this.thread&&this.thread.stop();this.trigger("layoutstop");return this};n.prototype.destroy=function(){this.thread&&this.thread.stop();return this};var c=function(e,t,r){for(var n=r.eles.edges(),i=r.eles.nodes(),a={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:r.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:o.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},s=r.eles.components(),u={},c=0;c<s.length;c++)for(var d=s[c],p=0;p<d.length;p++){var h=d[p];u[h.id()]=c}for(var c=0;c<a.nodeSize;c++){var v=i[c],g=v.boundingBox(),m={};m.isLocked=v.locked();m.id=v.data("id");m.parentId=v.data("parent");m.cmptId=u[v.id()];m.children=[];m.positionX=v.position("x");m.positionY=v.position("y");m.offsetX=0;m.offsetY=0;m.height=g.w;m.width=g.h;m.maxX=m.positionX+m.width/2;m.minX=m.positionX-m.width/2;m.maxY=m.positionY+m.height/2;m.minY=m.positionY-m.height/2;m.padLeft=parseFloat(v.style("padding-left"));m.padRight=parseFloat(v.style("padding-right"));m.padTop=parseFloat(v.style("padding-top"));m.padBottom=parseFloat(v.style("padding-bottom"));m.nodeRepulsion=l.fn(r.nodeRepulsion)?r.nodeRepulsion.call(v,v):r.nodeRepulsion;a.layoutNodes.push(m);a.idToIndex[m.id]=c}for(var y=[],b=0,w=-1,x=[],c=0;c<a.nodeSize;c++){var v=a.layoutNodes[c],_=v.parentId;if(null!=_)a.layoutNodes[a.idToIndex[_]].children.push(v.id);else{y[++w]=v.id;x.push(v.id)}}a.graphSet.push(x);for(;w>=b;){var k=y[b++],C=a.idToIndex[k],h=a.layoutNodes[C],E=h.children;if(E.length>0){a.graphSet.push(E);for(var c=0;c<E.length;c++)y[++w]=E[c]}}for(var c=0;c<a.graphSet.length;c++)for(var S=a.graphSet[c],p=0;p<S.length;p++){var T=a.idToIndex[S[p]];a.indexToGraph[T]=c}for(var c=0;c<a.edgeSize;c++){var D=n[c],j={};j.id=D.data("id");j.sourceId=D.data("source");j.targetId=D.data("target");var P=l.fn(r.idealEdgeLength)?r.idealEdgeLength.call(D,D):r.idealEdgeLength,N=l.fn(r.edgeElasticity)?r.edgeElasticity.call(D,D):r.edgeElasticity,M=a.idToIndex[j.sourceId],L=a.idToIndex[j.targetId],A=a.indexToGraph[M],O=a.indexToGraph[L];if(A!=O){for(var R=f(j.sourceId,j.targetId,a),z=a.graphSet[R],I=0,m=a.layoutNodes[M];-1===z.indexOf(m.id);){m=a.layoutNodes[a.idToIndex[m.parentId]];I++}m=a.layoutNodes[L];for(;-1===z.indexOf(m.id);){m=a.layoutNodes[a.idToIndex[m.parentId]];I++}P*=I*r.nestingFactor}j.idealLength=P;j.elasticity=N;a.layoutEdges.push(j)}return a},f=function(e,t,r){var n=d(e,t,0,r);return 2>n.count?0:n.graph},d=function(e,t,r,n){var i=n.graphSet[r];if(-1<i.indexOf(e)&&-1<i.indexOf(t))return{count:2,graph:r};for(var a=0,o=0;o<i.length;o++){var s=i[o],l=n.idToIndex[s],u=n.layoutNodes[l].children;if(0!==u.length){var c=n.indexToGraph[n.idToIndex[u[0]]],f=d(e,t,c,n);if(0!==f.count){if(1!==f.count)return f;a++;if(2===a)break}}}return{count:a,graph:r}},p=function(e){if(i){console.debug("layoutNodes:");for(var t=0;t<e.nodeSize;t++){var r=e.layoutNodes[t],n="\nindex: "+t+"\nId: "+r.id+"\nChildren: "+r.children.toString()+"\nparentId: "+r.parentId+"\npositionX: "+r.positionX+"\npositionY: "+r.positionY+"\nOffsetX: "+r.offsetX+"\nOffsetY: "+r.offsetY+"\npadLeft: "+r.padLeft+"\npadRight: "+r.padRight+"\npadTop: "+r.padTop+"\npadBottom: "+r.padBottom;console.debug(n)}console.debug("idToIndex");for(var t in e.idToIndex)console.debug("Id: "+t+"\nIndex: "+e.idToIndex[t]);console.debug("Graph Set");for(var a=e.graphSet,t=0;t<a.length;t++)console.debug("Set : "+t+": "+a[t].toString());for(var n="IndexToGraph",t=0;t<e.indexToGraph.length;t++)n+="\nIndex : "+t+" Graph: "+e.indexToGraph[t];console.debug(n);n="Layout Edges";for(var t=0;t<e.layoutEdges.length;t++){var o=e.layoutEdges[t];n+="\nEdge Index: "+t+" ID: "+o.id+" SouceID: "+o.sourceId+" TargetId: "+o.targetId+" Ideal Length: "+o.idealLength}console.debug(n);n="nodeSize: "+e.nodeSize;n+="\nedgeSize: "+e.edgeSize;n+="\ntemperature: "+e.temperature;console.debug(n)}},h=function(e,t){for(var r=e.clientWidth,n=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];if(0===a.children.length&&!a.isLocked){a.positionX=Math.random()*r;a.positionY=Math.random()*n}}},v=function(e,t,r){var n=r.layout,i=r.eles.nodes(),a=e.boundingBox,o={x1:1/0,x2:-(1/0),y1:1/0,y2:-(1/0)};if(r.boundingBox){i.forEach(function(t){var r=e.layoutNodes[e.idToIndex[t.data("id")]];o.x1=Math.min(o.x1,r.positionX);o.x2=Math.max(o.x2,r.positionX);o.y1=Math.min(o.y1,r.positionY);o.y2=Math.max(o.y2,r.positionY)});o.w=o.x2-o.x1;o.h=o.y2-o.y1}i.positions(function(t,n){var i=e.layoutNodes[e.idToIndex[n.data("id")]];if(r.boundingBox){var s=(i.positionX-o.x1)/o.w,l=(i.positionY-o.y1)/o.h;return{x:a.x1+s*a.w,y:a.y1+l*a.h}}return{x:i.positionX,y:i.positionY}});if(!0!==e.ready){e.ready=!0;n.one("layoutready",r.ready);n.trigger({type:"layoutready",layout:this})}};t.exports=n},{"../../is":77,"../../math":79,"../../thread":92,"../../util":94}],49:[function(e,t,r){"use strict";function n(e){this.options=i.extend({},o,e)}var i=e("../../util"),a=e("../../math"),o={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var o=a.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(0===o.h||0===o.w)i.layoutPositions(this,t,function(){return{x:o.x1,y:o.y1}});else{var s=i.size(),l=Math.sqrt(s*o.h/o.w),u=Math.round(l),c=Math.round(o.w/o.h*l),f=function(e){if(null==e)return Math.min(u,c);var t=Math.min(u,c);t==u?u=e:c=e},d=function(e){if(null==e)return Math.max(u,c);var t=Math.max(u,c);t==u?u=e:c=e},p=t.rows,h=null!=t.cols?t.cols:t.columns;if(null!=p&&null!=h){u=p;c=h}else if(null!=p&&null==h){u=p;c=Math.ceil(s/u)}else if(null==p&&null!=h){c=h;u=Math.ceil(s/c)}else if(c*u>s){var v=f(),g=d();(v-1)*g>=s?f(v-1):(g-1)*v>=s&&d(g-1)}else for(;s>c*u;){var v=f(),g=d();(g+1)*v>=s?d(g+1):f(v+1)}var m=o.w/c,y=o.h/u;if(t.condense){m=0;y=0}if(t.avoidOverlap)for(var b=0;b<i.length;b++){var w=i[b],x=w._private.position;if(null==x.x||null==x.y){x.x=0;x.y=0}var _=w.boundingBox(),k=t.avoidOverlapPadding,C=_.w+k,E=_.h+k;m=Math.max(m,C);y=Math.max(y,E)}for(var S={},T=function(e,t){return!!S["c-"+e+"-"+t]},D=function(e,t){S["c-"+e+"-"+t]=!0},j=0,P=0,N=function(){P++;if(P>=c){P=0;j++}},M={},b=0;b<i.length;b++){var w=i[b],L=t.position(w);if(L&&(void 0!==L.row||void 0!==L.col)){var x={row:L.row,col:L.col};if(void 0===x.col){x.col=0;for(;T(x.row,x.col);)x.col++}else if(void 0===x.row){x.row=0;for(;T(x.row,x.col);)x.row++}M[w.id()]=x;D(x.row,x.col)}}var A=function(e,t){var r,n;if(t.locked()||t.isFullAutoParent())return!1;var i=M[t.id()];if(i){r=i.col*m+m/2+o.x1;n=i.row*y+y/2+o.y1}else{for(;T(j,P);)N();r=P*m+m/2+o.x1;n=j*y+y/2+o.y1;D(j,P);N()}return{x:r,y:n}};i.layoutPositions(this,t,A)}return this};t.exports=n},{"../../math":79,"../../util":94}],50:[function(e,t,r){"use strict";t.exports=[{name:"breadthfirst",impl:e("./breadthfirst")},{name:"circle",impl:e("./circle")},{name:"concentric",impl:e("./concentric")},{name:"cose",impl:e("./cose")},{name:"grid",impl:e("./grid")},{name:"null",impl:e("./null")},{name:"preset",impl:e("./preset")},{name:"random",impl:e("./random")}]},{"./breadthfirst":45,"./circle":46,"./concentric":47,"./cose":48,"./grid":49,"./null":51,"./preset":52,"./random":53}],51:[function(e,t,r){"use strict";function n(e){this.options=i.extend({},a,e)}var i=e("../../util"),a={ready:function(){},stop:function(){}};n.prototype.run=function(){var e=this.options,t=e.eles,r=this;e.cy;r.trigger("layoutstart");t.nodes().positions(function(){return{x:0,y:0}});r.one("layoutready",e.ready);r.trigger("layoutready");r.one("layoutstop",e.stop);r.trigger("layoutstop");return this};n.prototype.stop=function(){return this};t.exports=n},{"../../util":94}],52:[function(e,t,r){"use strict";function n(e){this.options=i.extend({},o,e)}var i=e("../../util"),a=e("../../is"),o={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){function e(e){if(null==t.positions)return null;if(i)return t.positions.apply(e,[e]);var r=t.positions[e._private.data.id];return null==r?null:r}var t=this.options,r=t.eles,n=r.nodes(),i=a.fn(t.positions);
n.layoutPositions(this,t,function(t,r){var n=e(r);return r.locked()||null==n?!1:n});return this};t.exports=n},{"../../is":77,"../../util":94}],53:[function(e,t,r){"use strict";function n(e){this.options=i.extend({},o,e)}var i=e("../../util"),a=e("../../math"),o={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0};n.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=r.nodes().not(":parent"),i=a.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),o=function(e,t){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}};n.layoutPositions(this,e,o);return this};t.exports=n},{"../../math":79,"../../util":94}],54:[function(e,t,r){"use strict";var n=e("../../../math"),i=e("../../../is"),a=e("../../../util"),o={};o.arrowShapeHeight=.3;o.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=function(e,t,r,n,i,a){var o=i.x-r/2-a,s=i.x+r/2+a,l=i.y-r/2-a,u=i.y+r/2+a,c=e>=o&&s>=e&&t>=l&&u>=t;return c},o=function(e,t,r,n,i){var a=e*Math.cos(n)-t*Math.sin(n),o=e*Math.sin(n)+t*Math.cos(n),s=a*r,l=o*r,u=s+i.x,c=l+i.y;return{x:u,y:c}},s=function(e,t,r,n){for(var i=[],a=0;a<e.length;a+=2){var s=e[a],l=e[a+1];i.push(o(s,l,t,r,n))}return i},l=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n.x,n.y)}return t},u=function(o,u){i.string(u)&&(u=e[u]);e[o]=a.extend({name:o,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,r,i,a,o){var u=l(s(this.points,r+2*o,i,a)),c=n.pointInsidePolygonPoints(e,t,u);return c},roughCollide:r,draw:function(e,r,n,i){var a=s(this.points,r,n,i);t.arrowShapeImpl("polygon")(e,a)},spacing:function(e){return 0},gap:function(e){return 2*e._private.style.width.pfValue}},u)};u("none",{collide:a.falsify,roughCollide:a.falsify,draw:a.noop,spacing:a.zeroify,gap:a.zeroify});u("triangle",{points:[-.15,-.3,0,0,.15,-.3]});u("arrow","triangle");u("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(e,r,n,i){var a=s(this.points,r,n,i),l=this.controlPoint,u=o(l[0],l[1],r,n,i);t.arrowShapeImpl(this.name)(e,a,u)},gap:function(e){return e._private.style.width.pfValue}});u("triangle-tee",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,r,i,a,o){var u=l(s(this.points,r+2*o,i,a)),c=l(s(this.pointsTee,r+2*o,i,a)),f=n.pointInsidePolygonPoints(e,t,u)||n.pointInsidePolygonPoints(e,t,c);return f},draw:function(e,r,n,i){var a=s(this.points,r,n,i),o=s(this.pointsTee,r,n,i);t.arrowShapeImpl(this.name)(e,a,o)}});u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return e._private.style.width.pfValue}});u("half-triangle-overshot",{points:[0,-.25,-.5,-.25,.5,.25],leavePathOpen:!0,matchEdgeWidth:!0});u("circle",{radius:.15,collide:function(e,t,r,n,i,a){var o=i,s=Math.pow(o.x-e,2)+Math.pow(o.y-t,2)<=Math.pow((r+2*a)*this.radius,2);return s},draw:function(e,r,n,i){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*r)},spacing:function(e){return t.getArrowWidth(e._private.style.width.pfValue)*this.radius}});u("inhibitor",{points:[-.25,0,-.25,-.1,.25,-.1,.25,0],spacing:function(e){return 1},gap:function(e){return 1}});u("tee","inhibitor");u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]});u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e._private.style.width.pfValue}})};t.exports=o},{"../../../is":77,"../../../math":79,"../../../util":94}],55:[function(e,t,r){"use strict";var n={},i=function(e){e.eleEache=null},a=function(e){e.eleEache||(e.eleEache={nodes:e.cy.nodes(),edges:e.cy.edges()});return e.eleEache};n.getCachedElements=function(){return a(this)};n.getCachedNodes=function(){return a(this).nodes};n.getCachedEdges=function(){return a(this).edges};n.updateElementsCache=function(){var e=this;i(e);return a(e)};t.exports=n},{}],56:[function(e,t,r){"use strict";function n(e,t){var r=function(e,t,r,n){return i.qbezierAt(e,t,r,n)},n=e._private,a=n.rstyle.bezierPts;a.push({x:r(t[0],t[2],t[4],.05),y:r(t[1],t[3],t[5],.05)});a.push({x:r(t[0],t[2],t[4],.25),y:r(t[1],t[3],t[5],.25)});a.push({x:r(t[0],t[2],t[4],.4),y:r(t[1],t[3],t[5],.4)});a.push({x:r(t[0],t[2],t[4],.5),y:r(t[1],t[3],t[5],.5)});a.push({x:r(t[0],t[2],t[4],.6),y:r(t[1],t[3],t[5],.6)});a.push({x:r(t[0],t[2],t[4],.75),y:r(t[1],t[3],t[5],.75)});a.push({x:r(t[0],t[2],t[4],.95),y:r(t[1],t[3],t[5],.95)})}var i=e("../../../math"),a=e("../../../is"),o=e("../../../collection/zsort"),s={};s.projectIntoViewport=function(e,t){var r=this.findContainerClientCoords(),n=r[0],i=r[1],a=e-n,o=t-i;a-=this.cy.pan().x;o-=this.cy.pan().y;a/=this.cy.zoom();o/=this.cy.zoom();return[a,o]};s.findContainerClientCoords=function(){var e=this.container,t=this.containerBB=this.containerBB||e.getBoundingClientRect();return[t.left,t.top,t.right-t.left,t.bottom-t.top]};s.invalidateContainerClientCoordsCache=function(){this.containerBB=null};s.findNearestElement=function(e,t,r,n){function a(n){var i=n._private;if("no"!==i.style.events.strValue){var a=n.outerWidth()+2*v,o=n.outerHeight()+2*v,s=a/2,c=o/2,d=i.position;if(d.x-s<=e&&e<=d.x+s&&d.y-c<=t&&t<=d.y+c){var p=!r||n.visible()&&!n.transparent();if(r&&!p)return;var h=u.nodeShapes[l.getNodeShape(n)];h.checkPoint(e,t,0,a,o,d.x,d.y)&&f.push(n)}}}function o(n){var o=n._private;if("no"!==o.style.events.strValue){var s,c,d=o.rscratch,v=o.style,g=v.width.pfValue/2+h,m=g*g,y=2*g,b=o.source,w=o.target,x=!1,_=function(){if(void 0!==c)return c;if(!r){c=!0;return!0}var e=n.visible()&&!n.transparent();if(e){c=!0;return!0}c=!1;return!1};if("segments"===d.edgeType||"straight"===d.edgeType||"haystack"===d.edgeType)for(var k=d.allpts,C=0;C+3<k.length;C+=2)(x=i.inLineVicinity(e,t,k[C],k[C+1],k[C+2],k[C+3],y))&&_()&&m>(s=i.sqDistanceToFiniteLine(e,t,k[C],k[C+1],k[C+2],k[C+3]))&&f.push(n);else if("bezier"===d.edgeType||"multibezier"===d.edgeType||"self"===d.edgeType||"compound"===d.edgeType)for(var k=d.allpts,C=0;C+5<d.allpts.length;C+=4)(x=i.inBezierVicinity(e,t,k[C],k[C+1],k[C+2],k[C+3],k[C+4],k[C+5],y))&&_()&&m>(s=i.sqDistanceToQuadraticBezier(e,t,k[C],k[C+1],k[C+2],k[C+3],k[C+4],k[C+5]))&&f.push(n);if(x&&_()&&0===f.length||f[f.length-1]!==n)for(var b=b||o.source,w=w||o.target,E=v.width.pfValue,S=l.getArrowWidth(E),T=[{name:"source",x:d.arrowStartX,y:d.arrowStartY,angle:d.srcArrowAngle},{name:"target",x:d.arrowEndX,y:d.arrowEndY,angle:d.tgtArrowAngle},{name:"mid-source",x:d.midX,y:d.midY,angle:d.midsrcArrowAngle},{name:"mid-target",x:d.midX,y:d.midY,angle:d.midtgtArrowAngle}],C=0;C<T.length;C++){var D=T[C],j=u.arrowShapes[v[D.name+"-arrow-shape"].value];if(j.roughCollide(e,t,S,D.angle,{x:D.x,y:D.y},h)&&j.collide(e,t,S,D.angle,{x:D.x,y:D.y},h)){f.push(n);break}}if(p&&f.length>0&&f[f.length-1]===n){a(b);a(w)}}}function s(r){var n=r._private,a=g;if("no"!==n.style["text-events"].strValue)if("edges"===n.group&&"autorotate"===n.style["edge-text-rotation"].strValue){var o=n.rstyle,s=o.labelWidth+2*a,l=o.labelHeight+2*a,u=o.labelX,c=o.labelY,d=n.rscratch.labelAngle,p=Math.cos(d),h=Math.sin(d),v=function(e,t){e-=u;t-=c;return{x:e*p-t*h+u,y:e*h+t*p+c}},m=u-s/2,y=u+s/2,b=c-l/2,w=c+l/2,x=v(m,b),_=v(m,w),k=v(y,b),C=v(y,w),E=[x.x,x.y,k.x,k.y,C.x,C.y,_.x,_.y];i.pointInsidePolygonPoints(e,t,E)&&f.push(r)}else{var S=r.boundingBox({includeLabels:!0,includeNodes:!1,includeEdges:!1});S.x1-=a;S.y1-=a;S.x2+=a;S.y2+=a;S.w=S.x2-S.x1;S.h=S.y2-S.y1;i.inBoundingBox(S,e,t)&&f.push(r)}}for(var l=this,u=this,c=u.getCachedZSortedEles(),f=[],d=u.cy.zoom(),p=u.cy.hasCompoundNodes(),h=(n?24:8)/d,v=(n?8:2)/d,g=(n?8:2)/d,m=c.length-1;m>=0;m--){var y=c[m],b=y._private;if(f.length>0)break;"nodes"===b.group?a(y):o(y);s(y)}return f.length>0?f[f.length-1]:null};s.getAllInBox=function(e,t,r,n){var a=this.getCachedNodes(),o=this.getCachedEdges(),s=[],l=Math.min(e,r),u=Math.max(e,r),c=Math.min(t,n),f=Math.max(t,n);e=l;r=u;t=c;n=f;for(var d=i.makeBoundingBox({x1:e,y1:t,x2:r,y2:n}),p=0;p<a.length;p++){var h=a[p],v=h.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});i.boundingBoxesIntersect(d,v)&&s.push(a[p])}for(var g=0;g<o.length;g++){var m=o[g],y=m._private,b=y.rscratch;if((null==b.startX||null==b.startY||i.inBoundingBox(d,b.startX,b.startY))&&(null==b.endX||null==b.endY||i.inBoundingBox(d,b.endX,b.endY)))if("bezier"===b.edgeType||"multibezier"===b.edgeType||"self"===b.edgeType||"compound"===b.edgeType||"segments"===b.edgeType||"haystack"===b.edgeType){for(var w=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,x=!0,p=0;p<w.length;p++)if(!i.pointInBoundingBox(d,w[p])){x=!1;break}x&&s.push(m)}else"haystack"!==b.edgeType&&"straight"!==b.edgeType||s.push(m)}return s};s.getNodeShape=function(e){var t=this,r=e._private.style,n=r.shape.value;if(e.isParent())return"rectangle"===n||"roundrectangle"===n?n:"rectangle";if("polygon"===n){var i=r["shape-polygon-points"].value;return t.nodeShapes.makePolygon(i).name}return n};s.updateCachedZSortedEles=function(){this.getCachedZSortedEles(!0)};s.getCachedZSortedEles=function(e){var t=this.lastZOrderCachedNodes,r=this.lastZOrderCachedEdges,n=this.getCachedNodes(),i=this.getCachedEdges(),a=[];if(!e&&t&&r&&t===n&&r===i)a=this.cachedZSortedEles;else{for(var s=0;s<n.length;s++){var l=n[s];(l.animated()||l.visible()&&!l.transparent())&&a.push(l)}for(var s=0;s<i.length;s++){var u=i[s];(u.animated()||u.visible()&&!u.transparent())&&a.push(u)}a.sort(o);this.cachedZSortedEles=a}this.lastZOrderCachedNodes=n;this.lastZOrderCachedEdges=i;return a};s.projectLines=function(e){var t=e._private,r=t.rscratch,i=r.edgeType;if("multibezier"===i||"bezier"===i||"self"===i||"compound"===i)for(var a=(t.rstyle.bezierPts=[],0);a+5<r.allpts.length;a+=4)n(e,r.allpts.slice(a,a+6));else if("segments"===i)for(var o=t.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)o.push({x:r.allpts[a],y:r.allpts[a+1]});else if("haystack"===i){var s=r.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}};s.projectBezier=s.projectLines;s.recalculateNodeLabelProjection=function(e){var t=e._private.style.label.strValue;if(t&&!t.match(/^\s+$/)){var r,n,i=e.outerWidth(),a=e.outerHeight(),o=e._private.position,s=e._private.style["text-halign"].strValue,l=e._private.style["text-valign"].strValue,u=e._private.rscratch,c=e._private.rstyle;switch(s){case"left":r=o.x-i/2;break;case"right":r=o.x+i/2;break;default:r=o.x}switch(l){case"top":n=o.y-a/2;break;case"bottom":n=o.y+a/2;break;default:n=o.y}u.labelX=r;u.labelY=n;c.labelX=r;c.labelY=n;this.applyLabelDimensions(e)}};s.recalculateEdgeLabelProjection=function(e){var t=e._private.style.label.strValue;if(t&&!t.match(/^\s+$/)){var r,n,i=e._private,a=i.rscratch,o=i.rstyle;r=a.midX;n=a.midY;a.labelX=r;a.labelY=n;o.labelX=r;o.labelY=n;this.applyLabelDimensions(e)}};s.applyLabelDimensions=function(e){var t=e._private.rscratch,r=e._private.rstyle,n=this.getLabelText(e),i=this.calculateLabelDimensions(e,n);r.labelWidth=i.width;t.labelWidth=i.width;r.labelHeight=i.height;t.labelHeight=i.height};s.getLabelText=function(e){var t=e._private.style,r=e._private.style.label.strValue,n=t["text-transform"].value,i=e._private.rscratch;"none"==n||("uppercase"==n?r=r.toUpperCase():"lowercase"==n&&(r=r.toLowerCase()));if("wrap"===t["text-wrap"].value){if(i.labelWrapKey===i.labelKey)return i.labelWrapCachedText;for(var a=r.split("\n"),o=t["text-max-width"].pfValue,s=[],l=0;l<a.length;l++){var u=a[l],c=this.calculateLabelDimensions(e,u,"line="+u),f=c.width;if(f>o){for(var d=u.split(/\s+/),p="",h=0;h<d.length;h++){var v=d[h],g=0===p.length?v:p+" "+v,m=this.calculateLabelDimensions(e,g,"testLine="+g),y=m.width;if(o>=y)p+=v+" ";else{s.push(p);p=v+" "}}p.match(/^\s+$/)||s.push(p)}else s.push(u)}i.labelWrapCachedLines=s;i.labelWrapCachedText=r=s.join("\n");i.labelWrapKey=i.labelKey}return r};s.calculateLabelDimensions=function(e,t,r){var n=this,i=e._private.style,a=i["font-style"].strValue,o=i["font-size"].pfValue+"px",s=i["font-family"].strValue,l=i["font-weight"].strValue,u=e._private.labelKey;r&&(u+="$@$"+r);var c=n.labelDimCache||(n.labelDimCache={});if(c[u])return c[u];var f=this.labelCalcDiv;if(!f){f=this.labelCalcDiv=document.createElement("div");document.body.appendChild(f)}var d=f.style;d.fontFamily=s;d.fontStyle=a;d.fontSize=o;d.fontWeight=l;d.position="absolute";d.left="-9999px";d.top="-9999px";d.zIndex="-1";d.visibility="hidden";d.pointerEvents="none";d.padding="0";d.lineHeight="1";"wrap"===i["text-wrap"].value?d.whiteSpace="pre":d.whiteSpace="normal";f.textContent=t;c[u]={width:f.clientWidth,height:f.clientHeight};return c[u]};s.recalculateRenderedStyle=function(e){for(var t=[],r=[],n={},i=0;i<e.length;i++){var a=e[i],o=a._private,s=o.style,l=o.rscratch,u=o.rstyle,c=o.data.id,f=null!=l.boundingBoxKey&&o.boundingBoxKey===l.boundingBoxKey,d=null!=l.labelKey&&o.labelKey===l.labelKey,p=f&&d;if("nodes"===o.group){var h=o.position,v=null!=u.nodeX&&null!=u.nodeY&&h.x===u.nodeX&&h.y===u.nodeY,g=null!=u.nodeW&&u.nodeW===s.width.pfValue,m=null!=u.nodeH&&u.nodeH===s.height.pfValue;v&&p&&g&&m||r.push(a);u.nodeX=h.x;u.nodeY=h.y;u.nodeW=s.width.pfValue;u.nodeH=s.height.pfValue}else{var y=o.source._private.position,b=o.target._private.position,w=null!=u.srcX&&null!=u.srcY&&y.x===u.srcX&&y.y===u.srcY,x=null!=u.tgtX&&null!=u.tgtY&&b.x===u.tgtX&&b.y===u.tgtY,_=w&&x;if(!_||!p)if("bezier"===l.edgeType||"straight"===l.edgeType||"self"===l.edgeType||"compound"===l.edgeType){if(!n[c]){t.push(a);n[c]=!0;for(var k=a.parallelEdges(),i=0;i<k.length;i++){var C=k[i],E=C._private.data.id;if(!n[E]){t.push(C);n[E]=!0}}}}else t.push(a);u.srcX=y.x;u.srcY=y.y;u.tgtX=b.x;u.tgtY=b.y}l.boundingBoxKey=o.boundingBoxKey;l.labelKey=o.labelKey}this.recalculateEdgeProjections(t);this.recalculateLabelProjections(r,t)};s.recalculateLabelProjections=function(e,t){for(var r=0;r<e.length;r++)this.recalculateNodeLabelProjection(e[r]);for(var r=0;r<t.length;r++)this.recalculateEdgeLabelProjection(t[r])};s.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};s.findEdgeControlPoints=function(e){if(e&&0!==e.length){for(var t,r=this,n=r.cy,o=n.hasCompoundNodes(),s={},l=[],u=[],c=[],f=0;f<e.length;f++){var d=e[f],p=d._private,h=p.data,v=p.style,g=v["curve-style"].value,m="unbundled-bezier"===g||"segments"===g;if("none"!==v.display.value){"autorotate"===v["edge-text-rotation"].strValue&&c.push(d);if("haystack"!==g){var y=h.source,b=h.target;t=y>b?b+"$-$"+y:y+"$-$"+b;m&&(t="unbundled$-$"+h.id);if(null==s[t]){s[t]=[];l.push(t)}s[t].push(d);m&&(s[t].hasUnbundled=!0)}else u.push(d)}}for(var w,x,_,k,C,E,S,T,D,j,P,N,M,L,A=0;A<l.length;A++){t=l[A];var O=s[t];O.sort(function(e,t){return e._private.index-t._private.index});w=O[0]._private.source;x=O[0]._private.target;_=w._private;k=x._private;if(_.data.id>k.data.id){var R=w;w=x;x=R}C=_.position;E=k.position;S=w.outerWidth();T=w.outerHeight();D=x.outerWidth();j=x.outerHeight();P=r.nodeShapes[this.getNodeShape(w)];N=r.nodeShapes[this.getNodeShape(x)];L=!1;if(O.length>1&&w!==x||O.hasUnbundled){var z=P.intersectLine(C.x,C.y,S,T,E.x,E.y,0),I=N.intersectLine(E.x,E.y,D,j,C.x,C.y,0),B={x1:z[0],x2:I[0],y1:z[1],y2:I[1]},q=I[1]-z[1],V=I[0]-z[0],F=Math.sqrt(V*V+q*q),X={x:V,y:q},Y={x:X.x/F,y:X.y/F};M={x:-Y.y,y:Y.x};if(N.checkPoint(z[0],z[1],0,D,j,E.x,E.y)||P.checkPoint(I[0],I[1],0,S,T,C.x,C.y)){M={};L=!0}}for(var d,U,H,f=0;f<O.length;f++){d=O[f];U=d._private;H=U.rscratch;var W=H.lastEdgeIndex,$=f,G=H.lastNumEdges,Z=O.length,J=U.style,v=J,g=J["curve-style"].value,Q=J["control-point-distances"],K=J["control-point-weights"],ee=Q&&K?Math.min(Q.value.length,K.value.length):1,te=J["control-point-step-size"].pfValue,re=void 0!==Q?Q.pfValue[0]:void 0,ne=K.value[0],m="unbundled-bezier"===g||"segments"===g,ie=U.source!==w;ie&&m&&(re*=-1);var ae=H.lastSrcCtlPtX,oe=C.x,se=H.lastSrcCtlPtY,le=C.y,ue=H.lastSrcCtlPtW,ce=w.outerWidth(),fe=H.lastSrcCtlPtH,de=w.outerHeight(),pe=H.lastTgtCtlPtX,he=E.x,ve=H.lastTgtCtlPtY,ge=E.y,me=H.lastTgtCtlPtW,ye=x.outerWidth(),be=H.lastTgtCtlPtH,we=x.outerHeight(),xe=H.lastW,_e=J["control-point-step-size"].pfValue;L?H.badBezier=!0:H.badBezier=!1;if(ae!==oe||se!==le||ue!==ce||fe!==de||pe!==he||ve!==ge||me!==ye||be!==we||xe!==_e||!(W===$&&G===Z||m)){H.lastSrcCtlPtX=oe;H.lastSrcCtlPtY=le;H.lastSrcCtlPtW=ce;H.lastSrcCtlPtH=de;H.lastTgtCtlPtX=he;H.lastTgtCtlPtY=ge;H.lastTgtCtlPtW=ye;H.lastTgtCtlPtH=we;H.lastEdgeIndex=$;H.lastNumEdges=Z;H.lastWidth=_e;if(w===x){H.edgeType="self";var ke=f,Ce=te;if(m){ke=0;Ce=re}H.ctrlpts=[C.x,C.y-(1+Math.pow(T,1.12)/100)*Ce*(ke/3+1),C.x-(1+Math.pow(S,1.12)/100)*Ce*(ke/3+1),C.y]}else if(o&&(w.isParent()||w.isChild()||x.isParent()||x.isChild())&&(w.parents().anySame(x)||x.parents().anySame(w))){H.edgeType="compound";H.badBezier=!1;var ke=f,Ce=te;if(m){ke=0;Ce=re}var Ee=50,Se={x:C.x-S/2,y:C.y-T/2},Te={x:E.x-D/2,y:E.y-j/2},De={x:Math.min(Se.x,Te.x),y:Math.min(Se.y,Te.y)},je=.5,Pe=Math.max(je,Math.log(.01*S)),Ne=Math.max(je,Math.log(.01*D));H.ctrlpts=[De.x,De.y-(1+Math.pow(Ee,1.12)/100)*Ce*(ke/3+1)*Pe,De.x-(1+Math.pow(Ee,1.12)/100)*Ce*(ke/3+1)*Ne,De.y]}else if("segments"===g){H.edgeType="segments";H.segpts=[];for(var Me=J["segment-weights"].pfValue,Le=J["segment-distances"].pfValue,Ae=Math.min(Me.length,Le.length),Oe=0;Ae>Oe;Oe++){var Re=Me[Oe],ze=Le[Oe],Ie=1-Re,Be=Re,qe={x:B.x1*Ie+B.x2*Be,y:B.y1*Ie+B.y2*Be};H.segpts.push(qe.x+M.x*ze,qe.y+M.y*ze)}}else if(O.length%2!==1||f!==Math.floor(O.length/2)||m){var Ve=m;H.edgeType=Ve?"multibezier":"bezier";H.ctrlpts=[];for(var Fe=0;ee>Fe;Fe++){var Xe,Ye=(.5-O.length/2+f)*te,Ue=i.signum(Ye);if(Ve){re=Q?Q.pfValue[Fe]:te;ne=K.value[Fe]}Xe=m?re:void 0!==re?Ue*re:void 0;var He=void 0!==Xe?Xe:Ye,Ie=!ie||m?1-ne:ne,Be=!ie||m?ne:1-ne,qe={x:B.x1*Ie+B.x2*Be,y:B.y1*Ie+B.y2*Be};H.ctrlpts.push(qe.x+M.x*He,qe.y+M.y*He)}}else H.edgeType="straight";this.findEndpoints(d);var We=!a.number(H.startX)||!a.number(H.startY),$e=!a.number(H.arrowStartX)||!a.number(H.arrowStartY),Ge=!a.number(H.endX)||!a.number(H.endY),Ze=!a.number(H.arrowEndX)||!a.number(H.arrowEndY),Je=3,Qe=this.getArrowWidth(J.width.pfValue)*this.arrowShapeHeight,Ke=Je*Qe;if("bezier"===H.edgeType){var et=i.distance({x:H.ctrlpts[0],y:H.ctrlpts[1]},{x:H.startX,y:H.startY}),tt=Ke>et,rt=i.distance({x:H.ctrlpts[0],y:H.ctrlpts[1]},{x:H.endX,y:H.endY}),nt=Ke>rt,it=!1;if(We||$e||tt){it=!0;var at={x:H.ctrlpts[0]-C.x,y:H.ctrlpts[1]-C.y},ot=Math.sqrt(at.x*at.x+at.y*at.y),st={x:at.x/ot,y:at.y/ot},lt=Math.max(S,T),ut={x:H.ctrlpts[0]+2*st.x*lt,y:H.ctrlpts[1]+2*st.y*lt},ct=P.intersectLine(C.x,C.y,S,T,ut.x,ut.y,0);if(tt){H.ctrlpts[0]=H.ctrlpts[0]+st.x*(Ke-et);H.ctrlpts[1]=H.ctrlpts[1]+st.y*(Ke-et)}else{H.ctrlpts[0]=ct[0]+st.x*Ke;H.ctrlpts[1]=ct[1]+st.y*Ke}}if(Ge||Ze||nt){it=!0;var at={x:H.ctrlpts[0]-E.x,y:H.ctrlpts[1]-E.y},ot=Math.sqrt(at.x*at.x+at.y*at.y),st={x:at.x/ot,y:at.y/ot},lt=Math.max(S,T),ut={x:H.ctrlpts[0]+2*st.x*lt,y:H.ctrlpts[1]+2*st.y*lt},ft=N.intersectLine(E.x,E.y,D,j,ut.x,ut.y,0);if(nt){H.ctrlpts[0]=H.ctrlpts[0]+st.x*(Ke-rt);H.ctrlpts[1]=H.ctrlpts[1]+st.y*(Ke-rt)}else{H.ctrlpts[0]=ft[0]+st.x*Ke;H.ctrlpts[1]=ft[1]+st.y*Ke}}it&&this.findEndpoints(d)}if("multibezier"===H.edgeType||"bezier"===H.edgeType||"self"===H.edgeType||"compound"===H.edgeType){H.allpts=[];H.allpts.push(H.startX,H.startY);for(var Fe=0;Fe+1<H.ctrlpts.length;Fe+=2){H.allpts.push(H.ctrlpts[Fe],H.ctrlpts[Fe+1]);Fe+3<H.ctrlpts.length&&H.allpts.push((H.ctrlpts[Fe]+H.ctrlpts[Fe+2])/2,(H.ctrlpts[Fe+1]+H.ctrlpts[Fe+3])/2)}H.allpts.push(H.endX,H.endY);var dt,pt;if("bezier"===H.edgeType){H.midX=i.qbezierAt(H.arrowStartX,H.ctrlpts[0],H.arrowEndX,.5);H.midY=i.qbezierAt(H.arrowStartY,H.ctrlpts[1],H.arrowEndY,.5)}else if(H.ctrlpts.length/2%2===0){dt=H.allpts.length/2-1;H.midX=H.allpts[dt];H.midY=H.allpts[dt+1]}else{dt=H.allpts.length/2-3;pt=.5;H.midX=i.qbezierAt(H.allpts[dt],H.allpts[dt+2],H.allpts[dt+4],pt);H.midY=i.qbezierAt(H.allpts[dt+1],H.allpts[dt+3],H.allpts[dt+5],pt)}}else if("straight"===H.edgeType){H.allpts=[H.startX,H.startY,H.endX,H.endY];H.midX=(H.arrowStartX+H.arrowEndX)/2;H.midY=(H.arrowStartY+H.arrowEndY)/2}else if("segments"===H.edgeType){H.allpts=[];H.allpts.push(H.startX,H.startY);H.allpts.push.apply(H.allpts,H.segpts);H.allpts.push(H.endX,H.endY);if(H.segpts.length%4===0){var ht=H.segpts.length/2,vt=ht-2;H.midX=(H.segpts[vt]+H.segpts[ht])/2;H.midY=(H.segpts[vt+1]+H.segpts[ht+1])/2}else{var vt=H.segpts.length/2-1;H.midX=H.segpts[vt];H.midY=H.segpts[vt+1]}}this.projectLines(d);this.calculateArrowAngles(d);this.recalculateEdgeLabelProjection(d)}}}for(var f=0;f<u.length;f++){var d=u[f],p=d._private,v=p.style,gt=p.rscratch,H=gt;if(!gt.haystack){var mt=2*Math.random()*Math.PI;gt.source={x:Math.cos(mt),y:Math.sin(mt)};var mt=2*Math.random()*Math.PI;gt.target={x:Math.cos(mt),y:Math.sin(mt)}}var w=p.source,x=p.target,C=w._private.position,E=x._private.position,S=w.width(),D=x.width(),T=w.height(),j=x.height(),lt=v["haystack-radius"].value,yt=lt/2;H.haystackPts=H.allpts=[H.source.x*S*yt+C.x,H.source.y*T*yt+C.y,H.target.x*D*yt+E.x,H.target.y*j*yt+E.y];H.midX=(H.allpts[0]+H.allpts[2])/2;H.midY=(H.allpts[1]+H.allpts[3])/2;gt.edgeType="haystack";gt.haystack=!0;this.projectLines(d);this.calculateArrowAngles(d);this.recalculateEdgeLabelProjection(d)}for(var f=0;f<c.length;f++){var d=c[f],H=d._private.rscratch;H.labelAngle=Math.atan(H.midDispY/H.midDispX)}return s}};var l=function(e,t){return Math.atan2(t,e)-Math.PI/2};s.calculateArrowAngles=function(e){var t,r,n,a,o,s,u=e._private.rscratch,c="haystack"===u.edgeType,f="multibezier"===u.edgeType,d="segments"===u.edgeType,p="compound"===u.edgeType,h="self"===u.edgeType,v=e.source().position(),g=e.target().position();if(c){n=u.haystackPts[0];a=u.haystackPts[1];o=u.haystackPts[2];s=u.haystackPts[3]}else{n=u.arrowStartX;a=u.arrowStartY;o=u.arrowEndX;s=u.arrowEndY}t=v.x-n;r=v.y-a;u.srcArrowAngle=l(t,r);var m=u.midX,y=u.midY;if(c){m=(n+o)/2;y=(a+s)/2}t=o-n;r=s-a;if(h){t=-1;r=1}else if(d){var b=u.allpts;if(b.length/2%2===0){var w=b.length/2,x=w-2;t=b[w]-b[x];r=b[w+1]-b[x+1]}else{var w=b.length/2-1,x=w-2,_=w+2;t=b[w]-b[x];r=b[w+1]-b[x+1]}}else if(f||p){var k,C,E,S,b=u.allpts,T=u.ctrlpts;if(T.length/2%2===0){var D=b.length/2-1,j=D+2,P=j+2;k=i.qbezierAt(b[D],b[j],b[P],0);C=i.qbezierAt(b[D+1],b[j+1],b[P+1],0);E=i.qbezierAt(b[D],b[j],b[P],1e-4);S=i.qbezierAt(b[D+1],b[j+1],b[P+1],1e-4)}else{var j=b.length/2-1,D=j-2,P=j+2;k=i.qbezierAt(b[D],b[j],b[P],.4999);C=i.qbezierAt(b[D+1],b[j+1],b[P+1],.4999);E=i.qbezierAt(b[D],b[j],b[P],.5);S=i.qbezierAt(b[D+1],b[j+1],b[P+1],.5)}t=E-k;r=S-C}u.midtgtArrowAngle=l(t,r);u.midDispX=t;u.midDispY=r;t*=-1;r*=-1;if(d){var b=u.allpts;if(b.length/2%2===0);else{var w=b.length/2-1,_=w+2;t=-(b[_]-b[w]);r=-(b[_+1]-b[w+1])}}u.midsrcArrowAngle=l(t,r);t=g.x-o;r=g.y-s;u.tgtArrowAngle=l(t,r)};s.findEndpoints=function(e){var t,r,n,o=this,s=e.source()[0],l=e.target()[0],u=s._private,c=l._private,f=u.position,d=c.position,p=e._private.style["target-arrow-shape"].value,h=e._private.style["source-arrow-shape"].value,v=e._private.rscratch,g=v.edgeType,m="bezier"===g||"multibezier"===g||"self"===g||"compound"===g,y="bezier"!==g,b="straight"===g||"segments"===g,w="segments"===g;if(m){var x=[v.ctrlpts[0],v.ctrlpts[1]],_=y?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:x;r=_;n=x}else if(b){var k=w?v.segpts.slice(0,2):[d.x,d.y],C=w?v.segpts.slice(v.segpts.length-2):[f.x,f.y];r=C;n=k}t=o.nodeShapes[this.getNodeShape(l)].intersectLine(d.x,d.y,l.outerWidth(),l.outerHeight(),r[0],r[1],0);var E=i.shortenIntersection(t,r,o.arrowShapes[p].spacing(e)),S=i.shortenIntersection(t,r,o.arrowShapes[p].gap(e));v.endX=S[0];v.endY=S[1];v.arrowEndX=E[0];v.arrowEndY=E[1];t=o.nodeShapes[this.getNodeShape(s)].intersectLine(f.x,f.y,s.outerWidth(),s.outerHeight(),n[0],n[1],0);var T=i.shortenIntersection(t,n,o.arrowShapes[h].spacing(e)),D=i.shortenIntersection(t,n,o.arrowShapes[h].gap(e));v.startX=D[0];v.startY=D[1];v.arrowStartX=T[0];v.arrowStartY=T[1];b&&(a.number(v.startX)&&a.number(v.startY)&&a.number(v.endX)&&a.number(v.endY)?v.badLine=!1:v.badLine=!0)};s.getArrowWidth=s.getArrowHeight=function(e){var t=this.arrowWidthCache=this.arrowWidthCache||{},r=t[e];if(r)return r;r=Math.max(Math.pow(13.37*e,.9),29);t[e]=r;return r};t.exports=s},{"../../../collection/zsort":29,"../../../is":77,"../../../math":79}],57:[function(e,t,r){"use strict";var n={};n.getCachedImage=function(e,t){var r=this,n=r.imageCache=r.imageCache||{};if(n[e]&&n[e].image)return n[e].image;var i=n[e]=n[e]||{},a=i.image=new Image;a.addEventListener("load",t);a.src=e;return a};t.exports=n},{}],58:[function(e,t,r){"use strict";var n=e("../../../is"),i=e("../../../util"),a=function(){},o=a,s=o.prototype;s.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];s.init=function(e){var t=this;t.options=e;t.cy=e.cy;t.container=e.cy.container();t.selection=[void 0,void 0,void 0,void 0,0];t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1};t.dragData={possibleDragElements:[]};t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]};t.redraws=0;t.showFps=e.showFps;t.hideEdgesOnViewport=e.hideEdgesOnViewport;t.hideLabelsOnViewport=e.hideLabelsOnViewport;t.textureOnViewport=e.textureOnViewport;t.wheelSensitivity=e.wheelSensitivity;t.motionBlurEnabled=e.motionBlur;t.forcedPixelRatio=e.pixelRatio;t.motionBlur=!0;t.motionBlurOpacity=e.motionBlurOpacity;t.motionBlurTransparency=1-t.motionBlurOpacity;t.motionBlurPxRatio=1;t.mbPxRBlurry=1;t.minMbLowQualFrames=4;t.fullQualityMb=!1;t.clearedForMotionBlur=[];t.desktopTapThreshold=e.desktopTapThreshold;t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold;t.touchTapThreshold=e.touchTapThreshold;t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold;t.tapholdDuration=500;t.bindings=[];t.registerNodeShapes();t.registerArrowShapes();t.load()};s.notify=function(e){var t,r=this;t=n.array(e.type)?e.type:[e.type];for(var i=0;i<t.length;i++){var a=t[i];switch(a){case"destroy":r.destroy();return;case"add":case"remove":case"load":r.updateElementsCache();break;case"viewport":r.redrawHint("select",!0);break;case"style":r.updateCachedZSortedEles()}if("load"===a||"resize"===a){r.invalidateContainerClientCoordsCache();r.matchCanvasSize(r.container)}}r.redrawHint("eles",!0);r.redrawHint("drag",!0);this.startRenderLoop();this.redraw()};s.destroy=function(){this.destroyed=!0;this.cy.stopAnimationLoop();for(var e=0;e<this.bindings.length;e++){var t=this.bindings[e],r=t;r.target.removeEventListener(r.event,r.handler,r.useCapture)}this.removeObserver&&this.removeObserver.disconnect();if(this.labelCalcDiv)try{document.body.removeChild(this.labelCalcDiv)}catch(n){}};[e("./arrow-shapes"),e("./cached-eles"),e("./coord-ele-math"),e("./images"),e("./load-listeners"),e("./node-shapes"),e("./redraw")].forEach(function(e){i.extend(s,e)});t.exports=o},{"../../../is":77,"../../../util":94,"./arrow-shapes":54,"./cached-eles":55,"./coord-ele-math":56,"./images":57,"./load-listeners":59,"./node-shapes":60,"./redraw":61}],59:[function(e,t,r){"use strict";var n=e("../../../is"),i=e("../../../util"),a=e("../../../event"),o=e("../../../collection"),s={};s.registerBinding=function(e,t,r,n){this.bindings.push({target:e,event:t,handler:r,useCapture:n});e.addEventListener(t,r,n)};s.nodeIsDraggable=function(e){return!(0===e._private.style.opacity.value||"visible"!=e._private.style.visibility.value||"element"!=e._private.style.display.value||e.locked()||!e.grabbable())};s.load=function(){var e=this,t=function(t,r,n,o){null==t&&(t=e.cy);for(var s=0;s<r.length;s++){var l=r[s],u=a(n,i.extend({type:l},o));t.trigger(u)}},r=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},s=function(t){var r;if(t.addToList&&e.cy.hasCompoundNodes()){if(!t.addToList.hasId){t.addToList.hasId={};for(var n=0;n<t.addToList.length;n++){var i=t.addToList[n];t.addToList.hasId[i.id()]=!0}}r=t.addToList.hasId}return r||{}},l=function(e,t){if(e._private.cy.hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList))for(var r=s(t),n=e.descendants(),i=0;i<n.size();i++){var a=n[i],o=a._private;t.inDragLayer&&(o.rscratch.inDragLayer=!0);if(t.addToList&&!r[a.id()]){t.addToList.push(a);r[a.id()]=!0;o.grabbed=!0}for(var l=o.edges,u=0;t.inDragLayer&&u<l.length;u++)l[u]._private.rscratch.inDragLayer=!0}},u=function(e,t){var r=e._private,n=s(t);t.inDragLayer&&(r.rscratch.inDragLayer=!0);if(t.addToList&&!n[e.id()]){t.addToList.push(e);n[e.id()]=!0;r.grabbed=!0}for(var i=r.edges,a=0;t.inDragLayer&&a<i.length;a++)i[a]._private.rscratch.inDragLayer=!0;l(e,t);f(e,{inDragLayer:t.inDragLayer})},c=function(e){if(e)for(var t=0;t<e.length;t++){var r=e[t]._private;if("nodes"===r.group){r.rscratch.inDragLayer=!1;r.grabbed=!1;for(var n=r.edges,i=0;i<n.length;i++)n[i]._private.rscratch.inDragLayer=!1;f(e[t],{inDragLayer:!1})}else"edges"===r.group&&(r.rscratch.inDragLayer=!1)}},f=function(e,t){if(null!=t.inDragLayer||null!=t.addToList){var r=e;if(e._private.cy.hasCompoundNodes()){for(;r.parent().nonempty();)r=r.parent()[0];if(r!=e){for(var n=r.descendants().merge(r).unmerge(e).unmerge(e.descendants()),i=n.connectedEdges(),a=s(t),o=0;o<n.size();o++){void 0!==t.inDragLayer&&(n[o]._private.rscratch.inDragLayer=t.inDragLayer);if(t.addToList&&!a[n[o].id()]){t.addToList.push(n[o]);a[n[o].id()]=!0;n[o]._private.grabbed=!0}}for(var l=0;void 0!==t.inDragLayer&&l<i.length;l++)i[l]._private.rscratch.inDragLayer=t.inDragLayer}}}};if("undefined"!=typeof MutationObserver){e.removeObserver=new MutationObserver(function(t){for(var r=0;r<t.length;r++){var n=t[r],i=n.removedNodes;if(i)for(var a=0;a<i.length;a++){var o=i[a];if(o===e.container){e.destroy();break}}}});e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})}else e.registerBinding(e.container,"DOMNodeRemoved",function(t){e.destroy()});e.registerBinding(window,"resize",i.debounce(function(t){e.invalidateContainerClientCoordsCache();e.matchCanvasSize(e.container);e.redrawHint("eles",!0);e.redraw()},100));for(var d=function(t){e.registerBinding(t,"scroll",function(t){e.invalidateContainerClientCoordsCache()})},p=e.cy.container();;){d(p);if(!p.parentNode)break;p=p.parentNode}e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var h=function(){return 0!==e.selection[4]};e.registerBinding(e.container,"mousedown",function(r){r.preventDefault();e.hoverData.capture=!0;e.hoverData.which=r.which;var n=e.cy,i=e.projectIntoViewport(r.clientX,r.clientY),o=e.selection,s=e.findNearestElement(i[0],i[1],!0,!1),l=e.dragData.possibleDragElements;e.hoverData.mdownPos=i;var c=function(){e.hoverData.tapholdCancelled=!1;clearTimeout(e.hoverData.tapholdTimeout);e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var t=e.hoverData.down;t?t.trigger(a(r,{type:"taphold",cyPosition:{x:i[0],y:i[1]}})):n.trigger(a(r,{type:"taphold",cyPosition:{x:i[0],y:i[1]}}))}},e.tapholdDuration)};if(3==r.which){e.hoverData.cxtStarted=!0;var f=a(r,{type:"cxttapstart",cyPosition:{x:i[0],y:i[1]}});if(s){s.activate();s.trigger(f);e.hoverData.down=s}else n.trigger(f);e.hoverData.downTime=(new Date).getTime();e.hoverData.cxtDragged=!1}else if(1==r.which){s&&s.activate();if(null!=s&&e.nodeIsDraggable(s)){var d=a(r,{type:"grab",cyPosition:{x:i[0],y:i[1]}});if(s.isNode()&&!s.selected()){l=e.dragData.possibleDragElements=[];u(s,{addToList:l});s.trigger(d)}else if(s.isNode()&&s.selected()){l=e.dragData.possibleDragElements=[];for(var p=n.$(function(){return this.isNode()&&this.selected()}),h=0;h<p.length;h++)e.nodeIsDraggable(p[h])&&u(p[h],{addToList:l});s.trigger(d)}e.redrawHint("eles",!0);e.redrawHint("drag",!0)}e.hoverData.down=s;e.hoverData.downTime=(new Date).getTime();t(s,["mousedown","tapstart","vmousedown"],r,{cyPosition:{x:i[0],y:i[1]}});if(null==s){o[4]=1;e.data.bgActivePosistion={x:i[0],y:i[1]};e.redrawHint("select",!0);e.redraw()}else s.isEdge()&&(o[4]=1);c()}o[0]=o[2]=i[0];o[1]=o[3]=i[1]},!1);e.registerBinding(window,"mousemove",function(i){var s=!1,l=e.hoverData.capture;if(!l){var c=e.findContainerClientCoords();
if(!(i.clientX>c[0]&&i.clientX<c[0]+e.canvasWidth&&i.clientY>c[1]&&i.clientY<c[1]+e.canvasHeight))return;for(var f=e.container,d=i.target,p=d.parentNode,h=!1;p;){if(p===f){h=!0;break}p=p.parentNode}if(!h)return}var v=e.cy,g=v.zoom(),m=e.projectIntoViewport(i.clientX,i.clientY),y=e.selection,b=null;e.hoverData.draggingEles||(b=e.findNearestElement(m[0],m[1],!0,!1));var w=e.hoverData.last,x=e.hoverData.down,_=[m[0]-y[2],m[1]-y[3]],k=e.dragData.possibleDragElements,C=y[2]-y[0],E=C*C,S=y[3]-y[1],T=S*S,D=E+T,j=D*g*g,P=r(i);e.hoverData.tapholdCancelled=!0;var N=function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];if(0===t.length){t.push(_[0]);t.push(_[1])}else{t[0]+=_[0];t[1]+=_[1]}};s=!0;t(b,["mousemove","vmousemove","tapdrag"],i,{cyPosition:{x:m[0],y:m[1]}});if(3===e.hoverData.which){var M=a(i,{type:"cxtdrag",cyPosition:{x:m[0],y:m[1]}});x?x.trigger(M):v.trigger(M);e.hoverData.cxtDragged=!0;if(!e.hoverData.cxtOver||b!==e.hoverData.cxtOver){e.hoverData.cxtOver&&e.hoverData.cxtOver.trigger(a(i,{type:"cxtdragout",cyPosition:{x:m[0],y:m[1]}}));e.hoverData.cxtOver=b;b&&b.trigger(a(i,{type:"cxtdragover",cyPosition:{x:m[0],y:m[1]}}))}}else if(e.hoverData.dragging){s=!0;if(v.panningEnabled()&&v.userPanningEnabled()){var L;if(e.hoverData.justStartedPan){var A=e.hoverData.mdownPos;L={x:(m[0]-A[0])*g,y:(m[1]-A[1])*g};e.hoverData.justStartedPan=!1}else L={x:_[0]*g,y:_[1]*g};v.panBy(L);e.hoverData.dragged=!0}m=e.projectIntoViewport(i.clientX,i.clientY)}else if(1!=y[4]||null!=x&&!x.isEdge()){x&&x.isEdge()&&x.active()&&x.unactivate();if(b!=w){w&&t(w,["mouseout","tapdragout"],i,{cyPosition:{x:m[0],y:m[1]}});b&&t(b,["mouseover","tapdragover"],i,{cyPosition:{x:m[0],y:m[1]}});e.hoverData.last=b}if(x&&x.isNode()&&e.nodeIsDraggable(x))if(j>=e.desktopTapThreshold2){var O=!e.dragData.didDrag;O&&e.redrawHint("eles",!0);e.dragData.didDrag=!0;for(var R=[],z=0;z<k.length;z++){var I=k[z];e.hoverData.draggingEles||u(I,{inDragLayer:!0});if(I.isNode()&&e.nodeIsDraggable(I)&&I.grabbed()){var B=I._private.position;R.push(I);if(n.number(_[0])&&n.number(_[1])){var q=!I.isParent();if(q){B.x+=_[0];B.y+=_[1]}if(O){var V=e.hoverData.dragDelta;if(q&&n.number(V[0])&&n.number(V[1])){B.x+=V[0];B.y+=V[1]}}}}}e.hoverData.draggingEles=!0;var F=o(v,R);F.updateCompoundBounds();F.trigger("position drag");e.redrawHint("drag",!0);e.redraw()}else N();s=!0}else{if(e.hoverData.dragging||!v.boxSelectionEnabled()||!P&&v.panningEnabled()&&v.userPanningEnabled()){if(!e.hoverData.selecting&&v.panningEnabled()&&v.userPanningEnabled()){e.hoverData.dragging=!0;e.hoverData.justStartedPan=!0;y[4]=0;e.data.bgActivePosistion={x:m[0],y:m[1]};e.redrawHint("select",!0);e.redraw()}}else{e.data.bgActivePosistion=void 0;e.hoverData.selecting=!0;e.redrawHint("select",!0);e.redraw()}x&&x.isEdge()&&x.active()&&x.unactivate()}y[2]=m[0];y[3]=m[1];if(s){i.stopPropagation&&i.stopPropagation();i.preventDefault&&i.preventDefault();return!1}},!1);e.registerBinding(window,"mouseup",function(n){var i=e.hoverData.capture;if(i){e.hoverData.capture=!1;var s=e.cy,l=e.projectIntoViewport(n.clientX,n.clientY),u=e.selection,f=e.findNearestElement(l[0],l[1],!0,!1),d=e.dragData.possibleDragElements,p=e.hoverData.down,h=r(n);if(e.data.bgActivePosistion){e.redrawHint("select",!0);e.redraw()}e.hoverData.tapholdCancelled=!0;e.data.bgActivePosistion=void 0;p&&p.unactivate();if(3===e.hoverData.which){var v=a(n,{type:"cxttapend",cyPosition:{x:l[0],y:l[1]}});p?p.trigger(v):s.trigger(v);if(!e.hoverData.cxtDragged){var g=a(n,{type:"cxttap",cyPosition:{x:l[0],y:l[1]}});p?p.trigger(g):s.trigger(g)}e.hoverData.cxtDragged=!1;e.hoverData.which=null}else if(1===e.hoverData.which){if(!(null!=p||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||r(n))){s.$(function(){return this.selected()}).unselect();d.length>0&&e.redrawHint("eles",!0);e.dragData.possibleDragElements=d=[]}t(f,["mouseup","tapend","vmouseup"],n,{cyPosition:{x:l[0],y:l[1]}});e.dragData.didDrag||e.hoverData.dragged||t(f,["click","tap","vclick"],n,{cyPosition:{x:l[0],y:l[1]}});if(f==p&&!e.dragData.didDrag&&!e.hoverData.selecting&&null!=f&&f._private.selectable){if(e.hoverData.dragging);else if("additive"===s.selectionType()||h)f.selected()?f.unselect():f.select();else if(!h){s.$(":selected").unmerge(f).unselect();f.select()}e.redrawHint("eles",!0)}if(e.hoverData.selecting){var m=[],y=e.getAllInBox(u[0],u[1],u[2],u[3]);e.redrawHint("select",!0);y.length>0&&e.redrawHint("eles",!0);for(var b=0;b<y.length;b++)y[b]._private.selectable&&m.push(y[b]);var w=o(s,m);if("additive"===s.selectionType())w.select();else{h||s.$(":selected").unmerge(w).unselect();w.select()}e.redraw()}if(e.hoverData.dragging){e.hoverData.dragging=!1;e.redrawHint("select",!0);e.redrawHint("eles",!0);e.redraw()}if(!u[4]){e.redrawHint("drag",!0);e.redrawHint("eles",!0);c(d);p&&p.trigger("free")}}u[4]=0;e.hoverData.down=null;e.hoverData.cxtStarted=!1;e.hoverData.draggingEles=!1;e.hoverData.selecting=!1;e.dragData.didDrag=!1;e.hoverData.dragged=!1;e.hoverData.dragDelta=[]}},!1);var v=function(t){if(!e.scrollingPage){var r=e.cy,n=e.projectIntoViewport(t.clientX,t.clientY),i=[n[0]*r.zoom()+r.pan().x,n[1]*r.zoom()+r.pan().y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||h())t.preventDefault();else if(r.panningEnabled()&&r.userPanningEnabled()&&r.zoomingEnabled()&&r.userZoomingEnabled()){t.preventDefault();e.data.wheelZooming=!0;clearTimeout(e.data.wheelTimeout);e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1;e.redrawHint("eles",!0);e.redraw()},150);var a=t.deltaY/-250||t.wheelDeltaY/1e3||t.wheelDelta/1e3;a*=e.wheelSensitivity;var o=1===t.deltaMode;o&&(a*=33);r.zoom({level:r.zoom()*Math.pow(10,a),renderedPosition:{x:i[0],y:i[1]}})}}};e.registerBinding(e.container,"wheel",v,!0);e.registerBinding(window,"scroll",function(t){e.scrollingPage=!0;clearTimeout(e.scrollingPageTimeout);e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0);e.registerBinding(e.container,"mouseout",function(t){var r=e.projectIntoViewport(t.clientX,t.clientY);e.cy.trigger(a(t,{type:"mouseout",cyPosition:{x:r[0],y:r[1]}}))},!1);e.registerBinding(e.container,"mouseover",function(t){var r=e.projectIntoViewport(t.clientX,t.clientY);e.cy.trigger(a(t,{type:"mouseover",cyPosition:{x:r[0],y:r[1]}}))},!1);var g,m,y,b,w,x,_,k,C,E,S,T,D,j,P=function(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))},N=function(e,t,r,n){return(r-e)*(r-e)+(n-t)*(n-t)};e.registerBinding(e.container,"touchstart",j=function(r){e.touchData.capture=!0;e.data.bgActivePosistion=void 0;var n=e.cy,i=e.getCachedNodes(),o=e.getCachedEdges(),s=e.touchData.now,l=e.touchData.earlier;if(r.touches[0]){var c=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);s[0]=c[0];s[1]=c[1]}if(r.touches[1]){var c=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);s[2]=c[0];s[3]=c[1]}if(r.touches[2]){var c=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);s[4]=c[0];s[5]=c[1]}if(r.touches[1]){var f=function(e){for(var t=0;t<e.length;t++){e[t]._private.grabbed=!1;e[t]._private.rscratch.inDragLayer=!1;e[t].active()&&e[t].unactivate()}};f(i);f(o);var d=e.findContainerClientCoords();C=d[0];E=d[1];S=d[2];T=d[3];g=r.touches[0].clientX-C;m=r.touches[0].clientY-E;y=r.touches[1].clientX-C;b=r.touches[1].clientY-E;D=g>=0&&S>=g&&y>=0&&S>=y&&m>=0&&T>=m&&b>=0&&T>=b;var p=n.pan(),h=n.zoom();w=P(g,m,y,b);x=N(g,m,y,b);_=[(g+y)/2,(m+b)/2];k=[(_[0]-p.x)/h,(_[1]-p.y)/h];var v=200,j=v*v;if(j>x&&!r.touches[2]){var M=e.findNearestElement(s[0],s[1],!0,!0),L=e.findNearestElement(s[2],s[3],!0,!0);if(M&&M.isNode()){M.activate().trigger(a(r,{type:"cxttapstart",cyPosition:{x:s[0],y:s[1]}}));e.touchData.start=M}else if(L&&L.isNode()){L.activate().trigger(a(r,{type:"cxttapstart",cyPosition:{x:s[0],y:s[1]}}));e.touchData.start=L}else{n.trigger(a(r,{type:"cxttapstart",cyPosition:{x:s[0],y:s[1]}}));e.touchData.start=null}e.touchData.start&&(e.touchData.start._private.grabbed=!1);e.touchData.cxt=!0;e.touchData.cxtDragged=!1;e.data.bgActivePosistion=void 0;e.redraw();return}}if(r.touches[2]);else if(r.touches[1]);else if(r.touches[0]){var A=e.findNearestElement(s[0],s[1],!0,!0);if(null!=A){A.activate();e.touchData.start=A;if(A.isNode()&&e.nodeIsDraggable(A)){var O=e.dragData.touchDragEles=[];e.redrawHint("eles",!0);e.redrawHint("drag",!0);if(A.selected())for(var R=n.$(function(){return this.isNode()&&this.selected()}),z=0;z<R.length;z++){var I=R[z];e.nodeIsDraggable(I)&&u(I,{addToList:O})}else u(A,{addToList:O});A.trigger(a(r,{type:"grab",cyPosition:{x:s[0],y:s[1]}}))}}t(A,["touchstart","tapstart","vmousedown"],r,{cyPosition:{x:s[0],y:s[1]}});if(null==A){e.data.bgActivePosistion={x:c[0],y:c[1]};e.redrawHint("select",!0);e.redraw()}for(var B=0;B<s.length;B++){l[B]=s[B];e.touchData.startPosition[B]=s[B]}e.touchData.singleTouchMoved=!1;e.touchData.singleTouchStartTime=+new Date;clearTimeout(e.touchData.tapholdTimeout);e.touchData.tapholdTimeout=setTimeout(function(){if(e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting){t(e.touchData.start,["taphold"],r,{cyPosition:{x:s[0],y:s[1]}});e.touchData.start||n.$(":selected").unselect()}},e.tapholdDuration)}},!1);var M;e.registerBinding(window,"touchmove",M=function(r){var i=e.selection,s=e.touchData.capture,l=e.cy,c=e.touchData.now,f=e.touchData.earlier,d=l.zoom();if(r.touches[0]){var p=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);c[0]=p[0];c[1]=p[1]}if(r.touches[1]){var p=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);c[2]=p[0];c[3]=p[1]}if(r.touches[2]){var p=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);c[4]=p[0];c[5]=p[1]}for(var h=[],v=0;v<c.length;v++)h[v]=c[v]-f[v];var _=e.touchData.startPosition,S=c[0]-_[0],T=S*S,j=c[1]-_[1],M=j*j,L=T+M,A=L*d*d;if(s&&e.touchData.cxt){r.preventDefault();var O=r.touches[0].clientX-C,R=r.touches[0].clientY-E,z=r.touches[1].clientX-C,I=r.touches[1].clientY-E,B=N(O,R,z,I),q=B/x,V=150,F=V*V,X=1.5,Y=X*X;if(q>=Y||B>=F){e.touchData.cxt=!1;if(e.touchData.start){e.touchData.start.unactivate();e.touchData.start=null}e.data.bgActivePosistion=void 0;e.redrawHint("select",!0);var U=a(r,{type:"cxttapend",cyPosition:{x:c[0],y:c[1]}});e.touchData.start?e.touchData.start.trigger(U):l.trigger(U)}}if(s&&e.touchData.cxt){var U=a(r,{type:"cxtdrag",cyPosition:{x:c[0],y:c[1]}});e.data.bgActivePosistion=void 0;e.redrawHint("select",!0);e.touchData.start?e.touchData.start.trigger(U):l.trigger(U);e.touchData.start&&(e.touchData.start._private.grabbed=!1);e.touchData.cxtDragged=!0;var H=e.findNearestElement(c[0],c[1],!0,!0);if(!e.touchData.cxtOver||H!==e.touchData.cxtOver){e.touchData.cxtOver&&e.touchData.cxtOver.trigger(a(r,{type:"cxtdragout",cyPosition:{x:c[0],y:c[1]}}));e.touchData.cxtOver=H;H&&H.trigger(a(r,{type:"cxtdragover",cyPosition:{x:c[0],y:c[1]}}))}}else if(s&&r.touches[2]&&l.boxSelectionEnabled()){r.preventDefault();e.data.bgActivePosistion=void 0;this.lastThreeTouch=+new Date;e.touchData.selecting=!0;e.redrawHint("select",!0);if(i&&0!==i.length&&void 0!==i[0]){i[2]=(c[0]+c[2]+c[4])/3;i[3]=(c[1]+c[3]+c[5])/3}else{i[0]=(c[0]+c[2]+c[4])/3;i[1]=(c[1]+c[3]+c[5])/3;i[2]=(c[0]+c[2]+c[4])/3+1;i[3]=(c[1]+c[3]+c[5])/3+1}i[4]=1;e.touchData.selecting=!0;e.redraw()}else if(s&&r.touches[1]&&l.zoomingEnabled()&&l.panningEnabled()&&l.userZoomingEnabled()&&l.userPanningEnabled()){r.preventDefault();e.data.bgActivePosistion=void 0;e.redrawHint("select",!0);var W=e.dragData.touchDragEles;if(W){e.redrawHint("drag",!0);for(var $=0;$<W.length;$++){W[$]._private.grabbed=!1;W[$]._private.rscratch.inDragLayer=!1}}var O=r.touches[0].clientX-C,R=r.touches[0].clientY-E,z=r.touches[1].clientX-C,I=r.touches[1].clientY-E,G=P(O,R,z,I),Z=G/w;if(1!=Z&&D){var J=O-g,Q=R-m,K=z-y,ee=I-b,te=(J+K)/2,re=(Q+ee)/2,ne=l.zoom(),ie=ne*Z,ae=l.pan(),oe=k[0]*ne+ae.x,se=k[1]*ne+ae.y,le={x:-ie/ne*(oe-ae.x-te)+oe,y:-ie/ne*(se-ae.y-re)+se};if(e.touchData.start){var W=e.dragData.touchDragEles;if(W)for(var $=0;$<W.length;$++){var ue=W[$]._private;ue.grabbed=!1;ue.rscratch.inDragLayer=!1}var ce=e.touchData.start._private;ce.active=!1;ce.grabbed=!1;ce.rscratch.inDragLayer=!1;e.redrawHint("drag",!0);e.touchData.start.trigger("free").trigger("unactivate")}l.viewport({zoom:ie,pan:le,cancelOnFailedZoom:!0});w=G;g=O;m=R;y=z;b=I;e.pinching=!0}if(r.touches[0]){var p=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);c[0]=p[0];c[1]=p[1]}if(r.touches[1]){var p=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);c[2]=p[0];c[3]=p[1]}if(r.touches[2]){var p=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);c[4]=p[0];c[5]=p[1]}}else if(r.touches[0]){var fe=e.touchData.start,de=e.touchData.last,H=H||e.findNearestElement(c[0],c[1],!0,!0);null!=fe&&r.preventDefault();if(null!=fe&&"nodes"==fe._private.group&&e.nodeIsDraggable(fe))if(A>=e.touchTapThreshold2){for(var W=e.dragData.touchDragEles,pe=!e.dragData.didDrag,he=0;he<W.length;he++){var ve=W[he];pe&&u(ve,{inDragLayer:!0});if(e.nodeIsDraggable(ve)&&ve.isNode()&&ve.grabbed()){e.dragData.didDrag=!0;var ge=ve._private.position,me=!ve.isParent();if(me&&n.number(h[0])&&n.number(h[1])){ge.x+=h[0];ge.y+=h[1]}if(pe){e.redrawHint("eles",!0);var ye=e.touchData.dragDelta;if(me&&n.number(ye[0])&&n.number(ye[1])){ge.x+=ye[0];ge.y+=ye[1]}}}}var be=o(l,W);be.updateCompoundBounds();be.trigger("position drag");e.hoverData.draggingEles=!0;e.redrawHint("drag",!0);e.touchData.startPosition[0]==f[0]&&e.touchData.startPosition[1]==f[1]&&e.redrawHint("eles",!0);e.redraw()}else{var ye=e.touchData.dragDelta=e.touchData.dragDelta||[];if(0===ye.length){ye.push(h[0]);ye.push(h[1])}else{ye[0]+=h[0];ye[1]+=h[1]}}t(fe||H,["touchmove","tapdrag","vmousemove"],r,{cyPosition:{x:c[0],y:c[1]}});if(H!=de){de&&de.trigger(a(r,{type:"tapdragout",cyPosition:{x:c[0],y:c[1]}}));H&&H.trigger(a(r,{type:"tapdragover",cyPosition:{x:c[0],y:c[1]}}))}e.touchData.last=H;for(var $=0;$<c.length;$++)c[$]&&e.touchData.startPosition[$]&&A>e.touchTapThreshold2&&(e.touchData.singleTouchMoved=!0);if(s&&(null==fe||fe.isEdge())&&l.panningEnabled()&&l.userPanningEnabled()){r.preventDefault();if(e.swipePanning)l.panBy({x:h[0]*d,y:h[1]*d});else if(A>=e.touchTapThreshold2){e.swipePanning=!0;l.panBy({x:S*d,y:j*d});if(fe){fe.unactivate();e.data.bgActivePosistion||(e.data.bgActivePosistion={x:c[0],y:c[1]});e.redrawHint("select",!0);e.touchData.start=null}}var p=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);c[0]=p[0];c[1]=p[1]}}for(var v=0;v<c.length;v++)f[v]=c[v]},!1);var L;e.registerBinding(window,"touchcancel",L=function(t){var r=e.touchData.start;e.touchData.capture=!1;r&&r.unactivate()});var A;e.registerBinding(window,"touchend",A=function(r){var n=e.touchData.start,i=e.touchData.capture;if(i){e.touchData.capture=!1;r.preventDefault();var s=e.selection;e.swipePanning=!1;e.hoverData.draggingEles=!1;var l=e.cy,u=l.zoom(),f=e.touchData.now,d=e.touchData.earlier;if(r.touches[0]){var p=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);f[0]=p[0];f[1]=p[1]}if(r.touches[1]){var p=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);f[2]=p[0];f[3]=p[1]}if(r.touches[2]){var p=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);f[4]=p[0];f[5]=p[1]}n&&n.unactivate();var h;if(e.touchData.cxt){h=a(r,{type:"cxttapend",cyPosition:{x:f[0],y:f[1]}});n?n.trigger(h):l.trigger(h);if(!e.touchData.cxtDragged){var v=a(r,{type:"cxttap",cyPosition:{x:f[0],y:f[1]}});n?n.trigger(v):l.trigger(v)}e.touchData.start&&(e.touchData.start._private.grabbed=!1);e.touchData.cxt=!1;e.touchData.start=null;e.redraw()}else{if(!r.touches[2]&&l.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var g=[],m=e.getAllInBox(s[0],s[1],s[2],s[3]);s[0]=void 0;s[1]=void 0;s[2]=void 0;s[3]=void 0;s[4]=0;e.redrawHint("select",!0);for(var y=0;y<m.length;y++)m[y]._private.selectable&&g.push(m[y]);var b=o(l,g);b.select();b.length>0?e.redrawHint("eles",!0):e.redraw()}var w=!1;if(null!=n){n._private.active=!1;w=!0;n.unactivate()}if(r.touches[2]){e.data.bgActivePosistion=void 0;e.redrawHint("select",!0)}else if(r.touches[1]);else if(r.touches[0]);else if(!r.touches[0]){e.data.bgActivePosistion=void 0;e.redrawHint("select",!0);var x=e.dragData.touchDragEles;if(null!=n){var _=n._private.grabbed;c(x);e.redrawHint("drag",!0);e.redrawHint("eles",!0);_&&n.trigger("free");t(n,["touchend","tapend","vmouseup"],r,{cyPosition:{x:f[0],y:f[1]}});n.unactivate();e.touchData.start=null}else{var k=e.findNearestElement(f[0],f[1],!0,!0);t(k,["touchend","tapend","vmouseup"],r,{cyPosition:{x:f[0],y:f[1]}})}var C=e.touchData.startPosition[0]-f[0],E=C*C,S=e.touchData.startPosition[1]-f[1],T=S*S,D=E+T,j=D*u*u;if(null!=n&&!e.dragData.didDrag&&n._private.selectable&&j<e.touchTapThreshold2&&!e.pinching){if("single"===l.selectionType()){l.$(":selected").unmerge(n).unselect();n.select()}else n.selected()?n.unselect():n.select();w=!0;e.redrawHint("eles",!0)}e.touchData.singleTouchMoved||t(n,["tap","vclick"],r,{cyPosition:{x:f[0],y:f[1]}});e.touchData.singleTouchMoved=!0}for(var P=0;P<f.length;P++)d[P]=f[P];e.dragData.didDrag=!1;0===r.touches.length&&(e.touchData.dragDelta=[]);w&&n&&n.updateStyle(!1);if(r.touches.length<2){e.pinching=!1;e.redrawHint("eles",!0);e.redraw()}}}},!1);if("undefined"==typeof TouchEvent){var O=[],R=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},z=function(e){return{event:e,touch:R(e)}},I=function(e){O.push(z(e))},B=function(e){for(var t=0;t<O.length;t++){var r=O[t];if(r.event.pointerId===e.pointerId){O.splice(t,1);return}}},q=function(e){var t=O.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e;t.touch=R(e)},V=function(e){e.touches=O.map(function(e){return e.touch})},F=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",function(e){if(!F(e)){e.preventDefault();I(e);V(e);j(e)}});e.registerBinding(e.container,"pointerup",function(e){if(!F(e)){B(e);V(e);A(e)}});e.registerBinding(e.container,"pointercancel",function(e){if(!F(e)){B(e);V(e);L(e)}});e.registerBinding(e.container,"pointermove",function(e){if(!F(e)){e.preventDefault();q(e);V(e);M(e)}})}};t.exports=s},{"../../../collection":23,"../../../event":42,"../../../is":77,"../../../util":94}],60:[function(e,t,r){"use strict";var n=e("../../../math"),i={};i.registerNodeShapes=function(){function e(e,i){return t[e]={name:e,points:i,draw:function(e,t,n,i,a){r.nodeShapeImpl("polygon")(e,t,n,i,a,this.points)},intersectLine:function(e,t,r,i,a,o,s){return n.polygonIntersectLine(a,o,this.points,e,t,r/2,i/2,s)},checkPoint:function(r,i,a,o,s,l,u){return n.pointInsidePolygon(r,i,t[e].points,l,u,o,s,[0,-1],a)}}}var t=this.nodeShapes={},r=this;t.ellipse={name:"ellipse",draw:function(e,t,n,i,a){r.nodeShapeImpl(this.name)(e,t,n,i,a)},intersectLine:function(e,t,r,i,a,o,s){return n.intersectLineEllipse(a,o,e,t,r/2+s,i/2+s)},checkPoint:function(e,t,r,n,i,a,o){e-=a;t-=o;e/=n/2+r;t/=i/2+r;return 1>=e*e+t*t}};e("triangle",n.generateUnitNgonPointsFitToSquare(3,0));e("square",n.generateUnitNgonPointsFitToSquare(4,0));t.rectangle=t.square;t.roundrectangle={name:"roundrectangle",points:n.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,i,a){r.nodeShapeImpl(this.name)(e,t,n,i,a)},intersectLine:function(e,t,r,i,a,o,s){return n.roundRectangleIntersectLine(a,o,e,t,r,i,s)},checkPoint:function(e,t,r,i,a,o,s){var l=n.getRoundRectangleRadius(i,a);if(n.pointInsidePolygon(e,t,this.points,o,s,i,a-2*l,[0,-1],r))return!0;if(n.pointInsidePolygon(e,t,this.points,o,s,i-2*l,a,[0,-1],r))return!0;var u=function(e,t,r,n,i,a,o){e-=r;t-=n;e/=i/2+o;t/=a/2+o;return 1>=e*e+t*t};return u(e,t,o-i/2+l,s-a/2+l,2*l,2*l,r)?!0:u(e,t,o+i/2-l,s-a/2+l,2*l,2*l,r)?!0:u(e,t,o+i/2-l,s+a/2-l,2*l,2*l,r)?!0:!!u(e,t,o-i/2+l,s+a/2-l,2*l,2*l,r)}};e("diamond",[0,1,1,0,0,-1,-1,0]);e("pentagon",n.generateUnitNgonPointsFitToSquare(5,0));e("hexagon",n.generateUnitNgonPointsFitToSquare(6,0));e("heptagon",n.generateUnitNgonPointsFitToSquare(7,0));e("octagon",n.generateUnitNgonPointsFitToSquare(8,0));var i=new Array(20),a=n.generateUnitNgonPoints(5,0),o=n.generateUnitNgonPoints(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var l=0;l<o.length/2;l++){o[2*l]*=s;o[2*l+1]*=s}for(var l=0;5>l;l++){i[4*l]=a[2*l];i[4*l+1]=a[2*l+1];i[4*l+2]=o[2*l];i[4*l+3]=o[2*l+1]}i=n.fitPolygonToSquare(i);e("star",i);e("vee",[-1,-1,0,-.333,1,-1,0,1]);e("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]);t.makePolygon=function(r){var n,i=r.join("$"),a="polygon-"+i;return(n=t[a])?n:e(a,r)}};t.exports=i},{"../../../math":79}],61:[function(e,t,r){"use strict";var n=e("../../../util"),i={};i.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};var a=1e3/60,o=1e3;i.redraw=function(e){e=e||n.staticEmptyObject();var t=this,r=e.forcedContext;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0);void 0===t.lastRedrawTime&&(t.lastRedrawTime=0);var i=t.lastRedrawTime;i=a>i?a:i;i=o>i?i:o;void 0===t.lastDrawTime&&(t.lastDrawTime=0);var s=Date.now(),l=s-t.lastDrawTime,u=l>=i;if(r||u){t.requestedFrame=!0;t.renderOptions=e}else t.skipFrame=!0};i.startRenderLoop=function(){var e=this;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var t=function(){if(!e.destroyed){if(e.requestedFrame&&!e.skipFrame){var r=n.performanceNow();e.render(e.renderOptions);var i=e.lastRedrawTime=n.performanceNow();void 0===e.averageRedrawTime&&(e.averageRedrawTime=i-r);void 0===e.redrawCount&&(e.redrawCount=0);e.redrawCount++;void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var a=i-r;e.redrawTotalTime+=a;e.lastRedrawTime=a;e.averageRedrawTime=e.averageRedrawTime/2+a/2;e.requestedFrame=!1}e.skipFrame=!1;n.requestAnimationFrame(t)}};n.requestAnimationFrame(t)}};t.exports=i},{"../../../util":94}],62:[function(e,t,r){"use strict";var n,i={};i.arrowShapeImpl=function(e){return(n||(n={polygon:function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}},"triangle-backcurve":function(e,t,r){for(var n,i=0;i<t.length;i++){var a=t[i];0===i&&(n=a);e.lineTo(a.x,a.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)},"triangle-tee":function(e,t,r){for(var n=t,i=0;i<n.length;i++){var a=n[i];e.lineTo(a.x,a.y)}var o=r,s=r[0];e.moveTo(s.x,s.y);for(var i=0;i<o.length;i++){var a=o[i];e.lineTo(a.x,a.y)}},circle:function(e,t,r,n){e.arc(t,r,n,0,2*Math.PI,!1)}}))[e]};t.exports=i},{}],63:[function(e,t,r){"use strict";var n={};n.drawEdge=function(e,t,r){var n=t._private.rscratch,i=this.usePaths();if(!(n.badBezier||n.badLine||isNaN(n.allpts[0]))){var a=t._private.style;if(!(a.width.pfValue<=0)){var o=a["overlay-padding"].pfValue,s=a["overlay-opacity"].value,l=a["overlay-color"].value;if(r){if(0===s)return;this.strokeStyle(e,l[0],l[1],l[2],s);e.lineCap="round";"self"!=n.edgeType||i||(e.lineCap="butt")}else{var u=a["line-color"].value;this.strokeStyle(e,u[0],u[1],u[2],a.opacity.value);e.lineCap="butt"}var c=a.width.pfValue+(r?2*o:0),f=r?"solid":a["line-style"].value;e.lineWidth=c;var d=a["shadow-blur"].pfValue,p=a["shadow-opacity"].value,h=a["shadow-color"].value,v=a["shadow-offset-x"].pfValue,g=a["shadow-offset-y"].pfValue;this.shadowStyle(e,h,r?0:p,d,v,g);this.drawEdgePath(t,e,n.allpts,f,c);this.drawArrowheads(e,t,r);this.shadowStyle(e,"transparent",0)}}};n.drawEdgePath=function(e,t,r,n,i){var a,o=e._private.rscratch,s=t,l=!1,u=this.usePaths();if(u){var c=r.join("$"),f=o.pathCacheKey&&o.pathCacheKey===c;if(f){a=t=o.pathCache;l=!0}else{a=t=new Path2D;o.pathCacheKey=c;o.pathCache=a}}if(s.setLineDash)switch(n){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash([6,3]);break;case"solid":s.setLineDash([])}if(!l){t.beginPath&&t.beginPath();t.moveTo(r[0],r[1]);switch(o.edgeType){case"bezier":case"self":case"compound":case"multibezier":if(!o.badBezier)for(var d=2;d+3<r.length;d+=4)t.quadraticCurveTo(r[d],r[d+1],r[d+2],r[d+3]);break;case"straight":case"segments":case"haystack":if(!o.badLine)for(var d=2;d+1<r.length;d+=2)t.lineTo(r[d],r[d+1])}}t=s;u?t.stroke(a):t.stroke();t.setLineDash&&t.setLineDash([])};n.drawArrowheads=function(e,t,r){if(!r){var n=t._private.rscratch,i="haystack"===n.edgeType;i||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle);this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle);this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle);i||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle)}};n.drawArrowhead=function(e,t,r,n,i,a){if(!(isNaN(n)||null==n||isNaN(i)||null==i||isNaN(a)||null==a)){var o=this,s=t._private.style,l=s[r+"-arrow-shape"].value;if("none"!==l){var u=e.globalCompositeOperation,c="hollow"===s[r+"-arrow-fill"].value?"both":"filled",f=s[r+"-arrow-fill"].value;if("half-triangle-overshot"===l){f="hollow";c="hollow"}if(1!==s.opacity.value||"hollow"===f){e.globalCompositeOperation="destination-out";o.fillStyle(e,255,255,255,1);o.strokeStyle(e,255,255,255,1);o.drawArrowShape(t,r,e,c,s.width.pfValue,s[r+"-arrow-shape"].value,n,i,a);e.globalCompositeOperation=u}var d=s[r+"-arrow-color"].value;o.fillStyle(e,d[0],d[1],d[2],s.opacity.value);o.strokeStyle(e,d[0],d[1],d[2],s.opacity.value);o.drawArrowShape(t,r,e,f,s.width.pfValue,s[r+"-arrow-shape"].value,n,i,a)}}};n.drawArrowShape=function(e,t,r,n,i,a,o,s,l){var u,c=this,f=this.usePaths(),d=e._private.rscratch,p=!1,h=r,v={x:o,y:s},g=this.getArrowWidth(i),m=c.arrowShapes[a];if(f){var y=g+"$"+a+"$"+l+"$"+o+"$"+s;d.arrowPathCacheKey=d.arrowPathCacheKey||{};d.arrowPathCache=d.arrowPathCache||{};var b=d.arrowPathCacheKey[t]===y;if(b){u=r=d.arrowPathCache[t];p=!0}else{u=r=new Path2D;d.arrowPathCacheKey[t]=y;d.arrowPathCache[t]=u}}r.beginPath&&r.beginPath();p||m.draw(r,g,l,v);!m.leavePathOpen&&r.closePath&&r.closePath();r=h;"filled"!==n&&"both"!==n||(f?r.fill(u):r.fill());if("hollow"===n||"both"===n){r.lineWidth=m.matchEdgeWidth?i:1;r.lineJoin="miter";f?r.stroke(u):r.stroke()}};t.exports=n},{}],64:[function(e,t,r){"use strict";var n={};n.safeDrawImage=function(e,t,r,n,i,a,o,s,l,u){var c=this;try{e.drawImage(t,r,n,i,a,o,s,l,u)}catch(f){c.data.canvasNeedsRedraw[c.NODE]=!0;c.data.canvasNeedsRedraw[c.DRAG]=!0;c.drawingImage=!0;c.redraw()}};n.drawInscribedImage=function(e,t,r){var n=this,i=r._private.position.x,a=r._private.position.y,o=r._private.style,s=o["background-fit"].value,l=o["background-position-x"],u=o["background-position-y"],c=o["background-repeat"].value,f=r.width(),d=r.height(),p=r._private.rscratch,h=o["background-clip"].value,v="node"===h,g=o["background-image-opacity"].value,m=t.width||t.cachedW,y=t.height||t.cachedH;if(null==m||null==y){document.body.appendChild(t);m=t.cachedW=t.width||t.offsetWidth;y=t.cachedH=t.height||t.offsetHeight;document.body.removeChild(t)}var b=m,w=y,x=o["background-width"];"auto"!==x.value&&(b="%"===x.units?x.value/100*f:x.pfValue);var _=o["background-height"];"auto"!==_.value&&(w="%"===_.units?_.value/100*d:_.pfValue);if(0!==b&&0!==w){if("contain"===s){var k=Math.min(f/b,d/w);b*=k;w*=k}else if("cover"===s){var k=Math.max(f/b,d/w);b*=k;w*=k}var C=i-f/2;C+="%"===l.units?(f-b)*l.value/100:l.pfValue;var E=a-d/2;E+="%"===u.units?(d-w)*u.value/100:u.pfValue;if(p.pathCache){C-=i;E-=a;i=0;a=0}var S=e.globalAlpha;e.globalAlpha=g;if("no-repeat"===c){if(v){e.save();if(p.pathCache)e.clip(p.pathCache);else{n.nodeShapes[n.getNodeShape(r)].draw(e,i,a,f,d);e.clip()}}n.safeDrawImage(e,t,0,0,m,y,C,E,b,w);v&&e.restore()}else{var T=e.createPattern(t,c);e.fillStyle=T;n.nodeShapes[n.getNodeShape(r)].draw(e,i,a,f,d);e.translate(C,E);e.fill();e.translate(-C,-E)}e.globalAlpha=S}};t.exports=n},{}],65:[function(e,t,r){"use strict";function n(e,t,r,n,i,a){var a=a||5;e.beginPath();e.moveTo(t+a,r);e.lineTo(t+n-a,r);e.quadraticCurveTo(t+n,r,t+n,r+a);e.lineTo(t+n,r+i-a);e.quadraticCurveTo(t+n,r+i,t+n-a,r+i);e.lineTo(t+a,r+i);e.quadraticCurveTo(t,r+i,t,r+i-a);e.lineTo(t,r+a);e.quadraticCurveTo(t,r,t+a,r);e.closePath();e.fill()}var i=e("../../../is"),a={};a.drawEdgeText=function(e,t){var r=t._private.style.label.strValue;if(r&&!r.match(/^\s+$/)&&(!this.hideEdgesOnViewport||!(this.dragData.didDrag||this.pinching||this.hoverData.dragging||this.data.wheel||this.swipePanning))){var n=t._private.style["font-size"].pfValue*t.cy().zoom(),a=t._private.style["min-zoomed-font-size"].pfValue;if(!(a>n)){e.textAlign="center";e.textBaseline="middle";var o=t._private.rscratch;if(i.number(o.labelX)&&i.number(o.labelY)){var s,l=t._private.style,u="autorotate"===l["edge-text-rotation"].strValue;if(u){s=o.labelAngle;e.translate(o.labelX,o.labelY);e.rotate(s);this.drawText(e,t,0,0);e.rotate(-s);e.translate(-o.labelX,-o.labelY)}else this.drawText(e,t,o.labelX,o.labelY)}}}};a.drawNodeText=function(e,t){var r=t._private.style.label.strValue;if(r&&!r.match(/^\s+$/)){var n=t._private.style["font-size"].pfValue*t.cy().zoom(),a=t._private.style["min-zoomed-font-size"].pfValue;if(!(a>n)){var o=t._private.style["text-halign"].strValue,s=t._private.style["text-valign"].strValue,l=t._private.rscratch;if(i.number(l.labelX)&&i.number(l.labelY)){switch(o){case"left":e.textAlign="right";break;case"right":e.textAlign="left";break;default:e.textAlign="center"}switch(s){case"top":e.textBaseline="bottom";break;case"bottom":e.textBaseline="top";break;default:e.textBaseline="middle"}this.drawText(e,t,l.labelX,l.labelY)}}}};a.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++){t=this.fontCaches[r];if(t.context===e)return t}t={context:e};this.fontCaches.push(t);return t};a.setupTextStyle=function(e,t){var r=t.effectiveOpacity(),n=t._private.style,i=n["font-style"].strValue,a=n["font-size"].pfValue+"px",o=n["font-family"].strValue,s=n["font-weight"].strValue,l=n["text-opacity"].value*n.opacity.value*r,u=n["text-outline-opacity"].value*l,c=n.color.value,f=n["text-outline-color"].value,d=n["text-shadow-blur"].pfValue,p=n["text-shadow-opacity"].value,h=n["text-shadow-color"].value,v=n["text-shadow-offset-x"].pfValue,g=n["text-shadow-offset-y"].pfValue,m=t._private.fontKey,y=this.getFontCache(e);if(y.key!==m){e.font=i+" "+s+" "+a+" "+o;y.key=m}var b=this.getLabelText(t);e.lineJoin="round";this.fillStyle(e,c[0],c[1],c[2],l);this.strokeStyle(e,f[0],f[1],f[2],u);this.shadowStyle(e,h,p,d,v,g);return b};a.drawText=function(e,t,r,i){var a=t._private,o=a.style,s=a.rstyle,l=a.rscratch,u=t.effectiveOpacity();if(0!==u&&0!==o["text-opacity"].value){var c=this.setupTextStyle(e,t),f=o["text-halign"].value,d=o["text-valign"].value;if(t.isEdge()){f="center";d="center"}if(t.isNode()){var p=o["padding-left"].pfValue,h=o["padding-right"].pfValue,v=o["padding-top"].pfValue,g=o["padding-bottom"].pfValue;r+=p/2;r-=h/2;i+=v/2;i-=g/2}if(null!=c&&!isNaN(r)&&!isNaN(i)){var m=o["text-background-opacity"].value,y=o["text-border-opacity"].value,b=o["text-border-width"].pfValue;if(m>0||b>0&&y>0){var w=4+b/2;if(t.isNode()){"top"===d?i-=w:"bottom"===d&&(i+=w);"left"===f?r-=w:"right"===f&&(r+=w)}var x=s.labelWidth,_=s.labelHeight,k=r;f&&("center"==f?k-=x/2:"left"==f&&(k-=x));var C=i;t.isNode()?"top"==d?C-=_:"center"==d&&(C-=_/2):C-=_/2;if("autorotate"===o["edge-text-rotation"].strValue){i=0;x+=4;k=r-x/2;C=i-_/2}else{k-=w;C-=w;_+=2*w;x+=2*w}if(m>0){var E=e.fillStyle,S=o["text-background-color"].value;e.fillStyle="rgba("+S[0]+","+S[1]+","+S[2]+","+m*u+")";var T=o["text-background-shape"].strValue;"roundrectangle"==T?n(e,k,C,x,_,2):e.fillRect(k,C,x,_);e.fillStyle=E}if(b>0&&y>0){var D=e.strokeStyle,j=e.lineWidth,P=o["text-border-color"].value,N=o["text-border-style"].value;e.strokeStyle="rgba("+P[0]+","+P[1]+","+P[2]+","+y*u+")";e.lineWidth=b;if(e.setLineDash)switch(N){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=b/4;e.setLineDash([]);break;case"solid":e.setLineDash([])}e.strokeRect(k,C,x,_);if("double"===N){var M=b/2;e.strokeRect(k+M,C+M,x-2*M,_-2*M)}e.setLineDash&&e.setLineDash([]);e.lineWidth=j;e.strokeStyle=D}}var L=2*o["text-outline-width"].pfValue;L>0&&(e.lineWidth=L);if("wrap"===o["text-wrap"].value){var A=l.labelWrapCachedLines,O=s.labelHeight/A.length;
switch(d){case"top":i-=(A.length-1)*O;break;case"bottom":break;default:case"center":i-=(A.length-1)*O/2}for(var R=0;R<A.length;R++){L>0&&e.strokeText(A[R],r,i);e.fillText(A[R],r,i);i+=O}}else{L>0&&e.strokeText(c,r,i);e.fillText(c,r,i)}this.shadowStyle(e,"transparent",0)}}};t.exports=a},{"../../../is":77}],66:[function(e,t,r){"use strict";var n=e("../../../is"),i={};i.drawNode=function(e,t,r){var i,a,o=this,s=t._private.style,l=t._private.rscratch,u=t._private,c=u.position;if(n.number(c.x)&&n.number(c.y)){var f,d=this.usePaths(),p=e,h=!1,v=s["overlay-padding"].pfValue,g=s["overlay-opacity"].value,m=s["overlay-color"].value;if(!r||0!==g){var y=t.effectiveOpacity();if(0!==y){i=t.width()+s["padding-left"].pfValue+s["padding-right"].pfValue;a=t.height()+s["padding-top"].pfValue+s["padding-bottom"].pfValue;e.lineWidth=s["border-width"].pfValue;if(void 0!==r&&r){if(g>0){this.fillStyle(e,m[0],m[1],m[2],g);o.nodeShapes.roundrectangle.draw(e,t._private.position.x,t._private.position.y,i+2*v,a+2*v);e.fill()}}else{var b,w=s["background-image"].value[2]||s["background-image"].value[1];if(void 0!==w){b=this.getCachedImage(w,function(){o.data.canvasNeedsRedraw[o.NODE]=!0;o.data.canvasNeedsRedraw[o.DRAG]=!0;o.drawingImage=!0;o.redraw()});var x=u.backgrounding;u.backgrounding=!b.complete;x!==u.backgrounding&&t.updateStyle(!1)}var _=s["background-color"].value,k=s["border-color"].value,C=s["border-style"].value;this.fillStyle(e,_[0],_[1],_[2],s["background-opacity"].value*y);this.strokeStyle(e,k[0],k[1],k[2],s["border-opacity"].value*y);var E=s["shadow-blur"].pfValue,S=s["shadow-opacity"].value,T=s["shadow-color"].value,D=s["shadow-offset-x"].pfValue,j=s["shadow-offset-y"].pfValue;this.shadowStyle(e,T,S,E,D,j);e.lineJoin="miter";if(e.setLineDash)switch(C){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var P=s.shape.strValue;if(d){var N=P+"$"+i+"$"+a;e.translate(c.x,c.y);if(l.pathCacheKey===N){f=e=l.pathCache;h=!0}else{f=e=new Path2D;l.pathCacheKey=N;l.pathCache=f}}if(!h){var M=c;d&&(M={x:0,y:0});o.nodeShapes[this.getNodeShape(t)].draw(e,M.x,M.y,i,a)}e=p;d?e.fill(f):e.fill();this.shadowStyle(e,"transparent",0);void 0!==w&&b.complete&&this.drawInscribedImage(e,b,t);var L=s["background-blacken"].value,A=s["border-width"].pfValue;if(this.hasPie(t)){this.drawPie(e,t,y);0===L&&0===A||d||o.nodeShapes[this.getNodeShape(t)].draw(e,c.x,c.y,i,a)}if(L>0){this.fillStyle(e,0,0,0,L);d?e.fill(f):e.fill()}else if(0>L){this.fillStyle(e,255,255,255,-L);d?e.fill(f):e.fill()}if(A>0){d?e.stroke(f):e.stroke();if("double"===C){e.lineWidth=s["border-width"].pfValue/3;var O=e.globalCompositeOperation;e.globalCompositeOperation="destination-out";d?e.stroke(f):e.stroke();e.globalCompositeOperation=O}}d&&e.translate(-c.x,-c.y);e.setLineDash&&e.setLineDash([])}}}}};i.hasPie=function(e){e=e[0];return e._private.hasPie};i.drawPie=function(e,t,r){t=t[0];var n=t._private,i=t.cy().style(),a=n.style,o=a["pie-size"],s=t.width(),l=t.height(),u=n.position.x,c=n.position.y,f=Math.min(s,l)/2,d=0,p=this.usePaths();if(p){u=0;c=0}"%"===o.units?f=f*o.value/100:void 0!==o.pfValue&&(f=o.pfValue/2);for(var h=1;h<=i.pieBackgroundN;h++){var v=a["pie-"+h+"-background-size"].value,g=a["pie-"+h+"-background-color"].value,m=a["pie-"+h+"-background-opacity"].value*r,y=v/100;y+d>1&&(y=1-d);var b=1.5*Math.PI+2*Math.PI*d,w=2*Math.PI*y,x=b+w;if(!(0===v||d>=1||d+y>1)){e.beginPath();e.moveTo(u,c);e.arc(u,c,f,b,x);e.closePath();this.fillStyle(e,g[0],g[1],g[2],m);e.fill();d+=y}}};t.exports=i},{"../../../is":77}],67:[function(e,t,r){"use strict";var n={},i=e("../../../util"),a=e("../../../math"),o=100;n.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t};n.paintCache=function(e){for(var t,r=this.paintCaches=this.paintCaches||[],n=!0,i=0;i<r.length;i++){t=r[i];if(t.context===e){n=!1;break}}if(n){t={context:e};r.push(t)}return t};n.fillStyle=function(e,t,r,n,i){e.fillStyle="rgba("+t+","+r+","+n+","+i+")"};n.strokeStyle=function(e,t,r,n,i){e.strokeStyle="rgba("+t+","+r+","+n+","+i+")"};n.shadowStyle=function(e,t,r,n,i,a){var o=this.cy.zoom(),s=this.paintCache(e);if(0!==s.shadowOpacity||0!==r){s.shadowOpacity=r;if(r>0){e.shadowBlur=n*o;e.shadowColor="rgba("+t[0]+","+t[1]+","+t[2]+","+r+")";e.shadowOffsetX=i*o;e.shadowOffsetY=a*o}else{e.shadowBlur=0;e.shadowColor="transparent"}}};n.matchCanvasSize=function(e){var t=this,r=t.data,n=e.clientWidth,i=e.clientHeight,a=t.getPixelRatio(),o=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(a=o);var s,l=n*a,u=i*a;if(l!==t.canvasWidth||u!==t.canvasHeight){t.fontCaches=null;var c=r.canvasContainer;c.style.width=n+"px";c.style.height=i+"px";for(var f=0;f<t.CANVAS_LAYERS;f++){s=r.canvases[f];if(s.width!==l||s.height!==u){s.width=l;s.height=u;s.style.width=n+"px";s.style.height=i+"px"}}for(var f=0;f<t.BUFFER_COUNT;f++){s=r.bufferCanvases[f];if(s.width!==l||s.height!==u){s.width=l;s.height=u;s.style.width=n+"px";s.style.height=i+"px"}}t.textureMult=1;if(1>=a){s=r.bufferCanvases[t.TEXTURE_BUFFER];t.textureMult=2;s.width=l*t.textureMult;s.height=u*t.textureMult}t.canvasWidth=l;t.canvasHeight=u}};n.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};n.render=function(e){function t(e,t,r,n,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out";d.fillStyle(e,255,255,255,d.motionBlurTransparency);e.fillRect(t,r,n,i);e.globalCompositeOperation=a}function r(e,r){var n,i,a,o;if(d.clearingMotionBlur||e!==v.bufferContexts[d.MOTIONBLUR_BUFFER_NODE]&&e!==v.bufferContexts[d.MOTIONBLUR_BUFFER_DRAG]){n=j;i=T;a=d.canvasWidth;o=d.canvasHeight}else{n={x:D.x*b,y:D.y*b};i=S*b;a=d.canvasWidth*b;o=d.canvasHeight*b}e.setTransform(1,0,0,1,0,0);"motionBlur"===r?t(e,0,0,a,o):s||void 0!==r&&!r||e.clearRect(0,0,a,o);if(!l){e.translate(n.x,n.y);e.scale(i,i)}f&&e.translate(f.x,f.y);c&&e.scale(c,c)}function n(e,t){for(var r=e.eles,n=0;n<r.length;n++){var i=r[n];if(i.isNode()){d.drawNode(t,i);F||d.drawNodeText(t,i);d.drawNode(t,i,!0)}else if(!V){d.drawEdge(t,i);F||d.drawEdgeText(t,i);d.drawEdge(t,i,!0)}}}e=e||i.staticEmptyObject();var s=e.forcedContext,l=e.drawAllLayers,u=e.drawOnlyNodeLayer,c=e.forcedZoom,f=e.forcedPan,d=this,p=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,h=d.cy,v=d.data,g=v.canvasNeedsRedraw,m=d.textureOnViewport&&!s&&(d.pinching||d.hoverData.dragging||d.swipePanning||d.data.wheelZooming),y=void 0!==e.motionBlur?e.motionBlur:d.motionBlur,b=d.motionBlurPxRatio,w=h.hasCompoundNodes(),x=d.hoverData.draggingEles,_=!(!d.hoverData.selecting&&!d.touchData.selecting);y=y&&!s&&d.motionBlurEnabled&&!_;var k=y;if(!s){if(d.prevPxRatio!==p){d.invalidateContainerClientCoordsCache();d.matchCanvasSize(d.container);d.redrawHint("eles",!0);d.redrawHint("drag",!0)}d.prevPxRatio=p}!s&&d.motionBlurTimeout&&clearTimeout(d.motionBlurTimeout);if(y){null==d.mbFrames&&(d.mbFrames=0);d.drawingImage||d.mbFrames++;d.mbFrames<3&&(k=!1);d.mbFrames>d.minMbLowQualFrames&&(d.motionBlurPxRatio=d.mbPxRBlurry)}d.clearingMotionBlur&&(d.motionBlurPxRatio=1);if(d.textureDrawLastFrame&&!m){g[d.NODE]=!0;g[d.SELECT_BOX]=!0}var C=d.getCachedEdges(),E=h.style()._private.coreStyle,S=h.zoom(),T=void 0!==c?c:S,D=h.pan(),j={x:D.x,y:D.y},P={zoom:S,pan:{x:D.x,y:D.y}},N=d.prevViewport,M=void 0===N||P.zoom!==N.zoom||P.pan.x!==N.pan.x||P.pan.y!==N.pan.y;M||x&&!w||(d.motionBlurPxRatio=1);f&&(j=f);T*=p;j.x*=p;j.y*=p;var L={drag:{nodes:[],edges:[],eles:[]},nondrag:{nodes:[],edges:[],eles:[]}};m||(d.textureDrawLastFrame=!1);if(m){d.textureDrawLastFrame=!0;var A;if(!d.textureCache){d.textureCache={};A=d.textureCache.bb=h.elements().boundingBox();d.textureCache.texture=d.data.bufferCanvases[d.TEXTURE_BUFFER];var O=d.data.bufferContexts[d.TEXTURE_BUFFER];O.setTransform(1,0,0,1,0,0);O.clearRect(0,0,d.canvasWidth*d.textureMult,d.canvasHeight*d.textureMult);d.render({forcedContext:O,drawOnlyNodeLayer:!0,forcedPxRatio:p*d.textureMult});var P=d.textureCache.viewport={zoom:h.zoom(),pan:h.pan(),width:d.canvasWidth,height:d.canvasHeight};P.mpan={x:(0-P.pan.x)/P.zoom,y:(0-P.pan.y)/P.zoom}}g[d.DRAG]=!1;g[d.NODE]=!1;var R=v.contexts[d.NODE],z=d.textureCache.texture,P=d.textureCache.viewport;A=d.textureCache.bb;R.setTransform(1,0,0,1,0,0);y?t(R,0,0,P.width,P.height):R.clearRect(0,0,P.width,P.height);var I=E["outside-texture-bg-color"].value,B=E["outside-texture-bg-opacity"].value;d.fillStyle(R,I[0],I[1],I[2],B);R.fillRect(0,0,P.width,P.height);var S=h.zoom();r(R,!1);R.clearRect(P.mpan.x,P.mpan.y,P.width/P.zoom/p,P.height/P.zoom/p);R.drawImage(z,P.mpan.x,P.mpan.y,P.width/P.zoom/p,P.height/P.zoom/p)}else d.textureOnViewport&&!s&&(d.textureCache=null);var q=d.pinching||d.hoverData.dragging||d.swipePanning||d.data.wheelZooming||d.hoverData.draggingEles,V=d.hideEdgesOnViewport&&q,F=d.hideLabelsOnViewport&&q;if(g[d.DRAG]||g[d.NODE]||l||u){V||d.findEdgeControlPoints(C);for(var X=d.getCachedZSortedEles(),Y=h.extent(),U=0;U<X.length;U++){var H,W=X[U],A=s?null:W.boundingBox(),$=s?!0:a.boundingBoxesIntersect(Y,A);if($){H=W._private.rscratch.inDragLayer?L.drag:L.nondrag;H.eles.push(W)}}}var G=[];G[d.NODE]=!g[d.NODE]&&y&&!d.clearedForMotionBlur[d.NODE]||d.clearingMotionBlur;G[d.NODE]&&(d.clearedForMotionBlur[d.NODE]=!0);G[d.DRAG]=!g[d.DRAG]&&y&&!d.clearedForMotionBlur[d.DRAG]||d.clearingMotionBlur;G[d.DRAG]&&(d.clearedForMotionBlur[d.DRAG]=!0);if(g[d.NODE]||l||u||G[d.NODE]){var Z=y&&!G[d.NODE]&&1!==b,R=s||(Z?d.data.bufferContexts[d.MOTIONBLUR_BUFFER_NODE]:v.contexts[d.NODE]),J=y&&!Z?"motionBlur":void 0;r(R,J);n(L.nondrag,R);l||y||(g[d.NODE]=!1)}if(!u&&(g[d.DRAG]||l||G[d.DRAG])){var Z=y&&!G[d.DRAG]&&1!==b,R=s||(Z?d.data.bufferContexts[d.MOTIONBLUR_BUFFER_DRAG]:v.contexts[d.DRAG]);r(R,y&&!Z?"motionBlur":void 0);n(L.drag,R);l||y||(g[d.DRAG]=!1)}if(d.showFps||!u&&g[d.SELECT_BOX]&&!l){var R=s||v.contexts[d.SELECT_BOX];r(R);if(1==d.selection[4]&&(d.hoverData.selecting||d.touchData.selecting)){var S=d.cy.zoom(),Q=E["selection-box-border-width"].value/S;R.lineWidth=Q;R.fillStyle="rgba("+E["selection-box-color"].value[0]+","+E["selection-box-color"].value[1]+","+E["selection-box-color"].value[2]+","+E["selection-box-opacity"].value+")";R.fillRect(d.selection[0],d.selection[1],d.selection[2]-d.selection[0],d.selection[3]-d.selection[1]);if(Q>0){R.strokeStyle="rgba("+E["selection-box-border-color"].value[0]+","+E["selection-box-border-color"].value[1]+","+E["selection-box-border-color"].value[2]+","+E["selection-box-opacity"].value+")";R.strokeRect(d.selection[0],d.selection[1],d.selection[2]-d.selection[0],d.selection[3]-d.selection[1])}}if(v.bgActivePosistion&&!d.hoverData.selecting){var S=d.cy.zoom(),K=v.bgActivePosistion;R.fillStyle="rgba("+E["active-bg-color"].value[0]+","+E["active-bg-color"].value[1]+","+E["active-bg-color"].value[2]+","+E["active-bg-opacity"].value+")";R.beginPath();R.arc(K.x,K.y,E["active-bg-size"].pfValue/S,0,2*Math.PI);R.fill()}var ee=d.lastRedrawTime;if(d.showFps&&ee){ee=Math.round(ee);var te=Math.round(1e3/ee);R.setTransform(1,0,0,1,0,0);R.fillStyle="rgba(255, 0, 0, 0.75)";R.strokeStyle="rgba(255, 0, 0, 0.75)";R.lineWidth=1;R.fillText("1 frame = "+ee+" ms = "+te+" fps",0,20);var re=60;R.strokeRect(0,30,250,20);R.fillRect(0,30,250*Math.min(te/re,1),20)}l||(g[d.SELECT_BOX]=!1)}if(y&&1!==b){var ne=v.contexts[d.NODE],ie=d.data.bufferCanvases[d.MOTIONBLUR_BUFFER_NODE],ae=v.contexts[d.DRAG],oe=d.data.bufferCanvases[d.MOTIONBLUR_BUFFER_DRAG],se=function(e,r,n){e.setTransform(1,0,0,1,0,0);n||!k?e.clearRect(0,0,d.canvasWidth,d.canvasHeight):t(e,0,0,d.canvasWidth,d.canvasHeight);var i=b;e.drawImage(r,0,0,d.canvasWidth*i,d.canvasHeight*i,0,0,d.canvasWidth,d.canvasHeight)};if(g[d.NODE]||G[d.NODE]){se(ne,ie,G[d.NODE]);g[d.NODE]=!1}if(g[d.DRAG]||G[d.DRAG]){se(ae,oe,G[d.DRAG]);g[d.DRAG]=!1}}d.prevViewport=P;if(d.clearingMotionBlur){d.clearingMotionBlur=!1;d.motionBlurCleared=!0;d.motionBlur=!0}y&&(d.motionBlurTimeout=setTimeout(function(){d.motionBlurTimeout=null;d.clearedForMotionBlur[d.NODE]=!1;d.clearedForMotionBlur[d.DRAG]=!1;d.motionBlur=!1;d.clearingMotionBlur=!m;d.mbFrames=0;g[d.NODE]=!0;g[d.DRAG]=!0;d.redraw()},o));d.drawingImage=!1;if(!s&&!d.initrender){d.initrender=!0;h.trigger("initrender")}s||h.triggerOnRender()};t.exports=n},{"../../../math":79,"../../../util":94}],68:[function(e,t,r){"use strict";var n=e("../../../math"),i={};i.drawPolygonPath=function(e,t,r,n,i,a){var o=n/2,s=i/2;e.beginPath&&e.beginPath();e.moveTo(t+o*a[0],r+s*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+o*a[2*l],r+s*a[2*l+1]);e.closePath()};i.drawRoundRectanglePath=function(e,t,r,i,a,o){var s=i/2,l=a/2,u=n.getRoundRectangleRadius(i,a);e.beginPath&&e.beginPath();e.moveTo(t,r-l);e.arcTo(t+s,r-l,t+s,r,u);e.arcTo(t+s,r+l,t,r+l,u);e.arcTo(t-s,r+l,t-s,r,u);e.arcTo(t-s,r-l,t,r-l,u);e.lineTo(t,r-l);e.closePath()};for(var a=Math.sin(0),o=Math.cos(0),s={},l={},u=Math.PI/40,c=0*Math.PI;c<2*Math.PI;c+=u){s[c]=Math.sin(c);l[c]=Math.cos(c)}i.drawEllipsePath=function(e,t,r,n,i){e.beginPath&&e.beginPath();if(e.ellipse)e.ellipse(t,r,n/2,i/2,0,0,2*Math.PI);else for(var c,f,d=n/2,p=i/2,h=0*Math.PI;h<2*Math.PI;h+=u){c=t-d*s[h]*a+d*l[h]*o;f=r+p*l[h]*a+p*s[h]*o;0===h?e.moveTo(c,f):e.lineTo(c,f)}e.closePath()};t.exports=i},{"../../../math":79}],69:[function(e,t,r){"use strict";var n=e("../../../is"),i={};i.createBuffer=function(e,t){var r=document.createElement("canvas");r.width=e;r.height=t;return[r,r.getContext("2d")]};i.bufferCanvasImage=function(e){var t=this.cy,r=t.elements().boundingBox(),i=e.full?Math.ceil(r.w):this.container.clientWidth,a=e.full?Math.ceil(r.h):this.container.clientHeight,o=1;if(void 0!==e.scale){i*=e.scale;a*=e.scale;o=e.scale}else if(n.number(e.maxWidth)||n.number(e.maxHeight)){var s=1/0,l=1/0;n.number(e.maxWidth)&&(s=o*e.maxWidth/i);n.number(e.maxHeight)&&(l=o*e.maxHeight/a);o=Math.min(s,l);i*=o;a*=o}var u=document.createElement("canvas");u.width=i;u.height=a;u.style.width=i+"px";u.style.height=a+"px";var c=u.getContext("2d");if(i>0&&a>0){c.clearRect(0,0,i,a);if(e.bg){c.fillStyle=e.bg;c.rect(0,0,i,a);c.fill()}c.globalCompositeOperation="source-over";if(e.full)this.render({forcedContext:c,drawAllLayers:!0,forcedZoom:o,forcedPan:{x:-r.x1*o,y:-r.y1*o},forcedPxRatio:1});else{var f=t.pan(),d={x:f.x*o,y:f.y*o},p=t.zoom()*o;this.render({forcedContext:c,drawAllLayers:!0,forcedZoom:p,forcedPan:d,forcedPxRatio:1})}}return u};i.png=function(e){return this.bufferCanvasImage(e).toDataURL("image/png")};i.jpg=function(e){return this.bufferCanvasImage(e).toDataURL("image/jpeg")};t.exports=i},{"../../../is":77}],70:[function(e,t,r){"use strict";function n(e){var t=this;t.data={canvases:new Array(s.CANVAS_LAYERS),contexts:new Array(s.CANVAS_LAYERS),canvasNeedsRedraw:new Array(s.CANVAS_LAYERS),bufferCanvases:new Array(s.BUFFER_COUNT),bufferContexts:new Array(s.CANVAS_LAYERS)};t.data.canvasContainer=document.createElement("div");var r=t.data.canvasContainer.style;t.data.canvasContainer.setAttribute("style","-webkit-tap-highlight-color: rgba(0,0,0,0);");r.position="relative";r.zIndex="0";r.overflow="hidden";var n=e.cy.container();n.appendChild(t.data.canvasContainer);n.setAttribute("style",(n.getAttribute("style")||"")+"-webkit-tap-highlight-color: rgba(0,0,0,0);");for(var i=0;i<s.CANVAS_LAYERS;i++){var o=t.data.canvases[i]=document.createElement("canvas");t.data.contexts[i]=o.getContext("2d");o.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(a.ms()?" -ms-touch-action: none; touch-action: none; ":""));o.style.position="absolute";o.setAttribute("data-id","layer"+i);o.style.zIndex=String(s.CANVAS_LAYERS-i);t.data.canvasContainer.appendChild(o);t.data.canvasNeedsRedraw[i]=!1}t.data.topCanvas=t.data.canvases[0];t.data.canvases[s.NODE].setAttribute("data-id","layer"+s.NODE+"-node");t.data.canvases[s.SELECT_BOX].setAttribute("data-id","layer"+s.SELECT_BOX+"-selectbox");t.data.canvases[s.DRAG].setAttribute("data-id","layer"+s.DRAG+"-drag");for(var i=0;i<s.BUFFER_COUNT;i++){t.data.bufferCanvases[i]=document.createElement("canvas");t.data.bufferContexts[i]=t.data.bufferCanvases[i].getContext("2d");t.data.bufferCanvases[i].style.position="absolute";t.data.bufferCanvases[i].setAttribute("data-id","buffer"+i);t.data.bufferCanvases[i].style.zIndex=String(-i-1);t.data.bufferCanvases[i].style.visibility="hidden"}t.pathsEnabled=!0}var i=e("../../../util"),a=e("../../../is"),o=n,s=n.prototype;s.CANVAS_LAYERS=3;s.SELECT_BOX=0;s.DRAG=1;s.NODE=2;s.BUFFER_COUNT=3;s.TEXTURE_BUFFER=0;s.MOTIONBLUR_BUFFER_NODE=1;s.MOTIONBLUR_BUFFER_DRAG=2;s.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[s.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[s.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[s.SELECT_BOX]=t}};var l="undefined"!=typeof Path2D;s.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e};s.usePaths=function(){return l&&this.pathsEnabled};[e("./arrow-shapes"),e("./drawing-edges"),e("./drawing-images"),e("./drawing-label-text"),e("./drawing-nodes"),e("./drawing-redraw"),e("./drawing-shapes"),e("./export-image"),e("./node-shapes")].forEach(function(e){i.extend(s,e)});t.exports=o},{"../../../is":77,"../../../util":94,"./arrow-shapes":62,"./drawing-edges":63,"./drawing-images":64,"./drawing-label-text":65,"./drawing-nodes":66,"./drawing-redraw":67,"./drawing-shapes":68,"./export-image":69,"./node-shapes":71}],71:[function(e,t,r){"use strict";var n,i={};i.nodeShapeImpl=function(e){var t=this;return(n||(n={ellipse:function(e,r,n,i,a){t.drawEllipsePath(e,r,n,i,a)},polygon:function(e,r,n,i,a,o){t.drawPolygonPath(e,r,n,i,a,o)},roundrectangle:function(e,r,n,i,a){t.drawRoundRectanglePath(e,r,n,i,a,10)}}))[e]};t.exports=i},{}],72:[function(e,t,r){"use strict";t.exports=[{name:"null",impl:e("./null")},{name:"base",impl:e("./base")},{name:"canvas",impl:e("./canvas")}]},{"./base":58,"./canvas":70,"./null":73}],73:[function(e,t,r){"use strict";function n(e){this.options=e;this.notifications=0}var i=function(){};n.prototype={recalculateRenderedStyle:i,notify:function(){this.notifications++},init:i};t.exports=n},{}],74:[function(e,t,r){"use strict";var n=e("./is"),i=e("./util"),a=e("./thread"),o=e("./promise"),s=e("./define"),l=function(t){if(!(this instanceof l))return new l(t);this._private={pass:[]};var r=4;n.number(t);if("undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency)t=navigator.hardwareConcurrency;else try{t=e("os").cpus().length}catch(i){t=r}for(var o=0;t>o;o++)this[o]=new a;this.length=t},u=l.prototype;i.extend(u,{instanceString:function(){return"fabric"},require:function(e,t){for(var r=0;r<this.length;r++){var n=this[r];n.require(e,t)}return this},random:function(){var e=Math.round((this.length-1)*Math.random()),t=this[e];return t},run:function(e){var t=this._private.pass.shift();return this.random().pass(t).run(e)},message:function(e){return this.random().message(e)},broadcast:function(e){for(var t=0;t<this.length;t++){var r=this[t];r.message(e)}return this},stop:function(){for(var e=0;e<this.length;e++){var t=this[e];t.stop()}return this},pass:function(e){var t=this._private.pass;if(!n.array(e))throw"Only arrays may be used with fabric.pass()";t.push(e);return this},spreadSize:function(){var e=Math.ceil(this._private.pass[0].length/this.length);e=Math.max(1,e);return e},spread:function(e){for(var t=this,r=t._private,n=t.spreadSize(),i=r.pass.shift().concat([]),a=[],s=0;s<this.length;s++){var l=this[s],u=i.splice(0,n),c=l.pass(u).run(e);a.push(c);var f=0===i.length;if(f)break}return o.all(a).then(function(e){for(var t=[],r=0,n=0;n<e.length;n++)for(var i=e[n],a=0;a<i.length;a++){var o=i[a];t[r++]=o}return t})},map:function(e){var t=this;t.require(e,"_$_$_fabmap");return t.spread(function(e){var t=[],r=resolve;resolve=function(e){t.push(e)};for(var n=0;n<e.length;n++){var i=t.length,a=_$_$_fabmap(e[n]),o=i===t.length;o&&t.push(a)}resolve=r;return t})},filter:function(e){var t=this._private,r=t.pass[0];return this.map(e).then(function(e){for(var t=[],n=0;n<r.length;n++){var i=r[n],a=e[n];a&&t.push(i)}return t})},sort:function(e){var t=this,r=this._private.pass[0].length,n=this.spreadSize();e=e||function(e,t){return t>e?-1:e>t?1:0};t.require(e,"_$_$_cmp");return t.spread(function(e){var t=e.sort(_$_$_cmp);resolve(t)}).then(function(t){for(var i=function(n,i,a){i=Math.min(i,r);a=Math.min(a,r);for(var o=n,s=i,l=[],u=o;a>u;u++){var c=t[n],f=t[i];if(s>n&&(i>=a||e(c,f)<=0)){l.push(c);n++}else{l.push(f);i++}}for(var u=0;u<l.length;u++){var d=o+u;t[d]=l[u]}},a=n;r>a;a*=2)for(var o=0;r>o;o+=2*a)i(o,o+a,o+2*a);return t})}});var c=function(e){e=e||{};return function(t,r){var n=this._private.pass.shift();return this.random().pass(n)[e.threadFn](t,r)}};i.extend(u,{randomMap:c({threadFn:"map"}),reduce:c({threadFn:"reduce"}),reduceRight:c({threadFn:"reduceRight"})});var f=u;f.promise=f.run;f.terminate=f.halt=f.stop;f.include=f.require;i.extend(u,{on:s.on(),one:s.on({unbindSelfOnTrigger:!0}),off:s.off(),trigger:s.trigger()});s.eventAliasesOn(u);t.exports=l},{"./define":41,"./is":77,"./promise":80,"./thread":92,"./util":94,os:void 0}],75:[function(e,t,r){"use strict";(function(){var e,n,i,a,o,s,l,u,c,f,d,p,h,v,g;i=Math.floor,f=Math.min;n=function(e,t){return t>e?-1:e>t?1:0};c=function(e,t,r,a,o){var s;null==r&&(r=0);null==o&&(o=n);if(0>r)throw new Error("lo must be non-negative");null==a&&(a=e.length);for(;a>r;){s=i((r+a)/2);o(t,e[s])<0?a=s:r=s+1}return[].splice.apply(e,[r,r-r].concat(t)),t};s=function(e,t,r){null==r&&(r=n);e.push(t);return v(e,0,e.length-1,r)};o=function(e,t){var r,i;null==t&&(t=n);r=e.pop();if(e.length){i=e[0];e[0]=r;g(e,0,t)}else i=r;return i};u=function(e,t,r){var i;null==r&&(r=n);i=e[0];e[0]=t;g(e,0,r);return i};l=function(e,t,r){var i;null==r&&(r=n);if(e.length&&r(e[0],t)<0){i=[e[0],t],t=i[0],e[0]=i[1];g(e,0,r)}return t};a=function(e,t){var r,a,o,s,l,u;null==t&&(t=n);s=function(){u=[];for(var t=0,r=i(e.length/2);r>=0?r>t:t>r;r>=0?t++:t--)u.push(t);return u}.apply(this).reverse();l=[];for(a=0,o=s.length;o>a;a++){r=s[a];l.push(g(e,r,t))}return l};h=function(e,t,r){var i;null==r&&(r=n);i=e.indexOf(t);if(-1!==i){v(e,0,i,r);return g(e,i,r)}};d=function(e,t,r){var i,o,s,u,c;null==r&&(r=n);o=e.slice(0,t);if(!o.length)return o;a(o,r);c=e.slice(t);for(s=0,u=c.length;u>s;s++){i=c[s];l(o,i,r)}return o.sort(r).reverse()};p=function(e,t,r){var i,s,l,u,d,p,h,v,g,m;null==r&&(r=n);if(10*t<=e.length){u=e.slice(0,t).sort(r);if(!u.length)return u;l=u[u.length-1];v=e.slice(t);for(d=0,h=v.length;h>d;d++){i=v[d];if(r(i,l)<0){c(u,i,0,null,r);u.pop();l=u[u.length-1]}}return u}a(e,r);m=[];for(s=p=0,g=f(t,e.length);g>=0?g>p:p>g;s=g>=0?++p:--p)m.push(o(e,r));return m};v=function(e,t,r,i){var a,o,s;null==i&&(i=n);a=e[r];for(;r>t;){s=r-1>>1;o=e[s];if(!(i(a,o)<0))break;e[r]=o;r=s}return e[r]=a};g=function(e,t,r){var i,a,o,s,l;null==r&&(r=n);a=e.length;l=t;o=e[t];i=2*t+1;for(;a>i;){s=i+1;a>s&&!(r(e[i],e[s])<0)&&(i=s);e[t]=e[i];t=i;i=2*t+1}e[t]=o;return v(e,l,t,r)};e=function(){function e(e){this.cmp=null!=e?e:n;this.nodes=[]}e.push=s;e.pop=o;e.replace=u;e.pushpop=l;e.heapify=a;e.updateItem=h;e.nlargest=d;e.nsmallest=p;e.prototype.push=function(e){return s(this.nodes,e,this.cmp)};e.prototype.pop=function(){return o(this.nodes,this.cmp)};e.prototype.peek=function(){return this.nodes[0]};e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)};e.prototype.replace=function(e){return u(this.nodes,e,this.cmp)};e.prototype.pushpop=function(e){return l(this.nodes,e,this.cmp)};e.prototype.heapify=function(){return a(this.nodes,this.cmp)};e.prototype.updateItem=function(e){return h(this.nodes,e,this.cmp)};e.prototype.clear=function(){return this.nodes=[]};e.prototype.empty=function(){return 0===this.nodes.length};e.prototype.size=function(){return this.nodes.length};e.prototype.clone=function(){var t;t=new e;t.nodes=this.nodes.slice(0);return t};e.prototype.toArray=function(){return this.nodes.slice(0)};e.prototype.insert=e.prototype.push;e.prototype.top=e.prototype.peek;e.prototype.front=e.prototype.peek;e.prototype.has=e.prototype.contains;e.prototype.copy=e.prototype.clone;return e}();(function(e,n){return"function"==typeof define&&define.amd?define([],n):"object"==typeof r?t.exports=n():e.Heap=n()})(this,function(){return e})}).call(this)},{}],76:[function(e,t,r){"use strict";var n=e("./window"),i=e("./is"),a=e("./core"),o=e("./extension"),s=e("./jquery-plugin"),l=e("./stylesheet"),u=e("./thread"),c=e("./fabric"),f=function(e){void 0===e&&(e={});return i.plainObject(e)?new a(e):i.string(e)?o.apply(o,arguments):void 0};f.version="2.6.4";n&&n.jQuery&&s(n.jQuery,f);f.registerJquery=function(e){s(e,f)};f.stylesheet=f.Stylesheet=l;f.thread=f.Thread=u;f.fabric=f.Fabric=c;t.exports=f},{"./core":34,"./extension":43,"./fabric":74,"./is":77,"./jquery-plugin":78,"./stylesheet":91,"./thread":92,"./window":100}],77:[function(e,t,r){"use strict";var n=e("./window"),i=n?n.navigator:null,a="string",o=typeof{},s="function",l=typeof HTMLElement,u=function(e){return e&&e.instanceString&&c.fn(e.instanceString)?e.instanceString():null},c={defined:function(e){return null!=e},string:function(e){return null!=e&&typeof e==a},fn:function(e){return null!=e&&typeof e===s},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(e){return null!=e&&typeof e===o&&!c.array(e)&&e.constructor===Object},object:function(e){return null!=e&&typeof e===o},number:function(e){return null!=e&&"number"==typeof e&&!isNaN(e)},integer:function(e){return c.number(e)&&Math.floor(e)===e},bool:function(e){return null!=e&&typeof e==typeof!0},htmlElement:function(e){return"undefined"===l?void 0:null!=e&&e instanceof HTMLElement},elementOrCollection:function(e){return c.element(e)||c.collection(e)},element:function(e){return"collection"===u(e)&&e._private.single},collection:function(e){return"collection"===u(e)&&!e._private.single},core:function(e){return"core"===u(e)},style:function(e){return"style"===u(e)},stylesheet:function(e){return"stylesheet"===u(e)},event:function(e){return"event"===u(e)},thread:function(e){return"thread"===u(e)},fabric:function(e){return"fabric"===u(e)},emptyString:function(e){return e?!(!c.string(e)||""!==e&&!e.match(/^\s+$/)):!0},nonemptyString:function(e){return!(!e||!c.string(e)||""===e||e.match(/^\s+$/))},domElement:function(e){return"undefined"==typeof HTMLElement?!1:e instanceof HTMLElement},boundingBox:function(e){return c.plainObject(e)&&c.number(e.x1)&&c.number(e.x2)&&c.number(e.y1)&&c.number(e.y2)},promise:function(e){return c.object(e)&&c.fn(e.then)},touch:function(){return n&&("ontouchstart"in n||n.DocumentTouch&&document instanceof DocumentTouch)},gecko:function(){return"undefined"!=typeof InstallTrigger||"MozAppearance"in document.documentElement.style},webkit:function(){return"undefined"!=typeof webkitURL||"WebkitAppearance"in document.documentElement.style},chromium:function(){return"undefined"!=typeof chrome},khtml:function(){return i&&i.vendor.match(/kde/i)},khtmlEtc:function(){return c.khtml()||c.webkit()||c.chromium()},ms:function(){return i&&i.userAgent.match(/msie|trident|edge/i)},windows:function(){return i&&i.appVersion.match(/Win/i)},mac:function(){return i&&i.appVersion.match(/Mac/i)},linux:function(){return i&&i.appVersion.match(/Linux/i)},unix:function(){return i&&i.appVersion.match(/X11/i)}};t.exports=c},{"./window":100}],78:[function(e,t,r){"use strict";var n=e("./is"),i=function(e){var t=e[0]._cyreg=e[0]._cyreg||{};return t},a=function(e,t){if(e&&!e.fn.cytoscape){e.fn.cytoscape=function(r){var a=e(this);if("get"===r)return i(a).cy;if(n.fn(r)){var o=r,s=i(a).cy;if(s&&s.isReady())s.trigger("ready",[],o);else{var l=i(a),u=l.readies=l.readies||[];u.push(o)}}else if(n.plainObject(r))return a.each(function(){var n=e.extend({},r,{container:e(this)[0]});t(n)})};e.cytoscape=t;if(null==e.fn.cy&&null==e.cy){e.fn.cy=e.fn.cytoscape;e.cy=e.cytoscape}}};t.exports=a},{"./is":77}],79:[function(e,t,r){"use strict";var n={};n.signum=function(e){return e>0?1:0>e?-1:0};n.distance=function(e,t){return Math.sqrt(n.sqDistance(e,t))};n.sqDistance=function(e,t){var r=t.x-e.x,n=t.y-e.y;return r*r+n*n};n.qbezierAt=function(e,t,r,n){return(1-n)*(1-n)*e+2*(1-n)*n*t+n*n*r};n.qbezierPtAt=function(e,t,r,i){return{x:n.qbezierAt(e.x,t.x,r.x,i),y:n.qbezierAt(e.y,t.y,r.y,i)}};n.makeBoundingBox=function(e){if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}};n.boundingBoxesIntersect=function(e,t){return e.x1>t.x2?!1:t.x1>e.x2?!1:e.x2<t.x1?!1:t.x2<e.x1?!1:e.y2<t.y1?!1:t.y2<e.y1?!1:e.y1>t.y2?!1:!(t.y1>e.y2)};n.inBoundingBox=function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2};n.pointInBoundingBox=function(e,t){return this.inBoundingBox(e,t.x,t.y)};n.roundRectangleIntersectLine=function(e,t,r,n,i,a,o){var s,l=this.getRoundRectangleRadius(i,a),u=i/2,c=a/2,f=r-u+l-o,d=n-c-o,p=r+u-l+o,h=d;s=this.finiteLinesIntersect(e,t,r,n,f,d,p,h,!1);if(s.length>0)return s;var v=r+u+o,g=n-c+l-o,m=v,y=n+c-l+o;s=this.finiteLinesIntersect(e,t,r,n,v,g,m,y,!1);if(s.length>0)return s;var b=r-u+l-o,w=n+c+o,x=r+u-l+o,_=w;s=this.finiteLinesIntersect(e,t,r,n,b,w,x,_,!1);if(s.length>0)return s;var k=r-u-o,C=n-c+l-o,E=k,S=n+c-l+o;s=this.finiteLinesIntersect(e,t,r,n,k,C,E,S,!1);if(s.length>0)return s;var T,D=r-u+l,j=n-c+l;T=this.intersectLineCircle(e,t,r,n,D,j,l+o);if(T.length>0&&T[0]<=D&&T[1]<=j)return[T[0],T[1]];var P=r+u-l,N=n-c+l;T=this.intersectLineCircle(e,t,r,n,P,N,l+o);if(T.length>0&&T[0]>=P&&T[1]<=N)return[T[0],T[1]];var M=r+u-l,L=n+c-l;T=this.intersectLineCircle(e,t,r,n,M,L,l+o);if(T.length>0&&T[0]>=M&&T[1]>=L)return[T[0],T[1]];var A=r-u+l,O=n+c-l;T=this.intersectLineCircle(e,t,r,n,A,O,l+o);return T.length>0&&T[0]<=A&&T[1]>=O?[T[0],T[1]]:[]};n.inLineVicinity=function(e,t,r,n,i,a,o){var s=o,l=Math.min(r,i),u=Math.max(r,i),c=Math.min(n,a),f=Math.max(n,a);return e>=l-s&&u+s>=e&&t>=c-s&&f+s>=t};n.inBezierVicinity=function(e,t,r,n,i,a,o,s,l){var u={x1:Math.min(r,o,i)-l,x2:Math.max(r,o,i)+l,y1:Math.min(n,s,a)-l,y2:Math.max(n,s,a)+l};return!(e<u.x1||e>u.x2||t<u.y1||t>u.y2)};n.solveCubic=function(e,t,r,n,i){t/=e;r/=e;n/=e;var a,o,s,l,u,c,f,d;o=(3*r-t*t)/9;s=-(27*n)+t*(9*r-2*(t*t));s/=54;a=o*o*o+s*s;i[1]=0;f=t/3;if(a>0){u=s+Math.sqrt(a);u=0>u?-Math.pow(-u,1/3):Math.pow(u,1/3);c=s-Math.sqrt(a);c=0>c?-Math.pow(-c,1/3):Math.pow(c,1/3);i[0]=-f+u+c;f+=(u+c)/2;i[4]=i[2]=-f;f=Math.sqrt(3)*(-c+u)/2;i[3]=f;i[5]=-f}else{i[5]=i[3]=0;if(0!==a){o=-o;l=o*o*o;l=Math.acos(s/Math.sqrt(l));d=2*Math.sqrt(o);i[0]=-f+d*Math.cos(l/3);i[2]=-f+d*Math.cos((l+2*Math.PI)/3);i[4]=-f+d*Math.cos((l+4*Math.PI)/3)}else{d=0>s?-Math.pow(-s,1/3):Math.pow(s,1/3);i[0]=-f+2*d;i[4]=i[2]=-(d+f)}}};n.sqDistanceToQuadraticBezier=function(e,t,r,n,i,a,o,s){var l=1*r*r-4*r*i+2*r*o+4*i*i-4*i*o+o*o+n*n-4*n*a+2*n*s+4*a*a-4*a*s+s*s,u=9*r*i-3*r*r-3*r*o-6*i*i+3*i*o+9*n*a-3*n*n-3*n*s-6*a*a+3*a*s,c=3*r*r-6*r*i+r*o-r*e+2*i*i+2*i*e-o*e+3*n*n-6*n*a+n*s-n*t+2*a*a+2*a*t-s*t,f=1*r*i-r*r+r*e-i*e+n*a-n*n+n*t-a*t,d=[];this.solveCubic(l,u,c,f,d);for(var p=1e-7,h=[],v=0;6>v;v+=2)Math.abs(d[v+1])<p&&d[v]>=0&&d[v]<=1&&h.push(d[v]);h.push(1);h.push(0);for(var g,m,y,b,w=-1,x=0;x<h.length;x++){m=Math.pow(1-h[x],2)*r+2*(1-h[x])*h[x]*i+h[x]*h[x]*o;y=Math.pow(1-h[x],2)*n+2*(1-h[x])*h[x]*a+h[x]*h[x]*s;b=Math.pow(m-e,2)+Math.pow(y-t,2);if(w>=0){if(w>b){w=b;g=h[x]}}else{w=b;g=h[x]}}return w};n.sqDistanceToFiniteLine=function(e,t,r,n,i,a){var o=[e-r,t-n],s=[i-r,a-n],l=s[0]*s[0]+s[1]*s[1],u=o[0]*o[0]+o[1]*o[1],c=o[0]*s[0]+o[1]*s[1],f=c*c/l;return 0>c?u:f>l?(e-i)*(e-i)+(t-a)*(t-a):u-f;
};n.pointInsidePolygonPoints=function(e,t,r){for(var n,i,a,o,s,l=0,u=0,c=0;c<r.length/2;c++){n=r[2*c];i=r[2*c+1];if(c+1<r.length/2){a=r[2*(c+1)];o=r[2*(c+1)+1]}else{a=r[2*(c+1-r.length/2)];o=r[2*(c+1-r.length/2)+1]}if(n==e&&a==e);else{if(!(n>=e&&e>=a||e>=n&&a>=e))continue;s=(e-n)/(a-n)*(o-i)+i;s>t&&l++;t>s&&u++}}return l%2!==0};n.pointInsidePolygon=function(e,t,r,i,a,o,s,l,u){var c,f=new Array(r.length);if(null!=l[0]){c=Math.atan(l[1]/l[0]);l[0]<0?c+=Math.PI/2:c=-c-Math.PI/2}else c=l;for(var d=Math.cos(-c),p=Math.sin(-c),h=0;h<f.length/2;h++){f[2*h]=o/2*(r[2*h]*d-r[2*h+1]*p);f[2*h+1]=s/2*(r[2*h+1]*d+r[2*h]*p);f[2*h]+=i;f[2*h+1]+=a}var v;if(u>0){var g=this.expandPolygon(f,-u);v=this.joinLines(g)}else v=f;return n.pointInsidePolygonPoints(e,t,v)};n.joinLines=function(e){for(var t,r,n,i,a,o,s,l,u=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c];r=e[4*c+1];n=e[4*c+2];i=e[4*c+3];if(c<e.length/4-1){a=e[4*(c+1)];o=e[4*(c+1)+1];s=e[4*(c+1)+2];l=e[4*(c+1)+3]}else{a=e[0];o=e[1];s=e[2];l=e[3]}var f=this.finiteLinesIntersect(t,r,n,i,a,o,s,l,!0);u[2*c]=f[0];u[2*c+1]=f[1]}return u};n.expandPolygon=function(e,t){for(var r,n,i,a,o=new Array(2*e.length),s=0;s<e.length/2;s++){r=e[2*s];n=e[2*s+1];if(s<e.length/2-1){i=e[2*(s+1)];a=e[2*(s+1)+1]}else{i=e[0];a=e[1]}var l=a-n,u=-(i-r),c=Math.sqrt(l*l+u*u),f=l/c,d=u/c;o[4*s]=r+f*t;o[4*s+1]=n+d*t;o[4*s+2]=i+f*t;o[4*s+3]=a+d*t}return o};n.intersectLineEllipse=function(e,t,r,n,i,a){var o=r-e,s=n-t;o/=i;s/=a;var l=Math.sqrt(o*o+s*s),u=l-1;if(0>u)return[];var c=u/l;return[(r-e)*c+e,(n-t)*c+t]};n.intersectLineCircle=function(e,t,r,n,i,a,o){var s=[r-e,n-t],l=[i,a],u=[e-i,t-a],c=s[0]*s[0]+s[1]*s[1],f=2*(u[0]*s[0]+u[1]*s[1]),l=u[0]*u[0]+u[1]*u[1]-o*o,d=f*f-4*c*l;if(0>d)return[];var p=(-f+Math.sqrt(d))/(2*c),h=(-f-Math.sqrt(d))/(2*c),v=Math.min(p,h),g=Math.max(p,h),m=[];v>=0&&1>=v&&m.push(v);g>=0&&1>=g&&m.push(g);if(0===m.length)return[];var y=m[0]*s[0]+e,b=m[0]*s[1]+t;if(m.length>1){if(m[0]==m[1])return[y,b];var w=m[1]*s[0]+e,x=m[1]*s[1]+t;return[y,b,w,x]}return[y,b]};n.findCircleNearPoint=function(e,t,r,n,i){var a=n-e,o=i-t,s=Math.sqrt(a*a+o*o),l=a/s,u=o/s;return[e+l*r,t+u*r]};n.findMaxSqDistanceToOrigin=function(e){for(var t,r=1e-6,n=0;n<e.length/2;n++){t=e[2*n]*e[2*n]+e[2*n+1]*e[2*n+1];t>r&&(r=t)}return r};n.finiteLinesIntersect=function(e,t,r,n,i,a,o,s,l){var u=(o-i)*(t-a)-(s-a)*(e-i),c=(r-e)*(t-a)-(n-t)*(e-i),f=(s-a)*(r-e)-(o-i)*(n-t);if(0!==f){var d=u/f,p=c/f;return d>=0&&1>=d&&p>=0&&1>=p?[e+d*(r-e),t+d*(n-t)]:l?[e+d*(r-e),t+d*(n-t)]:[]}return 0===u||0===c?[e,r,o].sort()[1]===o?[o,s]:[e,r,i].sort()[1]===i?[i,a]:[i,o,r].sort()[1]===r?[r,n]:[]:[]};n.polygonIntersectLine=function(e,t,r,i,a,o,s,l){for(var u,c=[],f=new Array(r.length),d=0;d<f.length/2;d++){f[2*d]=r[2*d]*o+i;f[2*d+1]=r[2*d+1]*s+a}var p;if(l>0){var h=n.expandPolygon(f,-l);p=n.joinLines(h)}else p=f;for(var v,g,m,y,d=0;d<p.length/2;d++){v=p[2*d];g=p[2*d+1];if(d<p.length/2-1){m=p[2*(d+1)];y=p[2*(d+1)+1]}else{m=p[0];y=p[1]}u=this.finiteLinesIntersect(e,t,i,a,v,g,m,y);0!==u.length&&c.push(u[0],u[1])}return c};n.shortenIntersection=function(e,t,r){var n=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]),a=(i-r)/i;0>a&&(a=1e-5);return[t[0]+a*n[0],t[1]+a*n[1]]};n.generateUnitNgonPointsFitToSquare=function(e,t){var r=n.generateUnitNgonPoints(e,t);r=n.fitPolygonToSquare(r);return r};n.fitPolygonToSquare=function(e){for(var t,r,n=e.length/2,i=1/0,a=1/0,o=-(1/0),s=-(1/0),l=0;n>l;l++){t=e[2*l];r=e[2*l+1];i=Math.min(i,t);o=Math.max(o,t);a=Math.min(a,r);s=Math.max(s,r)}for(var u=2/(o-i),c=2/(s-a),l=0;n>l;l++){t=e[2*l]=e[2*l]*u;r=e[2*l+1]=e[2*l+1]*c;i=Math.min(i,t);o=Math.max(o,t);a=Math.min(a,r);s=Math.max(s,r)}if(-1>a)for(var l=0;n>l;l++)r=e[2*l+1]=e[2*l+1]+(-1-a);return e};n.generateUnitNgonPoints=function(e,t){var r=1/e*2*Math.PI,n=e%2===0?Math.PI/2+r/2:Math.PI/2;n+=t;for(var i,a,o,s=new Array(2*e),l=0;e>l;l++){i=l*r+n;a=s[2*l]=Math.cos(i);o=s[2*l+1]=Math.sin(-i)}return s};n.getRoundRectangleRadius=function(e,t){return Math.min(e/4,t/4,8)};t.exports=n},{}],80:[function(e,t,r){"use strict";var n=0,i=1,a=2,o=function(e){if(!(this instanceof o))return new o(e);this.id="Thenable/1.0.7";this.state=n;this.fulfillValue=void 0;this.rejectReason=void 0;this.onFulfilled=[];this.onRejected=[];this.proxy={then:this.then.bind(this)};"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};o.prototype={fulfill:function(e){return s(this,i,"fulfillValue",e)},reject:function(e){return s(this,a,"rejectReason",e)},then:function(e,t){var r=this,n=new o;r.onFulfilled.push(c(e,n,"fulfill"));r.onRejected.push(c(t,n,"reject"));l(r);return n.proxy}};var s=function(e,t,r,i){if(e.state===n){e.state=t;e[r]=i;l(e)}return e},l=function(e){e.state===i?u(e,"onFulfilled",e.fulfillValue):e.state===a&&u(e,"onRejected",e.rejectReason)},u=function(e,t,r){if(0!==e[t].length){var n=e[t];e[t]=[];var i=function(){for(var e=0;e<n.length;e++)n[e](r)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},c=function(e,t,r){return function(n){if("function"!=typeof e)t[r].call(t,n);else{var i;try{i=e(n)}catch(a){t.reject(a);return}f(t,i)}}},f=function(e,t){if(e!==t&&e.proxy!==t){var r;if("object"==typeof t&&null!==t||"function"==typeof t)try{r=t.then}catch(n){e.reject(n);return}if("function"!=typeof r)e.fulfill(t);else{var i=!1;try{r.call(t,function(r){if(!i){i=!0;r===t?e.reject(new TypeError("circular thenable chain")):f(e,r)}},function(t){if(!i){i=!0;e.reject(t)}})}catch(n){i||e.reject(n)}}}else e.reject(new TypeError("cannot resolve promise with itself"))},d="undefined"==typeof d?o:d;d.all=d.all||function(e){return new d(function(t,r){for(var n=new Array(e.length),i=0,a=function(r,a){n[r]=a;i++;i===e.length&&t(n)},o=0;o<e.length;o++)(function(t){var n=e[t],i=null!=n.then;if(i)n.then(function(e){a(t,e)},function(e){r(e)});else{var o=n;a(t,o)}})(o)})};t.exports=d},{}],81:[function(e,t,r){"use strict";var n=e("./is"),i=e("./util"),a=function(e,t){if(!(this instanceof a))return new a(e,t);if(void 0===t&&void 0!==e){t=e;e=void 0}var r=this;r._private={selectorText:null,invalid:!0};if(!t||n.string(t)&&t.match(/^\s*$/))if(null==e)r.length=0;else{r[0]=l();r[0].group=e;r.length=1}else if(n.elementOrCollection(t)){var o=t.collection();r[0]=l();r[0].collection=o;r.length=1}else if(n.fn(t)){r[0]=l();r[0].filter=t;r.length=1}else{if(!n.string(t)){i.error("A selector must be created from a string; found "+t);return}var s=null,l=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}},u={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])+"|'+"'(?:\\\\'|[^'])+'",number:i.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$"};u.variable="(?:[\\w-]|(?:\\\\"+u.metaChar+"))+";u.value=u.string+"|"+u.number;u.className=u.variable;u.id=u.variable;for(var c=function(e){return e.replace(new RegExp("\\\\("+u.metaChar+")","g"),function(e,t,r,n){return t})},f=u.comparatorOp.split("|"),d=0;d<f.length;d++){var p=f[d];u.comparatorOp+="|@"+p}for(var f=u.comparatorOp.split("|"),d=0;d<f.length;d++){var p=f[d];p.indexOf("!")>=0||"="!==p&&(u.comparatorOp+="|\\!"+p)}var h=[{name:"group",query:!0,regex:"(node|edge|\\*)",populate:function(e){this.group="*"==e?e:e+"s"}},{name:"state",query:!0,regex:"(:selected|:unselected|:locked|:unlocked|:visible|:hidden|:transparent|:grabbed|:free|:removed|:inside|:grabbable|:ungrabbable|:animated|:unanimated|:selectable|:unselectable|:orphan|:nonorphan|:parent|:child|:loop|:simple|:active|:inactive|:touch|:backgrounding|:nonbackgrounding)",populate:function(e){this.colonSelectors.push(e)}},{name:"id",query:!0,regex:"\\#("+u.id+")",populate:function(e){this.ids.push(c(e))}},{name:"className",query:!0,regex:"\\.("+u.className+")",populate:function(e){this.classes.push(c(e))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+u.variable+")\\s*\\]",populate:function(e){this.data.push({field:c(e)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+u.variable+")\\s*("+u.comparatorOp+")\\s*("+u.value+")\\s*\\]",populate:function(e,t,r){var n=null!=new RegExp("^"+u.string+"$").exec(r);r=n?r.substring(1,r.length-1):parseFloat(r);this.data.push({field:c(e),operator:t,value:r})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+u.boolOp+")\\s*("+u.variable+")\\s*\\]",populate:function(e,t){this.data.push({field:c(t),operator:e})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+u.meta+")\\s*("+u.comparatorOp+")\\s*("+u.number+")\\s*\\]\\]",populate:function(e,t,r){this.meta.push({field:c(e),operator:t,value:parseFloat(r)})}},{name:"nextQuery",separator:!0,regex:u.separator,populate:function(){r[++d]=l();s=null}},{name:"child",separator:!0,regex:u.child,populate:function(){var e=l();e.parent=this;e.subject=s;r[d]=e}},{name:"descendant",separator:!0,regex:u.descendant,populate:function(){var e=l();e.ancestor=this;e.subject=s;r[d]=e}},{name:"subject",modifier:!0,regex:u.subject,populate:function(){if(null!=s&&this.subject!=this){i.error("Redefinition of subject in selector `"+t+"`");return!1}s=this;this.subject=this}}];r._private.selectorText=t;var v=t,d=0,g=function(e){for(var t,r,i,a=0;a<h.length;a++){var o=h[a],s=o.name;if(!n.fn(e)||e(s,o)){var l=v.match(new RegExp("^"+o.regex));if(null!=l){r=l;t=o;i=s;var u=l[0];v=v.substring(u.length);break}}}return{expr:t,match:r,name:i}},m=function(){var e=v.match(/^\s+/);if(e){var t=e[0];v=v.substring(t.length)}};r[0]=l();m();for(;;){var y=g();if(null==y.expr){i.error("The selector `"+t+"`is invalid");return}for(var b=[],w=1;w<y.match.length;w++)b.push(y.match[w]);var x=y.expr.populate.apply(r[d],b);if(x===!1)return;if(v.match(/^\s*$/))break}r.length=d+1;for(var w=0;w<r.length;w++){var _=r[w];if(null!=_.subject){for(;_.subject!=_;)if(null!=_.parent){var k=_.parent,C=_;C.parent=null;k.child=C;_=k}else{if(null==_.ancestor){i.error("When adjusting references for the selector `"+_+"`, neither parent nor ancestor was found");break}var E=_.ancestor,S=_;S.ancestor=null;E.descendant=S;_=E}r[w]=_.subject}}if(null!=e)for(var w=0;w<r.length;w++){if(null!=r[w].group&&r[w].group!=e){i.error("Group `"+r[w].group+"` conflicts with implicit group `"+e+"` in selector `"+t+"`");return}r[w].group=e}}r._private.invalid=!1},o=a.prototype;o.size=function(){return this.length};o.eq=function(e){return this[e]};var s=function(e,t){if(null!=e.group&&"*"!=e.group&&e.group!=t._private.group)return!1;for(var r=t.cy(),i=!0,a=0;a<e.colonSelectors.length;a++){var o=e.colonSelectors[a];switch(o){case":selected":i=t.selected();break;case":unselected":i=!t.selected();break;case":selectable":i=t.selectable();break;case":unselectable":i=!t.selectable();break;case":locked":i=t.locked();break;case":unlocked":i=!t.locked();break;case":visible":i=t.visible();break;case":hidden":i=!t.visible();break;case":transparent":i=t.transparent();break;case":grabbed":i=t.grabbed();break;case":free":i=!t.grabbed();break;case":removed":i=t.removed();break;case":inside":i=!t.removed();break;case":grabbable":i=t.grabbable();break;case":ungrabbable":i=!t.grabbable();break;case":animated":i=t.animated();break;case":unanimated":i=!t.animated();break;case":parent":i=t.isNode()&&t.children().nonempty();break;case":child":case":nonorphan":i=t.isNode()&&t.parent().nonempty();break;case":orphan":i=t.isNode()&&t.parent().empty();break;case":loop":i=t.isEdge()&&t.data("source")===t.data("target");break;case":simple":i=t.isEdge()&&t.data("source")!==t.data("target");break;case":active":i=t.active();break;case":inactive":i=!t.active();break;case":touch":i=n.touch();break;case":backgrounding":i=t.backgrounding();break;case":nonbackgrounding":i=!t.backgrounding()}if(!i)break}if(!i)return!1;for(var l=!0,a=0;a<e.ids.length;a++){var u=e.ids[a],c=t._private.data.id;l=l&&u==c;if(!l)break}if(!l)return!1;for(var f=!0,a=0;a<e.classes.length;a++){var d=e.classes[a];f=f&&t.hasClass(d);if(!f)break}if(!f)return!1;var p=function(t){for(var r=!0,i=0;i<e[t.name].length;i++){var a,o=e[t.name][i],s=o.operator,l=o.value,u=o.field;if(null!=s&&null!=l){var c=t.fieldValue(u),f=n.string(c)||n.number(c)?""+c:"",d=""+l,p=!1;if(s.indexOf("@")>=0){f=f.toLowerCase();d=d.toLowerCase();s=s.replace("@","");p=!0}var h=!1,v=!1;if(s.indexOf("!")>=0){s=s.replace("!","");h=!0}if(p){l=d.toLowerCase();c=f.toLowerCase()}switch(s){case"*=":a=f.search(d)>=0;break;case"$=":a=null!=new RegExp(d+"$").exec(f);break;case"^=":a=null!=new RegExp("^"+d).exec(f);break;case"=":a=c===l;break;case"!=":a=c!==l;break;case">":a=h?l>=c:c>l;v=!0;break;case">=":a=h?l>c:c>=l;v=!0;break;case"<":a=h?c>=l:l>c;v=!0;break;case"<=":a=h?c>l:l>=c;v=!0;break;default:a=!1}}else if(null!=s)switch(s){case"?":a=t.fieldTruthy(u);break;case"!":a=!t.fieldTruthy(u);break;case"^":a=t.fieldUndefined(u)}else a=!t.fieldUndefined(u);if(h&&!v){a=!a;v=!0}if(!a){r=!1;break}}return r},h=p({name:"data",fieldValue:function(e){return t._private.data[e]},fieldRef:function(e){return"element._private.data."+e},fieldUndefined:function(e){return void 0===t._private.data[e]},fieldTruthy:function(e){return!!t._private.data[e]}});if(!h)return!1;var v=p({name:"meta",fieldValue:function(e){return t[e]()},fieldRef:function(e){return"element."+e+"()"},fieldUndefined:function(e){return null==t[e]()},fieldTruthy:function(e){return!!t[e]()}});if(!v)return!1;if(null!=e.collection){var g=null!=e.collection._private.ids[t.id()];if(!g)return!1}if(null!=e.filter&&0===t.collection().filter(e.filter).size())return!1;var m=function(e,t){if(null!=e){var n=!1;if(!r.hasCompoundNodes())return!1;t=t();for(var i=0;i<t.length;i++)if(s(e,t[i])){n=!0;break}return n}return!0};return m(e.parent,function(){return t.parent()})&&m(e.ancestor,function(){return t.parents()})&&m(e.child,function(){return t.children()})?!!m(e.descendant,function(){return t.descendants()}):!1};o.filter=function(e){var t=this,r=e.cy();if(t._private.invalid)return r.collection();var n=function(e,r){for(var n=0;n<t.length;n++){var i=t[n];if(s(i,r))return!0}return!1};null==t._private.selectorText&&(n=function(){return!0});var i=e.filter(n);return i};o.matches=function(e){var t=this;if(t._private.invalid)return!1;for(var r=0;r<t.length;r++){var n=t[r];if(s(n,e))return!0}return!1};o.toString=o.selector=function(){for(var e="",t=function(e,t){return n.string(e)?t?'"'+e+'"':e:""},r=function(e){var n="";e.subject===e&&(n+="$");var a=t(e.group);n+=a.substring(0,a.length-1);for(var o=0;o<e.data.length;o++){var s=e.data[o];n+=s.value?"["+s.field+t(s.operator)+t(s.value,!0)+"]":"["+t(s.operator)+s.field+"]"}for(var o=0;o<e.meta.length;o++){var l=e.meta[o];n+="[["+l.field+t(l.operator)+t(l.value,!0)+"]]"}for(var o=0;o<e.colonSelectors.length;o++){var u=e.colonSelectors[i];n+=u}for(var o=0;o<e.ids.length;o++){var u="#"+e.ids[i];n+=u}for(var o=0;o<e.classes.length;o++){var u="."+e.classes[o];n+=u}null!=e.parent&&(n=r(e.parent)+" > "+n);null!=e.ancestor&&(n=r(e.ancestor)+" "+n);null!=e.child&&(n+=" > "+r(e.child));null!=e.descendant&&(n+=" "+r(e.descendant));return n},i=0;i<this.length;i++){var a=this[i];e+=r(a);this.length>1&&i<this.length-1&&(e+=", ")}return e};t.exports=a},{"./is":77,"./util":94}],82:[function(e,t,r){"use strict";var n=e("../util"),i=e("../is"),a={};a.apply=function(e){var t=this;if(t._private.newStyle){this._private.contextStyles={};this._private.propDiffs={}}for(var r=0;r<e.length;r++){var n=e[r],i=t.getContextMeta(n),a=t.getContextStyle(i),o=t.applyContextStyle(i,a,n);t.updateTransitions(n,o.diffProps);t.updateStyleHints(n)}t._private.newStyle=!1};a.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,a=n[i];if(a)return a;for(var o=[],s={},l=0;l<r.length;l++){var u=r[l],c="t"===e[l],f="t"===t[l],d=c!==f,p=u.mappedProperties.length>0;if(d||p){var h;d&&p?h=u.properties:d?h=u.properties:p&&(h=u.mappedProperties);for(var v=0;v<h.length;v++){for(var g=h[v],m=g.name,y=!1,b=l+1;b<r.length;b++){var w=r[b],x="t"===t[b];if(x){y=null!=w.properties[g.name];if(y)break}}if(!s[m]&&!y){s[m]=!0;o.push(m)}}}}n[i]=o;return o};a.getContextMeta=function(e){var t,r=this,n="",i=e._private.styleCxtKey||"";r._private.newStyle&&(i="");for(var a=0;a<r.length;a++){var o=r[a],s=o.selector&&o.selector.matches(e);n+=s?"t":"f"}t=r.getPropertiesDiff(i,n);e._private.styleCxtKey=n;return{key:n,diffPropNames:t}};a.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var i={_private:{key:t}},a=0;a<r.length;a++){var o=r[a],s="t"===t[a];if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l],c=i[u.name]=u;c.context=o}}n[t]=i;return i};a.applyContextStyle=function(e,t,r){for(var n=this,i=e.diffPropNames,a={},o=0;o<i.length;o++){var s=i[o],l=t[s],u=r._private.style[s];if(l&&u!==l){var c=a[s]={prev:u};n.applyParsedProperty(r,l);c.next=r._private.style[s];c.next&&c.next.bypass&&(c.next=c.next.bypassed)}}return{diffProps:a}};a.updateStyleHints=function(e){var t=e._private,r=this,n=t.style;if(!e.removed()){var i=!1;if("nodes"===t.group&&r._private.hasPie)for(var a=1;a<=r.pieBackgroundN;a++){var o=t.style["pie-"+a+"-background-size"].value;if(o>0){i=!0;break}}t.hasPie=i;var s=n["text-transform"].strValue,l=n.label.strValue,u=n["font-style"].strValue,o=n["font-size"].pfValue+"px",c=n["font-family"].strValue,f=n["font-weight"].strValue,d=n["text-valign"].strValue,p=n["text-valign"].strValue,h=n["text-outline-width"].pfValue,v=n["text-wrap"].strValue,g=n["text-max-width"].pfValue;t.labelKey=u+"$"+o+"$"+c+"$"+f+"$"+l+"$"+s+"$"+d+"$"+p+"$"+h+"$"+v+"$"+g;t.fontKey=u+"$"+f+"$"+o+"$"+c;var m=n.width.pfValue,y=n.height.pfValue,b=n["border-width"].pfValue;t.boundingBoxKey=m+"$"+y+"$"+b;if("edges"===e._private.group){var w=n["control-point-step-size"].pfValue,x=n["control-point-distances"]?n["control-point-distances"].pfValue.join("_"):void 0,_=n["control-point-weights"].value.join("_"),k=n["curve-style"].strValue,C=n["segment-distances"]?n["segment-distances"].pfValue.join("_"):void 0,E=n["segment-weights"].value.join("_");t.boundingBoxKey+="$"+w+"$"+x+"$"+_+"$"+C+"$"+E+"$"+k}t.styleKey=Date.now()}};a.applyParsedProperty=function(e,t){var r,a,o=this,s=t,l=e._private.style,u=o.types,c=o.properties[s.name].type,f=s.bypass,d=l[s.name],p=d&&d.bypass,h=e._private;if(("height"===t.name||"width"===t.name)&&e.isNode()){if("auto"===t.value&&!e.isParent())return!1;"auto"!==t.value&&e.isParent()&&(s=t=this.parse(t.name,"auto",f))}if(f&&s.deleteBypass){var v=l[s.name];if(v){if(v.bypass&&v.bypassed){l[s.name]=v.bypassed;return!0}return!1}return!0}var g=function(){n.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+e.id()+"` for property `"+s.name+"` with data field `"+s.field+"`); try a `["+s.field+"]` selector to limit scope to elements with `"+s.field+"` defined")};switch(s.mapped){case u.mapData:case u.mapLayoutData:case u.mapScratch:var r,m=s.mapped===u.mapLayoutData,y=s.mapped===u.mapScratch,b=s.field.split(".");r=y||m?h.scratch:h.data;for(var w=0;w<b.length&&r;w++){var x=b[w];r=r[x]}var _;_=i.number(r)?(r-s.fieldMin)/(s.fieldMax-s.fieldMin):0;0>_?_=0:_>1&&(_=1);if(c.color){var k=s.valueMin[0],C=s.valueMax[0],E=s.valueMin[1],S=s.valueMax[1],T=s.valueMin[2],D=s.valueMax[2],j=null==s.valueMin[3]?1:s.valueMin[3],P=null==s.valueMax[3]?1:s.valueMax[3],N=[Math.round(k+(C-k)*_),Math.round(E+(S-E)*_),Math.round(T+(D-T)*_),Math.round(j+(P-j)*_)];a={bypass:s.bypass,name:s.name,value:N,strValue:"rgb("+N[0]+", "+N[1]+", "+N[2]+")"}}else{if(!c.number)return!1;var M=s.valueMin+(s.valueMax-s.valueMin)*_;a=this.parse(s.name,M,s.bypass,!0)}a||(a=this.parse(s.name,d.strValue,s.bypass,!0));a||g();a.mapping=s;s=a;break;case u.data:case u.layoutData:case u.scratch:var r,m=s.mapped===u.layoutData,y=s.mapped===u.scratch,b=s.field.split(".");r=y||m?h.scratch:h.data;if(r)for(var w=0;w<b.length;w++){var x=b[w];r=r[x]}a=this.parse(s.name,r,s.bypass,!0);if(!a){var L=d?d.strValue:"";a=this.parse(s.name,L,s.bypass,!0)}a||g();a.mapping=s;s=a;break;case u.fn:var A=s.value,O=A(e);a=this.parse(s.name,O,s.bypass,!0);a.mapping=s;s=a;break;case void 0:break;default:return!1}if(f){p?s.bypassed=d.bypassed:s.bypassed=d;l[s.name]=s}else p?d.bypassed=s:l[s.name]=s;return!0};a.update=function(){var e=this._private.cy,t=e.elements();t.updateStyle()};a.updateMappers=function(e){for(var t=this,r=0;r<e.length;r++){for(var n=e[r],i=n._private.style,a=0;a<t.properties.length;a++){var o=t.properties[a],s=i[o.name];if(s&&s.mapping){var l=s.mapping;this.applyParsedProperty(n,l)}}this.updateStyleHints(n)}};a.updateTransitions=function(e,t,r){var n=this,a=e._private,o=a.style,s=o["transition-property"].value,l=o["transition-duration"].pfValue,u=o["transition-delay"].pfValue,c={};if(s.length>0&&l>0){for(var f=!1,d=0;d<s.length;d++){var p=s[d],h=o[p],v=t[p];if(v){var g,m=v.prev,y=m,b=null!=v.next?v.next:h,w=!1,x=1e-6;if(y){if(i.number(y.pfValue)&&i.number(b.pfValue)){w=b.pfValue-y.pfValue;g=y.pfValue+x*w}else if(i.number(y.value)&&i.number(b.value)){w=b.value-y.value;g=y.value+x*w}else if(i.array(y.value)&&i.array(b.value)){w=y.value[0]!==b.value[0]||y.value[1]!==b.value[1]||y.value[2]!==b.value[2];g=y.strValue}if(w){c[p]=b.strValue;this.applyBypass(e,p,g);f=!0}}}}if(!f)return;a.transitioning=!0;e.stop();u>0&&e.delay(u);e.animate({css:c},{duration:l,easing:o["transition-timing-function"].value,queue:!1,complete:function(){r||n.removeBypasses(e,s);a.transitioning=!1}})}else if(a.transitioning){e.stop();this.removeBypasses(e,s);a.transitioning=!1}};t.exports=a},{"../is":77,"../util":94}],83:[function(e,t,r){"use strict";var n=e("../is"),i=e("../util"),a={};a.applyBypass=function(e,t,r,a){var o=this,s=[],l=!0;if("*"===t||"**"===t){if(void 0!==r)for(var u=0;u<o.properties.length;u++){var c=o.properties[u],t=c.name,f=this.parse(t,r,!0);f&&s.push(f)}}else if(n.string(t)){var f=this.parse(t,r,!0);f&&s.push(f)}else{if(!n.plainObject(t))return!1;var d=t;a=r;for(var u=0;u<o.properties.length;u++){var c=o.properties[u],t=c.name,r=d[t];void 0===r&&(r=d[i.dash2camel(t)]);if(void 0!==r){var f=this.parse(t,r,!0);f&&s.push(f)}}}if(0===s.length)return!1;for(var p=!1,u=0;u<e.length;u++){for(var h,v=e[u],g=v._private.style,m={},y=0;y<s.length;y++){var c=s[y];if(a){var b=g[c.name];h=m[c.name]={prev:b}}p=this.applyParsedProperty(v,c)||p;a&&(h.next=g[c.name])}p&&this.updateStyleHints(v);a&&this.updateTransitions(v,m,l)}return p};a.overrideBypass=function(e,t,r){t=i.camel2dash(t);for(var n=0;n<e.length;n++){var a=e[n],o=a._private.style[t],s=this.properties[t].type,l=s.color,u=s.mutiple;if(o.bypass){o.value=r;null!=o.pfValue&&(o.pfValue=r);l?o.strValue="rgb("+r.join(",")+")":u?o.strValue=r.join(" "):o.strValue=""+r}else this.applyBypass(a,t,r)}};a.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};a.removeBypasses=function(e,t,r){for(var n=!0,i=0;i<e.length;i++){for(var a=e[i],o={},s=a._private.style,l=0;l<t.length;l++){var u=t[l],c=this.properties[u],f="",d=this.parse(u,f,!0),p=s[c.name],h=o[c.name]={prev:p};this.applyParsedProperty(a,d);h.next=s[c.name]}this.updateStyleHints(a);r&&this.updateTransitions(a,o,n)}};t.exports=a},{"../is":77,"../util":94}],84:[function(e,t,r){"use strict";var n=e("../window"),i={};i.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1};i.containerCss=function(e){var t=this._private.cy,r=t.container();return n&&r&&n.getComputedStyle?n.getComputedStyle(r).getPropertyValue(e):void 0};t.exports=i},{"../window":100}],85:[function(e,t,r){"use strict";var n=e("../util"),i=e("../is"),a={};a.getRenderedStyle=function(e){return this.getRawStyle(e,!0)};a.getRawStyle=function(e,t){var r=this,e=e[0];if(e){for(var i={},a=0;a<r.properties.length;a++){var o=r.properties[a],s=r.getStylePropertyValue(e,o.name,t);if(s){i[o.name]=s;i[n.dash2camel(o.name)]=s}}return i}};a.getStylePropertyValue=function(e,t,r){var n=this,e=e[0];if(e){var i=e._private.style,a=n.properties[t],o=a.type,s=i[a.name],l=e.cy().zoom();if(s){var u=s.units?o.implicitUnits||"px":null,c=u?[].concat(s.pfValue).map(function(e){return e*(r?l:1)+u}).join(" "):s.strValue;return c}}};a.getValueStyle=function(e){var t,r=this,a={},o=i.element(e);t=o?e._private.style:e;if(t)for(var s=0;s<r.properties.length;s++){var l=r.properties[s],u=t[l.name]||t[n.dash2camel(l.name)];void 0!==u&&(u=i.plainObject(u)?this.parse(l.name,u.strValue):this.parse(l.name,u));if(u){a[l.name]=u;a[n.dash2camel(l.name)]=u}}return a};a.getPropsList=function(e){var t=this,r=[],i=e,a=t.properties;if(i)for(var o in i){var s=i[o],l=a[o]||a[n.camel2dash(o)],u=this.parse(l.name,s);r.push(u)}return r};t.exports=a},{"../is":77,"../util":94}],86:[function(e,t,r){"use strict";var n=e("../is"),i=e("../util"),a=e("../selector"),o=function(e){if(!(this instanceof o))return new o(e);if(n.core(e)){this._private={cy:e,coreStyle:{},newStyle:!0};this.length=0;this.addDefaultStylesheet()}else i.error("A style must have a core reference")},s=o.prototype;s.instanceString=function(){return"style"};s.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;this.length=0;this._private.newStyle=!0;return this};s.resetToDefault=function(){this.clear();this.addDefaultStylesheet();return this};s.core=function(){return this._private.coreStyle};s.selector=function(e){var t="core"===e?null:new a(e),r=this.length++;this[r]={selector:t,properties:[],mappedProperties:[],index:r};return this};s.css=function(){var e=this,t=arguments;switch(t.length){case 1:for(var r=t[0],n=0;n<e.properties.length;n++){var a=e.properties[n],o=r[a.name];void 0===o&&(o=r[i.dash2camel(a.name)]);void 0!==o&&this.cssRule(a.name,o)}break;case 2:this.cssRule(t[0],t[1])}return this};s.style=s.css;s.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r);this[n].properties[r.name]=r;r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0);r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};o.fromJson=function(e,t){var r=new o(e);r.fromJson(t);return r};o.fromString=function(e,t){return new o(e).fromString(t)};[e("./apply"),e("./bypass"),e("./container"),e("./get-for-ele"),e("./json"),e("./string-sheet"),e("./properties"),e("./parse")].forEach(function(e){i.extend(s,e)});o.types=s.types;o.properties=s.properties;t.exports=o},{"../is":77,"../selector":81,"../util":94,"./apply":82,"./bypass":83,"./container":84,"./get-for-ele":85,"./json":87,"./parse":88,"./properties":89,"./string-sheet":90}],87:[function(e,t,r){"use strict";var n={};n.applyFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],i=n.selector,a=n.style||n.css;t.selector(i);for(var o in a){var s=a[o];t.css(o,s)}}return t};n.fromJson=function(e){var t=this;t.resetToDefault();t.applyFromJson(e);return t};n.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,i=r.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:n?n.toString():"core",style:a})}return e};t.exports=n},{}],88:[function(e,t,r){"use strict";var n=e("../util"),i=e("../is"),a={};a.parse=function(e,t,r,i){var a,s=[e,t,r,i].join("$"),l=this.propCache=this.propCache||{},u=o.bind(this);(a=l[s])||(a=l[s]=u(e,t,r,i));a=n.copy(a);a&&(a.value=n.copy(a.value));return a};var o=function(e,t,r,a){var o=this;e=n.camel2dash(e);var s=o.properties[e],l=t,u=o.types;if(!s)return null;if(void 0===t||null===t)return null;if(s.alias){s=s.pointsTo;e=s.name}var c=i.string(t);c&&(t=t.trim());var f=s.type;if(!f)return null;if(r&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(i.fn(t))return{name:e,value:t,strValue:"fn",mapped:u.fn,bypass:r};var d,p,h,v,g,m;if(!c||a);else{if((d=new RegExp(u.data.regex).exec(t))||(h=new RegExp(u.layoutData.regex).exec(t))||(g=new RegExp(u.scratch.regex).exec(t))){if(r)return!1;var y;y=d?u.data:h?u.layoutData:u.scratch;d=d||h||g;return{name:e,value:d,strValue:""+t,mapped:y,field:d[1],bypass:r}}if((p=new RegExp(u.mapData.regex).exec(t))||(v=new RegExp(u.mapLayoutData.regex).exec(t))||(m=new RegExp(u.mapScratch.regex).exec(t))){if(r)return!1;if(f.multiple)return!1;var y;y=p?u.mapData:v?u.mapLayoutData:u.mapScratch;p=p||v||m;if(!f.color&&!f.number)return!1;var b=this.parse(e,p[4]);if(!b||b.mapped)return!1;var w=this.parse(e,p[5]);if(!w||w.mapped)return!1;if(b.value===w.value)return!1;if(f.color){var x=b.value,_=w.value,k=!(x[0]!==_[0]||x[1]!==_[1]||x[2]!==_[2]||x[3]!==_[3]&&(null!=x[3]&&1!==x[3]||null!=_[3]&&1!==_[3]));if(k)return!1}return{name:e,value:p,strValue:""+t,mapped:y,field:p[1],fieldMin:parseFloat(p[2]),fieldMax:parseFloat(p[3]),valueMin:b.value,valueMax:w.value,bypass:r}}}if(f.multiple&&"multiple"!==a){var C;C=c?t.split(/\s+/):i.array(t)?t:[t];if(f.evenMultiple&&C.length%2!==0)return null;var E=C.map(function(t){var n=o.parse(e,t,r,"multiple");return null!=n.pfValue?n.pfValue:n.value});return{name:e,value:E,pfValue:E,strValue:E.join(" "),bypass:r,units:f.number&&!f.unitless?f.implicitUnits||"px":void 0}}var S=function(){for(var n=0;n<f.enums.length;n++){var i=f.enums[n];if(i===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null};if(f.number){var T,D="px";f.units&&(T=f.units);f.implicitUnits&&(D=f.implicitUnits);if(!f.unitless)if(c){var j="px|em"+(f.allowPercent?"|\\%":"");T&&(j=T);var P=t.match("^("+n.regex.number+")("+j+")?$");if(P){t=P[1];T=P[2]||D}}else T&&!f.implicitUnits||(T=D);t=parseFloat(t);if(isNaN(t)&&void 0===f.enums)return null;if(isNaN(t)&&void 0!==f.enums){t=l;return S()}if(f.integer&&!i.integer(t))return null;if(void 0!==f.min&&t<f.min||void 0!==f.max&&t>f.max)return null;var N={name:e,value:t,strValue:""+t+(T?T:""),units:T,bypass:r};f.unitless||"px"!==T&&"em"!==T?N.pfValue=t:N.pfValue="px"!==T&&T?this.getEmSizeInPixels()*t:t;"ms"!==T&&"s"!==T||(N.pfValue="ms"===T?t:1e3*t);"deg"!==T&&"rad"!==T||(N.pfValue="rad"===T?t:t*Math.PI/180);return N}if(f.propList){var M=[],L=""+t;if("none"===L);else{for(var A=L.split(","),O=0;O<A.length;O++){var R=A[O].trim();o.properties[R]&&M.push(R)}if(0===M.length)return null}return{name:e,value:M,strValue:0===M.length?"none":M.join(", "),bypass:r}}if(f.color){var z=n.color2tuple(t);return z?{name:e,value:z,strValue:""+t,bypass:r,roundValue:!0}:null}if(f.regex||f.regexes){if(f.enums){var I=S();if(I)return I}for(var B=f.regexes?f.regexes:[f.regex],O=0;O<B.length;O++){var q=new RegExp(B[O]),V=q.exec(t);if(V)return{name:e,value:V,strValue:""+t,bypass:r}}return null}return f.string?{name:e,value:t,strValue:""+t,bypass:r}:f.enums?S():null};t.exports=a},{"../is":77,"../util":94}],89:[function(e,t,r){"use strict";var n=e("../util"),i={};(function(){var e=n.regex.number,t=n.regex.rgbaNoBackRefs,r=n.regex.hslaNoBackRefs,a=n.regex.hex3,o=n.regex.hex6,s=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},l=function(n){var i=e+"|\\w+|"+t+"|"+r+"|"+a+"|"+o;return"^"+n+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+i+")\\s*\\,\\s*("+i+")\\)$"};i.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["auto","label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},bgSize:{number:!0,min:0,allowPercent:!0},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"]},bgPos:{number:!0,allowPercent:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"]},bgFit:{enums:["none","contain","cover"]},bgClip:{enums:["none","node"]},color:{color:!0},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]
},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontVariant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","ellipse","triangle","square","pentagon","hexagon","heptagon","octagon","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-backcurve","half-triangle-overshot","vee","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:s("data")},layoutData:{mapping:!0,regex:s("layoutData")},scratch:{mapping:!0,regex:s("scratch")},mapData:{mapping:!0,regex:l("mapData")},mapLayoutData:{mapping:!0,regex:l("mapLayoutData")},mapScratch:{mapping:!0,regex:l("mapScratch")},fn:{mapping:!0,fn:!0},url:{regex:"^url\\s*\\(\\s*([^\\s]+)\\s*\\s*\\)|none|(.+)$"},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]}};var u=i.types,c=i.properties=[{name:"text-valign",type:u.valign},{name:"text-halign",type:u.halign},{name:"color",type:u.color},{name:"label",type:u.text},{name:"text-outline-color",type:u.color},{name:"text-outline-width",type:u.size},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size},{name:"text-border-style",type:u.borderStyle},{name:"text-background-shape",type:u.textBackgroundShape},{name:"text-transform",type:u.textTransform},{name:"text-wrap",type:u.textWrap},{name:"text-max-width",type:u.size},{name:"text-events",type:u.bool},{name:"font-family",type:u.fontFamily},{name:"font-style",type:u.fontStyle},{name:"font-weight",type:u.fontWeight},{name:"font-size",type:u.size},{name:"min-zoomed-font-size",type:u.size},{name:"edge-text-rotation",type:u.textRotation},{name:"events",type:u.bool},{name:"display",type:u.display},{name:"visibility",type:u.visibility},{name:"opacity",type:u.zeroOneNumber},{name:"z-index",type:u.nonNegativeInt},{name:"overlay-padding",type:u.size},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber},{name:"shadow-blur",type:u.size},{name:"shadow-color",type:u.color},{name:"shadow-opacity",type:u.zeroOneNumber},{name:"shadow-offset-x",type:u.bidirectionalSize},{name:"shadow-offset-y",type:u.bidirectionalSize},{name:"text-shadow-blur",type:u.size},{name:"text-shadow-color",type:u.color},{name:"text-shadow-opacity",type:u.zeroOneNumber},{name:"text-shadow-offset-x",type:u.bidirectionalSize},{name:"text-shadow-offset-y",type:u.bidirectionalSize},{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing},{name:"height",type:u.nodeSize},{name:"width",type:u.nodeSize},{name:"shape",type:u.nodeShape},{name:"shape-polygon-points",type:u.polygonPointList},{name:"background-color",type:u.color},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"padding-left",type:u.size},{name:"padding-right",type:u.size},{name:"padding-top",type:u.size},{name:"padding-bottom",type:u.size},{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size},{name:"border-style",type:u.borderStyle},{name:"background-image",type:u.url},{name:"background-image-opacity",type:u.zeroOneNumber},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"position",type:u.position},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels},{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"curve-style",type:u.curveStyle},{name:"haystack-radius",type:u.zeroOneNumber},{name:"control-point-step-size",type:u.size},{name:"control-point-distances",type:u.bidirectionalSizes},{name:"control-point-weights",type:u.numbers},{name:"segment-distances",type:u.bidirectionalSizes},{name:"segment-weights",type:u.numbers},{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],f=i.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"}];i.pieBackgroundN=16;c.push({name:"pie-size",type:u.bgSize});for(var d=1;d<=i.pieBackgroundN;d++){c.push({name:"pie-"+d+"-background-color",type:u.color});c.push({name:"pie-"+d+"-background-size",type:u.percent});c.push({name:"pie-"+d+"-background-opacity",type:u.zeroOneNumber})}var p=i.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill}].forEach(function(e){p.forEach(function(t){var r=t+"-"+e.name,n=e.type;c.push({name:r,type:n})})},{});i.propertyNames=c.map(function(e){return e.name});for(var d=0;d<c.length;d++){var h=c[d];c[h.name]=h}for(var d=0;d<f.length;d++){var v=f[d],g=c[v.pointsTo],m={name:v.name,alias:!0,pointsTo:g};c.push(m);c[v.name]=m}})();i.addDefaultStylesheet=function(){this.selector("node, edge").css(n.extend({events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","text-background-shape":"rectangle","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"edge-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-index":0,label:"","overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"shadow-opacity":0,"shadow-color":"#000","shadow-blur":10,"shadow-offset-x":0,"shadow-offset-y":0,"text-shadow-opacity":0,"text-shadow-color":"#000","text-shadow-blur":5,"text-shadow-offset-x":0,"text-shadow-offset-y":0,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#888","background-opacity":1,"background-image":"none","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,position:"origin","compound-sizing-wrt-labels":"include"},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var r=1;r<=i.pieBackgroundN;r++){var n=t.name.replace("{{i}}",r),a=t.value;e[n]=a}return e},{}),{"line-style":"solid","line-color":"#ddd","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"curve-style":"bezier","haystack-radius":.8},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#ddd"},{name:"arrow-fill",value:"filled"}].reduce(function(e,t){i.arrowPrefixes.forEach(function(r){var n=r+"-"+t.name,i=t.value;e[n]=i});return e},{}))).selector("$node > node").css({width:"auto",height:"auto",shape:"rectangle","padding-top":10,"padding-right":10,"padding-left":10,"padding-bottom":10}).selector("edge").css({width:1}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125});this.defaultLength=this.length};t.exports=i},{"../util":94}],90:[function(e,t,r){"use strict";var n=e("../util"),i=e("../selector"),a={};a.applyFromString=function(e){function t(){c=c.length>a.length?c.substr(a.length):""}function r(){o=o.length>s.length?o.substr(s.length):""}var a,o,s,l=this,u=this,c=""+e;c=c.replace(/[/][*](\s|.)+?[*][/]/g,"");for(;;){var f=c.match(/^\s*$/);if(f)break;var d=c.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){n.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+c);break}a=d[0];var p=d[1];if("core"!==p){var h=new i(p);if(h._private.invalid){n.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+p);t();continue}}var v=d[2],g=!1;o=v;for(var m=[];;){var f=o.match(/^\s*$/);if(f)break;var y=o.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!y){n.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+v);g=!0;break}s=y[0];var b=y[1],w=y[2],x=l.properties[b];if(x){var _=u.parse(b,w);if(_){m.push({name:b,val:w});r()}else{n.error("Skipping property: Invalid property definition in: "+s);r()}}else{n.error("Skipping property: Invalid property name in: "+s);r()}}if(g){t();break}u.selector(p);for(var k=0;k<m.length;k++){var x=m[k];u.css(x.name,x.val)}t()}return u};a.fromString=function(e){var t=this;t.resetToDefault();t.applyFromString(e);return t};t.exports=a},{"../selector":81,"../util":94}],91:[function(e,t,r){"use strict";var n=e("./is"),i=e("./util"),a=e("./style"),o=function(){if(!(this instanceof o))return new o;this.length=0},s=o.prototype;s.instanceString=function(){return"stylesheet"};s.selector=function(e){var t=this.length++;this[t]={selector:e,properties:[]};return this};s.css=function(e,t){var r=this.length-1;if(n.string(e))this[r].properties.push({name:e,value:t});else if(n.plainObject(e))for(var o=e,s=0;s<a.properties.length;s++){var l=a.properties[s],u=o[l.name];void 0===u&&(u=o[i.dash2camel(l.name)]);if(void 0!==u){var e=l.name,t=u;this[r].properties.push({name:e,value:t})}}return this};s.style=s.css;s.generateStyle=function(e){for(var t=new a(e),r=0;r<this.length;r++){var n=this[r],i=n.selector,o=n.properties;t.selector(i);for(var s=0;s<o.length;s++){var l=o[s];t.css(l.name,l.value)}}return t};t.exports=o},{"./is":77,"./style":86,"./util":94}],92:[function(_dereq_,module,exports){"use strict";var window=_dereq_("./window"),util=_dereq_("./util"),Promise=_dereq_("./promise"),Event=_dereq_("./event"),define=_dereq_("./define"),is=_dereq_("./is"),Thread=function(e){if(!(this instanceof Thread))return new Thread(e);var t=this._private={requires:[],files:[],queue:null,pass:[],disabled:!1};is.plainObject(e)&&null!=e.disabled&&(t.disabled=!!e.disabled)},thdfn=Thread.prototype,stringifyFieldVal=function(e){var t=is.fn(e)?e.toString():"JSON.parse('"+JSON.stringify(e)+"')";return t},fnAsRequire=function(e){var t,r;if(is.object(e)&&e.fn){t=fnAs(e.fn,e.name);r=e.name;e=e.fn}else if(is.fn(e)){t=e.toString();r=e.name}else if(is.string(e))t=e;else if(is.object(e)){t=e.proto?"":e.name+" = {};";r=e.name;e=e.obj}t+="\n";var n=function(e,r){if(e.prototype){var n=!1;for(var i in e.prototype){n=!0;break}n&&(t+=fnAsRequire({name:r,obj:e,proto:!0},e))}};if(e.prototype&&null!=r)for(var i in e.prototype){var a="",o=e.prototype[i],s=stringifyFieldVal(o),l=r+".prototype."+i;a+=l+" = "+s+";\n";a&&(t+=a);n(o,l)}if(!is.string(e))for(var i in e){var u="";if(e.hasOwnProperty(i)){var o=e[i],s=stringifyFieldVal(o),l=r+'["'+i+'"]';u+=l+" = "+s+";\n"}u&&(t+=u);n(o,l)}return t},isPathStr=function(e){return is.string(e)&&e.match(/\.js$/)};util.extend(thdfn,{instanceString:function(){return"thread"},require:function(e,t){var r=this._private.requires;if(isPathStr(e)){this._private.files.push(e);return this}if(t)e=is.fn(e)?{name:t,fn:e}:{name:t,obj:e};else if(is.fn(e)){if(!e.name)throw'The function name could not be automatically determined.  Use thread.require( someFunction, "someFunction" )';e={name:e.name,fn:e}}r.push(e);return this},pass:function(e){this._private.pass.push(e);return this},run:function(fn,pass){var self=this,_p=this._private;pass=pass||_p.pass.shift();if(_p.stopped)throw"Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.";if(_p.running)return _p.queue=_p.queue.then(function(){return self.run(fn,pass)});var useWW=null!=window&&!_p.disabled,useNode=!window&&"undefined"!=typeof module&&!_p.disabled;self.trigger("run");var runP=new Promise(function(resolve,reject){_p.running=!0;var threadTechAlreadyExists=_p.ran,fnImplStr=is.string(fn)?fn:fn.toString(),fnStr="\n"+_p.requires.map(function(e){return fnAsRequire(e)}).concat(_p.files.map(function(e){if(useWW){var t=function(e){return e.match(/^\.\//)||e.match(/^\.\./)?window.location.origin+window.location.pathname+e:e.match(/^\//)?window.location.origin+"/"+e:e};return'importScripts("'+t(e)+'");'}if(useNode)return'eval( require("fs").readFileSync("'+e+'", { encoding: "utf8" }) );';throw"External file `"+e+"` can not be required without any threading technology."})).concat(["( function(){","var ret = ("+fnImplStr+")("+JSON.stringify(pass)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");_p.requires=[];_p.files=[];if(useWW){var fnBlob,fnUrl;if(!threadTechAlreadyExists){var fnPre=fnStr+"";fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n");fnStr+=fnPre;fnBlob=new Blob([fnStr],{type:"application/javascript"});fnUrl=window.URL.createObjectURL(fnBlob)}var ww=_p.webworker=_p.webworker||new Worker(fnUrl);threadTechAlreadyExists&&ww.postMessage({$$eval:fnStr});var cb;ww.addEventListener("message",cb=function(e){var t=is.object(e)&&is.object(e.data);if(t&&"$$resolve"in e.data){ww.removeEventListener("message",cb);resolve(e.data.$$resolve)}else if(t&&"$$reject"in e.data){ww.removeEventListener("message",cb);reject(e.data.$$reject)}else self.trigger(new Event(e,{type:"message",message:e.data}))},!1);threadTechAlreadyExists||ww.postMessage("$$start")}else if(useNode){_p.child||(_p.child=_dereq_("child_process").fork(_dereq_("path").join(__dirname,"thread-node-fork")));var child=_p.child,cb;child.on("message",cb=function(e){if(is.object(e)&&"$$resolve"in e){child.removeListener("message",cb);resolve(e.$$resolve)}else if(is.object(e)&&"$$reject"in e){child.removeListener("message",cb);reject(e.$$reject)}else self.trigger(new Event({},{type:"message",message:e}))});child.send({$$eval:fnStr})}else{var promiseResolve=resolve,promiseReject=reject,timer=_p.timer=_p.timer||{listeners:[],exec:function(){fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };",'function message(m){ self.trigger( new Event({}, { type: "message", message: m }) ); };',"function listen(fn){ timer.listeners.push( fn ); };","function resolve(v){ promiseResolve(v); };","function reject(v){ promiseReject(v); };"].join("\n")+fnStr;eval(fnStr)},message:function(e){for(var t=timer.listeners,r=0;r<t.length;r++){var n=t[r];n(e)}}};timer.exec()}}).then(function(e){_p.running=!1;_p.ran=!0;self.trigger("ran");return e});null==_p.queue&&(_p.queue=runP);return runP},message:function(e){var t=this._private;t.webworker&&t.webworker.postMessage(e);t.child&&t.child.send(e);t.timer&&t.timer.message(e);return this},stop:function(){var e=this._private;e.webworker&&e.webworker.terminate();e.child&&e.child.kill();e.timer;e.stopped=!0;return this.trigger("stop")},stopped:function(){return this._private.stopped}});var fnAs=function(e,t){var r=e.toString();r=r.replace(/function\s*?\S*?\s*?\(/,"function "+t+"(");return r},defineFnal=function(e){e=e||{};return function(t,r){var n=fnAs(t,"_$_$_"+e.name);this.require(n);return this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+e.name+"( _$_$_"+e.name+(arguments.length>1?", "+JSON.stringify(r):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};util.extend(thdfn,{reduce:defineFnal({name:"reduce"}),reduceRight:defineFnal({name:"reduceRight"}),map:defineFnal({name:"map"})});var fn=thdfn;fn.promise=fn.run;fn.terminate=fn.halt=fn.stop;fn.include=fn.require;util.extend(thdfn,{on:define.on(),one:define.on({unbindSelfOnTrigger:!0}),off:define.off(),trigger:define.trigger()});define.eventAliasesOn(thdfn);module.exports=Thread},{"./define":41,"./event":42,"./is":77,"./promise":80,"./util":94,"./window":100,child_process:void 0,path:void 0}],93:[function(e,t,r){"use strict";var n=e("../is");t.exports={hex2tuple:function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,r,n,i=4===e.length,a=16;if(i){t=parseInt(e[1]+e[1],a);r=parseInt(e[2]+e[2],a);n=parseInt(e[3]+e[3],a)}else{t=parseInt(e[1]+e[2],a);r=parseInt(e[3]+e[4],a);n=parseInt(e[5]+e[6],a)}return[t,r,n]}},hsl2tuple:function(e){function t(e,t,r){0>r&&(r+=1);r>1&&(r-=1);return 1/6>r?e+6*(t-e)*r:.5>r?t:2/3>r?e+(t-e)*(2/3-r)*6:e}var r,n,i,a,o,s,l,u,c=new RegExp("^"+this.regex.hsla+"$").exec(e);if(c){n=parseInt(c[1]);0>n?n=(360- -1*n%360)%360:n>360&&(n%=360);n/=360;i=parseFloat(c[2]);if(0>i||i>100)return;i/=100;a=parseFloat(c[3]);if(0>a||a>100)return;a/=100;o=c[4];if(void 0!==o){o=parseFloat(o);if(0>o||o>1)return}if(0===i)s=l=u=Math.round(255*a);else{var f=.5>a?a*(1+i):a+i-a*i,d=2*a-f;s=Math.round(255*t(d,f,n+1/3));l=Math.round(255*t(d,f,n));u=Math.round(255*t(d,f,n-1/3))}r=[s,l,u,o]}return r},rgb2tuple:function(e){var t,r=new RegExp("^"+this.regex.rgba+"$").exec(e);if(r){t=[];for(var n=[],i=1;3>=i;i++){var a=r[i];"%"===a[a.length-1]&&(n[i]=!0);a=parseFloat(a);n[i]&&(a=a/100*255);if(0>a||a>255)return;t.push(Math.floor(a))}var o=n[1]||n[2]||n[3],s=n[1]&&n[2]&&n[3];if(o&&!s)return;var l=r[4];if(void 0!==l){l=parseFloat(l);if(0>l||l>1)return;t.push(l)}}return t},colorname2tuple:function(e){return this.colors[e.toLowerCase()]},color2tuple:function(e){return(n.array(e)?e:null)||this.colorname2tuple(e)||this.hex2tuple(e)||this.rgb2tuple(e)||this.hsl2tuple(e)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}},{"../is":77}],94:[function(e,t,r){"use strict";var n=e("../is"),i=e("../math"),a={falsify:function(){return!1},zeroify:function(){return 0},noop:function(){},error:function(e){if(console.error){console.error.apply(console,arguments);console.trace&&console.trace()}else{console.log.apply(console,arguments);console.trace&&console.trace()}},clone:function(e){return this.extend({},e)},copy:function(e){return null==e?e:n.array(e)?e.slice():n.plainObject(e)?this.clone(e):e}};a.makeBoundingBox=i.makeBoundingBox.bind(i);a._staticEmptyObject={};a.staticEmptyObject=function(){return a._staticEmptyObject};a.extend=null!=Object.assign?Object.assign:function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];for(var i in n)e[i]=n[i]}return e};[e("./colors"),e("./maps"),{memoize:e("./memoize")},e("./regex"),e("./strings"),e("./timing")].forEach(function(e){a.extend(a,e)});t.exports=a},{"../is":77,"../math":79,"./colors":93,"./maps":95,"./memoize":96,"./regex":97,"./strings":98,"./timing":99}],95:[function(e,t,r){"use strict";var n=e("../is");t.exports={mapEmpty:function(e){var t=!0;if(null!=e)for(var r in e){t=!1;break}return t},pushMap:function(e){var t=this.getMap(e);null==t?this.setMap(this.extend({},e,{value:[e.value]})):t.push(e.value)},setMap:function(e){for(var t,r=e.map,i=e.keys,a=i.length,o=0;a>o;o++){var t=i[o];n.plainObject(t)&&this.error("Tried to set map with object key");if(o<i.length-1){null==r[t]&&(r[t]={});r=r[t]}else r[t]=e.value}},getMap:function(e){for(var t=e.map,r=e.keys,i=r.length,a=0;i>a;a++){var o=r[a];n.plainObject(o)&&this.error("Tried to get map with object key");t=t[o];if(null==t)return t}return t},deleteMap:function(e){for(var t=e.map,r=e.keys,i=r.length,a=e.keepChildren,o=0;i>o;o++){var s=r[o];n.plainObject(s)&&this.error("Tried to delete map with object key");var l=o===e.keys.length-1;if(l)if(a)for(var u in t)a[u]||(t[u]=void 0);else t[s]=void 0;else t=t[s]}}}},{"../is":77}],96:[function(e,t,r){"use strict";t.exports=function(e,t){var r=this,n={};t||(t=function(){if(1===arguments.length)return arguments[0];for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});return function(){var i,a=arguments,o=t.apply(r,a);(i=n[o])||(i=n[o]=e.apply(r,a));return i}}},{}],97:[function(e,t,r){"use strict";var n="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",i="rgb[a]?\\(("+n+"[%]?)\\s*,\\s*("+n+"[%]?)\\s*,\\s*("+n+"[%]?)(?:\\s*,\\s*("+n+"))?\\)",a="rgb[a]?\\((?:"+n+"[%]?)\\s*,\\s*(?:"+n+"[%]?)\\s*,\\s*(?:"+n+"[%]?)(?:\\s*,\\s*(?:"+n+"))?\\)",o="hsl[a]?\\(("+n+")\\s*,\\s*("+n+"[%])\\s*,\\s*("+n+"[%])(?:\\s*,\\s*("+n+"))?\\)",s="hsl[a]?\\((?:"+n+")\\s*,\\s*(?:"+n+"[%])\\s*,\\s*(?:"+n+"[%])(?:\\s*,\\s*(?:"+n+"))?\\)",l="\\#[0-9a-fA-F]{3}",u="\\#[0-9a-fA-F]{6}";t.exports={regex:{number:n,rgba:i,rgbaNoBackRefs:a,hsla:o,hslaNoBackRefs:s,hex3:l,hex6:u}}},{}],98:[function(e,t,r){"use strict";var n=e("./memoize"),i=e("../is");t.exports={camel2dash:n(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),dash2camel:n(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),capitalize:function(e){return i.emptyString(e)?e:e.charAt(0).toUpperCase()+e.substring(1)}}},{"../is":77,"./memoize":96}],99:[function(e,t,r){"use strict";var n=e("../window"),i=e("../is"),a=n?n.performance:null,o={},s=n?n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame:null;s=s||function(e){e&&setTimeout(function(){e(l())},1e3/60)};o.requestAnimationFrame=function(e){s(e)};var l=a&&a.now?function(){return a.now()}:function(){return Date.now()};o.performanceNow=l;o.throttle=function(e,t,r){var n=!0,a=!0;if(r===!1)n=!1;else if(i.plainObject(r)){n="leading"in r?r.leading:n;a="trailing"in r?r.trailing:a}r=r||{};r.leading=n;r.maxWait=t;r.trailing=a;return o.debounce(e,t,r)};o.now=function(){return Date.now()};o.debounce=function(e,t,r){var n,a,o,s,l,u,c,f=this,d=0,p=!1,h=!0;if(i.fn(e)){t=Math.max(0,t)||0;if(r===!0){var v=!0;h=!1}else if(i.plainObject(r)){v=r.leading;p="maxWait"in r&&(Math.max(t,r.maxWait)||0);h="trailing"in r?r.trailing:h}var g=function(){var r=t-(f.now()-s);if(0>=r){a&&clearTimeout(a);var i=c;a=u=c=void 0;if(i){d=f.now();o=e.apply(l,n);u||a||(n=l=null)}}else u=setTimeout(g,r)},m=function(){u&&clearTimeout(u);a=u=c=void 0;if(h||p!==t){d=f.now();o=e.apply(l,n);u||a||(n=l=null)}};return function(){n=arguments;s=f.now();l=this;c=h&&(u||!v);if(p===!1)var r=v&&!u;else{a||v||(d=s);var i=p-(s-d),y=0>=i;if(y){a&&(a=clearTimeout(a));d=s;o=e.apply(l,n)}else a||(a=setTimeout(m,i))}y&&u?u=clearTimeout(u):u||t===p||(u=setTimeout(g,t));if(r){y=!0;o=e.apply(l,n)}!y||u||a||(n=l=null);return o}}};t.exports=o},{"../is":77,"../window":100}],100:[function(e,t,r){t.exports="undefined"==typeof window?null:window},{}]},{},[76])(76)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},"/node_modules/cytoscape/dist")},{}],13:[function(e,t,r){(function(e){(function(){function n(e,t){if(e!==t){var r=null===e,n=e===E,i=e===e,a=null===t,o=t===E,s=t===t;if(e>t&&!a||!i||r&&!o&&s||n&&s)return 1;if(t>e&&!r||!s||a&&!n&&i||o&&i)return-1}return 0}function i(e,t,r){for(var n=e.length,i=r?n:-1;r?i--:++i<n;)if(t(e[i],i,e))return i;return-1}function a(e,t,r){if(t!==t)return g(e,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function o(e){return"function"==typeof e||!1}function s(e){return null==e?"":e+""}function l(e,t){for(var r=-1,n=e.length;++r<n&&t.indexOf(e.charAt(r))>-1;);return r}function u(e,t){for(var r=e.length;r--&&t.indexOf(e.charAt(r))>-1;);return r}function c(e,t){return n(e.criteria,t.criteria)||e.index-t.index}function f(e,t,r){for(var i=-1,a=e.criteria,o=t.criteria,s=a.length,l=r.length;++i<s;){var u=n(a[i],o[i]);if(u){if(i>=l)return u;var c=r[i];return u*("asc"===c||c===!0?1:-1)}}return e.index-t.index}function d(e){return Ye[e]}function p(e){return Ue[e]}function h(e,t,r){t?e=$e[e]:r&&(e=Ge[e]);return"\\"+e}function v(e){return"\\"+Ge[e]}function g(e,t,r){for(var n=e.length,i=t+(r?0:-1);r?i--:++i<n;){var a=e[i];if(a!==a)return i}return-1}function m(e){return!!e&&"object"==typeof e}function y(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function b(e,t){for(var r=-1,n=e.length,i=-1,a=[];++r<n;)if(e[r]===t){e[r]=Y;a[++i]=r}return a}function w(e,t){for(var r,n=-1,i=e.length,a=-1,o=[];++n<i;){var s=e[n],l=t?t(s,n,e):s;if(!n||r!==l){r=l;o[++a]=s}}return o}function x(e){for(var t=-1,r=e.length;++t<r&&y(e.charCodeAt(t)););return t}function _(e){for(var t=e.length;t--&&y(e.charCodeAt(t)););return t}function k(e){return He[e]}function C(e){function t(e){if(m(e)&&!js(e)&&!(e instanceof J)){if(e instanceof y)return e;if(eo.call(e,"__chain__")&&eo.call(e,"__wrapped__"))return pn(e)}return new y(e)}function r(){}function y(e,t,r){this.__wrapped__=e;this.__actions__=r||[];this.__chain__=!!t}function J(e){this.__wrapped__=e;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=Do;this.__views__=[]}function te(){var e=new J(this.__wrapped__);e.__actions__=et(this.__actions__);e.__dir__=this.__dir__;e.__filtered__=this.__filtered__;e.__iteratees__=et(this.__iteratees__);e.__takeCount__=this.__takeCount__;e.__views__=et(this.__views__);return e}function ne(){if(this.__filtered__){var e=new J(this);e.__dir__=-1;e.__filtered__=!0}else{e=this.clone();e.__dir__*=-1}return e}function Ye(){var e=this.__wrapped__.value(),t=this.__dir__,r=js(e),n=0>t,i=r?e.length:0,a=Ur(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=n?s:o-1,c=this.__iteratees__,f=c.length,d=0,p=ko(l,this.__takeCount__);if(!r||q>i||i==l&&p==l)return rr(n&&r?e.reverse():e,this.__actions__);var h=[];e:for(;l--&&p>d;){u+=t;for(var v=-1,g=e[u];++v<f;){var m=c[v],y=m.iteratee,b=m.type,w=y(g);if(b==F)g=w;else if(!w){if(b==V)continue e;break e;
}}h[d++]=g}return h}function Ue(){this.__data__={}}function He(e){return this.has(e)&&delete this.__data__[e]}function We(e){return"__proto__"==e?E:this.__data__[e]}function $e(e){return"__proto__"!=e&&eo.call(this.__data__,e)}function Ge(e,t){"__proto__"!=e&&(this.__data__[e]=t);return this}function Ze(e){var t=e?e.length:0;this.data={hash:mo(null),set:new co};for(;t--;)this.push(e[t])}function Je(e,t){var r=e.data,n="string"==typeof t||Ai(t)?r.set.has(t):r.hash[t];return n?0:-1}function Qe(e){var t=this.data;"string"==typeof e||Ai(e)?t.set.add(e):t.hash[e]=!0}function Ke(e,t){for(var r=-1,n=e.length,i=-1,a=t.length,o=qa(n+a);++r<n;)o[r]=e[r];for(;++i<a;)o[r++]=t[i];return o}function et(e,t){var r=-1,n=e.length;t||(t=qa(n));for(;++r<n;)t[r]=e[r];return t}function tt(e,t){for(var r=-1,n=e.length;++r<n&&t(e[r],r,e)!==!1;);return e}function it(e,t){for(var r=e.length;r--&&t(e[r],r,e)!==!1;);return e}function at(e,t){for(var r=-1,n=e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function ot(e,t,r,n){for(var i=-1,a=e.length,o=n,s=o;++i<a;){var l=e[i],u=+t(l);if(r(u,o)){o=u;s=l}}return s}function st(e,t){for(var r=-1,n=e.length,i=-1,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[++i]=o)}return a}function lt(e,t){for(var r=-1,n=e.length,i=qa(n);++r<n;)i[r]=t(e[r],r,e);return i}function ut(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function ct(e,t,r,n){var i=-1,a=e.length;n&&a&&(r=e[++i]);for(;++i<a;)r=t(r,e[i],i,e);return r}function ft(e,t,r,n){var i=e.length;n&&i&&(r=e[--i]);for(;i--;)r=t(r,e[i],i,e);return r}function dt(e,t){for(var r=-1,n=e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function pt(e,t){for(var r=e.length,n=0;r--;)n+=+t(e[r])||0;return n}function ht(e,t){return e===E?t:e}function vt(e,t,r,n){return e!==E&&eo.call(n,r)?e:t}function gt(e,t,r){for(var n=-1,i=qs(t),a=i.length;++n<a;){var o=i[n],s=e[o],l=r(s,t[o],o,e,t);(l===l?l===s:s!==s)&&(s!==E||o in e)||(e[o]=l)}return e}function mt(e,t){return null==t?e:bt(t,qs(t),e)}function yt(e,t){for(var r=-1,n=null==e,i=!n&&Zr(e),a=i?e.length:0,o=t.length,s=qa(o);++r<o;){var l=t[r];i?s[r]=Jr(l,a)?e[l]:E:s[r]=n?E:e[l]}return s}function bt(e,t,r){r||(r={});for(var n=-1,i=t.length;++n<i;){var a=t[n];r[a]=e[a]}return r}function wt(e,t,r){var n=typeof e;return"function"==n?t===E?e:ar(e,t,r):null==e?Ta:"object"==n?Bt(e):t===E?La(e):qt(e,t)}function xt(e,t,r,n,i,a,o){var s;r&&(s=i?r(e,n,i):r(e));if(s!==E)return s;if(!Ai(e))return e;var l=js(e);if(l){s=Hr(e);if(!t)return et(e,s)}else{var u=ro.call(e),c=u==Z;if(u!=K&&u!=U&&(!c||i))return Xe[u]?$r(e,u,t):i?e:{};s=Wr(c?{}:e);if(!t)return mt(s,e)}a||(a=[]);o||(o=[]);for(var f=a.length;f--;)if(a[f]==e)return o[f];a.push(e);o.push(s);(l?tt:Nt)(e,function(n,i){s[i]=xt(n,t,r,i,e,a,o)});return s}function _t(e,t,r){if("function"!=typeof e)throw new Ga(X);return fo(function(){e.apply(E,r)},t)}function kt(e,t){var r=e?e.length:0,n=[];if(!r)return n;var i=-1,o=Fr(),s=o==a,l=s&&t.length>=q?hr(t):null,u=t.length;if(l){o=Je;s=!1;t=l}e:for(;++i<r;){var c=e[i];if(s&&c===c){for(var f=u;f--;)if(t[f]===c)continue e;n.push(c)}else o(t,c,0)<0&&n.push(c)}return n}function Ct(e,t){var r=!0;Ro(e,function(e,n,i){r=!!t(e,n,i);return r});return r}function Et(e,t,r,n){var i=n,a=i;Ro(e,function(e,o,s){var l=+t(e,o,s);if(r(l,i)||l===n&&l===a){i=l;a=e}});return a}function St(e,t,r,n){var i=e.length;r=null==r?0:+r||0;0>r&&(r=-r>i?0:i+r);n=n===E||n>i?i:+n||0;0>n&&(n+=i);i=r>n?0:n>>>0;r>>>=0;for(;i>r;)e[r++]=t;return e}function Tt(e,t){var r=[];Ro(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Dt(e,t,r,n){var i;r(e,function(e,r,a){if(t(e,r,a)){i=n?r:e;return!1}});return i}function jt(e,t,r,n){n||(n=[]);for(var i=-1,a=e.length;++i<a;){var o=e[i];m(o)&&Zr(o)&&(r||js(o)||Ei(o))?t?jt(o,t,r,n):ut(n,o):r||(n[n.length]=o)}return n}function Pt(e,t){return Io(e,t,ea)}function Nt(e,t){return Io(e,t,qs)}function Mt(e,t){return Bo(e,t,qs)}function Lt(e,t){for(var r=-1,n=t.length,i=-1,a=[];++r<n;){var o=t[r];Li(e[o])&&(a[++i]=o)}return a}function At(e,t,r){if(null!=e){r!==E&&r in fn(e)&&(t=[r]);for(var n=0,i=t.length;null!=e&&i>n;)e=e[t[n++]];return n&&n==i?e:E}}function Ot(e,t,r,n,i,a){return e===t?!0:null==e||null==t||!Ai(e)&&!m(t)?e!==e&&t!==t:Rt(e,t,Ot,r,n,i,a)}function Rt(e,t,r,n,i,a,o){var s=js(e),l=js(t),u=H,c=H;if(!s){u=ro.call(e);u==U?u=K:u!=K&&(s=Xi(e))}if(!l){c=ro.call(t);c==U?c=K:c!=K&&(l=Xi(t))}var f=u==K,d=c==K,p=u==c;if(p&&!s&&!f)return Ir(e,t,u);if(!i){var h=f&&eo.call(e,"__wrapped__"),v=d&&eo.call(t,"__wrapped__");if(h||v)return r(h?e.value():e,v?t.value():t,n,i,a,o)}if(!p)return!1;a||(a=[]);o||(o=[]);for(var g=a.length;g--;)if(a[g]==e)return o[g]==t;a.push(e);o.push(t);var m=(s?zr:Br)(e,t,r,n,i,a,o);a.pop();o.pop();return m}function zt(e,t,r){var n=t.length,i=n,a=!r;if(null==e)return!i;e=fn(e);for(;n--;){var o=t[n];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<i;){o=t[n];var s=o[0],l=e[s],u=o[1];if(a&&o[2]){if(l===E&&!(s in e))return!1}else{var c=r?r(l,u,s):E;if(!(c===E?Ot(u,l,r,!0):c))return!1}}return!0}function It(e,t){var r=-1,n=Zr(e)?qa(e.length):[];Ro(e,function(e,i,a){n[++r]=t(e,i,a)});return n}function Bt(e){var t=Xr(e);if(1==t.length&&t[0][2]){var r=t[0][0],n=t[0][1];return function(e){return null==e?!1:e[r]===n&&(n!==E||r in fn(e))}}return function(e){return zt(e,t)}}function qt(e,t){var r=js(e),n=Kr(e)&&rn(t),i=e+"";e=dn(e);return function(a){if(null==a)return!1;var o=i;a=fn(a);if((r||!n)&&!(o in a)){a=1==e.length?a:At(a,$t(e,0,-1));if(null==a)return!1;o=Sn(e);a=fn(a)}return a[o]===t?t!==E||o in a:Ot(t,a[o],E,!0)}}function Vt(e,t,r,n,i){if(!Ai(e))return e;var a=Zr(t)&&(js(t)||Xi(t)),o=a?E:qs(t);tt(o||t,function(s,l){if(o){l=s;s=t[l]}if(m(s)){n||(n=[]);i||(i=[]);Ft(e,t,l,Vt,r,n,i)}else{var u=e[l],c=r?r(u,s,l,e,t):E,f=c===E;f&&(c=s);c===E&&(!a||l in e)||!f&&(c===c?c===u:u!==u)||(e[l]=c)}});return e}function Ft(e,t,r,n,i,a,o){for(var s=a.length,l=t[r];s--;)if(a[s]==l){e[r]=o[s];return}var u=e[r],c=i?i(u,l,r,e,t):E,f=c===E;if(f){c=l;Zr(l)&&(js(l)||Xi(l))?c=js(u)?u:Zr(u)?et(u):[]:qi(l)||Ei(l)?c=Ei(u)?$i(u):qi(u)?u:{}:f=!1}a.push(l);o.push(c);f?e[r]=n(c,l,i,a,o):(c===c?c!==u:u===u)&&(e[r]=c)}function Xt(e){return function(t){return null==t?E:t[e]}}function Yt(e){var t=e+"";e=dn(e);return function(r){return At(r,e,t)}}function Ut(e,t){for(var r=e?t.length:0;r--;){var n=t[r];if(n!=i&&Jr(n)){var i=n;po.call(e,n,1)}}return e}function Ht(e,t){return e+yo(So()*(t-e+1))}function Wt(e,t,r,n,i){i(e,function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)});return r}function $t(e,t,r){var n=-1,i=e.length;t=null==t?0:+t||0;0>t&&(t=-t>i?0:i+t);r=r===E||r>i?i:+r||0;0>r&&(r+=i);i=t>r?0:r-t>>>0;t>>>=0;for(var a=qa(i);++n<i;)a[n]=e[n+t];return a}function Gt(e,t){var r;Ro(e,function(e,n,i){r=t(e,n,i);return!r});return!!r}function Zt(e,t){var r=e.length;e.sort(t);for(;r--;)e[r]=e[r].value;return e}function Jt(e,t,r){var n=qr(),i=-1;t=lt(t,function(e){return n(e)});var a=It(e,function(e){var r=lt(t,function(t){return t(e)});return{criteria:r,index:++i,value:e}});return Zt(a,function(e,t){return f(e,t,r)})}function Qt(e,t){var r=0;Ro(e,function(e,n,i){r+=+t(e,n,i)||0});return r}function Kt(e,t){var r=-1,n=Fr(),i=e.length,o=n==a,s=o&&i>=q,l=s?hr():null,u=[];if(l){n=Je;o=!1}else{s=!1;l=t?[]:u}e:for(;++r<i;){var c=e[r],f=t?t(c,r,e):c;if(o&&c===c){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f);u.push(c)}else if(n(l,f,0)<0){(t||s)&&l.push(f);u.push(c)}}return u}function er(e,t){for(var r=-1,n=t.length,i=qa(n);++r<n;)i[r]=e[t[r]];return i}function tr(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?$t(e,n?0:a,n?a+1:i):$t(e,n?a+1:0,n?i:a)}function rr(e,t){var r=e;r instanceof J&&(r=r.value());for(var n=-1,i=t.length;++n<i;){var a=t[n];r=a.func.apply(a.thisArg,ut([r],a.args))}return r}function nr(e,t,r){var n=0,i=e?e.length:n;if("number"==typeof t&&t===t&&No>=i){for(;i>n;){var a=n+i>>>1,o=e[a];(r?t>=o:t>o)&&null!==o?n=a+1:i=a}return i}return ir(e,t,Ta,r)}function ir(e,t,r,n){t=r(t);for(var i=0,a=e?e.length:0,o=t!==t,s=null===t,l=t===E;a>i;){var u=yo((i+a)/2),c=r(e[u]),f=c!==E,d=c===c;if(o)var p=d||n;else p=s?d&&f&&(n||null!=c):l?d&&(n||f):null==c?!1:n?t>=c:t>c;p?i=u+1:a=u}return ko(a,Po)}function ar(e,t,r){if("function"!=typeof e)return Ta;if(t===E)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,a){return e.call(t,r,n,i,a)};case 5:return function(r,n,i,a,o){return e.call(t,r,n,i,a,o)}}return function(){return e.apply(t,arguments)}}function or(e){var t=new ao(e.byteLength),r=new ho(t);r.set(new ho(e));return t}function sr(e,t,r){for(var n=r.length,i=-1,a=_o(e.length-n,0),o=-1,s=t.length,l=qa(s+a);++o<s;)l[o]=t[o];for(;++i<n;)l[r[i]]=e[i];for(;a--;)l[o++]=e[i++];return l}function lr(e,t,r){for(var n=-1,i=r.length,a=-1,o=_o(e.length-i,0),s=-1,l=t.length,u=qa(o+l);++a<o;)u[a]=e[a];for(var c=a;++s<l;)u[c+s]=t[s];for(;++n<i;)u[c+r[n]]=e[a++];return u}function ur(e,t){return function(r,n,i){var a=t?t():{};n=qr(n,i,3);if(js(r))for(var o=-1,s=r.length;++o<s;){var l=r[o];e(a,l,n(l,o,r),r)}else Ro(r,function(t,r,i){e(a,t,n(t,r,i),i)});return a}}function cr(e){return mi(function(t,r){var n=-1,i=null==t?0:r.length,a=i>2?r[i-2]:E,o=i>2?r[2]:E,s=i>1?r[i-1]:E;if("function"==typeof a){a=ar(a,s,5);i-=2}else{a="function"==typeof s?s:E;i-=a?1:0}if(o&&Qr(r[0],r[1],o)){a=3>i?E:a;i=1}for(;++n<i;){var l=r[n];l&&e(t,l,a)}return t})}function fr(e,t){return function(r,n){var i=r?Fo(r):0;if(!tn(i))return e(r,n);for(var a=t?i:-1,o=fn(r);(t?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}function dr(e){return function(t,r,n){for(var i=fn(t),a=n(t),o=a.length,s=e?o:-1;e?s--:++s<o;){var l=a[s];if(r(i[l],l,i)===!1)break}return t}}function pr(e,t){function r(){var i=this&&this!==rt&&this instanceof r?n:e;return i.apply(t,arguments)}var n=gr(e);return r}function hr(e){return mo&&co?new Ze(e):null}function vr(e){return function(t){for(var r=-1,n=Ca(ca(t)),i=n.length,a="";++r<i;)a=e(a,n[r],r);return a}}function gr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Oo(e.prototype),n=e.apply(r,t);return Ai(n)?n:r}}function mr(e){function t(r,n,i){i&&Qr(r,n,i)&&(n=E);var a=Rr(r,e,E,E,E,E,E,n);a.placeholder=t.placeholder;return a}return t}function yr(e,t){return mi(function(r){var n=r[0];if(null==n)return n;r.push(t);return e.apply(E,r)})}function br(e,t){return function(r,n,i){i&&Qr(r,n,i)&&(n=E);n=qr(n,i,3);if(1==n.length){r=js(r)?r:cn(r);var a=ot(r,n,e,t);if(!r.length||a!==t)return a}return Et(r,n,e,t)}}function wr(e,t){return function(r,n,a){n=qr(n,a,3);if(js(r)){var o=i(r,n,t);return o>-1?r[o]:E}return Dt(r,n,e)}}function xr(e){return function(t,r,n){if(!t||!t.length)return-1;r=qr(r,n,3);return i(t,r,e)}}function _r(e){return function(t,r,n){r=qr(r,n,3);return Dt(t,r,e,!0)}}function kr(e){return function(){for(var t,r=arguments.length,n=e?r:-1,i=0,a=qa(r);e?n--:++n<r;){var o=a[i++]=arguments[n];if("function"!=typeof o)throw new Ga(X);!t&&y.prototype.thru&&"wrapper"==Vr(o)&&(t=new y([],!0))}n=t?-1:r;for(;++n<r;){o=a[n];var s=Vr(o),l="wrapper"==s?Vo(o):E;t=l&&en(l[0])&&l[1]==(A|P|M|O)&&!l[4].length&&1==l[9]?t[Vr(l[0])].apply(t,l[3]):1==o.length&&en(o)?t[s]():t.thru(o)}return function(){var e=arguments,n=e[0];if(t&&1==e.length&&js(n)&&n.length>=q)return t.plant(n).value();for(var i=0,o=r?a[i].apply(this,e):n;++i<r;)o=a[i].call(this,o);return o}}}function Cr(e,t){return function(r,n,i){return"function"==typeof n&&i===E&&js(r)?e(r,n):t(r,ar(n,i,3))}}function Er(e){return function(t,r,n){"function"==typeof r&&n===E||(r=ar(r,n,3));return e(t,r,ea)}}function Sr(e){return function(t,r,n){"function"==typeof r&&n===E||(r=ar(r,n,3));return e(t,r)}}function Tr(e){return function(t,r,n){var i={};r=qr(r,n,3);Nt(t,function(t,n,a){var o=r(t,n,a);n=e?o:n;t=e?t:o;i[n]=t});return i}}function Dr(e){return function(t,r,n){t=s(t);return(e?t:"")+Mr(t,r,n)+(e?"":t)}}function jr(e){var t=mi(function(r,n){var i=b(n,t.placeholder);return Rr(r,e,E,n,i)});return t}function Pr(e,t){return function(r,n,i,a){var o=arguments.length<3;return"function"==typeof n&&a===E&&js(r)?e(r,n,i,o):Wt(r,qr(n,a,4),i,o,t)}}function Nr(e,t,r,n,i,a,o,s,l,u){function c(){for(var y=arguments.length,w=y,x=qa(y);w--;)x[w]=arguments[w];n&&(x=sr(x,n,i));a&&(x=lr(x,a,o));if(h||g){var _=c.placeholder,k=b(x,_);y-=k.length;if(u>y){var C=s?et(s):E,S=_o(u-y,0),j=h?k:E,P=h?E:k,N=h?x:E,A=h?E:x;t|=h?M:L;t&=~(h?L:M);v||(t&=~(T|D));var O=[e,t,r,N,j,A,P,C,l,S],R=Nr.apply(E,O);en(e)&&Xo(R,O);R.placeholder=_;return R}}var z=d?r:this,I=p?z[e]:e;s&&(x=ln(x,s));f&&l<x.length&&(x.length=l);this&&this!==rt&&this instanceof c&&(I=m||gr(e));return I.apply(z,x)}var f=t&A,d=t&T,p=t&D,h=t&P,v=t&j,g=t&N,m=p?E:gr(e);return c}function Mr(e,t,r){var n=e.length;t=+t;if(n>=t||!wo(t))return"";var i=t-n;r=null==r?" ":r+"";return ga(r,go(i/r.length)).slice(0,i)}function Lr(e,t,r,n){function i(){for(var t=-1,s=arguments.length,l=-1,u=n.length,c=qa(u+s);++l<u;)c[l]=n[l];for(;s--;)c[l++]=arguments[++t];var f=this&&this!==rt&&this instanceof i?o:e;return f.apply(a?r:this,c)}var a=t&T,o=gr(e);return i}function Ar(e){var t=Ya[e];return function(e,r){r=r===E?0:+r||0;if(r){r=lo(10,r);return t(e*r)/r}return t(e)}}function Or(e){return function(t,r,n,i){var a=qr(n);return null==n&&a===wt?nr(t,r,e):ir(t,r,a(n,i,1),e)}}function Rr(e,t,r,n,i,a,o,s){var l=t&D;if(!l&&"function"!=typeof e)throw new Ga(X);var u=n?n.length:0;if(!u){t&=~(M|L);n=i=E}u-=i?i.length:0;if(t&L){var c=n,f=i;n=i=E}var d=l?E:Vo(e),p=[e,t,r,n,i,c,f,a,o,s];if(d){nn(p,d);t=p[1];s=p[9]}p[9]=null==s?l?0:e.length:_o(s-u,0)||0;if(t==T)var h=pr(p[0],p[2]);else h=t!=M&&t!=(T|M)||p[4].length?Nr.apply(E,p):Lr.apply(E,p);var v=d?qo:Xo;return v(h,p)}function zr(e,t,r,n,i,a,o){var s=-1,l=e.length,u=t.length;if(l!=u&&!(i&&u>l))return!1;for(;++s<l;){var c=e[s],f=t[s],d=n?n(i?f:c,i?c:f,s):E;if(d!==E){if(d)continue;return!1}if(i){if(!dt(t,function(e){return c===e||r(c,e,n,i,a,o)}))return!1}else if(c!==f&&!r(c,f,n,i,a,o))return!1}return!0}function Ir(e,t,r){switch(r){case W:case $:return+e==+t;case G:return e.name==t.name&&e.message==t.message;case Q:return e!=+e?t!=+t:e==+t;case ee:case re:return e==t+""}return!1}function Br(e,t,r,n,i,a,o){var s=qs(e),l=s.length,u=qs(t),c=u.length;if(l!=c&&!i)return!1;for(var f=l;f--;){var d=s[f];if(!(i?d in t:eo.call(t,d)))return!1}for(var p=i;++f<l;){d=s[f];var h=e[d],v=t[d],g=n?n(i?v:h,i?h:v,d):E;if(!(g===E?r(h,v,n,i,a,o):g))return!1;p||(p="constructor"==d)}if(!p){var m=e.constructor,y=t.constructor;if(m!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y))return!1}return!0}function qr(e,r,n){var i=t.callback||Ea;i=i===Ea?wt:i;return n?i(e,r,n):i}function Vr(e){for(var t=e.name,r=Ao[t],n=r?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function Fr(e,r,n){var i=t.indexOf||Cn;i=i===Cn?a:i;return e?i(e,r,n):i}function Xr(e){for(var t=ta(e),r=t.length;r--;)t[r][2]=rn(t[r][1]);return t}function Yr(e,t){var r=null==e?E:e[t];return zi(r)?r:E}function Ur(e,t,r){for(var n=-1,i=r.length;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=ko(t,e+o);break;case"takeRight":e=_o(e,t-o)}}return{start:e,end:t}}function Hr(e){var t=e.length,r=new e.constructor(t);if(t&&"string"==typeof e[0]&&eo.call(e,"index")){r.index=e.index;r.input=e.input}return r}function Wr(e){var t=e.constructor;"function"==typeof t&&t instanceof t||(t=Ha);return new t}function $r(e,t,r){var n=e.constructor;switch(t){case ie:return or(e);case W:case $:return new n(+e);case ae:case oe:case se:case le:case ue:case ce:case fe:case de:case pe:var i=e.buffer;return new n(r?or(i):i,e.byteOffset,e.length);case Q:case re:return new n(e);case ee:var a=new n(e.source,Me.exec(e));a.lastIndex=e.lastIndex}return a}function Gr(e,t,r){if(null!=e&&!Kr(t,e)){t=dn(t);e=1==t.length?e:At(e,$t(t,0,-1));t=Sn(t)}var n=null==e?e:e[t];return null==n?E:n.apply(e,r)}function Zr(e){return null!=e&&tn(Fo(e))}function Jr(e,t){e="number"==typeof e||Oe.test(e)?+e:-1;t=null==t?Mo:t;return e>-1&&e%1==0&&t>e}function Qr(e,t,r){if(!Ai(r))return!1;var n=typeof t;if("number"==n?Zr(r)&&Jr(t,r.length):"string"==n&&t in r){var i=r[t];return e===e?e===i:i!==i}return!1}function Kr(e,t){var r=typeof e;if("string"==r&&Ee.test(e)||"number"==r)return!0;if(js(e))return!1;var n=!Ce.test(e);return n||null!=t&&e in fn(t)}function en(e){var r=Vr(e);if(!(r in J.prototype))return!1;var n=t[r];if(e===n)return!0;var i=Vo(n);return!!i&&e===i[0]}function tn(e){return"number"==typeof e&&e>-1&&e%1==0&&Mo>=e}function rn(e){return e===e&&!Ai(e)}function nn(e,t){var r=e[1],n=t[1],i=r|n,a=A>i,o=n==A&&r==P||n==A&&r==O&&e[7].length<=t[8]||n==(A|O)&&r==P;if(!a&&!o)return e;if(n&T){e[2]=t[2];i|=r&T?0:j}var s=t[3];if(s){var l=e[3];e[3]=l?sr(l,s,t[4]):et(s);e[4]=l?b(e[3],Y):et(t[4])}s=t[5];if(s){l=e[5];e[5]=l?lr(l,s,t[6]):et(s);e[6]=l?b(e[5],Y):et(t[6])}s=t[7];s&&(e[7]=et(s));n&A&&(e[8]=null==e[8]?t[8]:ko(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0];e[1]=i;return e}function an(e,t){return e===E?t:Ps(e,t,an)}function on(e,t){e=fn(e);for(var r=-1,n=t.length,i={};++r<n;){var a=t[r];a in e&&(i[a]=e[a])}return i}function sn(e,t){var r={};Pt(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function ln(e,t){for(var r=e.length,n=ko(t.length,r),i=et(e);n--;){var a=t[n];e[n]=Jr(a,r)?i[a]:E}return e}function un(e){for(var t=ea(e),r=t.length,n=r&&e.length,i=!!n&&tn(n)&&(js(e)||Ei(e)),a=-1,o=[];++a<r;){var s=t[a];(i&&Jr(s,n)||eo.call(e,s))&&o.push(s)}return o}function cn(e){return null==e?[]:Zr(e)?Ai(e)?e:Ha(e):aa(e)}function fn(e){return Ai(e)?e:Ha(e)}function dn(e){if(js(e))return e;var t=[];s(e).replace(Se,function(e,r,n,i){t.push(n?i.replace(Pe,"$1"):r||e)});return t}function pn(e){return e instanceof J?e.clone():new y(e.__wrapped__,e.__chain__,et(e.__actions__))}function hn(e,t,r){t=(r?Qr(e,t,r):null==t)?1:_o(yo(t)||1,1);for(var n=0,i=e?e.length:0,a=-1,o=qa(go(i/t));i>n;)o[++a]=$t(e,n,n+=t);return o}function vn(e){for(var t=-1,r=e?e.length:0,n=-1,i=[];++t<r;){var a=e[t];a&&(i[++n]=a)}return i}function gn(e,t,r){var n=e?e.length:0;if(!n)return[];(r?Qr(e,t,r):null==t)&&(t=1);return $t(e,0>t?0:t)}function mn(e,t,r){var n=e?e.length:0;if(!n)return[];(r?Qr(e,t,r):null==t)&&(t=1);t=n-(+t||0);return $t(e,0,0>t?0:t)}function yn(e,t,r){return e&&e.length?tr(e,qr(t,r,3),!0,!0):[]}function bn(e,t,r){return e&&e.length?tr(e,qr(t,r,3),!0):[]}function wn(e,t,r,n){var i=e?e.length:0;if(!i)return[];if(r&&"number"!=typeof r&&Qr(e,t,r)){r=0;n=i}return St(e,t,r,n)}function xn(e){return e?e[0]:E}function _n(e,t,r){var n=e?e.length:0;r&&Qr(e,t,r)&&(t=!1);return n?jt(e,t):[]}function kn(e){var t=e?e.length:0;return t?jt(e,!0):[]}function Cn(e,t,r){var n=e?e.length:0;if(!n)return-1;if("number"==typeof r)r=0>r?_o(n+r,0):r;else if(r){var i=nr(e,t);return n>i&&(t===t?t===e[i]:e[i]!==e[i])?i:-1}return a(e,t,r||0)}function En(e){return mn(e,1)}function Sn(e){var t=e?e.length:0;return t?e[t-1]:E}function Tn(e,t,r){var n=e?e.length:0;if(!n)return-1;var i=n;if("number"==typeof r)i=(0>r?_o(n+r,0):ko(r||0,n-1))+1;else if(r){i=nr(e,t,!0)-1;var a=e[i];return(t===t?t===a:a!==a)?i:-1}if(t!==t)return g(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Dn(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var r=0,n=Fr(),i=e.length;++r<i;)for(var a=0,o=e[r];(a=n(t,o,a))>-1;)po.call(t,a,1);return t}function jn(e,t,r){var n=[];if(!e||!e.length)return n;var i=-1,a=[],o=e.length;t=qr(t,r,3);for(;++i<o;){var s=e[i];if(t(s,i,e)){n.push(s);a.push(i)}}Ut(e,a);return n}function Pn(e){return gn(e,1)}function Nn(e,t,r){var n=e?e.length:0;if(!n)return[];if(r&&"number"!=typeof r&&Qr(e,t,r)){t=0;r=n}return $t(e,t,r)}function Mn(e,t,r){var n=e?e.length:0;if(!n)return[];(r?Qr(e,t,r):null==t)&&(t=1);return $t(e,0,0>t?0:t)}function Ln(e,t,r){var n=e?e.length:0;if(!n)return[];(r?Qr(e,t,r):null==t)&&(t=1);t=n-(+t||0);return $t(e,0>t?0:t)}function An(e,t,r){return e&&e.length?tr(e,qr(t,r,3),!1,!0):[]}function On(e,t,r){return e&&e.length?tr(e,qr(t,r,3)):[]}function Rn(e,t,r,n){var i=e?e.length:0;if(!i)return[];if(null!=t&&"boolean"!=typeof t){n=r;r=Qr(e,t,n)?E:t;t=!1}var o=qr();null==r&&o===wt||(r=o(r,n,3));return t&&Fr()==a?w(e,r):Kt(e,r)}function zn(e){if(!e||!e.length)return[];var t=-1,r=0;e=st(e,function(e){if(Zr(e)){r=_o(e.length,r);return!0}});for(var n=qa(r);++t<r;)n[t]=lt(e,Xt(t));return n}function In(e,t,r){var n=e?e.length:0;if(!n)return[];var i=zn(e);if(null==t)return i;t=ar(t,r,4);return lt(i,function(e){return ct(e,t,E,!0)})}function Bn(){for(var e=-1,t=arguments.length;++e<t;){var r=arguments[e];if(Zr(r))var n=n?ut(kt(n,r),kt(r,n)):r}return n?Kt(n):[]}function qn(e,t){var r=-1,n=e?e.length:0,i={};!n||t||js(e[0])||(t=[]);for(;++r<n;){var a=e[r];t?i[a]=t[r]:a&&(i[a[0]]=a[1])}return i}function Vn(e){var r=t(e);r.__chain__=!0;return r}function Fn(e,t,r){t.call(r,e);return e}function Xn(e,t,r){return t.call(r,e)}function Yn(){return Vn(this)}function Un(){return new y(this.value(),this.__chain__)}function Hn(e){for(var t,n=this;n instanceof r;){var i=pn(n);t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}a.__wrapped__=e;return t}function Wn(){var e=this.__wrapped__,t=function(e){return r&&r.__dir__<0?e:e.reverse()};if(e instanceof J){var r=e;this.__actions__.length&&(r=new J(this));r=r.reverse();r.__actions__.push({func:Xn,args:[t],thisArg:E});return new y(r,this.__chain__)}return this.thru(t)}function $n(){return this.value()+""}function Gn(){return rr(this.__wrapped__,this.__actions__)}function Zn(e,t,r){var n=js(e)?at:Ct;r&&Qr(e,t,r)&&(t=E);"function"==typeof t&&r===E||(t=qr(t,r,3));return n(e,t)}function Jn(e,t,r){var n=js(e)?st:Tt;t=qr(t,r,3);return n(e,t)}function Qn(e,t){return is(e,Bt(t))}function Kn(e,t,r,n){var i=e?Fo(e):0;if(!tn(i)){e=aa(e);i=e.length}r="number"!=typeof r||n&&Qr(t,r,n)?0:0>r?_o(i+r,0):r||0;return"string"==typeof e||!js(e)&&Fi(e)?i>=r&&e.indexOf(t,r)>-1:!!i&&Fr(e,t,r)>-1}function ei(e,t,r){var n=js(e)?lt:It;t=qr(t,r,3);return n(e,t)}function ti(e,t){return ei(e,La(t))}function ri(e,t,r){var n=js(e)?st:Tt;t=qr(t,r,3);return n(e,function(e,r,n){return!t(e,r,n)})}function ni(e,t,r){if(r?Qr(e,t,r):null==t){e=cn(e);var n=e.length;return n>0?e[Ht(0,n-1)]:E}var i=-1,a=Wi(e),n=a.length,o=n-1;t=ko(0>t?0:+t||0,n);for(;++i<t;){var s=Ht(i,o),l=a[s];a[s]=a[i];a[i]=l}a.length=t;return a}function ii(e){return ni(e,Do)}function ai(e){var t=e?Fo(e):0;return tn(t)?t:qs(e).length}function oi(e,t,r){var n=js(e)?dt:Gt;r&&Qr(e,t,r)&&(t=E);"function"==typeof t&&r===E||(t=qr(t,r,3));return n(e,t)}function si(e,t,r){if(null==e)return[];r&&Qr(e,t,r)&&(t=E);var n=-1;t=qr(t,r,3);var i=It(e,function(e,r,i){return{criteria:t(e,r,i),index:++n,value:e}});return Zt(i,c)}function li(e,t,r,n){if(null==e)return[];n&&Qr(t,r,n)&&(r=E);js(t)||(t=null==t?[]:[t]);js(r)||(r=null==r?[]:[r]);return Jt(e,t,r)}function ui(e,t){return Jn(e,Bt(t))}function ci(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Ga(X);var r=e;e=t;t=r}e=wo(e=+e)?e:0;return function(){return--e<1?t.apply(this,arguments):void 0}}function fi(e,t,r){r&&Qr(e,t,r)&&(t=E);t=e&&null==t?e.length:_o(+t||0,0);return Rr(e,A,E,E,E,E,t)}function di(e,t){var r;if("function"!=typeof t){if("function"!=typeof e)throw new Ga(X);var n=e;e=t;t=n}return function(){--e>0&&(r=t.apply(this,arguments));1>=e&&(t=E);return r}}function pi(e,t,r){function n(){p&&oo(p);u&&oo(u);v=0;u=p=h=E}function i(t,r){r&&oo(r);u=p=h=E;if(t){v=vs();c=e.apply(d,l);p||u||(l=d=E)}}function a(){var e=t-(vs()-f);0>=e||e>t?i(h,u):p=fo(a,e)}function o(){i(m,p)}function s(){l=arguments;f=vs();d=this;h=m&&(p||!y);if(g===!1)var r=y&&!p;else{u||y||(v=f);var n=g-(f-v),i=0>=n||n>g;if(i){u&&(u=oo(u));v=f;c=e.apply(d,l)}else u||(u=fo(o,n))}i&&p?p=oo(p):p||t===g||(p=fo(a,t));if(r){i=!0;c=e.apply(d,l)}!i||p||u||(l=d=E);return c}var l,u,c,f,d,p,h,v=0,g=!1,m=!0;if("function"!=typeof e)throw new Ga(X);t=0>t?0:+t||0;if(r===!0){var y=!0;m=!1}else if(Ai(r)){y=!!r.leading;g="maxWait"in r&&_o(+r.maxWait||0,t);m="trailing"in r?!!r.trailing:m}s.cancel=n;return s}function hi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Ga(X);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);r.cache=a.set(i,o);return o};r.cache=new hi.Cache;return r}function vi(e){if("function"!=typeof e)throw new Ga(X);return function(){return!e.apply(this,arguments)}}function gi(e){return di(2,e)}function mi(e,t){if("function"!=typeof e)throw new Ga(X);t=_o(t===E?e.length-1:+t||0,0);return function(){for(var r=arguments,n=-1,i=_o(r.length-t,0),a=qa(i);++n<i;)a[n]=r[t+n];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var o=qa(t+1);n=-1;for(;++n<t;)o[n]=r[n];o[t]=a;return e.apply(this,o)}}function yi(e){if("function"!=typeof e)throw new Ga(X);return function(t){return e.apply(this,t)}}function bi(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Ga(X);if(r===!1)n=!1;else if(Ai(r)){n="leading"in r?!!r.leading:n;i="trailing"in r?!!r.trailing:i}return pi(e,t,{leading:n,maxWait:+t,trailing:i})}function wi(e,t){t=null==t?Ta:t;return Rr(t,M,E,[e],[])}function xi(e,t,r,n){if(t&&"boolean"!=typeof t&&Qr(e,t,r))t=!1;else if("function"==typeof t){n=r;r=t;t=!1}return"function"==typeof r?xt(e,t,ar(r,n,1)):xt(e,t)}function _i(e,t,r){return"function"==typeof t?xt(e,!0,ar(t,r,1)):xt(e,!0)}function ki(e,t){return e>t}function Ci(e,t){return e>=t}function Ei(e){return m(e)&&Zr(e)&&eo.call(e,"callee")&&!uo.call(e,"callee")}function Si(e){return e===!0||e===!1||m(e)&&ro.call(e)==W}function Ti(e){return m(e)&&ro.call(e)==$}function Di(e){return!!e&&1===e.nodeType&&m(e)&&!qi(e)}function ji(e){return null==e?!0:Zr(e)&&(js(e)||Fi(e)||Ei(e)||m(e)&&Li(e.splice))?!e.length:!qs(e).length}function Pi(e,t,r,n){r="function"==typeof r?ar(r,n,3):E;var i=r?r(e,t):E;return i===E?Ot(e,t,r):!!i}function Ni(e){return m(e)&&"string"==typeof e.message&&ro.call(e)==G}function Mi(e){return"number"==typeof e&&wo(e)}function Li(e){return Ai(e)&&ro.call(e)==Z}function Ai(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Oi(e,t,r,n){r="function"==typeof r?ar(r,n,3):E;return zt(e,Xr(t),r)}function Ri(e){return Bi(e)&&e!=+e}function zi(e){return null==e?!1:Li(e)?io.test(Ka.call(e)):m(e)&&Ae.test(e)}function Ii(e){return null===e}function Bi(e){return"number"==typeof e||m(e)&&ro.call(e)==Q}function qi(e){var t;if(!m(e)||ro.call(e)!=K||Ei(e)||!eo.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var r;Pt(e,function(e,t){r=t});return r===E||eo.call(e,r)}function Vi(e){return Ai(e)&&ro.call(e)==ee}function Fi(e){return"string"==typeof e||m(e)&&ro.call(e)==re}function Xi(e){return m(e)&&tn(e.length)&&!!Fe[ro.call(e)]}function Yi(e){return e===E}function Ui(e,t){return t>e}function Hi(e,t){return t>=e}function Wi(e){var t=e?Fo(e):0;return tn(t)?t?et(e):[]:aa(e)}function $i(e){return bt(e,ea(e))}function Gi(e,t,r){var n=Oo(e);r&&Qr(e,t,r)&&(t=E);return t?mt(n,t):n}function Zi(e){return Lt(e,ea(e))}function Ji(e,t,r){var n=null==e?E:At(e,dn(t),t+"");return n===E?r:n}function Qi(e,t){if(null==e)return!1;var r=eo.call(e,t);if(!r&&!Kr(t)){t=dn(t);e=1==t.length?e:At(e,$t(t,0,-1));if(null==e)return!1;t=Sn(t);r=eo.call(e,t)}return r||tn(e.length)&&Jr(t,e.length)&&(js(e)||Ei(e))}function Ki(e,t,r){r&&Qr(e,t,r)&&(t=E);for(var n=-1,i=qs(e),a=i.length,o={};++n<a;){var s=i[n],l=e[s];t?eo.call(o,l)?o[l].push(s):o[l]=[s]:o[l]=s}return o}function ea(e){if(null==e)return[];Ai(e)||(e=Ha(e));var t=e.length;t=t&&tn(t)&&(js(e)||Ei(e))&&t||0;for(var r=e.constructor,n=-1,i="function"==typeof r&&r.prototype===e,a=qa(t),o=t>0;++n<t;)a[n]=n+"";for(var s in e)o&&Jr(s,t)||"constructor"==s&&(i||!eo.call(e,s))||a.push(s);return a}function ta(e){e=fn(e);for(var t=-1,r=qs(e),n=r.length,i=qa(n);++t<n;){var a=r[t];i[t]=[a,e[a]]}return i}function ra(e,t,r){var n=null==e?E:e[t];if(n===E){if(null!=e&&!Kr(t,e)){t=dn(t);e=1==t.length?e:At(e,$t(t,0,-1));n=null==e?E:e[Sn(t)]}n=n===E?r:n}return Li(n)?n.call(e):n}function na(e,t,r){if(null==e)return e;var n=t+"";t=null!=e[n]||Kr(t,e)?[n]:dn(t);for(var i=-1,a=t.length,o=a-1,s=e;null!=s&&++i<a;){var l=t[i];Ai(s)&&(i==o?s[l]=r:null==s[l]&&(s[l]=Jr(t[i+1])?[]:{}));s=s[l]}return e}function ia(e,t,r,n){var i=js(e)||Xi(e);t=qr(t,n,4);if(null==r)if(i||Ai(e)){var a=e.constructor;r=i?js(e)?new a:[]:Oo(Li(a)?a.prototype:E)}else r={};(i?tt:Nt)(e,function(e,n,i){return t(r,e,n,i)});return r}function aa(e){return er(e,qs(e))}function oa(e){return er(e,ea(e))}function sa(e,t,r){t=+t||0;if(r===E){r=t;t=0}else r=+r||0;return e>=ko(t,r)&&e<_o(t,r)}function la(e,t,r){r&&Qr(e,t,r)&&(t=r=E);var n=null==e,i=null==t;if(null==r)if(i&&"boolean"==typeof e){r=e;e=1}else if("boolean"==typeof t){r=t;i=!0}if(n&&i){t=1;i=!1}e=+e||0;if(i){t=e;e=0}else t=+t||0;if(r||e%1||t%1){var a=So();return ko(e+a*(t-e+so("1e-"+((a+"").length-1))),t)}return Ht(e,t)}function ua(e){e=s(e);return e&&e.charAt(0).toUpperCase()+e.slice(1)}function ca(e){e=s(e);return e&&e.replace(Re,d).replace(je,"")}function fa(e,t,r){e=s(e);t+="";var n=e.length;r=r===E?n:ko(0>r?0:+r||0,n);r-=t.length;return r>=0&&e.indexOf(t,r)==r}function da(e){e=s(e);return e&&we.test(e)?e.replace(ye,p):e}function pa(e){e=s(e);return e&&De.test(e)?e.replace(Te,h):e||"(?:)"}function ha(e,t,r){e=s(e);t=+t;var n=e.length;if(n>=t||!wo(t))return e;var i=(t-n)/2,a=yo(i),o=go(i);r=Mr("",o,r);return r.slice(0,a)+e+r}function va(e,t,r){(r?Qr(e,t,r):null==t)?t=0:t&&(t=+t);e=ba(e);return Eo(e,t||(Le.test(e)?16:10))}function ga(e,t){var r="";e=s(e);t=+t;if(1>t||!e||!wo(t))return r;do{t%2&&(r+=e);t=yo(t/2);e+=e}while(t);return r}function ma(e,t,r){e=s(e);r=null==r?0:ko(0>r?0:+r||0,e.length);return e.lastIndexOf(t,r)==r}function ya(e,r,n){var i=t.templateSettings;n&&Qr(e,r,n)&&(r=n=E);e=s(e);r=gt(mt({},n||r),i,vt);var a,o,l=gt(mt({},r.imports),i.imports,vt),u=qs(l),c=er(l,u),f=0,d=r.interpolate||ze,p="__p += '",h=Wa((r.escape||ze).source+"|"+d.source+"|"+(d===ke?Ne:ze).source+"|"+(r.evaluate||ze).source+"|$","g"),g="//# sourceURL="+("sourceURL"in r?r.sourceURL:"lodash.templateSources["+ ++Ve+"]")+"\n";e.replace(h,function(t,r,n,i,s,l){n||(n=i);p+=e.slice(f,l).replace(Ie,v);if(r){a=!0;p+="' +\n__e("+r+") +\n'"}if(s){o=!0;p+="';\n"+s+";\n__p += '"}n&&(p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'");f=l+t.length;return t});p+="';\n";var m=r.variable;m||(p="with (obj) {\n"+p+"\n}\n");p=(o?p.replace(he,""):p).replace(ve,"$1").replace(ge,"$1;");p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Js(function(){return Xa(u,g+"return "+p).apply(E,c)});y.source=p;if(Ni(y))throw y;return y}function ba(e,t,r){var n=e;e=s(e);if(!e)return e;if(r?Qr(n,t,r):null==t)return e.slice(x(e),_(e)+1);t+="";return e.slice(l(e,t),u(e,t)+1)}function wa(e,t,r){var n=e;e=s(e);return e?(r?Qr(n,t,r):null==t)?e.slice(x(e)):e.slice(l(e,t+"")):e}function xa(e,t,r){var n=e;e=s(e);return e?(r?Qr(n,t,r):null==t)?e.slice(0,_(e)+1):e.slice(0,u(e,t+"")+1):e}function _a(e,t,r){r&&Qr(e,t,r)&&(t=E);var n=R,i=z;if(null!=t)if(Ai(t)){var a="separator"in t?t.separator:a;n="length"in t?+t.length||0:n;i="omission"in t?s(t.omission):i}else n=+t||0;e=s(e);if(n>=e.length)return e;var o=n-i.length;if(1>o)return i;var l=e.slice(0,o);if(null==a)return l+i;if(Vi(a)){if(e.slice(o).search(a)){var u,c,f=e.slice(0,o);a.global||(a=Wa(a.source,(Me.exec(a)||"")+"g"));a.lastIndex=0;for(;u=a.exec(f);)c=u.index;l=l.slice(0,null==c?o:c)}}else if(e.indexOf(a,o)!=o){var d=l.lastIndexOf(a);d>-1&&(l=l.slice(0,d))}return l+i}function ka(e){e=s(e);return e&&be.test(e)?e.replace(me,k):e}function Ca(e,t,r){
r&&Qr(e,t,r)&&(t=E);e=s(e);return e.match(t||Be)||[]}function Ea(e,t,r){r&&Qr(e,t,r)&&(t=E);return m(e)?Da(e):wt(e,t)}function Sa(e){return function(){return e}}function Ta(e){return e}function Da(e){return Bt(xt(e,!0))}function ja(e,t){return qt(e,xt(t,!0))}function Pa(e,t,r){if(null==r){var n=Ai(t),i=n?qs(t):E,a=i&&i.length?Lt(t,i):E;if(!(a?a.length:n)){a=!1;r=t;t=e;e=this}}a||(a=Lt(t,qs(t)));var o=!0,s=-1,l=Li(e),u=a.length;r===!1?o=!1:Ai(r)&&"chain"in r&&(o=r.chain);for(;++s<u;){var c=a[s],f=t[c];e[c]=f;l&&(e.prototype[c]=function(t){return function(){var r=this.__chain__;if(o||r){var n=e(this.__wrapped__),i=n.__actions__=et(this.__actions__);i.push({func:t,args:arguments,thisArg:e});n.__chain__=r;return n}return t.apply(e,ut([this.value()],arguments))}}(f))}return e}function Na(){rt._=no;return this}function Ma(){}function La(e){return Kr(e)?Xt(e):Yt(e)}function Aa(e){return function(t){return At(e,dn(t),t+"")}}function Oa(e,t,r){r&&Qr(e,t,r)&&(t=r=E);e=+e||0;r=null==r?1:+r||0;if(null==t){t=e;e=0}else t=+t||0;for(var n=-1,i=_o(go((t-e)/(r||1)),0),a=qa(i);++n<i;){a[n]=e;e+=r}return a}function Ra(e,t,r){e=yo(e);if(1>e||!wo(e))return[];var n=-1,i=qa(ko(e,jo));t=ar(t,r,1);for(;++n<e;)jo>n?i[n]=t(n):t(n);return i}function za(e){var t=++to;return s(e)+t}function Ia(e,t){return(+e||0)+(+t||0)}function Ba(e,t,r){r&&Qr(e,t,r)&&(t=E);t=qr(t,r,3);return 1==t.length?pt(js(e)?e:cn(e),t):Qt(e,t)}e=e?nt.defaults(rt.Object(),e,nt.pick(rt,qe)):rt;var qa=e.Array,Va=e.Date,Fa=e.Error,Xa=e.Function,Ya=e.Math,Ua=e.Number,Ha=e.Object,Wa=e.RegExp,$a=e.String,Ga=e.TypeError,Za=qa.prototype,Ja=Ha.prototype,Qa=$a.prototype,Ka=Xa.prototype.toString,eo=Ja.hasOwnProperty,to=0,ro=Ja.toString,no=rt._,io=Wa("^"+Ka.call(eo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ao=e.ArrayBuffer,oo=e.clearTimeout,so=e.parseFloat,lo=Ya.pow,uo=Ja.propertyIsEnumerable,co=Yr(e,"Set"),fo=e.setTimeout,po=Za.splice,ho=e.Uint8Array,vo=Yr(e,"WeakMap"),go=Ya.ceil,mo=Yr(Ha,"create"),yo=Ya.floor,bo=Yr(qa,"isArray"),wo=e.isFinite,xo=Yr(Ha,"keys"),_o=Ya.max,ko=Ya.min,Co=Yr(Va,"now"),Eo=e.parseInt,So=Ya.random,To=Ua.NEGATIVE_INFINITY,Do=Ua.POSITIVE_INFINITY,jo=4294967295,Po=jo-1,No=jo>>>1,Mo=9007199254740991,Lo=vo&&new vo,Ao={};t.support={};t.templateSettings={escape:xe,evaluate:_e,interpolate:ke,variable:"",imports:{_:t}};var Oo=function(){function e(){}return function(t){if(Ai(t)){e.prototype=t;var r=new e;e.prototype=E}return r||{}}}(),Ro=fr(Nt),zo=fr(Mt,!0),Io=dr(),Bo=dr(!0),qo=Lo?function(e,t){Lo.set(e,t);return e}:Ta,Vo=Lo?function(e){return Lo.get(e)}:Ma,Fo=Xt("length"),Xo=function(){var e=0,t=0;return function(r,n){var i=vs(),a=B-(i-t);t=i;if(a>0){if(++e>=I)return r}else e=0;return qo(r,n)}}(),Yo=mi(function(e,t){return m(e)&&Zr(e)?kt(e,jt(t,!1,!0)):[]}),Uo=xr(),Ho=xr(!0),Wo=mi(function(e){for(var t=e.length,r=t,n=qa(f),i=Fr(),o=i==a,s=[];r--;){var l=e[r]=Zr(l=e[r])?l:[];n[r]=o&&l.length>=120?hr(r&&l):null}var u=e[0],c=-1,f=u?u.length:0,d=n[0];e:for(;++c<f;){l=u[c];if((d?Je(d,l):i(s,l,0))<0){for(var r=t;--r;){var p=n[r];if((p?Je(p,l):i(e[r],l,0))<0)continue e}d&&d.push(l);s.push(l)}}return s}),$o=mi(function(e,t){t=jt(t);var r=yt(e,t);Ut(e,t.sort(n));return r}),Go=Or(),Zo=Or(!0),Jo=mi(function(e){return Kt(jt(e,!1,!0))}),Qo=mi(function(e,t){return Zr(e)?kt(e,t):[]}),Ko=mi(zn),es=mi(function(e){var t=e.length,r=t>2?e[t-2]:E,n=t>1?e[t-1]:E;if(t>2&&"function"==typeof r)t-=2;else{r=t>1&&"function"==typeof n?(--t,n):E;n=E}e.length=t;return In(e,r,n)}),ts=mi(function(e){e=jt(e);return this.thru(function(t){return Ke(js(t)?t:[fn(t)],e)})}),rs=mi(function(e,t){return yt(e,jt(t))}),ns=ur(function(e,t,r){eo.call(e,r)?++e[r]:e[r]=1}),is=wr(Ro),as=wr(zo,!0),os=Cr(tt,Ro),ss=Cr(it,zo),ls=ur(function(e,t,r){eo.call(e,r)?e[r].push(t):e[r]=[t]}),us=ur(function(e,t,r){e[r]=t}),cs=mi(function(e,t,r){var n=-1,i="function"==typeof t,a=Kr(t),o=Zr(e)?qa(e.length):[];Ro(e,function(e){var s=i?t:a&&null!=e?e[t]:E;o[++n]=s?s.apply(e,r):Gr(e,t,r)});return o}),fs=ur(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),ds=Pr(ct,Ro),ps=Pr(ft,zo),hs=mi(function(e,t){if(null==e)return[];var r=t[2];r&&Qr(t[0],t[1],r)&&(t.length=1);return Jt(e,jt(t),[])}),vs=Co||function(){return(new Va).getTime()},gs=mi(function(e,t,r){var n=T;if(r.length){var i=b(r,gs.placeholder);n|=M}return Rr(e,n,t,r,i)}),ms=mi(function(e,t){t=t.length?jt(t):Zi(e);for(var r=-1,n=t.length;++r<n;){var i=t[r];e[i]=Rr(e[i],T,e)}return e}),ys=mi(function(e,t,r){var n=T|D;if(r.length){var i=b(r,ys.placeholder);n|=M}return Rr(t,n,e,r,i)}),bs=mr(P),ws=mr(N),xs=mi(function(e,t){return _t(e,1,t)}),_s=mi(function(e,t,r){return _t(e,t,r)}),ks=kr(),Cs=kr(!0),Es=mi(function(e,t){t=jt(t);if("function"!=typeof e||!at(t,o))throw new Ga(X);var r=t.length;return mi(function(n){for(var i=ko(n.length,r);i--;)n[i]=t[i](n[i]);return e.apply(this,n)})}),Ss=jr(M),Ts=jr(L),Ds=mi(function(e,t){return Rr(e,O,E,E,E,jt(t))}),js=bo||function(e){return m(e)&&tn(e.length)&&ro.call(e)==H},Ps=cr(Vt),Ns=cr(function(e,t,r){return r?gt(e,t,r):mt(e,t)}),Ms=yr(Ns,ht),Ls=yr(Ps,an),As=_r(Nt),Os=_r(Mt),Rs=Er(Io),zs=Er(Bo),Is=Sr(Nt),Bs=Sr(Mt),qs=xo?function(e){var t=null==e?E:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Zr(e)?un(e):Ai(e)?xo(e):[]}:un,Vs=Tr(!0),Fs=Tr(),Xs=mi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=lt(jt(t),$a);return on(e,kt(ea(e),t))}var r=ar(t[0],t[1],3);return sn(e,function(e,t,n){return!r(e,t,n)})}),Ys=mi(function(e,t){return null==e?{}:"function"==typeof t[0]?sn(e,ar(t[0],t[1],3)):on(e,jt(t))}),Us=vr(function(e,t,r){t=t.toLowerCase();return e+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Hs=vr(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),Ws=Dr(),$s=Dr(!0),Gs=vr(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),Zs=vr(function(e,t,r){return e+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Js=mi(function(e,t){try{return e.apply(E,t)}catch(r){return Ni(r)?r:new Fa(r)}}),Qs=mi(function(e,t){return function(r){return Gr(r,e,t)}}),Ks=mi(function(e,t){return function(r){return Gr(e,r,t)}}),el=Ar("ceil"),tl=Ar("floor"),rl=br(ki,To),nl=br(Ui,Do),il=Ar("round");t.prototype=r.prototype;y.prototype=Oo(r.prototype);y.prototype.constructor=y;J.prototype=Oo(r.prototype);J.prototype.constructor=J;Ue.prototype["delete"]=He;Ue.prototype.get=We;Ue.prototype.has=$e;Ue.prototype.set=Ge;Ze.prototype.push=Qe;hi.Cache=Ue;t.after=ci;t.ary=fi;t.assign=Ns;t.at=rs;t.before=di;t.bind=gs;t.bindAll=ms;t.bindKey=ys;t.callback=Ea;t.chain=Vn;t.chunk=hn;t.compact=vn;t.constant=Sa;t.countBy=ns;t.create=Gi;t.curry=bs;t.curryRight=ws;t.debounce=pi;t.defaults=Ms;t.defaultsDeep=Ls;t.defer=xs;t.delay=_s;t.difference=Yo;t.drop=gn;t.dropRight=mn;t.dropRightWhile=yn;t.dropWhile=bn;t.fill=wn;t.filter=Jn;t.flatten=_n;t.flattenDeep=kn;t.flow=ks;t.flowRight=Cs;t.forEach=os;t.forEachRight=ss;t.forIn=Rs;t.forInRight=zs;t.forOwn=Is;t.forOwnRight=Bs;t.functions=Zi;t.groupBy=ls;t.indexBy=us;t.initial=En;t.intersection=Wo;t.invert=Ki;t.invoke=cs;t.keys=qs;t.keysIn=ea;t.map=ei;t.mapKeys=Vs;t.mapValues=Fs;t.matches=Da;t.matchesProperty=ja;t.memoize=hi;t.merge=Ps;t.method=Qs;t.methodOf=Ks;t.mixin=Pa;t.modArgs=Es;t.negate=vi;t.omit=Xs;t.once=gi;t.pairs=ta;t.partial=Ss;t.partialRight=Ts;t.partition=fs;t.pick=Ys;t.pluck=ti;t.property=La;t.propertyOf=Aa;t.pull=Dn;t.pullAt=$o;t.range=Oa;t.rearg=Ds;t.reject=ri;t.remove=jn;t.rest=Pn;t.restParam=mi;t.set=na;t.shuffle=ii;t.slice=Nn;t.sortBy=si;t.sortByAll=hs;t.sortByOrder=li;t.spread=yi;t.take=Mn;t.takeRight=Ln;t.takeRightWhile=An;t.takeWhile=On;t.tap=Fn;t.throttle=bi;t.thru=Xn;t.times=Ra;t.toArray=Wi;t.toPlainObject=$i;t.transform=ia;t.union=Jo;t.uniq=Rn;t.unzip=zn;t.unzipWith=In;t.values=aa;t.valuesIn=oa;t.where=ui;t.without=Qo;t.wrap=wi;t.xor=Bn;t.zip=Ko;t.zipObject=qn;t.zipWith=es;t.backflow=Cs;t.collect=ei;t.compose=Cs;t.each=os;t.eachRight=ss;t.extend=Ns;t.iteratee=Ea;t.methods=Zi;t.object=qn;t.select=Jn;t.tail=Pn;t.unique=Rn;Pa(t,t);t.add=Ia;t.attempt=Js;t.camelCase=Us;t.capitalize=ua;t.ceil=el;t.clone=xi;t.cloneDeep=_i;t.deburr=ca;t.endsWith=fa;t.escape=da;t.escapeRegExp=pa;t.every=Zn;t.find=is;t.findIndex=Uo;t.findKey=As;t.findLast=as;t.findLastIndex=Ho;t.findLastKey=Os;t.findWhere=Qn;t.first=xn;t.floor=tl;t.get=Ji;t.gt=ki;t.gte=Ci;t.has=Qi;t.identity=Ta;t.includes=Kn;t.indexOf=Cn;t.inRange=sa;t.isArguments=Ei;t.isArray=js;t.isBoolean=Si;t.isDate=Ti;t.isElement=Di;t.isEmpty=ji;t.isEqual=Pi;t.isError=Ni;t.isFinite=Mi;t.isFunction=Li;t.isMatch=Oi;t.isNaN=Ri;t.isNative=zi;t.isNull=Ii;t.isNumber=Bi;t.isObject=Ai;t.isPlainObject=qi;t.isRegExp=Vi;t.isString=Fi;t.isTypedArray=Xi;t.isUndefined=Yi;t.kebabCase=Hs;t.last=Sn;t.lastIndexOf=Tn;t.lt=Ui;t.lte=Hi;t.max=rl;t.min=nl;t.noConflict=Na;t.noop=Ma;t.now=vs;t.pad=ha;t.padLeft=Ws;t.padRight=$s;t.parseInt=va;t.random=la;t.reduce=ds;t.reduceRight=ps;t.repeat=ga;t.result=ra;t.round=il;t.runInContext=C;t.size=ai;t.snakeCase=Gs;t.some=oi;t.sortedIndex=Go;t.sortedLastIndex=Zo;t.startCase=Zs;t.startsWith=ma;t.sum=Ba;t.template=ya;t.trim=ba;t.trimLeft=wa;t.trimRight=xa;t.trunc=_a;t.unescape=ka;t.uniqueId=za;t.words=Ca;t.all=Zn;t.any=oi;t.contains=Kn;t.eq=Pi;t.detect=is;t.foldl=ds;t.foldr=ps;t.head=xn;t.include=Kn;t.inject=ds;Pa(t,function(){var e={};Nt(t,function(r,n){t.prototype[n]||(e[n]=r)});return e}(),!1);t.sample=ni;t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ni(t,e)}):ni(this.value())};t.VERSION=S;tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t});tt(["drop","take"],function(e,t){J.prototype[e]=function(r){var n=this.__filtered__;if(n&&!t)return new J(this);r=null==r?1:_o(yo(r)||0,0);var i=this.clone();n?i.__takeCount__=ko(i.__takeCount__,r):i.__views__.push({size:r,type:e+(i.__dir__<0?"Right":"")});return i};J.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}});tt(["filter","map","takeWhile"],function(e,t){var r=t+1,n=r!=F;J.prototype[e]=function(e,t){var i=this.clone();i.__iteratees__.push({iteratee:qr(e,t,1),type:r});i.__filtered__=i.__filtered__||n;return i}});tt(["first","last"],function(e,t){var r="take"+(t?"Right":"");J.prototype[e]=function(){return this[r](1).value()[0]}});tt(["initial","rest"],function(e,t){var r="drop"+(t?"":"Right");J.prototype[e]=function(){return this.__filtered__?new J(this):this[r](1)}});tt(["pluck","where"],function(e,t){var r=t?"filter":"map",n=t?Bt:La;J.prototype[e]=function(e){return this[r](n(e))}});J.prototype.compact=function(){return this.filter(Ta)};J.prototype.reject=function(e,t){e=qr(e,t,1);return this.filter(function(t){return!e(t)})};J.prototype.slice=function(e,t){e=null==e?0:+e||0;var r=this;if(r.__filtered__&&(e>0||0>t))return new J(r);0>e?r=r.takeRight(-e):e&&(r=r.drop(e));if(t!==E){t=+t||0;r=0>t?r.dropRight(-t):r.take(t-e)}return r};J.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()};J.prototype.toArray=function(){return this.take(Do)};Nt(J.prototype,function(e,r){var n=/^(?:filter|map|reject)|While$/.test(r),i=/^(?:first|last)$/.test(r),a=t[i?"take"+("last"==r?"Right":""):r];a&&(t.prototype[r]=function(){var t=i?[1]:arguments,r=this.__chain__,o=this.__wrapped__,s=!!this.__actions__.length,l=o instanceof J,u=t[0],c=l||js(o);c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=function(e){return i&&r?a(e,1)[0]:a.apply(E,ut([e],t))},d={func:Xn,args:[f],thisArg:E},p=l&&!s;if(i&&!r){if(p){o=o.clone();o.__actions__.push(d);return e.call(o)}return a.call(E,this.value())[0]}if(!i&&c){o=p?o:new J(this);var h=e.apply(o,t);h.__actions__.push(d);return new y(h,r)}return this.thru(f)})});tt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var r=(/^(?:replace|split)$/.test(e)?Qa:Za)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?r.apply(this.value(),e):this[n](function(t){return r.apply(t,e)})}});Nt(J.prototype,function(e,r){var n=t[r];if(n){var i=n.name,a=Ao[i]||(Ao[i]=[]);a.push({name:r,func:n})}});Ao[Nr(E,D).name]=[{name:"wrapper",func:E}];J.prototype.clone=te;J.prototype.reverse=ne;J.prototype.value=Ye;t.prototype.chain=Yn;t.prototype.commit=Un;t.prototype.concat=ts;t.prototype.plant=Hn;t.prototype.reverse=Wn;t.prototype.toString=$n;t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Gn;t.prototype.collect=t.prototype.map;t.prototype.head=t.prototype.first;t.prototype.select=t.prototype.filter;t.prototype.tail=t.prototype.rest;return t}var E,S="3.10.1",T=1,D=2,j=4,P=8,N=16,M=32,L=64,A=128,O=256,R=30,z="...",I=150,B=16,q=200,V=1,F=2,X="Expected a function",Y="__lodash_placeholder__",U="[object Arguments]",H="[object Array]",W="[object Boolean]",$="[object Date]",G="[object Error]",Z="[object Function]",J="[object Map]",Q="[object Number]",K="[object Object]",ee="[object RegExp]",te="[object Set]",re="[object String]",ne="[object WeakMap]",ie="[object ArrayBuffer]",ae="[object Float32Array]",oe="[object Float64Array]",se="[object Int8Array]",le="[object Int16Array]",ue="[object Int32Array]",ce="[object Uint8Array]",fe="[object Uint8ClampedArray]",de="[object Uint16Array]",pe="[object Uint32Array]",he=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,ge=/(__e\(.*?\)|\b__t\)) \+\n'';/g,me=/&(?:amp|lt|gt|quot|#39|#96);/g,ye=/[&<>"'`]/g,be=RegExp(me.source),we=RegExp(ye.source),xe=/<%-([\s\S]+?)%>/g,_e=/<%([\s\S]+?)%>/g,ke=/<%=([\s\S]+?)%>/g,Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ee=/^\w*$/,Se=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Te=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,De=RegExp(Te.source),je=/[\u0300-\u036f\ufe20-\ufe23]/g,Pe=/\\(\\)?/g,Ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Me=/\w*$/,Le=/^0[xX]/,Ae=/^\[object .+?Constructor\]$/,Oe=/^\d+$/,Re=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,ze=/($^)/,Ie=/['\n\r\u2028\u2029\\]/g,Be=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),qe=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ve=-1,Fe={};Fe[ae]=Fe[oe]=Fe[se]=Fe[le]=Fe[ue]=Fe[ce]=Fe[fe]=Fe[de]=Fe[pe]=!0;Fe[U]=Fe[H]=Fe[ie]=Fe[W]=Fe[$]=Fe[G]=Fe[Z]=Fe[J]=Fe[Q]=Fe[K]=Fe[ee]=Fe[te]=Fe[re]=Fe[ne]=!1;var Xe={};Xe[U]=Xe[H]=Xe[ie]=Xe[W]=Xe[$]=Xe[ae]=Xe[oe]=Xe[se]=Xe[le]=Xe[ue]=Xe[Q]=Xe[K]=Xe[ee]=Xe[re]=Xe[ce]=Xe[fe]=Xe[de]=Xe[pe]=!0;Xe[G]=Xe[Z]=Xe[J]=Xe[te]=Xe[ne]=!1;var Ye={"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss"},Ue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},He={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},We={"function":!0,object:!0},$e={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ge={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ze=We[typeof r]&&r&&!r.nodeType&&r,Je=We[typeof t]&&t&&!t.nodeType&&t,Qe=Ze&&Je&&"object"==typeof e&&e&&e.Object&&e,Ke=We[typeof self]&&self&&self.Object&&self,et=We[typeof window]&&window&&window.Object&&window,tt=Je&&Je.exports===Ze&&Ze,rt=Qe||et!==(this&&this.window)&&et||Ke||this,nt=C();if("function"==typeof define&&"object"==typeof define.amd&&define.amd){rt._=nt;define(function(){return nt})}else Ze&&Je?tt?(Je.exports=nt)._=nt:Ze._=nt:rt._=nt}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,r){(function(){var n;n=function(n){return"object"==typeof r&&"object"==typeof t?n(function(){try{return e("jquery")}catch(t){return window.jQuery}}()):"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)};n(function(e){return e.pivotUtilities.d3_renderers={Treemap:function(t,r){var n,i,a,o,s,l,u,c,f,d,p,h,v;a={localeStrings:{},d3:{width:function(){return e(window).width()/1.4},height:function(){return e(window).height()/1.4}}};r=e.extend(a,r);c=e("<div>").css({width:"100%",height:"100%"});d={name:"All",children:[]};n=function(e,t,r){var i,a,o,s,l,u;if(0!==t.length){null==e.children&&(e.children=[]);u=t.shift();l=e.children;for(a=0,o=l.length;o>a;a++){i=l[a];if(i.name===u){n(i,t,r);return}}s={name:u};n(s,t,r);return e.children.push(s)}e.value=r};u=t.getRowKeys();for(s=0,l=u.length;l>s;s++){f=u[s];h=t.getAggregator(f,[]).value();null!=h&&n(d,f,h)}i=d3.scale.category10();v=r.d3.width();o=r.d3.height();p=d3.layout.treemap().size([v,o]).sticky(!0).value(function(e){return e.size});d3.select(c[0]).append("div").style("position","relative").style("width",v+"px").style("height",o+"px").datum(d).selectAll(".node").data(p.padding([15,0,0,0]).value(function(e){return e.value}).nodes).enter().append("div").attr("class","node").style("background",function(e){return null!=e.children?"lightgrey":i(e.name)}).text(function(e){return e.name}).call(function(){this.style("left",function(e){return e.x+"px"}).style("top",function(e){return e.y+"px"}).style("width",function(e){return Math.max(0,e.dx-1)+"px"}).style("height",function(e){return Math.max(0,e.dy-1)+"px"})});return c}}})}).call(this)},{jquery:void 0}],15:[function(e,t,r){(function(){var n;n=function(n){return"object"==typeof r&&"object"==typeof t?n(function(){try{return e("jquery")}catch(t){return window.jQuery}}()):"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)};n(function(e){var t;t=function(t,r){return function(n,i){var a,o,s,l,u,c,f,d,p,h,v,g,m,y,b,w,x,_,k,C,E,S,T,D,j,P,N,M,L,A,O;d={localeStrings:{vs:"vs",by:"by"},gchart:{}};i=e.extend(!0,d,i);null==(o=i.gchart).width&&(o.width=window.innerWidth/1.4);null==(s=i.gchart).height&&(s.height=window.innerHeight/1.4);D=n.getRowKeys();0===D.length&&D.push([]);u=n.getColKeys();0===u.length&&u.push([]);p=n.aggregatorName;n.valAttrs.length&&(p+="("+n.valAttrs.join(", ")+")");m=function(){var e,t,r;r=[];for(e=0,t=D.length;t>e;e++){v=D[e];r.push(v.join("-"))}return r}();m.unshift("");_=0;if("ScatterChart"===t){c=[];C=n.tree;for(O in C){P=C[O];for(A in P){a=P[A];c.push([parseFloat(A),parseFloat(O),p+": \n"+a.format(a.value())])}}f=new google.visualization.DataTable;f.addColumn("number",n.colAttrs.join("-"));f.addColumn("number",n.rowAttrs.join("-"));f.addColumn({type:"string",role:"tooltip"});f.addRows(c);g=n.colAttrs.join("-");N=n.rowAttrs.join("-");j=""}else{c=[m];for(y=0,w=u.length;w>y;y++){l=u[y];S=[l.join("-")];_+=S[0].length;for(b=0,x=D.length;x>b;b++){T=D[b];a=n.getAggregator(T,l);if(null!=a.value()){M=a.value();e.isNumeric(M)?1>M?S.push(parseFloat(M.toPrecision(3))):S.push(parseFloat(M.toFixed(3))):S.push(M)}else S.push(null)}c.push(S)}f=google.visualization.arrayToDataTable(c);j=N=p;g=n.colAttrs.join("-");""!==g&&(j+=" "+i.localeStrings.vs+" "+g);h=n.rowAttrs.join("-");""!==h&&(j+=" "+i.localeStrings.by+" "+h)}k={title:j,hAxis:{title:g,slantedText:_>50},vAxis:{title:N},tooltip:{textStyle:{fontName:"Arial",fontSize:12}}};"ColumnChart"===t&&(k.vAxis.minValue=0);if("ScatterChart"===t){k.legend={position:"none"};k.chartArea={width:"80%",height:"80%"}}else 2===c[0].length&&""===c[0][1]&&(k.legend={position:"none"});e.extend(k,i.gchart,r);E=e("<div>").css({width:"100%",height:"100%"});L=new google.visualization.ChartWrapper({dataTable:f,chartType:t,options:k});L.draw(E[0]);E.bind("dblclick",function(){var e;e=new google.visualization.ChartEditor;google.visualization.events.addListener(e,"ok",function(){return e.getChartWrapper().draw(E[0])});return e.openDialog(L)});return E}};return e.pivotUtilities.gchart_renderers={"Line Chart":t("LineChart"),"Bar Chart":t("ColumnChart"),"Stacked Bar Chart":t("ColumnChart",{isStacked:!0}),"Area Chart":t("AreaChart",{isStacked:!0}),"Scatter Chart":t("ScatterChart")}})}).call(this)},{jquery:void 0}],16:[function(e,t,r){(function(e){"use strict";(function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof r?t.exports=n():e.store=n()})(this,function(){function t(){try{return o in i&&i[o]}catch(e){return!1}}var r,n={},i="undefined"!=typeof window?window:e,a=i.document,o="localStorage",s="script";n.disabled=!1;n.version="1.3.20";n.set=function(e,t){};n.get=function(e,t){};n.has=function(e){return void 0!==n.get(e)};n.remove=function(e){};n.clear=function(){};n.transact=function(e,t,r){if(null==r){r=t;t=null}null==t&&(t={});var i=n.get(e,t);r(i);n.set(e,i)};n.getAll=function(){};n.forEach=function(){};n.serialize=function(e){return JSON.stringify(e)};n.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}};if(t()){r=i[o];n.set=function(e,t){if(void 0===t)return n.remove(e);r.setItem(e,n.serialize(t));return t};n.get=function(e,t){var i=n.deserialize(r.getItem(e));return void 0===i?t:i};n.remove=function(e){r.removeItem(e)};n.clear=function(){r.clear()};n.getAll=function(){var e={};n.forEach(function(t,r){e[t]=r});return e};n.forEach=function(e){for(var t=0;t<r.length;t++){var i=r.key(t);e(i,n.get(i))}}}else if(a&&a.documentElement.addBehavior){var l,u;try{u=new ActiveXObject("htmlfile");u.open();u.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>');u.close();l=u.w.frames[0].document;r=l.createElement("div")}catch(c){r=a.createElement("div");l=a.body}var f=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(r);l.appendChild(r);r.addBehavior("#default#userData");r.load(o);var i=e.apply(n,t);l.removeChild(r);return i}},d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),p=function(e){return e.replace(/^d/,"___$&").replace(d,"___")};n.set=f(function(e,t,r){t=p(t);if(void 0===r)return n.remove(t);e.setAttribute(t,n.serialize(r));e.save(o);return r});n.get=f(function(e,t,r){t=p(t);var i=n.deserialize(e.getAttribute(t));return void 0===i?r:i});n.remove=f(function(e,t){t=p(t);e.removeAttribute(t);e.save(o)});n.clear=f(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(o);for(var r=t.length-1;r>=0;r--)e.removeAttribute(t[r].name);e.save(o)});n.getAll=function(e){var t={};n.forEach(function(e,r){t[e]=r});return t};n.forEach=f(function(e,t){for(var r,i=e.XMLDocument.documentElement.attributes,a=0;r=i[a];++a)t(r.name,n.deserialize(e.getAttribute(r.name)))})}try{var h="__storejs__";n.set(h,h);n.get(h)!=h&&(n.disabled=!0);n.remove(h)}catch(c){n.disabled=!0}n.enabled=!n.disabled;return n})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t,r){t.exports={name:"yasgui-utils",version:"1.6.0",description:"Utils for YASGUI libs",main:"src/main.js",repository:{type:"git",url:"git://github.com/YASGUI/Utils.git"},licenses:[{type:"MIT",url:"http://yasgui.github.io/license.txt"}],author:{name:"Laurens Rietveld"},maintainers:[{name:"laurens.rietveld",email:"laurens.rietveld@gmail.com"}],bugs:{url:"https://github.com/YASGUI/Utils/issues"},homepage:"https://github.com/YASGUI/Utils",dependencies:{store:"^1.3.14"},_id:"yasgui-utils@1.6.0",dist:{shasum:"bcb9091109c233e3e82737c94c202e6512389c47",tarball:"http://registry.npmjs.org/yasgui-utils/-/yasgui-utils-1.6.0.tgz"},_from:"yasgui-utils@^1.4.1",_npmVersion:"1.4.3",_npmUser:{name:"laurens.rietveld",email:"laurens.rietveld@gmail.com"},directories:{},_shasum:"bcb9091109c233e3e82737c94c202e6512389c47",_resolved:"https://registry.npmjs.org/yasgui-utils/-/yasgui-utils-1.6.0.tgz",readme:"ERROR: No README data found!"}},{}],18:[function(e,t,r){window.console=window.console||{log:function(){}};t.exports={storage:e("./storage.js"),svg:e("./svg.js"),version:{"yasgui-utils":e("../package.json").version},nestedExists:function(e){for(var t=Array.prototype.slice.call(arguments,1),r=0;r<t.length;r++){if(!e||!e.hasOwnProperty(t[r]))return!1;e=e[t[r]]}return!0}}},{"../package.json":17,"./storage.js":19,"./svg.js":20}],19:[function(e,t,r){var n=e("store"),i={day:function(){return 864e5},month:function(){30*i.day()},year:function(){12*i.month()}},a=t.exports={set:function(e,t,r){if(n.enabled&&e&&void 0!==t){"string"==typeof r&&(r=i[r]());t.documentElement&&(t=(new XMLSerializer).serializeToString(t.documentElement));n.set(e,{val:t,exp:r,time:(new Date).getTime()})}},remove:function(e){n.enabled&&e&&n.remove(e)},removeAll:function(e){if(n.enabled&&"function"==typeof e)for(var t in n.getAll())e(t,a.get(t))&&a.remove(t)},get:function(e){if(!n.enabled)return null;if(e){var t=n.get(e);return t?t.exp&&(new Date).getTime()-t.time>t.exp?null:t.val:null}return null}}},{store:16}],20:[function(e,t,r){t.exports={draw:function(e,r){if(e){var n=t.exports.getElement(r);n&&(e.append?e.append(n):e.appendChild(n))}},getElement:function(e){if(e&&0==e.indexOf("<svg")){var t=new DOMParser,r=t.parseFromString(e,"text/xml"),n=r.documentElement,i=document.createElement("div");i.className="svgImg";i.appendChild(n);return i}return!1}}},{}],21:[function(e,t,r){t.exports={name:"yasgui-yasr",description:"Yet Another SPARQL Resultset GUI",version:"2.4.12",main:"src/main.js",licenses:[{type:"MIT",url:"http://yasr.yasgui.org/license.txt"}],author:"Laurens Rietveld",homepage:"http://yasr.yasgui.org",devDependencies:{browserify:"^6.1.0",gulp:"~3.6.0","gulp-bump":"^0.1.11","gulp-concat":"^2.4.1","gulp-connect":"^2.0.5","gulp-embedlr":"^0.5.2","gulp-filter":"^1.0.2","gulp-git":"^0.5.2","gulp-jsvalidate":"^0.2.0","gulp-livereload":"^1.3.1","gulp-minify-css":"0.3.11","gulp-notify":"^2.0.1","gulp-rename":"^1.2.0","gulp-streamify":"0.0.5","gulp-tag-version":"^1.1.0","gulp-uglify":"^1.0.1","require-dir":"^0.1.0","run-sequence":"^1.0.1","vinyl-buffer":"^1.0.0","vinyl-source-stream":"~0.1.1",watchify:"^0.6.4","gulp-sourcemaps":"^1.2.8",exorcist:"^0.1.6","vinyl-transform":"0.0.1","gulp-sass":"^1.2.2","bootstrap-sass":"^3.3.1","browserify-transform-tools":"^1.2.1","gulp-cssimport":"^1.3.1","gulp-html-replace":"^1.4.1","browserify-shim":"^3.8.1"},bugs:"https://github.com/YASGUI/YASR/issues/",keywords:["JavaScript","SPARQL","Editor","Semantic Web","Linked Data"],maintainers:[{name:"Laurens Rietveld",email:"laurens.rietveld@gmail.com",web:"http://laurensrietveld.nl"}],repository:{type:"git",url:"https://github.com/YASGUI/YASR.git"},dependencies:{jquery:"1.11.0",codemirror:"^4.7.0","yasgui-utils":"^1.4.1",pivottable:"^1.2.2","jquery-ui":"^1.10.5",d3:"^3.4.13",cytoscape:"^2.3.11",lodash:"^3.6.0"},"browserify-shim":{google:"global:google"},browserify:{transform:["browserify-shim"]},optionalShim:{codemirror:{require:"codemirror",global:"CodeMirror"},jquery:{require:"jquery",global:"jQuery"},"../../lib/codemirror":{require:"codemirror",global:"CodeMirror"},"../lib/DataTables/media/js/jquery.dataTables.js":{require:"datatables",global:"jQuery"},datatables:{require:"datatables",global:"jQuery"},d3:{require:"d3",global:"d3"},"jquery-ui/sortable":{require:"jquery-ui/sortable",global:"jQuery"},pivottable:{require:"pivottable",global:"jQuery"}}}},{}],22:[function(e,t,r){"use strict";t.exports=function(e){var t='"',r=",",n="\n",i=e.head.vars,a=e.results.bindings,o=function(){for(var e=0;e<i.length;e++)u(i[e]);f+=n},s=function(){for(var e=0;e<a.length;e++){l(a[e]);f+=n}},l=function(e){for(var t=0;t<i.length;t++){var r=i[t];u(e.hasOwnProperty(r)?e[r].value:"")}},u=function(e){e.replace(t,t+t);c(e)&&(e=t+e+t);f+=" "+e+" "+r},c=function(e){var n=!1;e.match("[\\w|"+r+"|"+t+"]")&&(n=!0);return n},f="";o();s();return f}},{}],23:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=t.exports=function(t){var r=n("<div class='booleanResult'></div>"),i=function(){r.empty().appendTo(t.resultsContainer);var i=t.results.getBoolean(),a=null,o=null;if(i===!0){a="check";o="True"}else if(i===!1){a="cross";o="False"}else{r.width("140");o="Could not find boolean value in response"}a&&e("yasgui-utils").svg.draw(r,e("./imgs.js")[a]);n("<span></span>").text(o).appendTo(r)},a=function(){return t.results.getBoolean&&(t.results.getBoolean()===!0||0==t.results.getBoolean())};return{name:null,draw:i,hideFromSelection:!0,getPriority:1,canHandleResults:a}};i.version={"YASR-boolean":e("../package.json").version,jquery:n.fn.jquery}},{"../package.json":21,"./imgs.js":31,jquery:void 0,"yasgui-utils":18}],24:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();t.exports={output:"table",useGoogleCharts:!0,outputPlugins:["table","error","boolean","rawResponse"],drawOutputSelector:!0,drawDownloadIcon:!0,getUsedPrefixes:null,persistency:{prefix:function(e){return"yasr_"+n(e.container).closest("[id]").attr("id")+"_"},outputSelector:function(e){return"selector"},results:{id:function(e){return"results_"+n(e.container).closest("[id]").attr("id")},key:"results",maxSize:1e5}}}},{jquery:void 0}],25:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=t.exports=function(e){var t=n("<div class='errorResult'></div>"),r=n.extend(!0,{},i.defaults),a=function(){var e=null;if(r.tryQueryLink){var t=r.tryQueryLink();e=n("<button>",{"class":"yasr_btn yasr_tryQuery"}).text("Try query in new browser window").click(function(){window.open(t,"_blank");n(this).blur()})}return e},o=function(){var i=e.results.getException();t.empty().appendTo(e.resultsContainer);var o=n("<div>",{"class":"errorHeader"}).appendTo(t);if(0!==i.status){var s="Error";i.statusText&&i.statusText.length<100&&(s=i.statusText);s+=" (#"+i.status+")";o.append(n("<span>",{"class":"exception"}).text(s)).append(a());var l=null;i.responseText?l=i.responseText:"string"==typeof i&&(l=i);l&&t.append(n("<pre>").text(l))}else{o.append(a());t.append(n("<div>",{"class":"corsMessage"}).append(r.corsMessage))}},s=function(e){return e.results.getException()||!1};return{name:null,draw:o,getPriority:20,hideFromSelection:!0,canHandleResults:s}};i.defaults={corsMessage:"Unable to get response from endpoint",tryQueryLink:null}},{jquery:void 0}],26:[function(e,t,r){t.exports={GoogleTypeException:function(e,t){this.foundTypes=e;this.varName=t;this.toString=function(){var e="Conflicting data types found for variable "+this.varName+'. Assuming all values of this variable are "string".';e+=" To avoid this issue, cast the values in your SPARQL query to the intended xsd datatype";return e};this.toHtml=function(){var e="Conflicting data types found for variable <i>"+this.varName+'</i>. Assuming all values of this variable are "string".';e+=" As a result, several Google Charts will not render values of this particular variable.";e+=" To avoid this issue, cast the values in your SPARQL query to the intended xsd datatype";return e}}}},{}],27:[function(e,t,r){"use strict";t.exports={selectSaveAsDropDown:'<div class="saveAsDropDown btn-group"><button class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown" type="button">Download as &nbsp;<span class="fa fa-caret-right"></span></button><ul class="dropdown-menu" role="menu"><li><a class="format" data-accepts="application/sparql-results+json" href="#">JSON</a></li><li><a class="format" data-accepts="application/sparql-results+xml" href="#">XML</a></li><li><a class="format" data-accepts="text/csv" href="#">CSV</a></li><li><a class="format" data-accepts="text/tab-separated-values" href="#">TSV</a></li><li><a class="format" data-accepts="application/x-binary-rdf-results-table" href="#">Binary RDF Results</a></li></ul></div>',
graphSaveAsDropDown:'<div class="saveAsDropDown btn-group"><button class="btn btn-primary btn-sm dropdown-toggle" data-toggle="dropdown" type="button">Download as &nbsp;<span class="fa fa-caret-right"></span></button><ul class="dropdown-menu" role="menu"><li><a class="format" data-accepts="application/rdf+json" href="#">JSON</a></li><li><a class="format" data-accepts="application/ld+json" href="#">JSON-LD</a></li><li><a class="format" data-accepts="application/rdf+xml" href="#">RDF-XML</a></li><li><a class="format" data-accepts="text/rdf+n3" href="#">N3</a></li><li><a class="format" data-accepts="text/plain" href="#">N-Triples</a></li><li><a class="format" data-accepts="text/x-nquads" href="#">N-Quads</a></li><li><a class="format" data-accepts="text/turtle" href="#">Turtle</a></li><li><a class="format" data-accepts="application/trix" href="#">TriX</a></li><li><a class="format" data-accepts="application/x-trig" href="#">TriG</a></li><li><a class="format" data-accepts="application/x-binary-rdf" href="#">Binary RDF</a></li></ul></div>'}},{}],28:[function(e,t,r){(function(r){var n=e("events").EventEmitter,i=(function(){try{return e("jquery")}catch(t){return window.jQuery}}(),!1),a=!1,o=function(){n.call(this);var e=this;this.init=function(){if(a||("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null)||i)("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null)?e.emit("initDone"):a&&e.emit("initError");else{i=!0;s("http://google.com/jsapi",function(){i=!1;e.emit("initDone")});var t=100,n=6e3,o=+new Date,l=function(){if(!("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null))if(+new Date-o>n){a=!0;i=!1;e.emit("initError")}else setTimeout(l,t)};l()}};this.googleLoad=function(){var t=function(){("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null).load("visualization","1",{packages:["corechart","charteditor"],callback:function(){e.emit("done")}})};if(i){e.once("initDone",t);e.once("initError",function(){e.emit("error","Could not load google loader")})}else if("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null)t();else if(a)e.emit("error","Could not load google loader");else{e.once("initDone",t);e.once("initError",function(){e.emit("error","Could not load google loader")})}}},s=function(e,t){var r=document.createElement("script");r.type="text/javascript";r.readyState?r.onreadystatechange=function(){if("loaded"==r.readyState||"complete"==r.readyState){r.onreadystatechange=null;t()}}:r.onload=function(){t()};r.src=e;document.body.appendChild(r)};o.prototype=new n;t.exports=new o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{events:4,jquery:void 0}],29:[function(e,t,r){(function(r){"use strict";function n(e,t,r){function n(e,t,a){var l,u,c,f,d,p,h,v;if(null==e||null==t)return e===t;if(e.__placeholder__||t.__placeholder__)return!0;if(e===t)return 0!==e||1/e==1/t;l=i.call(e);if(i.call(t)!=l)return!1;switch(l){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;u=a.length;for(;u--;)if(a[u]==e)return!0;a.push(e);c=0;f=!0;if("[object Array]"==l){d=e.length;p=t.length;if(s){switch(r){case"===":f=d===p;break;case"<==":f=p>=d;break;case"<<=":f=p>d}c=d;s=!1}else{f=d===p;c=d}if(f)for(;c--&&(f=c in e==c in t&&n(e[c],t[c],a)););}else{if("constructor"in e!="constructor"in t||e.constructor!=t.constructor)return!1;for(h in e)if(o(e,h)){c++;if(!(f=o(t,h)&&n(e[h],t[h],a)))break}if(f){v=0;for(h in t)o(t,h)&&++v;if(s)f="<<="===r?v>c:"<=="===r?v>=c:c===v;else{s=!1;f=c===v}}}a.pop();return f}var i={}.toString,a={}.hasOwnProperty,o=function(e,t){return a.call(e,t)},s=!0;return n(e,t,[])}var i=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),a=e("./utils.js"),o=e("yasgui-utils"),s=t.exports=function(t){var l=i.extend(!0,{},s.defaults),u=t.container.closest("[id]").attr("id");null==t.options.gchart&&(t.options.gchart={});var c=t.getPersistencyId("motionchart"),f=t.getPersistencyId("chartConfig");null==t.options.gchart.motionChartState&&(t.options.gchart.motionChartState=o.storage.get(c));null==t.options.gchart.chartConfig&&(t.options.gchart.chartConfig=o.storage.get(f));var d=null,p=function(e){var i="undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null;d=new i.visualization.ChartEditor;i.visualization.events.addListener(d,"ok",function(){var e,r;e=d.getChartWrapper();if(!n(e.getChartType,"MotionChart","===")){t.options.gchart.motionChartState=e.n;o.storage.set(c,t.options.gchart.motionChartState);e.setOption("state",t.options.gchart.motionChartState);i.visualization.events.addListener(e,"ready",function(){var r;r=e.getChart();i.visualization.events.addListener(r,"statechange",function(){t.options.gchart.motionChartState=r.getState();o.storage.set(c,t.options.gchart.motionChartState)})})}r=e.getDataTable();e.setDataTable(null);t.options.gchart.chartConfig=e.toJSON();o.storage.set(f,t.options.gchart.chartConfig);e.setDataTable(r);e.setOption("width",l.width);e.setOption("height",l.height);e.draw();t.updateHeader()});e&&e()};return{name:"Google Chart",hideFromSelection:!1,priority:7,canHandleResults:function(e){var t,r;return null!=(t=e.results)&&(r=t.getVariables())&&r.length>0},getDownloadInfo:function(){if(!t.results)return null;var e=t.resultsContainer.find("svg");if(e.length>0)return{getContent:function(){return e[0].outerHTML?e[0].outerHTML:i("<div>").append(e.clone()).html()},filename:"queryResults.svg",contentType:"image/svg+xml",buttonTitle:"Download SVG Image"};var r=t.resultsContainer.find(".google-visualization-table-table");return r.length>0?{getContent:function(){return r.tableToCsv()},filename:"queryResults.csv",contentType:"text/csv",buttonTitle:"Download as CSV"}:void 0},getEmbedHtml:function(){if(!t.results)return null;var e=t.resultsContainer.find("svg").clone().removeAttr("height").removeAttr("width").css("height","").css("width","");if(0==e.length)return null;var r=e[0].outerHTML;r||(r=i("<div>").append(e.clone()).html());return'<div style="width: 800px; height: 600px;">\n'+r+"\n</div>"},draw:function(){var n=function(){t.resultsContainer.empty();if(t.options.output==s.defaults.persistencyId){var r=u+"_gchartWrapper",n=null;t.resultsContainer.append(i("<button>",{"class":"openGchartBtn yasr_btn"}).text("Chart Config").click(function(){d.openDialog(n)})).append(i("<div>",{id:r,"class":"gchartWrapper"}));var f=new google.visualization.DataTable,p=t.results.getAsJson();p.head.vars.forEach(function(r){var n="string";try{n=a.getGoogleTypeForBindings(p.results.bindings,r)}catch(i){if(!(i instanceof e("./exceptions.js").GoogleTypeException))throw i;t.warn(i.toHtml())}f.addColumn(n,r)});var h=null;t.options.getUsedPrefixes&&(h="function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes);p.results.bindings.forEach(function(e){var t=[];p.head.vars.forEach(function(r,n){t.push(a.castGoogleType(e[r],h,f.getColumnType(n)))});f.addRow(t)});if(t.options.gchart.chartConfig){n=new google.visualization.ChartWrapper(t.options.gchart.chartConfig);if("MotionChart"===n.getChartType()&&null!=t.options.gchart.motionChartState){n.setOption("state",t.options.gchart.motionChartState);google.visualization.events.addListener(n,"ready",function(){var e;e=n.getChart();google.visualization.events.addListener(e,"statechange",function(){t.options.gchart.motionChartState=e.getState();o.storage.set(c,t.options.gchart.motionChartState)})})}n.setDataTable(f)}else n=new google.visualization.ChartWrapper({chartType:"Table",dataTable:f,containerId:r});n.setOption("width",l.width);n.setOption("height",l.height);n.draw();t.updateHeader()}};("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null)&&("undefined"!=typeof window?window.google:"undefined"!=typeof r?r.google:null).visualization&&d?n():e("./gChartLoader.js").on("done",function(){p();n()}).on("error",function(){console.log("errorrr")}).googleLoad()}}};s.defaults={height:"600px",width:"100%",persistencyId:"gchart"}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./exceptions.js":26,"./gChartLoader.js":28,"./utils.js":45,jquery:void 0,"yasgui-utils":18}],30:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=e("./utils.js"),a=e("lodash");e("cytoscape");(function(){try{return e("datatables")}catch(t){return window.jQuery}})();t.exports=function(t){var r={graphJson:e("./parsers/graphJson.js")},o=function(){return t.options.getUsedPrefixes?a.invert("function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes):null}(),s=function(e){if(o){var t=i.uriToPrefixWithLocalName(o,e);if(t)return t.prefix+":"+t.localName}return e},l=function(e,t){return{data:{id:t.toString(),name:s(e),uri:e,size:70}}},u=function(e){var r=n('<table cellpadding="0" cellspacing="0" border="0" class="dataPropsTable table table-striped table-bordered fixedCellWidth"></table>');t.resultsContainer.find("table").remove();t.resultsContainer.find(".graph-info").append(r);var i=a.map(e,function(e){return{property:s(e.predicate.value),value:s(e.object.value)}});r.DataTable({data:i,columns:[{data:"property"},{data:"value"}],paging:!1,ordering:!1,searching:!1,info:!1});r.find("th").hide()},c=function(e,t){var r=20,n=50,s={},c={};e=a.sortBy(e,function(e){return"uri"==e.subject.type?0:1});var d=a.uniq(a.flatten(a.map(e,function(e){return"literal"!=e.object.type?[e.subject.value,e.object.value]:[e.subject.value]}))),p=a.filter(e,function(e){return"literal"!=e.object.type}).length,h=d.length,v=a.slice(d,0,r);c.nodes=a.map(v,function(e,t){s[e]=t.toString();return l(e,t)});if(t){var g=a.filter(e,function(e){return"literal"==e.object.type});u(g)}var m=a.slice(a.filter(e,function(e){return s[e.subject.value]&&s[e.object.value]}),0,n);c.edges=a.map(m,function(e,t){var r=s[e.subject.value],n=s[e.object.value],a=i.uriToPrefixWithLocalName(o,e.predicate.value),l=a?a.prefix+":"+a.localName:e.predicate.value;return{data:{id:"e"+t.toString(),name:l,source:r,target:n}}});f(c.nodes.length,h,c.edges.length,p);return c},f=function(e,r,n,i){t.resultsContainer.find(".graph-info-title").text(e+" of "+r+" nodes, "+n+" of "+i+" edges.")},d=function(){t.resultsContainer.empty();t.resultsContainer.append('<div class="graph-info-title"></div><div class="graph-info"></div><div id="cy"></div>');var e=c(t.results.getAsJson().results.bindings),i=cytoscape({container:document.getElementById("cy"),style:cytoscape.stylesheet().selector("node").css({content:"data(name)","text-valign":"center",color:"white","text-outline-width":2,"text-outline-color":"#888",width:"data(size)",height:"data(size)"}).selector("edge").css({"target-arrow-shape":"triangle",width:"mapData(weight, 0, 10, 3, 9)","line-color":"#ddd","target-arrow-color":"#ddd",content:"data(name)","text-opacity":1,"text-valign":"center",color:"black"}).selector(".from").css({"background-color":"#f04e23"}).selector(".to").css({"background-color":"#018ae1"}),elements:{nodes:e.nodes,edges:e.edges},layout:{name:"circle",padding:10},boxSelectionEnabled:!0}),a=function(e,a){var o={query:"describe <"+e+"> limit 1000",infer:!!t.currentQuery.inference};t.currentQuery.sameAs&&(o["default-graph-uri"]="http://www.ontotext.com/disable-sameAs");var s="repositories/"+backendRepositoryID;n.ajax({url:s,type:"POST",data:o,headers:{Accept:"application/rdf+json"}}).done(function(e){var t=c(r.graphJson(e).results.bindings,!0);i.load(t,a)}).fail(function(t,r,n){console.log("Cannot browse entity: "+e+"; "+t.responseText)})};i.on("tap","node",function(e){var t=e.cyTarget,r=t.data().uri;a(r,function(){var e=i.nodes("[uri='"+r+"']");i.nodes().addClass("to");e.removeClass("to").addClass("from")})})},p=function(){return"CONSTRUCT"==window.editor.getQueryType()||"DESCRIBE"==window.editor.getQueryType()};return{name:"Graph(beta)",draw:d,getPriority:20,hideFromSelection:!1,canHandleResults:p}}},{"./parsers/graphJson.js":37,"./utils.js":45,cytoscape:12,datatables:void 0,jquery:void 0,lodash:13}],31:[function(e,t,r){"use strict";t.exports={cross:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="30px" height="30px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g>	<path d="M83.288,88.13c-2.114,2.112-5.575,2.112-7.689,0L53.659,66.188c-2.114-2.112-5.573-2.112-7.687,0L24.251,87.907   c-2.113,2.114-5.571,2.114-7.686,0l-4.693-4.691c-2.114-2.114-2.114-5.573,0-7.688l21.719-21.721c2.113-2.114,2.113-5.573,0-7.686   L11.872,24.4c-2.114-2.113-2.114-5.571,0-7.686l4.842-4.842c2.113-2.114,5.571-2.114,7.686,0L46.12,33.591   c2.114,2.114,5.572,2.114,7.688,0l21.721-21.719c2.114-2.114,5.573-2.114,7.687,0l4.695,4.695c2.111,2.113,2.111,5.571-0.003,7.686   L66.188,45.973c-2.112,2.114-2.112,5.573,0,7.686L88.13,75.602c2.112,2.111,2.112,5.572,0,7.687L83.288,88.13z"/></g></svg>',check:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="30px" height="30px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><path fill="#000000" d="M14.301,49.982l22.606,17.047L84.361,4.903c2.614-3.733,7.76-4.64,11.493-2.026l0.627,0.462  c3.732,2.614,4.64,7.758,2.025,11.492l-51.783,79.77c-1.955,2.791-3.896,3.762-7.301,3.988c-3.405,0.225-5.464-1.039-7.508-3.084  L2.447,61.814c-3.263-3.262-3.263-8.553,0-11.814l0.041-0.019C5.75,46.718,11.039,46.718,14.301,49.982z"/></svg>',unsorted:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,-0.70898699,-0.70898699,0.70522156,97.988199,55.081205)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path7-9"     d="m 8.8748339,52.571766 16.9382111,-0.222584 4.050851,-0.06665 15.719154,-0.222166 0.27778,-0.04246 0.43276,0.0017 0.41632,-0.06121 0.37532,-0.0611 0.47132,-0.119342 0.27767,-0.08206 0.55244,-0.198047 0.19707,-0.08043 0.61095,-0.259721 0.0988,-0.05825 0.019,-0.01914 0.59303,-0.356548 0.11787,-0.0788 0.49125,-0.337892 0.17994,-0.139779 0.37317,-0.336871 0.21862,-0.219786 0.31311,-0.31479 0.21993,-0.259387 c 0.92402,-1.126057 1.55249,-2.512251 1.78961,-4.016904 l 0.0573,-0.25754 0.0195,-0.374113 0.0179,-0.454719 0.0175,-0.05874 -0.0169,-0.258049 -0.0225,-0.493503 -0.0398,-0.355569 -0.0619,-0.414201 -0.098,-0.414812 -0.083,-0.353334 L 53.23955,41.1484 53.14185,40.850967 52.93977,40.377742 52.84157,40.161628 34.38021,4.2507375 C 33.211567,1.9401875 31.035446,0.48226552 28.639484,0.11316952 l -0.01843,-0.01834 -0.671963,-0.07882 -0.236871,0.0042 L 27.335984,-4.7826577e-7 27.220736,0.00379952 l -0.398804,0.0025 -0.313848,0.04043 -0.594474,0.07724 -0.09611,0.02147 C 23.424549,0.60716252 21.216017,2.1142355 20.013025,4.4296865 L 0.93967491,40.894479 c -2.08310801,3.997178 -0.588125,8.835482 3.35080799,10.819749 1.165535,0.613495 2.43199,0.88731 3.675026,0.864202 l 0.49845,-0.02325 0.410875,0.01658 z M 9.1502369,43.934401 9.0136999,43.910011 27.164145,9.2564625 44.70942,43.42818 l -14.765289,0.214677 -4.031106,0.0468 -16.7627881,0.244744 z" /></svg>',sortDesc:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,-0.70898699,-0.70898699,0.70522156,97.988199,55.081205)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path9"     d="m 27.813273,0.12823506 0.09753,0.02006 c 2.39093,0.458209 4.599455,1.96811104 5.80244,4.28639004 L 52.785897,40.894525 c 2.088044,4.002139 0.590949,8.836902 -3.348692,10.821875 -1.329078,0.688721 -2.766603,0.943695 -4.133174,0.841768 l -0.454018,0.02 L 27.910392,52.354171 23.855313,52.281851 8.14393,52.061827 7.862608,52.021477 7.429856,52.021738 7.014241,51.959818 6.638216,51.900838 6.164776,51.779369 5.889216,51.699439 5.338907,51.500691 5.139719,51.419551 4.545064,51.145023 4.430618,51.105123 4.410168,51.084563 3.817138,50.730843 3.693615,50.647783 3.207314,50.310611 3.028071,50.174369 2.652795,49.833957 2.433471,49.613462 2.140099,49.318523 1.901127,49.041407 C 0.97781,47.916059 0.347935,46.528448 0.11153,45.021676 L 0.05352,44.766255 0.05172,44.371683 0.01894,43.936017 0,43.877277 0.01836,43.62206 0.03666,43.122889 0.0765,42.765905 0.13912,42.352413 0.23568,41.940425 0.32288,41.588517 0.481021,41.151945 0.579391,40.853806 0.77369,40.381268 0.876097,40.162336 19.338869,4.2542801 c 1.172169,-2.308419 3.34759,-3.76846504 5.740829,-4.17716604 l 0.01975,0.01985 0.69605,-0.09573 0.218437,0.0225 0.490791,-0.02132 0.39809,0.0046 0.315972,0.03973 0.594462,0.08149 z" /></svg>',sortAsc:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="0 0 54.552711 113.78478"   enable-background="new 0 0 100 100"   xml:space="preserve"><g     id="g5"     transform="matrix(-0.70522156,0.70898699,-0.70898699,-0.70522156,97.988199,58.704807)"><path       style="fill:#000000"       inkscape:connector-curvature="0"       id="path7"       d="M 57.911,66.915 45.808,55.063 42.904,52.238 31.661,41.25 31.435,41.083 31.131,40.775 30.794,40.523 30.486,40.3 30.069,40.05 29.815,39.911 29.285,39.659 29.089,39.576 28.474,39.326 28.363,39.297 H 28.336 L 27.665,39.128 27.526,39.1 26.94,38.99 26.714,38.961 26.212,38.934 h -0.31 -0.444 l -0.339,0.027 c -1.45,0.139 -2.876,0.671 -4.11,1.564 l -0.223,0.141 -0.279,0.25 -0.335,0.308 -0.054,0.029 -0.171,0.194 -0.334,0.364 -0.224,0.279 -0.25,0.336 -0.225,0.362 -0.192,0.308 -0.197,0.421 -0.142,0.279 -0.193,0.477 -0.084,0.222 -12.441,38.414 c -0.814,2.458 -0.313,5.029 1.115,6.988 v 0.026 l 0.418,0.532 0.17,0.165 0.251,0.281 0.084,0.079 0.283,0.281 0.25,0.194 0.474,0.367 0.083,0.053 c 2.015,1.371 4.641,1.874 7.131,1.094 L 55.228,80.776 c 4.303,-1.342 6.679,-5.814 5.308,-10.006 -0.387,-1.259 -1.086,-2.35 -1.979,-3.215 l -0.368,-0.337 -0.278,-0.303 z m -6.318,5.896 0.079,0.114 -37.369,11.57 11.854,-36.538 10.565,10.317 2.876,2.825 11.995,11.712 z" /></g><path     style="fill:#000000"     inkscape:connector-curvature="0"     id="path9"     d="m 27.813273,113.65778 0.09753,-0.0201 c 2.39093,-0.45821 4.599455,-1.96811 5.80244,-4.28639 L 52.785897,72.891487 c 2.088044,-4.002139 0.590949,-8.836902 -3.348692,-10.821875 -1.329078,-0.688721 -2.766603,-0.943695 -4.133174,-0.841768 l -0.454018,-0.02 -16.939621,0.223997 -4.055079,0.07232 -15.711383,0.220024 -0.281322,0.04035 -0.432752,-2.61e-4 -0.415615,0.06192 -0.376025,0.05898 -0.47344,0.121469 -0.27556,0.07993 -0.550309,0.198748 -0.199188,0.08114 -0.594655,0.274528 -0.114446,0.0399 -0.02045,0.02056 -0.59303,0.35372 -0.123523,0.08306 -0.486301,0.337172 -0.179243,0.136242 -0.375276,0.340412 -0.219324,0.220495 -0.293372,0.294939 -0.238972,0.277116 C 0.97781,65.869953 0.347935,67.257564 0.11153,68.764336 L 0.05352,69.019757 0.05172,69.414329 0.01894,69.849995 0,69.908735 l 0.01836,0.255217 0.0183,0.499171 0.03984,0.356984 0.06262,0.413492 0.09656,0.411988 0.0872,0.351908 0.158141,0.436572 0.09837,0.298139 0.194299,0.472538 0.102407,0.218932 18.462772,35.908054 c 1.172169,2.30842 3.34759,3.76847 5.740829,4.17717 l 0.01975,-0.0199 0.69605,0.0957 0.218437,-0.0225 0.490791,0.0213 0.39809,-0.005 0.315972,-0.0397 0.594462,-0.0815 z" /></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" baseProfile="tiny" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 100 100" xml:space="preserve"><g id="Captions"></g><g id="Your_Icon">	<path fill-rule="evenodd" fill="#000000" d="M88,84v-2c0-2.961-0.859-4-4-4H16c-2.961,0-4,0.98-4,4v2c0,3.102,1.039,4,4,4h68   C87.02,88,88,87.039,88,84z M58,12H42c-5,0-6,0.941-6,6v22H16l34,34l34-34H64V18C64,12.941,62.939,12,58,12z"/></g></svg>',move:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"   id="Layer_1"   x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_11656_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="753"     inkscape:window-height="480"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="287"     inkscape:window-y="249"     inkscape:window-maximized="0"     inkscape:current-layer="Layer_1" /><polygon     points="33,83 50,100 67,83 54,83 54,17 67,17 50,0 33,17 46,17 46,83 "          transform="translate(-7.962963,-10)" /><polygon     points="83,67 100,50 83,33 83,46 17,46 17,33 0,50 17,67 17,54 83,54 "          transform="translate(-7.962963,-10)" /></svg>',fullscreen:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"      x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_2186_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="640"     inkscape:window-height="480"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="0"     inkscape:current-layer="Layer_1" /><path     d="m -7.962963,-10 v 38.889 l 16.667,-16.667 16.667,16.667 5.555,-5.555 -16.667,-16.667 16.667,-16.667 h -38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 92.037037,-10 v 38.889 l -16.667,-16.667 -16.666,16.667 -5.556,-5.555 16.666,-16.667 -16.666,-16.667 h 38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="M -7.962963,90 V 51.111 l 16.667,16.666 16.667,-16.666 5.555,5.556 -16.667,16.666 16.667,16.667 h -38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="M 92.037037,90 V 51.111 l -16.667,16.666 -16.666,-16.666 -5.556,5.556 16.666,16.666 -16.666,16.667 h 38.889 z"          inkscape:connector-curvature="0"     style="fill:#010101" /></svg>',smallscreen:'<svg   xmlns:dc="http://purl.org/dc/elements/1.1/"   xmlns:cc="http://creativecommons.org/ns#"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"   xmlns:svg="http://www.w3.org/2000/svg"   xmlns="http://www.w3.org/2000/svg"   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"   version="1.1"      x="0px"   y="0px"   width="100%"   height="100%"   viewBox="5 -10 74.074074 100"   enable-background="new 0 0 100 100"   xml:space="preserve"   inkscape:version="0.48.4 r9939"   sodipodi:docname="noun_2186_cc.svg"><metadata     ><rdf:RDF><cc:Work         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs      /><sodipodi:namedview     pagecolor="#ffffff"     bordercolor="#666666"     borderopacity="1"     objecttolerance="10"     gridtolerance="10"     guidetolerance="10"     inkscape:pageopacity="0"     inkscape:pageshadow="2"     inkscape:window-width="1855"     inkscape:window-height="1056"          showgrid="false"     fit-margin-top="0"     fit-margin-left="0"     fit-margin-right="0"     fit-margin-bottom="0"     inkscape:zoom="2.36"     inkscape:cx="44.101509"     inkscape:cy="31.481481"     inkscape:window-x="65"     inkscape:window-y="24"     inkscape:window-maximized="1"     inkscape:current-layer="Layer_1" /><path     d="m 30.926037,28.889 0,-38.889 -16.667,16.667 -16.667,-16.667 -5.555,5.555 16.667,16.667 -16.667,16.667 38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 53.148037,28.889 0,-38.889 16.667,16.667 16.666,-16.667 5.556,5.555 -16.666,16.667 16.666,16.667 -38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 30.926037,51.111 0,38.889 -16.667,-16.666 -16.667,16.666 -5.555,-5.556 16.667,-16.666 -16.667,-16.667 38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /><path     d="m 53.148037,51.111 0,38.889 16.667,-16.666 16.666,16.666 5.556,-5.556 -16.666,-16.666 16.666,-16.667 -38.889,0 z"          inkscape:connector-curvature="0"     style="fill:#010101" /></svg>'}},{}],32:[function(e,t,r){e("./tableToCsv.js")},{"./tableToCsv.js":33}],33:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();n.fn.tableToCsv=function(e){var t="";e=n.extend({quote:'"',delimiter:",",lineBreak:"\n"},e);var r=function(t){var r=!1;t.match("[\\w|"+e.delimiter+"|"+e.quote+"]")&&(r=!0);return r},i=function(n){n.replace(e.quote,e.quote+e.quote);r(n)&&(n=e.quote+n+e.quote);t+=" "+n+" "+e.delimiter},a=function(r){r.forEach(function(e){i(e)});t+=e.lineBreak},o=n(this),s={},l=0;o.find("tr:first *").each(function(){n(this).attr("colspan")?l+=+n(this).attr("colspan"):l++});o.find("tr").each(function(e,t){for(var r=n(t),i=[],o=0,u=0;l>u+o;u++)if(s[u]){i.push(s[u].text);s[u].rowSpan--;s[u].rowSpan||delete s[u]}else{var c=r.find(":nth-child("+(u+1)+")");console.log(c);var f=c.attr("colspan"),d=c.attr("rowspan");if(f&&!isNaN(f)){for(var p=0;f>p;p++)i.push(c.text());o+=f-1}else if(d&&!isNaN(d)){s[u+o]={rowSpan:d-1,text:c.text()};i.push(c.text());o++}else i.push(c.text())}a(i)});return t}},{jquery:void 0}],34:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=e("yasgui-utils");console=console||{log:function(){}};e("./jquery/extendJquery.js");var a=t.exports=function(t,r,o){var s={};s.options=n.extend(!0,{},a.defaults,r);s.container=n(t).find(".yasr");s.header=n(t).find(".yasr_header");s.resultsContainer=n(t).find(".yasr_results");s.storage=i.storage;var l=null;s.getPersistencyId=function(e){null===l&&(l=s.options.persistency&&s.options.persistency.prefix?"string"==typeof s.options.persistency.prefix?s.options.persistency.prefix:s.options.persistency.prefix(s):!1);return l&&e?l+("string"==typeof e?e:e(s)):null};s.options.useGoogleCharts&&e("./gChartLoader.js").once("initError",function(){s.options.useGoogleCharts=!1}).init();s.plugins={};for(var u in a.plugins)(s.options.useGoogleCharts||"gchart"!=u)&&(s.plugins[u]=new a.plugins[u](s));s.updateHeader=function(){var e=s.header.find(".yasr_downloadIcon").removeAttr("title"),t=s.header.find(".saveAsDropDown"),r=s.header.find(".yasr_embedBtn"),n=s.plugins[s.options.output];if(n){if("Table"==n.name){e.hide();t.removeAttr("style")}else{t.hide();e.show()}var i=n.getDownloadInfo?n.getDownloadInfo():null;if(i){i.buttonTitle&&e.attr("title",i.buttonTitle);e.prop("disabled",!1);e.find("path").each(function(){
this.style.fill="black"})}else{e.prop("disabled",!0).prop("title","Download not supported for this result representation");e.find("path").each(function(){this.style.fill="gray"})}var a=null;n.getEmbedHtml&&(a=n.getEmbedHtml());a&&a.length>0?r.show():r.hide()}};s.draw=function(e){s.resultsContainer=n(".yasr_results");s.updateHeader();if(!s.results)return!1;e||(e=s.options.output);var t=null,r=-1,i=[];for(var a in s.plugins)if(s.plugins[a].canHandleResults(s)){var o=s.plugins[a].getPriority;"function"==typeof o&&(o=o(s));if(null!=o&&void 0!=o&&o>r){r=o;t=a}}else i.push(a);c(i);if("table"==t&&s.plugins[t].canHandleResults(s)&&t!=e&&angular.isUndefined(e)){n(s.resultsContainer).empty();s.plugins[t].draw();s.header.find(".yasr_btnGroup .select_"+t).click();return!0}if(e in s.plugins&&s.plugins[e].canHandleResults(s)){n(s.resultsContainer).empty();s.plugins[e].draw();return!0}if(t){n(s.resultsContainer).empty();s.plugins[t].draw();s.header.find(".yasr_btnGroup .select_"+t).click();return!0}return!1};var c=function(e){s.header.find(".yasr_btnGroup li").removeClass("disabled");e.forEach(function(e){s.header.find(".yasr_btnGroup .select_"+e).parent().addClass("disabled")})};s.somethingDrawn=function(){return!s.resultsContainer.is(":empty")};s.updateDownloadDropdown=function(){var t;if(window.editor){s.header.find(".saveAsDropDown").remove();var r=window.editor.getQueryType();"SELECT"==r&&(t=n(e("./extensions.js").selectSaveAsDropDown));"CONSTRUCT"!=r&&"DESCRIBE"!=r||(t=n(e("./extensions.js").graphSaveAsDropDown));if(t){t.find(".format").click(function(){s.getQueryResultsAsFormat(n(this).data("accepts"))});s.header.append(t)}}};s.setResultsCount=function(e,t,r){0==e.responseJSON&&(s.allCount=-1);if(e.responseJSON||0==e.responseJSON){s.allCount=-1;e.responseJSON["http://www.ontotext.com/"]&&(s.allCount=e.responseJSON["http://www.ontotext.com/"]["http://www.ontotext.com/"][0].value);n.isNumeric(e.responseJSON)&&(s.allCount=e.responseJSON);if(e.responseJSON.results&&e.responseJSON.results.bindings){var i=e.responseJSON.results.bindings[0],a=e.responseJSON.head.vars,o=Object.keys(i).filter(function(e){return a.indexOf(e)>-1});o.length>0&&(s.allCount=i[o[0]].value)}}};s.setResponse=function(t,r,n){try{s.results=e("./parsers/wrapper.js")(t,r,n)}catch(a){s.results={getException:function(){return a}}}s.results.getAsJson().results&&(s.resultsCount=s.results.getAsJson().results.bindings.length);if(s.results.getAsJson()&&!s.options.hideHeader){s.header.show();s.updateDownloadDropdown()}403==t.status&&(s.results.getException=function(){return{status:403,statusText:"Forbidden",responseText:"You don't have permission to execute this query. Ask your admin for support."}});s.draw();if(s.options.persistency){var o=s.getPersistencyId(s.options.persistency.results.key);o&&(s.results.getOriginalResponseAsString&&s.results.getOriginalResponseAsString().length<s.options.persistency.results.maxSize?i.storage.set(o,s.results.getAsStoreObject(),"month"):i.storage.remove(o))}};var f=null,d=null,p=null;s.warn=function(e){if(!f){f=n("<div>",{"class":"toggableWarning"}).prependTo(s.container).hide();d=n("<span>",{"class":"toggleWarning"}).html("&times;").click(function(){f.hide(400)}).appendTo(f);p=n("<span>",{"class":"toggableMsg"}).appendTo(f)}p.empty();e instanceof n?p.append(e):p.html(e);f.show(400)};var h=null,v=function(){if(null===h){var e=window.URL||window.webkitURL||window.mozURL||window.msURL;h=e&&Blob}return h},g=function(t){var r=function(){var e=n('<ul class="yasr_btnGroup nav nav-tabs"></ul>');n.each(t.plugins,function(r,a){if(!a.hideFromSelection){var o=a.name||r,s=n("<li></li>");n("<a></a>").text(o).addClass("select_"+r).click(function(){if(!n(this).parent().hasClass("disabled")){e.find("li.active").removeClass("active");s.addClass("active");t.options.output=r;var a=t.getPersistencyId(t.options.persistency.outputSelector);a&&i.storage.set(a,t.options.output,"month");f&&f.hide(400);t.draw(r);t.updateHeader()}}).appendTo(s);s.appendTo(e);t.options.output==r&&s.addClass("active")}});e.children().length>1&&t.header.append(e)},a=function(){var r=function(e,t){var r=null,n=window.URL||window.webkitURL||window.mozURL||window.msURL;if(n&&Blob){var i=new Blob([e],{type:t});r=n.createObjectURL(i)}return r},i=n("<button class='btn btn-success btn-sm yasr_downloadIcon'>Save</button>").click(function(){var i=t.plugins[t.options.output];if(i&&i.getDownloadInfo){var a=i.getDownloadInfo(),o=r(a.getContent(),a.contentType?a.contentType:"text/plain"),s=n("<a></a>",{href:o,download:a.filename});e("./utils.js").fireClick(s)}});t.header.append(i)};t.options.drawOutputSelector&&r();t.options.drawDownloadIcon&&v()&&a()},m=s.getPersistencyId(s.options.persistency.outputSelector);if(m){var y=i.storage.get(m);y&&(s.options.output=y)}s.options.hideHeader||g(s);if(!o&&s.options.persistency&&s.options.persistency.results){var b,w=s.getPersistencyId(s.options.persistency.results.key);w&&(b=i.storage.get(w));if(!b&&s.options.persistency.results.id){var x="string"==typeof s.options.persistency.results.id?s.options.persistency.results.id:s.options.persistency.results.id(s);if(x){b=i.storage.get(x);b&&i.storage.remove(x)}}b&&(n.isArray(b)?s.setResponse.apply(this,b):s.setResponse(b))}o&&s.setResponse(o);s.updateHeader();return s};a.plugins={};a.registerOutput=function(e,t){a.plugins[e]=t};a.defaults=e("./defaults.js");a.version={YASR:e("../package.json").version,jquery:n.fn.jquery,"yasgui-utils":e("yasgui-utils").version};a.utils=e("./utils.js");a.$=n;try{a.registerOutput("boolean",e("./boolean.js"))}catch(o){}try{a.registerOutput("table",e("./table.js"))}catch(o){}try{a.registerOutput("rawResponse",e("./rawResponse.js"))}catch(o){}try{a.registerOutput("error",e("./error.js"))}catch(o){}try{a.registerOutput("pivot",e("./pivot.js"))}catch(o){}try{a.registerOutput("gchart",e("./gchart.js"))}catch(o){}try{a.registerOutput("graph",e("./graph.js"))}catch(o){}},{"../package.json":21,"./boolean.js":23,"./defaults.js":24,"./error.js":25,"./extensions.js":27,"./gChartLoader.js":28,"./gchart.js":29,"./graph.js":30,"./imgs.js":31,"./jquery/extendJquery.js":32,"./parsers/wrapper.js":40,"./pivot.js":42,"./rawResponse.js":43,"./table.js":44,"./utils.js":45,jquery:void 0,"yasgui-utils":18}],35:[function(e,t,r){"use strict";(function(){try{return e("jquery")}catch(t){return window.jQuery}})(),t.exports=function(t){return e("./dlv.js")(t,",")}},{"./dlv.js":36,jquery:void 0}],36:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();e("../../lib/jquery.csv-0.71.js");t.exports=function(e,t){var r={},i=n.csv.toArrays(e,{separator:t}),a=function(e){return 0==e.indexOf("http")?"uri":null},o=function(){if(2==i.length&&1==i[0].length&&1==i[1].length&&"boolean"==i[0][0]&&("1"==i[1][0]||"0"==i[1][0])){r["boolean"]="1"==i[1][0];return!0}return!1},s=function(){if(i.length>0&&i[0].length>0){r.head={vars:i[0]};return!0}return!1},l=function(){if(i.length>1){r.results={bindings:[]};for(var e=1;e<i.length;e++){for(var t={},n=0;n<i[e].length;n++){var o=r.head.vars[n];if(o){var s=i[e][n],l=a(s);t[o]={value:s};l&&(t[o].type=l)}}r.results.bindings.push(t)}r.head={vars:i[0]};return!0}return!1},u=o();if(!u){var c=s();c&&l()}return r}},{"../../lib/jquery.csv-0.71.js":3,jquery:void 0}],37:[function(e,t,r){"use strict";var n=(function(){try{return e("jquery")}catch(t){return window.jQuery}}(),e("lodash")),i=function(e){if("object"==typeof e){"bnode"==e.type&&(e.value=e.value.slice(2));return e}return 0==e.indexOf("_:")?{type:"bnode",value:e.slice(2)}:{type:"uri",value:e}};t.exports=function(e){if(e){var t="RESOURCE"==window.editor.getQueryType(),r=n.map(e,function(e,r){return n.map(e,function(e,a){return n.map(e,function(e){if(e.graphs){t=!0;return n.map(e.graphs,function(t){return[i(r),i(a),i(e),i(t)]})}return[i(r),i(a),i(e)]})})}),a=n.reduce(r,function(e,t){return e.concat(t)},[]);a=n.reduce(a,function(e,t){return e.concat(t)},[]);var o;if(t){a=n.reduce(a,function(e,t){return e.concat(t)},[]);o=a.map(function(e){return{subject:e[0],predicate:e[1],object:e[2],context:e[3]}})}else o=a.map(function(e){return{subject:e[0],predicate:e[1],object:e[2]}});var s=t?["subject","predicate","object","context"]:["subject","predicate","object"];return{head:{vars:s},results:{bindings:o}}}return!1}},{jquery:void 0,lodash:13}],38:[function(e,t,r){"use strict";(function(){try{return e("jquery")}catch(t){return window.jQuery}})(),t.exports=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return!1}return"object"==typeof e&&e.constructor==={}.constructor?e:!1}},{jquery:void 0}],39:[function(e,t,r){"use strict";(function(){try{return e("jquery")}catch(t){return window.jQuery}})(),t.exports=function(t){return e("./dlv.js")(t,"	")}},{"./dlv.js":36,jquery:void 0}],40:[function(e,t,r){"use strict";var n=(function(){try{return e("jquery")}catch(t){return window.jQuery}}(),e("lodash"));t.exports=function(t,r,i){var a={xml:e("./xml.js"),json:e("./json.js"),tsv:e("./tsv.js"),csv:e("./csv.js"),graphJson:e("./graphJson.js")},o=null,s=null,l=null,u=null,c=null,f=null,d=function(){if("object"==typeof t){if(t.exception)f=t.exception;else if(void 0!=t.status&&(t.status>=300||0===t.status)){f={status:t.status};"string"==typeof i&&(f.errorString=i);t.responseText&&(f.responseText=t.responseText);t.statusText&&(f.statusText=t.statusText)}if(t.contentType)o=t.contentType.toLowerCase();else if(t.getResponseHeader&&t.getResponseHeader("content-type")){var e=t.getResponseHeader("content-type").trim().toLowerCase();e.length>0&&(o=e)}t.response?s=t.response:r||i||(s=t)}f||s||(s=t.responseText?t.responseText:t)},p=function(){return l},h=function(){if(u)return u;if(u===!1||f)return!1;var e=function(){if(o)if(o.indexOf("json")>-1){try{u=a.json(s,window.editor.getQueryType());l=u;var e=window.editor.getQueryType();"DESCRIBE"!=e&&"CONSTRUCT"!=e&&"RESOURCE"!=e||(u=a.graphJson(l))}catch(t){f=t}c="json"}else if(o.indexOf("xml")>-1){try{u=a.xml(s)}catch(t){f=t}c="xml"}else if(o.indexOf("csv")>-1){try{u=a.csv(s)}catch(t){f=t}c="csv"}else if(o.indexOf("tab-separated")>-1){try{u=a.tsv(s)}catch(t){f=t}c="tsv"}},t=function(){u=a.json(s);if(u)c="json";else try{u=a.xml(s);u&&(c="xml")}catch(e){}};e();u||t();u||(u=!1);return u},v=function(){var e=h();return e&&"head"in e?e.head.vars:null},g=function(){var e=h();return e&&"results"in e?e.results.bindings:null},m=function(){var e=h();return e&&"boolean"in e?e["boolean"]:null},y=function(){return s},b=function(e){if("json"==c){var t=w(e);return JSON.stringify(t,void 0,2)}return x().slice(0,e)},w=function(e){if(l.results&&l.results.bindings&&l.results.bindings.length>e){var t=jQuery.extend(!0,{},l);t.results.bindings=l.results.bindings.slice(0,e)}else{var r=n.keys(l).slice(0,e);t=n.pick(l,function(e,t){return r.indexOf(t)>=0})}return t},x=function(){var e="";"string"==typeof s?e=s:"json"==c?e=JSON.stringify(s,void 0,2):"xml"==c&&(e=(new XMLSerializer).serializeToString(s));return e},_=function(){return f},k=function(){null==c&&h();return c},C=function(){var e={};if(t.status){e.status=t.status;e.responseText=t.responseText;e.statusText=t.statusText;e.contentType=o}else e=t;var n=r,a=void 0;"string"==typeof i&&(a=i);return[e,n,a]};d();u=h();return{getAsStoreObject:C,getRawJson:p,getAsJson:h,getOriginalResponse:y,getShortOriginalResponse:b,getShortOriginalResponseAsJSON:w,getOriginalResponseAsString:x,getOriginalContentType:function(){return o},getVariables:v,getBindings:g,getBoolean:m,getType:k,getException:_}}},{"./csv.js":35,"./graphJson.js":37,"./json.js":38,"./tsv.js":39,"./xml.js":41,jquery:void 0,lodash:13}],41:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}();t.exports=function(e){var t=function(e){o.head={};for(var t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if("variable"==r.nodeName){o.head.vars||(o.head.vars=[]);var n=r.getAttribute("name");n&&o.head.vars.push(n)}}},r=function(e){o.results={};o.results.bindings=[];for(var t=0;t<e.childNodes.length;t++){for(var r=e.childNodes[t],n=null,i=0;i<r.childNodes.length;i++){var a=r.childNodes[i];if("binding"==a.nodeName){var s=a.getAttribute("name");if(s){n=n||{};n[s]={};for(var l=0;l<a.childNodes.length;l++){var u=a.childNodes[l],c=u.nodeName;if("#text"!=c){n[s].type=c;n[s].value=u.innerHTML;var f=u.getAttribute("datatype");f&&(n[s].datatype=f)}}}}}n&&o.results.bindings.push(n)}},i=function(e){"true"==e.innerHTML?o["boolean"]=!0:o["boolean"]=!1},a=null;"string"==typeof e?a=n.parseXML(e):n.isXMLDoc(e)&&(a=e);var e=null;if(!(a.childNodes.length>0))return null;e=a.childNodes[0];for(var o={},s=0;s<e.childNodes.length;s++){var l=e.childNodes[s];"head"==l.nodeName&&t(l);"results"==l.nodeName&&r(l);"boolean"==l.nodeName&&i(l)}return o}},{jquery:void 0}],42:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=e("./utils.js"),a=e("yasgui-utils"),o=e("./imgs.js");(function(){try{return e("jquery-ui/sortable")}catch(t){return window.jQuery}})();(function(){try{return e("pivottable")}catch(t){return window.jQuery}})();if(!n.fn.pivotUI)throw new Error("Pivot lib not loaded");var s=t.exports=function(t){var r=n.extend(!0,{},s.defaults);if(r.useD3Chart){try{var l=function(){try{return e("d3")}catch(t){return window.d3}}();l&&e("../node_modules/pivottable/dist/d3_renderers.js")}catch(u){}n.pivotUtilities.d3_renderers&&n.extend(!0,n.pivotUtilities.renderers,n.pivotUtilities.d3_renderers)}var c,f=null,d=function(){var e=t.results.getVariables();if(!r.mergeLabelsWithUris)return e;var n=[];f="string"==typeof r.mergeLabelsWithUris?r.mergeLabelsWithUris:"Label";e.forEach(function(t){-1!==t.indexOf(f,t.length-f.length)&&e.indexOf(t.substring(0,t.length-f.length))>=0||n.push(t)});return n},p=function(e){var r=d(),n=null;t.options.getUsedPrefixes&&(n="function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes);t.results.getBindings().forEach(function(t){var a={};r.forEach(function(e){if(e in t){var r=t[e].value;f&&t[e+f]?r=t[e+f].value:"uri"==t[e].type&&(r=i.uriToPrefixed(n,r));a[e]=r}else a[e]=null});e(a)})},h=t.getPersistencyId(r.persistencyId),v=function(){var e=a.storage.get(h);if(e){var r=t.results.getVariables(),i=!0;e.cols.forEach(function(e){r.indexOf(e)<0&&(i=!1)});i&&e.rows.forEach(function(e){r.indexOf(e)<0&&(i=!1)});if(!i){e.cols=[];e.rows=[]}n.pivotUtilities.renderers[e.rendererName]||delete e.rendererName}else e={};return e},g=function(){var i=function(){var e=function(e){if(h){var n={cols:e.cols,rows:e.rows,rendererName:e.rendererName,aggregatorName:e.aggregatorName,vals:e.vals};a.storage.set(h,n,"month")}e.rendererName.toLowerCase().indexOf(" chart")>=0?r.show():r.hide();t.updateHeader()},r=n("<button>",{"class":"openPivotGchart yasr_btn"}).text("Chart Config").click(function(){c.find('div[dir="ltr"]').dblclick()}).appendTo(t.resultsContainer);c=n("<div>",{"class":"pivotTable"}).appendTo(n(t.resultsContainer));var i=n.extend(!0,{},v(),s.defaults.pivotTable);i.onRefresh=function(){var t=i.onRefresh;return function(r){e(r);t&&t(r)}}();window.pivot=c.pivotUI(p,i);var l=n(a.svg.getElement(o.move));c.find(".pvtTriangle").replaceWith(l);n(".pvtCols").prepend(n("<div>",{"class":"containerHeader"}).text("Columns"));n(".pvtRows").prepend(n("<div>",{"class":"containerHeader"}).text("Rows"));n(".pvtUnused").prepend(n("<div>",{"class":"containerHeader"}).text("Available Variables"));n(".pvtVals").prepend(n("<div>",{"class":"containerHeader"}).text("Cells"));setTimeout(t.updateHeader,400)};t.options.useGoogleCharts&&r.useGoogleCharts&&!n.pivotUtilities.gchart_renderers?e("./gChartLoader.js").on("done",function(){try{e("../node_modules/pivottable/dist/gchart_renderers.js");n.extend(!0,n.pivotUtilities.renderers,n.pivotUtilities.gchart_renderers)}catch(t){r.useGoogleCharts=!1}i()}).on("error",function(){console.log("could not load gchart");r.useGoogleCharts=!1;i()}).googleLoad():i()},m=function(){return t.results&&t.results.getVariables&&t.results.getVariables()&&t.results.getVariables().length>0},y=function(){if(!t.results)return null;var e=t.resultsContainer.find(".pvtRendererArea svg");if(e.length>0)return{getContent:function(){return e[0].outerHTML?e[0].outerHTML:n("<div>").append(e.clone()).html()},filename:"queryResults.svg",contentType:"image/svg+xml",buttonTitle:"Download SVG Image"};var r=t.resultsContainer.find(".pvtRendererArea table");return r.length>0?{getContent:function(){return r.tableToCsv()},filename:"queryResults.csv",contentType:"text/csv",buttonTitle:"Download as CSV"}:void 0},b=function(){if(!t.results)return null;var e=t.resultsContainer.find(".pvtRendererArea svg").clone().removeAttr("height").removeAttr("width").css("height","").css("width","");if(0==e.length)return null;var r=e[0].outerHTML;r||(r=n("<div>").append(e.clone()).html());return'<div style="width: 800px; height: 600px;">\n'+r+"\n</div>"};return{getDownloadInfo:y,getEmbedHtml:b,options:r,draw:g,name:"Pivot Table",canHandleResults:m,getPriority:4}};s.defaults={mergeLabelsWithUris:!1,useGoogleCharts:!0,useD3Chart:!0,persistencyId:"pivot",pivotTable:{}};s.version={"YASR-rawResponse":e("../package.json").version,jquery:n.fn.jquery}},{"../node_modules/pivottable/dist/d3_renderers.js":14,"../node_modules/pivottable/dist/gchart_renderers.js":15,"../package.json":21,"./gChartLoader.js":28,"./imgs.js":31,"./utils.js":45,d3:void 0,jquery:void 0,"jquery-ui/sortable":void 0,pivottable:void 0,"yasgui-utils":18}],43:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=function(){try{return e("codemirror")}catch(t){return window.CodeMirror}}();e("codemirror/addon/fold/foldcode.js");e("codemirror/addon/fold/foldgutter.js");e("codemirror/addon/fold/xml-fold.js");e("codemirror/addon/fold/brace-fold.js");e("codemirror/addon/edit/matchbrackets.js");e("codemirror/mode/xml/xml.js");e("codemirror/mode/javascript/javascript.js");var a=t.exports=function(e){var t=n.extend(!0,{},a.defaults),r=null,o=function(){var n=t.CodeMirror;n.value=e.results.getShortOriginalResponse(t.limit);var a=e.results.getType();if(a){"json"==a&&(a={name:"javascript",json:!0});n.mode=a}r=i(e.resultsContainer.get()[0],n);r.on("fold",function(){r.refresh()});r.on("unfold",function(){r.refresh()})},s=function(){if(!e.results)return!1;if(!e.results.getOriginalResponseAsString)return!1;var t=e.results.getOriginalResponseAsString();return!((!t||0==t.length)&&e.results.getException())},l=function(){if(!e.results)return null;var t=e.results.getOriginalContentType(),r=e.results.getType();return{getContent:function(){return e.results.getOriginalResponse()},filename:"queryResults"+(r?"."+r:""),contentType:t?t:"text/plain",buttonTitle:"Download raw response"}};return{draw:o,name:"Raw Response",canHandleResults:s,getPriority:2,getDownloadInfo:l}};a.defaults={CodeMirror:{readOnly:!0,lineNumbers:!0,lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]},limit:100};a.version={"YASR-rawResponse":e("../package.json").version,jquery:n.fn.jquery,CodeMirror:i.version}},{"../package.json":21,codemirror:void 0,"codemirror/addon/edit/matchbrackets.js":5,"codemirror/addon/fold/brace-fold.js":6,"codemirror/addon/fold/foldcode.js":7,"codemirror/addon/fold/foldgutter.js":8,"codemirror/addon/fold/xml-fold.js":9,"codemirror/mode/javascript/javascript.js":10,"codemirror/mode/xml/xml.js":11,jquery:void 0}],44:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=e("yasgui-utils"),a=e("./utils.js"),o=(e("./imgs.js"),e("lodash"));(function(){try{return e("datatables")}catch(t){return window.jQuery}})();e("../lib/colResizable-1.4.js");var s=t.exports=function(t){var r=null,a={name:"Table",getPriority:10},l=a.options=n.extend(!0,{},s.defaults),u=l.persistency?t.getPersistencyId(l.persistency.tableLength):null,f=function(){var e=[],r=t.results.getBindings(),n=t.results.getVariables(),i=null;t.options.getUsedPrefixes&&(i="function"==typeof t.options.getUsedPrefixes?t.options.getUsedPrefixes(t):t.options.getUsedPrefixes);i=o.invert(i);for(var s=0;s<r.length;s++){var u=[];u.push("");for(var c=r[s],f=0;f<n.length;f++){var d=n[f];d in c&&l.getCellContent?u.push(l.getCellContent(t,a,c,d,{rowId:s,colId:f,usedPrefixes:i})):u.push("")}e.push(u)}return e},d=(t.getPersistencyId("eventId")||"yasr_"+n(t.container).closest("[id]").attr("id"),function(){var e=angular.element(n("#yasr")[0]).scope();n("td div .fa-link").on("click",function(){var t=this.dataset.clipboardText;e.copyToClipboardResult(t)})}),p=function(){r.on("order.dt",function(){h()});u&&r.on("length.dt",function(e,t,r){i.storage.set(u,r,"month")});n.extend(!0,l.callbacks,l.handlers);r.delegate("td","click",function(e){if(l.callbacks&&l.callbacks.onCellClick){var t=l.callbacks.onCellClick(this,e);if(t===!1)return!1}}).delegate("td","mouseenter",function(e){l.callbacks&&l.callbacks.onCellMouseEnter&&l.callbacks.onCellMouseEnter(this,e);var t=n(this);l.fetchTitlesFromPreflabel&&void 0===t.attr("title")&&0==t.text().trim().indexOf("http")&&c(t)}).delegate("td","mouseleave",function(e){l.callbacks&&l.callbacks.onCellMouseLeave&&l.callbacks.onCellMouseLeave(this,e)});d()};a.draw=function(){r=n('<table cellpadding="0" cellspacing="0" border="0" class="resultsTable table table-striped table-bordered fixedCellWidth"></table>');n(t.resultsContainer).html(r);var e=l.datatable;e.data=f();e.columns=l.getColumns(t,a);var o=i.storage.get(u);o&&(e.pageLength=o);r.DataTable(n.extend(!0,{},e));h();p();r.colResizable();r.find("thead").outerHeight();n(t.resultsContainer).find(".JCLRgrip").height(r.find("thead").outerHeight());var s=(t.header.outerHeight(),t.resultsContainer.find(".dataTables_filter label"));n(s.contents().get(0)).remove();s.find("input[type=search]").attr("placeholder","Filter query results").addClass("form-control")};var h=function(){var e={sorting:"unsorted",sorting_asc:"sortAsc",sorting_desc:"sortDesc"};r.find(".sortIcons").remove();for(var t in e){var i=n("<div class='sortIcons'></div>");"sorting"==t?i.append("<a class='fa fa-sort'></a>"):"sorting_asc"==t?i.append("<a class='fa fa-sort-alpha-asc'></a>"):"sorting_desc"==t&&i.append("<a class='fa fa-sort-alpha-desc'></a>");r.find("th."+t).append(i)}};a.canHandleResults=function(){return t.results&&t.results.getVariables&&t.results.getVariables()&&t.results.getVariables().length>0};a.getDownloadInfo=function(){return t.results?{getContent:function(){return e("./bindingsToCsv.js")(t.results.getAsJson())},filename:"queryResults.csv",contentType:"text/csv",buttonTitle:"Download as CSV"}:null};return a},l=function(e,t,r,n,i){var s=r[n],l=null,c="";if("uri"==s.type){var f,d=s.value,p=d;if(i.usedPrefixes){var h=a.uriToPrefixWithLocalName(i.usedPrefixes,p);if(h){var v=h.localName;p=h.prefix+":"+v;""!=h.prefix&&(f=-1===v.lastIndexOf("/")?"resource/"+encodeURIComponent(h.prefix)+"/"+encodeURIComponent(v):"resource?uri="+encodeURIComponent(d))}}void 0==f&&(f="resource?uri="+encodeURIComponent(d));-1!==f.indexOf("'")&&(f=f.replace("'","&#39;"));l="<a title='"+d+"' class='uri' href='"+f+"'>"+o.escape(p)+"</a> <a class='fa fa-link share-result' data-clipboard-text='"+d+"' title='Copy to Clipboard' href='#'></a>";c=" class = 'uri-cell'"}else l="<pre class='nonUri' style='border: none; background-color: transparent; padding: 0; margin: 0'>"+u(e,t,s)+"</pre>";return"<div"+c+">"+l+"</div>"},u=function(e,t,r){var n=a.escapeHtmlEntities(r.value);if("bnode"==r.type)return"_:"+n;if(r["xml:lang"])n='"'+n+'"<sup>@'+r["xml:lang"]+"</sup>";else if(r.datatype){var i="http://www.w3.org/2001/XMLSchema#",o=r.datatype;o=0===o.indexOf(i)?"xsd:"+o.substring(i.length):"&lt;"+o+"&gt;";n='"'+n+'"<sup>^^'+o+"</sup>"}return n},c=function(e){var t=function(){e.attr("title","")};n.get("http://preflabel.org/api/v1/label/"+encodeURIComponent(e.text())+"?silent=true").success(function(r){"object"==typeof r&&r.label?e.attr("title",r.label):"string"==typeof r&&r.length>0?e.attr("title",r):t()}).fail(t)};s.defaults={getCellContent:l,persistency:{tableLength:"tableLength"},getColumns:function(e,t){var r=function(r){if(!t.options.mergeLabelsWithUris)return!0;var n="string"==typeof t.options.mergeLabelsWithUris?t.options.mergeLabelsWithUris:"Label";return!(-1!==r.indexOf(n,r.length-n.length)&&e.results.getVariables().indexOf(r.substring(0,r.length-n.length))>=0)},n=[];n.push({title:""});e.results.getVariables().forEach(function(e){n.push({title:"<span>"+e+"</span>",visible:r(e)})});return n},fetchTitlesFromPreflabel:!0,mergeLabelsWithUris:!1,callbacks:{onCellMouseEnter:null,onCellMouseLeave:null,onCellClick:null},datatable:{paginate:!1,info:!1,autoWidth:!1,order:[],pageLength:50,lengthMenu:[[10,50,100,1e3,-1],[10,50,100,1e3,"All"]],lengthChange:!0,drawCallback:function(e){for(var t=0;t<e.aiDisplay.length;t++)n("td:eq(0)",e.aoData[e.aiDisplay[t]].nTr).html(t+1);var r=!1;n(e.nTableWrapper).find(".paginate_button").each(function(){-1==n(this).attr("class").indexOf("current")&&-1==n(this).attr("class").indexOf("disabled")&&(r=!0)});r?n(e.nTableWrapper).find(".dataTables_paginate").show():n(e.nTableWrapper).find(".dataTables_paginate").hide()},columnDefs:[{width:"32px",orderable:!1,targets:0}]}};s.version={"YASR-table":e("../package.json").version,jquery:n.fn.jquery,"jquery-datatables":n.fn.DataTable.version}},{"../lib/colResizable-1.4.js":2,"../package.json":21,"./bindingsToCsv.js":22,"./imgs.js":31,"./utils.js":45,datatables:void 0,jquery:void 0,lodash:13,"yasgui-utils":18}],45:[function(e,t,r){"use strict";var n=function(){try{return e("jquery")}catch(t){return window.jQuery}}(),i=(e("lodash"),e("./exceptions.js").GoogleTypeException);t.exports={escapeHtmlEntities:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},uriToPrefixed:function(e,t){if(e)for(var r in e)if(0==t.indexOf(e[r])){t=r+":"+t.substring(e[r].length);break}return t},uriToPrefixWithLocalName:function(e,t){var r=Object.keys(e).filter(function(e){return 0==t.indexOf(e)});if(r.length>0){r=r.sort(function(e,t){return e.length<t.length});var n=r[0],i=e[n],a=t.substring(n.length);return{prefix:i,localName:a}}return null},getGoogleTypeForBinding:function(e){if(null==e)return null;if(null==e.type||"typed-literal"!==e.type&&"literal"!==e.type)return"string";switch(e.datatype){case"http://www.w3.org/2001/XMLSchema#float":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":return"number";case"http://www.w3.org/2001/XMLSchema#date":return"date";case"http://www.w3.org/2001/XMLSchema#dateTime":return"datetime";case"http://www.w3.org/2001/XMLSchema#time":return"timeofday";default:return"string"}},getGoogleTypeForBindings:function(e,r){var n={},a=0;e.forEach(function(e){var i=t.exports.getGoogleTypeForBinding(e[r]);if(null!=i){if(!(i in n)){n[i]=0;a++}n[i]++}});if(0==a)return"string";if(1!=a)throw new i(n,r);for(var o in n)return o},castGoogleType:function(e,r,n){if(null==e)return null;if("string"==n||null==e.type||"typed-literal"!==e.type&&"literal"!==e.type)return"uri"==e.type?t.exports.uriToPrefixed(r,e.value):e.value;switch(e.datatype){case"http://www.w3.org/2001/XMLSchema#float":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":return Number(e.value);case"http://www.w3.org/2001/XMLSchema#date":var i=a(e.value);if(i)return i;case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#time":return new Date(e.value);default:return e.value}},fireClick:function(e){e&&e.each(function(e,t){var r=n(t);if(document.dispatchEvent){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,1,1,1,1,!1,!1,!1,!1,0,r[0]);r[0].dispatchEvent(i)}else document.fireEvent&&r[0].click()})}};var a=function(e){var t=new Date(e.replace(/(\d)([\+-]\d{2}:\d{2})/,"$1Z$2"));return isNaN(t)?null:t}},{"./exceptions.js":26,jquery:void 0,lodash:13}]},{},[1])(1)});
//# sourceMappingURL=yasr.min.js.map
